var sb=n=>{throw TypeError(n)};var oh=(n,e,t)=>e.has(n)||sb("Cannot "+t);var Pt=(n,e,t)=>(oh(n,e,"read from private field"),t?t.call(n):e.get(n)),cs=(n,e,t)=>e.has(n)?sb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Zn=(n,e,t,r)=>(oh(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),us=(n,e,t)=>(oh(n,e,"access private method"),t);var ib=(n,e,t,r)=>({set _(s){Zn(n,e,s,t)},get _(){return Pt(n,e,r)}});import{g as Li,b as lh,r as md,h as ns,L as rs,j as f,E as Bg,A as l_,S as Hg,a as Ou,d as vd,T as Ug,G as Du,U as $g,I as ju,B as bd,M as ir,e as Fr,f as Kg,i as xc,k as vp,l as jA,m as RA,n as IA,o as NA}from"./index-9fgTwm93.js";import{l as PA,m as MA,f as LA,a as FA,r as y,b as VA,c as BA,g as Ru,R as w,T as HA,u as xi,d as _e,o as Ti,e as wr,B as br,h as nn,i as it,S as Iu,H as Ve,j as UA,k as Cn,n as Zr,p as kd,q as $A,s as ko,t as KA,v as Ma,w as Ds,x as ss,y as bp,z as Nu,A as zA,C as d_,D as c_,E as WA,F as u_,G as GA,I as f_,J as YA,K as kp,L as Jr,M as Er,N as Ze,O as h_,P as qA,Q as XA,U as yo,V as zg,W as Go,X as Zs,Y as ie,Z as p_,_ as g_,$ as m_,a0 as v_,a1 as ZA,a2 as JA,a3 as Yo,a4 as Wg,a5 as QA,a6 as qo,a7 as ab,a8 as Xo,a9 as b_,aa as k_,ab as Pu,ac as Gg,ad as Pr,ae as eC,af as Fi,ag as Vn}from"./Radio-BHeNKMRa.js";import{t as Ne,c as Ot,m as tC,a as La,b as Mu,d as y_,e as ob,f as Zd,g as Yg,h as nC,i as rC,s as qg,A as Re,j as yn,V as Ae,k as Yn,l as Zo,S as Es,n as Xg,o as __,E as Qi,J as yp,K as Ss,p as Zg,q as w_,r as _o,L as sC}from"./internAktivitetTypes-BOx_g9gL.js";function Lu(n,e,t){const r=Ne(n,t?.in);if(isNaN(e))return Ot(n,NaN);if(!e)return r;const s=r.getDate(),i=Ot(n,r.getTime());i.setMonth(r.getMonth()+e+1,0);const a=i.getDate();return s>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),s),r)}function Ws(n,e){const t=Ne(n,e?.in).getDay();return t===0||t===6}function Js(n,e){const t=Li(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=Ne(n,e?.in),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function _a(n,e){return Js(n,{...e,weekStartsOn:1})}function E_(n,e){const t=Ne(n,e?.in),r=t.getFullYear(),s=Ot(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=_a(s),a=Ot(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=_a(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Do(n){const e=Ne(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function si(n,...e){const t=Ot.bind(null,n||e.find(r=>typeof r=="object"));return e.map(t)}function wn(n,e){const t=Ne(n,e?.in);return t.setHours(0,0,0,0),t}function Pn(n,e,t){const[r,s]=si(t?.in,n,e),i=wn(r),a=wn(s),o=+i-Do(i),l=+a-Do(a);return Math.round((o-l)/tC)}function iC(n,e){const t=E_(n,e),r=Ot(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),_a(r)}function aC(n,e,t){return La(n,e*7,t)}function Jg(n,e,t){return Lu(n,e*12,t)}function oC(n,e){let t,r=e?.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=Ot.bind(null,s));const i=Ne(s,r);(!t||t<i||isNaN(+i))&&(t=i)}),Ot(r,t||NaN)}function lC(n,e){let t,r=e?.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=Ot.bind(null,s));const i=Ne(s,r);(!t||t>i||isNaN(+i))&&(t=i)}),Ot(r,t||NaN)}function Tc(n,e){const t=+Ne(n)-+Ne(e);return t<0?-1:t>0?1:t}function dC(n,e){const t=+Ne(n)-+Ne(e);return t>0?-1:t<0?1:t}function Jl(n,e,t){const[r,s]=si(t?.in,n,e);return+wn(r)==+wn(s)}function Qg(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function mr(n){return!(!Qg(n)&&typeof n!="number"||isNaN(+Ne(n)))}function S_(n,e,t){const[r,s]=si(t?.in,n,e),i=r.getFullYear()-s.getFullYear(),a=r.getMonth()-s.getMonth();return i*12+a}function x_(n,e,t){const[r,s]=si(t?.in,n,e),i=lb(r,s),a=Math.abs(Pn(r,s));r.setDate(r.getDate()-i*a);const o=+(lb(r,s)===-i),l=i*(a-o);return l===0?0:l}function lb(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function T_(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function em(n,e){return+Ne(n)-+Ne(e)}function cC(n,e,t){const r=em(n,e)/Mu;return T_(t?.roundingMethod)(r)}function tm(n,e){const t=Ne(n,e?.in);return t.setHours(23,59,59,999),t}function nm(n,e){const t=Ne(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function uC(n,e){const t=Ne(n,e?.in);return+tm(t,e)==+nm(t,e)}function fC(n,e,t){const[r,s,i]=si(t?.in,n,n,e),a=Tc(s,i),o=Math.abs(S_(s,i));if(o<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*o);let l=Tc(s,i)===-a;uC(r)&&o===1&&Tc(r,i)===1&&(l=!1);const d=a*(o-+l);return d===0?0:d}function hC(n,e,t){const r=em(n,e)/1e3;return T_(t?.roundingMethod)(r)}function pC(n,e){const[t,r]=si(n,e.start,e.end);return{start:t,end:r}}function A_(n,e){const{start:t,end:r}=pC(e?.in,n);let s=+t>+r;const i=s?+t:+r,a=s?r:t;a.setHours(0,0,0,0),a.setDate(1);let o=1;const l=[];for(;+a<=i;)l.push(Ot(t,a)),a.setMonth(a.getMonth()+o);return s?l.reverse():l}function wa(n,e){const t=Ne(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Fu(n,e){const t=Ne(n,e?.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function yd(n,e){const t=Ne(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function C_(n,e){const t=Li(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,s=Ne(n,e?.in),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function gC(n,e){return C_(n,{...e,weekStartsOn:1})}function O_(n){return tm(Date.now(),n)}const mC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kC={date:lh({formats:mC,defaultWidth:"full"}),time:lh({formats:vC,defaultWidth:"full"}),dateTime:lh({formats:bC,defaultWidth:"full"})},_d={code:"en-US",formatDistance:FA,formatLong:kC,formatRelative:LA,localize:PA,match:MA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yC(n,e){const t=Ne(n,e?.in);return Pn(t,yd(t))+1}function rm(n,e){const t=Ne(n,e?.in),r=+_a(t)-+iC(t);return Math.round(r/y_)+1}function sm(n,e){const t=Ne(n,e?.in),r=t.getFullYear(),s=Li(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=Ot(e?.in||n,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=Js(a,e),l=Ot(e?.in||n,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const d=Js(l,e);return+t>=+o?r+1:+t>=+d?r:r-1}function _C(n,e){const t=Li(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,s=sm(n,e),i=Ot(e?.in||n,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Js(i,e)}function im(n,e){const t=Ne(n,e?.in),r=+Js(t,e)-+_C(t,e);return Math.round(r/y_)+1}function St(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const fi={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return St(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):St(t+1,2)},d(n,e){return St(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(n,e){return St(n.getHours()%12||12,e.length)},H(n,e){return St(n.getHours(),e.length)},m(n,e){return St(n.getMinutes(),e.length)},s(n,e){return St(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return St(s,e.length)}},to={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},db={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return fi.y(n,e)},Y:function(n,e,t,r){const s=sm(n,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return St(a,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):St(i,e.length)},R:function(n,e){const t=E_(n);return St(t,e.length)},u:function(n,e){const t=n.getFullYear();return St(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return St(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return St(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return fi.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return St(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=im(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):St(s,e.length)},I:function(n,e,t){const r=rm(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):St(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):fi.d(n,e)},D:function(n,e,t){const r=yC(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):St(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return St(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return St(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return St(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=to.noon:r===0?s=to.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=to.evening:r>=12?s=to.afternoon:r>=4?s=to.morning:s=to.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return fi.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):fi.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):St(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):fi.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):fi.s(n,e)},S:function(n,e){return fi.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return ub(r);case"XXXX":case"XX":return ea(r);default:return ea(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return ub(r);case"xxxx":case"xx":return ea(r);default:return ea(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cb(r,":");default:return"GMT"+ea(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cb(r,":");default:return"GMT"+ea(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return St(r,e.length)},T:function(n,e,t){return St(+n,e.length)}};function cb(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),i=r%60;return i===0?t+String(s):t+String(s)+e+St(i,2)}function ub(n,e){return n%60===0?(n>0?"-":"+")+St(Math.abs(n)/60,2):ea(n,e)}function ea(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=St(Math.trunc(r/60),2),i=St(r%60,2);return t+s+e+i}const fb=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},D_=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},wC=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return fb(n,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",fb(r,e)).replace("{{time}}",D_(s,e))},_p={p:D_,P:wC},EC=/^D+$/,SC=/^Y+$/,xC=["D","DD","YY","YYYY"];function j_(n){return EC.test(n)}function R_(n){return SC.test(n)}function wp(n,e,t){const r=TC(n,e,t);if(console.warn(r),xC.includes(n))throw new RangeError(r)}function TC(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OC=/^'([^]*?)'?$/,DC=/''/g,jC=/[a-zA-Z]/;function rr(n,e,t){const r=Li(),s=t?.locale??r.locale??_d,i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Ne(n,t?.in);if(!mr(o))throw new RangeError("Invalid time value");let l=e.match(CC).map(c=>{const u=c[0];if(u==="p"||u==="P"){const h=_p[u];return h(c,s.formatLong)}return c}).join("").match(AC).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const u=c[0];if(u==="'")return{isToken:!1,value:RC(c)};if(db[u])return{isToken:!0,value:c};if(u.match(jC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+u+"`");return{isToken:!1,value:c}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const d={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(c=>{if(!c.isToken)return c.value;const u=c.value;(!t?.useAdditionalWeekYearTokens&&R_(u)||!t?.useAdditionalDayOfYearTokens&&j_(u))&&wp(u,e,String(n));const h=db[u[0]];return h(o,u,s.localize,d)}).join("")}function RC(n){const e=n.match(OC);return e?e[1].replace(DC,"'"):n}function IC(n,e,t){const r=Li(),s=t?.locale??r.locale??_d,i=2520,a=Tc(n,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:a}),[l,d]=si(t?.in,...a>0?[e,n]:[n,e]),c=hC(d,l),u=(Do(d)-Do(l))/1e3,h=Math.round((c-u)/60);let p;if(h<2)return t?.includeSeconds?c<5?s.formatDistance("lessThanXSeconds",5,o):c<10?s.formatDistance("lessThanXSeconds",10,o):c<20?s.formatDistance("lessThanXSeconds",20,o):c<40?s.formatDistance("halfAMinute",0,o):c<60?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",1,o):h===0?s.formatDistance("lessThanXMinutes",1,o):s.formatDistance("xMinutes",h,o);if(h<45)return s.formatDistance("xMinutes",h,o);if(h<90)return s.formatDistance("aboutXHours",1,o);if(h<ob){const v=Math.round(h/60);return s.formatDistance("aboutXHours",v,o)}else{if(h<i)return s.formatDistance("xDays",1,o);if(h<Zd){const v=Math.round(h/ob);return s.formatDistance("xDays",v,o)}else if(h<Zd*2)return p=Math.round(h/Zd),s.formatDistance("aboutXMonths",p,o)}if(p=fC(d,l),p<12){const v=Math.round(h/Zd);return s.formatDistance("xMonths",v,o)}else{const v=p%12,g=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",g,o):v<9?s.formatDistance("overXYears",g,o):s.formatDistance("almostXYears",g+1,o)}}function NC(n,e){const t=Ne(n,e?.in),r=t.getFullYear(),s=t.getMonth(),i=Ot(t,0);return i.setFullYear(r,s+1,0),i.setHours(0,0,0,0),i.getDate()}function PC(){return Object.assign({},Li())}function MC(n,e){const t=Ne(n,e?.in).getDay();return t===0?7:t}function am(n,e){return Ne(n,e?.in).getMonth()}function om(n,e){return Ne(n,e?.in).getFullYear()}function is(n,e){return+Ne(n)>+Ne(e)}function Vi(n,e){return+Ne(n)<+Ne(e)}function LC(n,e){const t=FC(e)?new e(0):Ot(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function FC(n){return typeof n=="function"&&n.prototype?.constructor===n}const VC=10;class I_{subPriority=0;validate(e,t){return!0}}class BC extends I_{constructor(e,t,r,s,i){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class HC extends I_{priority=VC;subPriority=-1;constructor(e,t){super(),this.context=e||(r=>Ot(t,r))}set(e,t){return t.timestampIsSet?e:Ot(e,LC(e,this.context))}}class mt{run(e,t,r,s){const i=this.parse(e,t,r,s);return i?{setter:new BC(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,t,r){return!0}}class UC extends mt{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Qt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ys={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function en(n,e){return n&&{value:e(n.value),rest:n.rest}}function Ut(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function _s(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:r*(s*Yg+i*Mu+a*nC),rest:e.slice(t[0].length)}}function N_(n){return Ut(Qt.anyDigitsSigned,n)}function Yt(n,e){switch(n){case 1:return Ut(Qt.singleDigit,e);case 2:return Ut(Qt.twoDigits,e);case 3:return Ut(Qt.threeDigits,e);case 4:return Ut(Qt.fourDigits,e);default:return Ut(new RegExp("^\\d{1,"+n+"}"),e)}}function $c(n,e){switch(n){case 1:return Ut(Qt.singleDigitSigned,e);case 2:return Ut(Qt.twoDigitsSigned,e);case 3:return Ut(Qt.threeDigitsSigned,e);case 4:return Ut(Qt.fourDigitsSigned,e);default:return Ut(new RegExp("^-?\\d{1,"+n+"}"),e)}}function lm(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function P_(n,e){const t=e>0,r=t?e:1-e;let s;if(r<=50)s=n||100;else{const i=r+50,a=Math.trunc(i/100)*100,o=n>=i%100;s=n+a-(o?100:0)}return t?s:1-s}function M_(n){return n%400===0||n%4===0&&n%100!==0}class $C extends mt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const s=i=>({year:i,isTwoDigitYear:t==="yy"});switch(t){case"y":return en(Yt(4,e),s);case"yo":return en(r.ordinalNumber(e,{unit:"year"}),s);default:return en(Yt(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const s=e.getFullYear();if(r.isTwoDigitYear){const a=P_(r.year,s);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const i=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class KC extends mt{priority=130;parse(e,t,r){const s=i=>({year:i,isTwoDigitYear:t==="YY"});switch(t){case"Y":return en(Yt(4,e),s);case"Yo":return en(r.ordinalNumber(e,{unit:"year"}),s);default:return en(Yt(t.length,e),s)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,s){const i=sm(e,s);if(r.isTwoDigitYear){const o=P_(r.year,i);return e.setFullYear(o,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Js(e,s)}const a=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(a,0,s.firstWeekContainsDate),e.setHours(0,0,0,0),Js(e,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class zC extends mt{priority=130;parse(e,t){return $c(t==="R"?4:t.length,e)}set(e,t,r){const s=Ot(e,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),_a(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class WC extends mt{priority=130;parse(e,t){return $c(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class GC extends mt{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return Yt(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class YC extends mt{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return Yt(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class qC extends mt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const s=i=>i-1;switch(t){case"M":return en(Ut(Qt.month,e),s);case"MM":return en(Yt(2,e),s);case"Mo":return en(r.ordinalNumber(e,{unit:"month"}),s);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class XC extends mt{priority=110;parse(e,t,r){const s=i=>i-1;switch(t){case"L":return en(Ut(Qt.month,e),s);case"LL":return en(Yt(2,e),s);case"Lo":return en(r.ordinalNumber(e,{unit:"month"}),s);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function ZC(n,e,t){const r=Ne(n,t?.in),s=im(r,t)-e;return r.setDate(r.getDate()-s*7),Ne(r,t?.in)}class JC extends mt{priority=100;parse(e,t,r){switch(t){case"w":return Ut(Qt.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return Yt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,s){return Js(ZC(e,r,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function QC(n,e,t){const r=Ne(n,t?.in),s=rm(r,t)-e;return r.setDate(r.getDate()-s*7),r}class eO extends mt{priority=100;parse(e,t,r){switch(t){case"I":return Ut(Qt.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return Yt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return _a(QC(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const tO=[31,28,31,30,31,30,31,31,30,31,30,31],nO=[31,29,31,30,31,30,31,31,30,31,30,31];class rO extends mt{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return Ut(Qt.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return Yt(t.length,e)}}validate(e,t){const r=e.getFullYear(),s=M_(r),i=e.getMonth();return s?t>=1&&t<=nO[i]:t>=1&&t<=tO[i]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class sO extends mt{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return Ut(Qt.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return Yt(t.length,e)}}validate(e,t){const r=e.getFullYear();return M_(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function dm(n,e,t){const r=Li(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ne(n,t?.in),a=i.getDay(),l=(e%7+7)%7,d=7-s,c=e<0||e>6?e-(a+d)%7:(l+d)%7-(a+d)%7;return La(i,c,t)}class iO extends mt{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,s){return e=dm(e,r,s),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class aO extends mt{priority=90;parse(e,t,r,s){const i=a=>{const o=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+o};switch(t){case"e":case"ee":return en(Yt(t.length,e),i);case"eo":return en(r.ordinalNumber(e,{unit:"day"}),i);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,s){return e=dm(e,r,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class oO extends mt{priority=90;parse(e,t,r,s){const i=a=>{const o=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+o};switch(t){case"c":case"cc":return en(Yt(t.length,e),i);case"co":return en(r.ordinalNumber(e,{unit:"day"}),i);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,s){return e=dm(e,r,s),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function lO(n,e,t){const r=Ne(n,t?.in),s=MC(r,t),i=e-s;return La(r,i,t)}class dO extends mt{priority=90;parse(e,t,r){const s=i=>i===0?7:i;switch(t){case"i":case"ii":return Yt(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return en(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),s);case"iiiii":return en(r.day(e,{width:"narrow",context:"formatting"}),s);case"iiiiii":return en(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),s);default:return en(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),s)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=lO(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class cO extends mt{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(lm(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class uO extends mt{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(lm(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class fO extends mt{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(lm(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class hO extends mt{priority=70;parse(e,t,r){switch(t){case"h":return Ut(Qt.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return Yt(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const s=e.getHours()>=12;return s&&r<12?e.setHours(r+12,0,0,0):!s&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class pO extends mt{priority=70;parse(e,t,r){switch(t){case"H":return Ut(Qt.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return Yt(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class gO extends mt{priority=70;parse(e,t,r){switch(t){case"K":return Ut(Qt.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return Yt(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class mO extends mt{priority=70;parse(e,t,r){switch(t){case"k":return Ut(Qt.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return Yt(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const s=r<=24?r%24:r;return e.setHours(s,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class vO extends mt{priority=60;parse(e,t,r){switch(t){case"m":return Ut(Qt.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return Yt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class bO extends mt{priority=50;parse(e,t,r){switch(t){case"s":return Ut(Qt.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return Yt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class kO extends mt{priority=30;parse(e,t){const r=s=>Math.trunc(s*Math.pow(10,-t.length+3));return en(Yt(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class yO extends mt{priority=10;parse(e,t){switch(t){case"X":return _s(ys.basicOptionalMinutes,e);case"XX":return _s(ys.basic,e);case"XXXX":return _s(ys.basicOptionalSeconds,e);case"XXXXX":return _s(ys.extendedOptionalSeconds,e);default:return _s(ys.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Ot(e,e.getTime()-Do(e)-r)}incompatibleTokens=["t","T","x"]}class _O extends mt{priority=10;parse(e,t){switch(t){case"x":return _s(ys.basicOptionalMinutes,e);case"xx":return _s(ys.basic,e);case"xxxx":return _s(ys.basicOptionalSeconds,e);case"xxxxx":return _s(ys.extendedOptionalSeconds,e);default:return _s(ys.extended,e)}}set(e,t,r){return t.timestampIsSet?e:Ot(e,e.getTime()-Do(e)-r)}incompatibleTokens=["t","T","X"]}class wO extends mt{priority=40;parse(e){return N_(e)}set(e,t,r){return[Ot(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class EO extends mt{priority=20;parse(e){return N_(e)}set(e,t,r){return[Ot(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const SO={G:new UC,y:new $C,Y:new KC,R:new zC,u:new WC,Q:new GC,q:new YC,M:new qC,L:new XC,w:new JC,I:new eO,d:new rO,D:new sO,E:new iO,e:new aO,c:new oO,i:new dO,a:new cO,b:new uO,B:new fO,h:new hO,H:new pO,K:new gO,k:new mO,m:new vO,s:new bO,S:new kO,X:new yO,x:new _O,t:new wO,T:new EO},xO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AO=/^'([^]*?)'?$/,CO=/''/g,OO=/\S/,DO=/[a-zA-Z]/;function Xr(n,e,t,r){const s=()=>Ot(r?.in||t,NaN),i=PC(),a=r?.locale??i.locale??_d,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!e)return n?s():Ne(t,r?.in);const d={firstWeekContainsDate:o,weekStartsOn:l,locale:a},c=[new HC(r?.in,t)],u=e.match(TO).map(m=>{const b=m[0];if(b in _p){const k=_p[b];return k(m,a.formatLong)}return m}).join("").match(xO),h=[];for(let m of u){!r?.useAdditionalWeekYearTokens&&R_(m)&&wp(m,e,n),!r?.useAdditionalDayOfYearTokens&&j_(m)&&wp(m,e,n);const b=m[0],k=SO[b];if(k){const{incompatibleTokens:_}=k;if(Array.isArray(_)){const S=h.find(T=>_.includes(T.token)||T.token===b);if(S)throw new RangeError(`The format string mustn't contain \`${S.fullToken}\` and \`${m}\` at the same time`)}else if(k.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);h.push({token:b,fullToken:m});const E=k.run(n,m,a.match,d);if(!E)return s();c.push(E.setter),n=E.rest}else{if(b.match(DO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(m==="''"?m="'":b==="'"&&(m=jO(m)),n.indexOf(m)===0)n=n.slice(m.length);else return s()}}if(n.length>0&&OO.test(n))return s();const p=c.map(m=>m.priority).sort((m,b)=>b-m).filter((m,b,k)=>k.indexOf(m)===b).map(m=>c.filter(b=>b.priority===m).sort((b,k)=>k.subPriority-b.subPriority)).map(m=>m[0]);let v=Ne(t,r?.in);if(isNaN(+v))return s();const g={};for(const m of p){if(!m.validate(v,d))return s();const b=m.set(v,g,d);Array.isArray(b)?(v=b[0],Object.assign(g,b[1])):v=b}return v}function jO(n){return n.match(AO)[1].replace(CO,"'")}function RO(n,e,t){const[r,s]=si(t?.in,n,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function L_(n,e,t){const[r,s]=si(t?.in,n,e);return r.getFullYear()===s.getFullYear()}function IO(n,e,t){const r=+Ne(n,t?.in),[s,i]=[+Ne(e.start,t?.in),+Ne(e.end,t?.in)].sort((a,o)=>a-o);return r>=s&&r<=i}function NO(n){const e=n/rC;return Math.trunc(e)}function Bn(n,e){const t=()=>Ot(e?.in,NaN),s=FO(n);let i;if(s.date){const d=VO(s.date,2);i=BO(d.restDateString,d.year)}if(!i||isNaN(+i))return t();const a=+i;let o=0,l;if(s.time&&(o=HO(s.time),isNaN(o)))return t();if(s.timezone){if(l=UO(s.timezone),isNaN(l))return t()}else{const d=new Date(a+o),c=Ne(0,e?.in);return c.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),c.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),c}return Ne(a+o+l,e?.in)}const Jd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},PO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,MO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function FO(n){const e={},t=n.split(Jd.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Jd.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Jd.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const s=Jd.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function VO(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function BO(n,e){if(e===null)return new Date(NaN);const t=n.match(PO);if(!t)return new Date(NaN);const r=!!t[4],s=ml(t[1]),i=ml(t[2])-1,a=ml(t[3]),o=ml(t[4]),l=ml(t[5])-1;if(r)return GO(e,o,l)?$O(e,o,l):new Date(NaN);{const d=new Date(0);return!zO(e,i,a)||!WO(e,s)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(s,a)),d)}}function ml(n){return n?parseInt(n):1}function HO(n){const e=n.match(MO);if(!e)return NaN;const t=dh(e[1]),r=dh(e[2]),s=dh(e[3]);return YO(t,r,s)?t*Yg+r*Mu+s*1e3:NaN}function dh(n){return n&&parseFloat(n.replace(",","."))||0}function UO(n){if(n==="Z")return 0;const e=n.match(LO);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return qO(r,s)?t*(r*Yg+s*Mu):NaN}function $O(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+t+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const KO=[31,null,31,30,31,30,31,31,30,31,30,31];function F_(n){return n%400===0||n%4===0&&n%100!==0}function zO(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(KO[e]||(F_(n)?29:28))}function WO(n,e){return e>=1&&e<=(F_(n)?366:365)}function GO(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function YO(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function qO(n,e){return e>=0&&e<=59}function V_(n,e,t){const r=Ne(n,t?.in),s=r.getFullYear(),i=r.getDate(),a=Ot(n,0);a.setFullYear(s,e,15),a.setHours(0,0,0,0);const o=NC(a);return r.setMonth(e,Math.min(i,o)),r}function XO(n,e,t){const r=Ne(n,t?.in);return r.setHours(e),r}function ZO(n,e,t){const r=Ne(n,t?.in);return r.setMinutes(e),r}function B_(n,e,t){const r=Ne(n,t?.in);return isNaN(+r)?Ot(n,NaN):(r.setFullYear(e),r)}function H_(n,e,t){return Lu(n,-e,t)}function U_(n,e,t){const{years:r=0,months:s=0,weeks:i=0,days:a=0,hours:o=0,minutes:l=0,seconds:d=0}=e,c=H_(n,s+r*12,t),u=qg(c,a+i*7,t),h=l+o*60,v=(d+h*60)*1e3;return Ot(n,+u-v)}function Lt(){return Lt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Lt.apply(this,arguments)}var Zt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Zt||(Zt={}));const hb="popstate";function JO(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return jo("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Ci(s)}return $_(e,t,null,n)}function QO(n){n===void 0&&(n={});function e(s,i){let{pathname:a="/",search:o="",hash:l=""}=js(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),jo("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){let a=s.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=s.location.href,d=l.indexOf("#");o=d===-1?l:l.slice(0,d)}return o+"#"+(typeof i=="string"?i:Ci(i))}function r(s,i){Ai(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return $_(e,t,r,n)}function ze(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ai(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eD(){return Math.random().toString(36).substr(2,8)}function pb(n,e){return{usr:n.state,key:n.key,idx:e}}function jo(n,e,t,r){return t===void 0&&(t=null),Lt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?js(e):e,{state:t,key:e&&e.key||r||eD()})}function Ci(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function js(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function $_(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=Zt.Pop,l=null,d=c();d==null&&(d=0,a.replaceState(Lt({},a.state,{idx:d}),""));function c(){return(a.state||{idx:null}).idx}function u(){o=Zt.Pop;let m=c(),b=m==null?null:m-d;d=m,l&&l({action:o,location:g.location,delta:b})}function h(m,b){o=Zt.Push;let k=jo(g.location,m,b);t&&t(k,m),d=c()+1;let _=pb(k,d),E=g.createHref(k);try{a.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(E)}i&&l&&l({action:o,location:g.location,delta:1})}function p(m,b){o=Zt.Replace;let k=jo(g.location,m,b);t&&t(k,m),d=c();let _=pb(k,d),E=g.createHref(k);a.replaceState(_,"",E),i&&l&&l({action:o,location:g.location,delta:0})}function v(m){let b=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof m=="string"?m:Ci(m);return k=k.replace(/ $/,"%20"),ze(b,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,b)}let g={get action(){return o},get location(){return n(s,a)},listen(m){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(hb,u),l=m,()=>{s.removeEventListener(hb,u),l=null}},createHref(m){return e(s,m)},createURL:v,encodeLocation(m){let b=v(m);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(m){return a.go(m)}};return g}var xt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(xt||(xt={}));const tD=new Set(["lazy","caseSensitive","path","id","index","children"]);function nD(n){return n.index===!0}function Kc(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((s,i)=>{let a=[...t,String(i)],o=typeof s.id=="string"?s.id:a.join("-");if(ze(s.index!==!0||!s.children,"Cannot specify children on an index route"),ze(!r[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),nD(s)){let l=Lt({},s,e(s),{id:o});return r[o]=l,l}else{let l=Lt({},s,e(s),{id:o,children:void 0});return r[o]=l,s.children&&(l.children=Kc(s.children,e,a,r)),l}})}function ra(n,e,t){return t===void 0&&(t="/"),Ac(n,e,t,!1)}function Ac(n,e,t,r){let s=typeof e=="string"?js(e):e,i=Jo(s.pathname||"/",t);if(i==null)return null;let a=K_(n);sD(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let d=W_(i);o=hD(a[l],d,r)}return o}function rD(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],handle:t.handle}}function K_(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Gs([r,l.relativePath]),c=t.concat(l);i.children&&i.children.length>0&&(ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),K_(i.children,e,c,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:uD(d,i.index),routesMeta:c})};return n.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of z_(i.path))s(i,a,l)}),e}function z_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=z_(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function sD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fD(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const iD=/^:[\w-]+$/,aD=3,oD=2,lD=1,dD=10,cD=-2,gb=n=>n==="*";function uD(n,e){let t=n.split("/"),r=t.length;return t.some(gb)&&(r+=cD),e&&(r+=oD),t.filter(s=>!gb(s)).reduce((s,i)=>s+(iD.test(i)?aD:i===""?lD:dD),r)}function fD(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function hD(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],d=o===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=Ep({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},c),h=l.route;if(!u&&d&&t&&!r[r.length-1].route.index&&(u=Ep({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:Gs([i,u.pathname]),pathnameBase:bD(Gs([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=Gs([i,u.pathnameBase]))}return a}function Ep(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=pD(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((d,c,u)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let g=o[u]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=o[u];return p&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:n}}function pD(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ai(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function W_(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Jo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const gD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mD=n=>gD.test(n);function vD(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?js(n):n,i;if(t)if(mD(t))i=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Ai(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+t))}t.startsWith("/")?i=mb(t.substring(1),"/"):i=mb(t,e)}else i=e;return{pathname:i,search:kD(r),hash:yD(s)}}function mb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ch(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vu(n,e){let t=G_(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Bu(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=js(n):(s=Lt({},n),ze(!s.pathname||!s.pathname.includes("?"),ch("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),ch("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),ch("#","search","hash",s)));let i=n===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=t;else{let u=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),u-=1;s.pathname=h.join("/")}o=u>=0?e[u]:"/"}let l=vD(s,o),d=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(d||c)&&(l.pathname+="/"),l}const Gs=n=>n.join("/").replace(/\/\/+/g,"/"),bD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Sp extends Error{}class _D{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],ze(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((i,a)=>r=a),this.controller=new AbortController;let s=()=>r(new Sp("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",s),this.controller.signal.addEventListener("abort",s),this.data=Object.entries(e).reduce((i,a)=>{let[o,l]=a;return Object.assign(i,{[o]:this.trackPromise(o,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([t,this.abortPromise]).then(s=>this.onSettle(r,e,void 0,s),s=>this.onSettle(r,e,s));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,s){if(this.controller.signal.aborted&&r instanceof Sp)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),r===void 0&&s===void 0){let i=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>i}),this.emit(!1,t),Promise.reject(i)}return s===void 0?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,t),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>s}),this.emit(!1,t),s)}emit(e,t){this.subscribers.forEach(r=>r(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(s=>{this.subscribe(i=>{e.removeEventListener("abort",r),(i||this.done)&&s(i)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return ze(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,s]=t;return Object.assign(e,{[r]:ED(s)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function wD(n){return n instanceof Promise&&n._tracked===!0}function ED(n){if(!wD(n))return n;if(n._error)throw n._error;return n._data}const wd=function(e,t){t===void 0&&(t={});let r=typeof t=="number"?{status:t}:t;return new _D(e,r)};class zc{constructor(e,t,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ql(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Y_=["post","put","patch","delete"],SD=new Set(Y_),xD=["get",...Y_],TD=new Set(xD),AD=new Set([301,302,303,307,308]),CD=new Set([307,308]),uh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DD=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),q_="remix-router-transitions";function X_(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ze(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(n.mapRouteProperties)s=n.mapRouteProperties;else if(n.detectErrorBoundary){let P=n.detectErrorBoundary;s=K=>({hasErrorBoundary:P(K)})}else s=DD;let i={},a=Kc(n.routes,s,void 0,i),o,l=n.basename||"/",d=n.dataStrategy||ND,c=n.patchRoutesOnNavigation,u=Lt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),h=null,p=new Set,v=null,g=null,m=null,b=n.hydrationData!=null,k=ra(a,n.history.location,l),_=!1,E=null;if(k==null&&!c){let P=er(404,{pathname:n.history.location.pathname}),{matches:K,route:q}=Ab(a);k=K,E={[q.id]:P}}k&&!n.hydrationData&&Xa(k,a,n.history.location.pathname).active&&(k=null);let S;if(k)if(k.some(P=>P.route.lazy))S=!1;else if(!k.some(P=>P.route.loader))S=!0;else if(u.v7_partialHydration){let P=n.hydrationData?n.hydrationData.loaderData:null,K=n.hydrationData?n.hydrationData.errors:null;if(K){let q=k.findIndex(te=>K[te.route.id]!==void 0);S=k.slice(0,q+1).every(te=>!Tp(te.route,P,K))}else S=k.every(q=>!Tp(q.route,P,K))}else S=n.hydrationData!=null;else if(S=!1,k=[],u.v7_partialHydration){let P=Xa(null,a,n.history.location.pathname);P.active&&P.matches&&(_=!0,k=P.matches)}let T,x={historyAction:n.history.action,location:n.history.location,matches:k,initialized:S,navigation:uh,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||E,fetchers:new Map,blockers:new Map},A=Zt.Pop,O=!1,C,D=!1,I=new Map,U=null,H=!1,j=!1,V=[],F=new Set,G=new Map,B=0,ce=-1,L=new Map,$=new Set,M=new Map,Y=new Map,J=new Set,ae=new Map,ne=new Map,Ce;function Z(){if(h=n.history.listen(P=>{let{action:K,location:q,delta:te}=P;if(Ce){Ce(),Ce=void 0;return}Ai(ne.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let he=wt({currentLocation:x.location,nextLocation:q,historyAction:K});if(he&&te!=null){let Ie=new Promise(Be=>{Ce=Be});n.history.go(te*-1),ut(he,{state:"blocked",location:q,proceed(){ut(he,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),Ie.then(()=>n.history.go(te))},reset(){let Be=new Map(x.blockers);Be.set(he,vl),ge({blockers:Be})}});return}return tt(K,q)}),t){YD(e,I);let P=()=>qD(e,I);e.addEventListener("pagehide",P),U=()=>e.removeEventListener("pagehide",P)}return x.initialized||tt(Zt.Pop,x.location,{initialHydration:!0}),T}function pe(){h&&h(),U&&U(),p.clear(),C&&C.abort(),x.fetchers.forEach((P,K)=>vn(K)),x.blockers.forEach((P,K)=>We(K))}function de(P){return p.add(P),()=>p.delete(P)}function ge(P,K){K===void 0&&(K={}),x=Lt({},x,P);let q=[],te=[];u.v7_fetcherPersist&&x.fetchers.forEach((he,Ie)=>{he.state==="idle"&&(J.has(Ie)?te.push(Ie):q.push(Ie))}),J.forEach(he=>{!x.fetchers.has(he)&&!G.has(he)&&te.push(he)}),[...p].forEach(he=>he(x,{deletedFetchers:te,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),u.v7_fetcherPersist?(q.forEach(he=>x.fetchers.delete(he)),te.forEach(he=>vn(he))):te.forEach(he=>J.delete(he))}function we(P,K,q){var te,he;let{flushSync:Ie}=q===void 0?{}:q,Be=x.actionData!=null&&x.navigation.formMethod!=null&&Kr(x.navigation.formMethod)&&x.navigation.state==="loading"&&((te=P.state)==null?void 0:te._isRedirect)!==!0,Se;K.actionData?Object.keys(K.actionData).length>0?Se=K.actionData:Se=null:Be?Se=x.actionData:Se=null;let xe=K.loaderData?xb(x.loaderData,K.loaderData,K.matches||[],K.errors):x.loaderData,ke=x.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((st,En)=>ke.set(En,vl)));let Oe=O===!0||x.navigation.formMethod!=null&&Kr(x.navigation.formMethod)&&((he=P.state)==null?void 0:he._isRedirect)!==!0;o&&(a=o,o=void 0),H||A===Zt.Pop||(A===Zt.Push?n.history.push(P,P.state):A===Zt.Replace&&n.history.replace(P,P.state));let qe;if(A===Zt.Pop){let st=I.get(x.location.pathname);st&&st.has(P.pathname)?qe={currentLocation:x.location,nextLocation:P}:I.has(P.pathname)&&(qe={currentLocation:P,nextLocation:x.location})}else if(D){let st=I.get(x.location.pathname);st?st.add(P.pathname):(st=new Set([P.pathname]),I.set(x.location.pathname,st)),qe={currentLocation:x.location,nextLocation:P}}ge(Lt({},K,{actionData:Se,loaderData:xe,historyAction:A,location:P,initialized:!0,navigation:uh,revalidation:"idle",restoreScrollPosition:ft(P,K.matches||x.matches),preventScrollReset:Oe,blockers:ke}),{viewTransitionOpts:qe,flushSync:Ie===!0}),A=Zt.Pop,O=!1,D=!1,H=!1,j=!1,V=[]}async function Pe(P,K){if(typeof P=="number"){n.history.go(P);return}let q=xp(x.location,x.matches,l,u.v7_prependBasename,P,u.v7_relativeSplatPath,K?.fromRouteId,K?.relative),{path:te,submission:he,error:Ie}=vb(u.v7_normalizeFormMethod,!1,q,K),Be=x.location,Se=jo(x.location,te,K&&K.state);Se=Lt({},Se,n.history.encodeLocation(Se));let xe=K&&K.replace!=null?K.replace:void 0,ke=Zt.Push;xe===!0?ke=Zt.Replace:xe===!1||he!=null&&Kr(he.formMethod)&&he.formAction===x.location.pathname+x.location.search&&(ke=Zt.Replace);let Oe=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,qe=(K&&K.flushSync)===!0,st=wt({currentLocation:Be,nextLocation:Se,historyAction:ke});if(st){ut(st,{state:"blocked",location:Se,proceed(){ut(st,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Pe(P,K)},reset(){let En=new Map(x.blockers);En.set(st,vl),ge({blockers:En})}});return}return await tt(ke,Se,{submission:he,pendingError:Ie,preventScrollReset:Oe,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:qe})}function Je(){if(Ee(),ge({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){tt(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}tt(A||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:D===!0})}}async function tt(P,K,q){C&&C.abort(),C=null,A=P,H=(q&&q.startUninterruptedRevalidation)===!0,Cr(x.location,x.matches),O=(q&&q.preventScrollReset)===!0,D=(q&&q.enableViewTransition)===!0;let te=o||a,he=q&&q.overrideNavigation,Ie=q!=null&&q.initialHydration&&x.matches&&x.matches.length>0&&!_?x.matches:ra(te,K,l),Be=(q&&q.flushSync)===!0;if(Ie&&x.initialized&&!j&&BD(x.location,K)&&!(q&&q.submission&&Kr(q.submission.formMethod))){we(K,{matches:Ie},{flushSync:Be});return}let Se=Xa(Ie,te,K.pathname);if(Se.active&&Se.matches&&(Ie=Se.matches),!Ie){let{error:Rt,notFoundMatches:gt,route:zt}=Ar(K.pathname);we(K,{matches:gt,loaderData:{},errors:{[zt.id]:Rt}},{flushSync:Be});return}C=new AbortController;let xe=no(n.history,K,C.signal,q&&q.submission),ke;if(q&&q.pendingError)ke=[sa(Ie).route.id,{type:xt.error,error:q.pendingError}];else if(q&&q.submission&&Kr(q.submission.formMethod)){let Rt=await ct(xe,K,q.submission,Ie,Se.active,{replace:q.replace,flushSync:Be});if(Rt.shortCircuited)return;if(Rt.pendingActionResult){let[gt,zt]=Rt.pendingActionResult;if(ur(zt)&&Ql(zt.error)&&zt.error.status===404){C=null,we(K,{matches:Rt.matches,loaderData:{},errors:{[gt]:zt.error}});return}}Ie=Rt.matches||Ie,ke=Rt.pendingActionResult,he=fh(K,q.submission),Be=!1,Se.active=!1,xe=no(n.history,xe.url,xe.signal)}let{shortCircuited:Oe,matches:qe,loaderData:st,errors:En}=await Un(xe,K,Ie,Se.active,he,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,q&&q.initialHydration===!0,Be,ke);Oe||(C=null,we(K,Lt({matches:qe||Ie},Tb(ke),{loaderData:st,errors:En})))}async function ct(P,K,q,te,he,Ie){Ie===void 0&&(Ie={}),Ee();let Be=WD(K,q);if(ge({navigation:Be},{flushSync:Ie.flushSync===!0}),he){let ke=await Za(te,K.pathname,P.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let Oe=sa(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[Oe,{type:xt.error,error:ke.error}]}}else if(ke.matches)te=ke.matches;else{let{notFoundMatches:Oe,error:qe,route:st}=Ar(K.pathname);return{matches:Oe,pendingActionResult:[st.id,{type:xt.error,error:qe}]}}}let Se,xe=Nl(te,K);if(!xe.route.action&&!xe.route.lazy)Se={type:xt.error,error:er(405,{method:P.method,pathname:K.pathname,routeId:xe.route.id})};else if(Se=(await oe("action",x,P,[xe],te,null))[xe.route.id],P.signal.aborted)return{shortCircuited:!0};if(aa(Se)){let ke;return Ie&&Ie.replace!=null?ke=Ie.replace:ke=wb(Se.response.headers.get("Location"),new URL(P.url),l,n.history)===x.location.pathname+x.location.search,await le(P,Se,!0,{submission:q,replace:ke}),{shortCircuited:!0}}if(ki(Se))throw er(400,{type:"defer-action"});if(ur(Se)){let ke=sa(te,xe.route.id);return(Ie&&Ie.replace)!==!0&&(A=Zt.Push),{matches:te,pendingActionResult:[ke.route.id,Se]}}return{matches:te,pendingActionResult:[xe.route.id,Se]}}async function Un(P,K,q,te,he,Ie,Be,Se,xe,ke,Oe){let qe=he||fh(K,Ie),st=Ie||Be||Ob(qe),En=!H&&(!u.v7_partialHydration||!xe);if(te){if(En){let Wt=mn(Oe);ge(Lt({navigation:qe},Wt!==void 0?{actionData:Wt}:{}),{flushSync:ke})}let ht=await Za(q,K.pathname,P.signal);if(ht.type==="aborted")return{shortCircuited:!0};if(ht.type==="error"){let Wt=sa(ht.partialMatches).route.id;return{matches:ht.partialMatches,loaderData:{},errors:{[Wt]:ht.error}}}else if(ht.matches)q=ht.matches;else{let{error:Wt,notFoundMatches:Qa,route:gl}=Ar(K.pathname);return{matches:Qa,loaderData:{},errors:{[gl.id]:Wt}}}}let Rt=o||a,[gt,zt]=kb(n.history,x,q,st,K,u.v7_partialHydration&&xe===!0,u.v7_skipActionErrorRevalidation,j,V,F,J,M,$,Rt,l,Oe);if($n(ht=>!(q&&q.some(Wt=>Wt.route.id===ht))||gt&&gt.some(Wt=>Wt.route.id===ht)),ce=++B,gt.length===0&&zt.length===0){let ht=ui();return we(K,Lt({matches:q,loaderData:{},errors:Oe&&ur(Oe[1])?{[Oe[0]]:Oe[1].error}:null},Tb(Oe),ht?{fetchers:new Map(x.fetchers)}:{}),{flushSync:ke}),{shortCircuited:!0}}if(En){let ht={};if(!te){ht.navigation=qe;let Wt=mn(Oe);Wt!==void 0&&(ht.actionData=Wt)}zt.length>0&&(ht.fetchers=vt(zt)),ge(ht,{flushSync:ke})}zt.forEach(ht=>{Tr(ht.key),ht.controller&&G.set(ht.key,ht.controller)});let Ja=()=>zt.forEach(ht=>Tr(ht.key));C&&C.signal.addEventListener("abort",Ja);let{loaderResults:hl,fetcherResults:Fs}=await se(x,q,gt,zt,P);if(P.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Ja),zt.forEach(ht=>G.delete(ht.key));let ds=Qd(hl);if(ds)return await le(P,ds.result,!0,{replace:Se}),{shortCircuited:!0};if(ds=Qd(Fs),ds)return $.add(ds.key),await le(P,ds.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:ah,errors:pl}=Sb(x,q,hl,Oe,zt,Fs,ae);ae.forEach((ht,Wt)=>{ht.subscribe(Qa=>{(Qa||ht.done)&&ae.delete(Wt)})}),u.v7_partialHydration&&xe&&x.errors&&(pl=Lt({},x.errors,pl));let Xi=ui(),qd=qi(ce),Xd=Xi||qd||zt.length>0;return Lt({matches:q,loaderData:ah,errors:pl},Xd?{fetchers:new Map(x.fetchers)}:{})}function mn(P){if(P&&!ur(P[1]))return{[P[0]]:P[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function vt(P){return P.forEach(K=>{let q=x.fetchers.get(K.key),te=bl(void 0,q?q.data:void 0);x.fetchers.set(K.key,te)}),new Map(x.fetchers)}function R(P,K,q,te){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Tr(P);let he=(te&&te.flushSync)===!0,Ie=o||a,Be=xp(x.location,x.matches,l,u.v7_prependBasename,q,u.v7_relativeSplatPath,K,te?.relative),Se=ra(Ie,Be,l),xe=Xa(Se,Ie,Be);if(xe.active&&xe.matches&&(Se=xe.matches),!Se){Fe(P,K,er(404,{pathname:Be}),{flushSync:he});return}let{path:ke,submission:Oe,error:qe}=vb(u.v7_normalizeFormMethod,!0,Be,te);if(qe){Fe(P,K,qe,{flushSync:he});return}let st=Nl(Se,ke),En=(te&&te.preventScrollReset)===!0;if(Oe&&Kr(Oe.formMethod)){z(P,K,ke,st,Se,xe.active,he,En,Oe);return}M.set(P,{routeId:K,path:ke}),X(P,K,ke,st,Se,xe.active,he,En,Oe)}async function z(P,K,q,te,he,Ie,Be,Se,xe){Ee(),M.delete(P);function ke(rn){if(!rn.route.action&&!rn.route.lazy){let eo=er(405,{method:xe.formMethod,pathname:q,routeId:K});return Fe(P,K,eo,{flushSync:Be}),!0}return!1}if(!Ie&&ke(te))return;let Oe=x.fetchers.get(P);Le(P,GD(xe,Oe),{flushSync:Be});let qe=new AbortController,st=no(n.history,q,qe.signal,xe);if(Ie){let rn=await Za(he,new URL(st.url).pathname,st.signal,P);if(rn.type==="aborted")return;if(rn.type==="error"){Fe(P,K,rn.error,{flushSync:Be});return}else if(rn.matches){if(he=rn.matches,te=Nl(he,q),ke(te))return}else{Fe(P,K,er(404,{pathname:q}),{flushSync:Be});return}}G.set(P,qe);let En=B,gt=(await oe("action",x,st,[te],he,P))[te.route.id];if(st.signal.aborted){G.get(P)===qe&&G.delete(P);return}if(u.v7_fetcherPersist&&J.has(P)){if(aa(gt)||ur(gt)){Le(P,pi(void 0));return}}else{if(aa(gt))if(G.delete(P),ce>En){Le(P,pi(void 0));return}else return $.add(P),Le(P,bl(xe)),le(st,gt,!1,{fetcherSubmission:xe,preventScrollReset:Se});if(ur(gt)){Fe(P,K,gt.error);return}}if(ki(gt))throw er(400,{type:"defer-action"});let zt=x.navigation.location||x.location,Ja=no(n.history,zt,qe.signal),hl=o||a,Fs=x.navigation.state!=="idle"?ra(hl,x.navigation.location,l):x.matches;ze(Fs,"Didn't find any matches after fetcher action");let ds=++B;L.set(P,ds);let ah=bl(xe,gt.data);x.fetchers.set(P,ah);let[pl,Xi]=kb(n.history,x,Fs,xe,zt,!1,u.v7_skipActionErrorRevalidation,j,V,F,J,M,$,hl,l,[te.route.id,gt]);Xi.filter(rn=>rn.key!==P).forEach(rn=>{let eo=rn.key,rb=x.fetchers.get(eo),DA=bl(void 0,rb?rb.data:void 0);x.fetchers.set(eo,DA),Tr(eo),rn.controller&&G.set(eo,rn.controller)}),ge({fetchers:new Map(x.fetchers)});let qd=()=>Xi.forEach(rn=>Tr(rn.key));qe.signal.addEventListener("abort",qd);let{loaderResults:Xd,fetcherResults:ht}=await se(x,Fs,pl,Xi,Ja);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",qd),L.delete(P),G.delete(P),Xi.forEach(rn=>G.delete(rn.key));let Wt=Qd(Xd);if(Wt)return le(Ja,Wt.result,!1,{preventScrollReset:Se});if(Wt=Qd(ht),Wt)return $.add(Wt.key),le(Ja,Wt.result,!1,{preventScrollReset:Se});let{loaderData:Qa,errors:gl}=Sb(x,Fs,Xd,void 0,Xi,ht,ae);if(x.fetchers.has(P)){let rn=pi(gt.data);x.fetchers.set(P,rn)}qi(ds),x.navigation.state==="loading"&&ds>ce?(ze(A,"Expected pending action"),C&&C.abort(),we(x.navigation.location,{matches:Fs,loaderData:Qa,errors:gl,fetchers:new Map(x.fetchers)})):(ge({errors:gl,loaderData:xb(x.loaderData,Qa,Fs,gl),fetchers:new Map(x.fetchers)}),j=!1)}async function X(P,K,q,te,he,Ie,Be,Se,xe){let ke=x.fetchers.get(P);Le(P,bl(xe,ke?ke.data:void 0),{flushSync:Be});let Oe=new AbortController,qe=no(n.history,q,Oe.signal);if(Ie){let gt=await Za(he,new URL(qe.url).pathname,qe.signal,P);if(gt.type==="aborted")return;if(gt.type==="error"){Fe(P,K,gt.error,{flushSync:Be});return}else if(gt.matches)he=gt.matches,te=Nl(he,q);else{Fe(P,K,er(404,{pathname:q}),{flushSync:Be});return}}G.set(P,Oe);let st=B,Rt=(await oe("loader",x,qe,[te],he,P))[te.route.id];if(ki(Rt)&&(Rt=await um(Rt,qe.signal,!0)||Rt),G.get(P)===Oe&&G.delete(P),!qe.signal.aborted){if(J.has(P)){Le(P,pi(void 0));return}if(aa(Rt))if(ce>st){Le(P,pi(void 0));return}else{$.add(P),await le(qe,Rt,!1,{preventScrollReset:Se});return}if(ur(Rt)){Fe(P,K,Rt.error);return}ze(!ki(Rt),"Unhandled fetcher deferred data"),Le(P,pi(Rt.data))}}async function le(P,K,q,te){let{submission:he,fetcherSubmission:Ie,preventScrollReset:Be,replace:Se}=te===void 0?{}:te;K.response.headers.has("X-Remix-Revalidate")&&(j=!0);let xe=K.response.headers.get("Location");ze(xe,"Expected a Location header on the redirect Response"),xe=wb(xe,new URL(P.url),l,n.history);let ke=jo(x.location,xe,{_isRedirect:!0});if(t){let gt=!1;if(K.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(cm.test(xe)){const zt=n.history.createURL(xe);gt=zt.origin!==e.location.origin||Jo(zt.pathname,l)==null}if(gt){Se?e.location.replace(xe):e.location.assign(xe);return}}C=null;let Oe=Se===!0||K.response.headers.has("X-Remix-Replace")?Zt.Replace:Zt.Push,{formMethod:qe,formAction:st,formEncType:En}=x.navigation;!he&&!Ie&&qe&&st&&En&&(he=Ob(x.navigation));let Rt=he||Ie;if(CD.has(K.response.status)&&Rt&&Kr(Rt.formMethod))await tt(Oe,ke,{submission:Lt({},Rt,{formAction:xe}),preventScrollReset:Be||O,enableViewTransition:q?D:void 0});else{let gt=fh(ke,he);await tt(Oe,ke,{overrideNavigation:gt,fetcherSubmission:Ie,preventScrollReset:Be||O,enableViewTransition:q?D:void 0})}}async function oe(P,K,q,te,he,Ie){let Be,Se={};try{Be=await PD(d,P,K,q,te,he,Ie,i,s)}catch(xe){return te.forEach(ke=>{Se[ke.route.id]={type:xt.error,error:xe}}),Se}for(let[xe,ke]of Object.entries(Be))if(HD(ke)){let Oe=ke.result;Se[xe]={type:xt.redirect,response:FD(Oe,q,xe,he,l,u.v7_relativeSplatPath)}}else Se[xe]=await LD(ke);return Se}async function se(P,K,q,te,he){let Ie=P.matches,Be=oe("loader",P,he,q,K,null),Se=Promise.all(te.map(async Oe=>{if(Oe.matches&&Oe.match&&Oe.controller){let st=(await oe("loader",P,no(n.history,Oe.path,Oe.controller.signal),[Oe.match],Oe.matches,Oe.key))[Oe.match.route.id];return{[Oe.key]:st}}else return Promise.resolve({[Oe.key]:{type:xt.error,error:er(404,{pathname:Oe.path})}})})),xe=await Be,ke=(await Se).reduce((Oe,qe)=>Object.assign(Oe,qe),{});return await Promise.all([KD(K,xe,he.signal,Ie,P.loaderData),zD(K,ke,te)]),{loaderResults:xe,fetcherResults:ke}}function Ee(){j=!0,V.push(...$n()),M.forEach((P,K)=>{G.has(K)&&F.add(K),Tr(K)})}function Le(P,K,q){q===void 0&&(q={}),x.fetchers.set(P,K),ge({fetchers:new Map(x.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function Fe(P,K,q,te){te===void 0&&(te={});let he=sa(x.matches,K);vn(P),ge({errors:{[he.route.id]:q},fetchers:new Map(x.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function _t(P){return Y.set(P,(Y.get(P)||0)+1),J.has(P)&&J.delete(P),x.fetchers.get(P)||OD}function vn(P){let K=x.fetchers.get(P);G.has(P)&&!(K&&K.state==="loading"&&L.has(P))&&Tr(P),M.delete(P),L.delete(P),$.delete(P),u.v7_fetcherPersist&&J.delete(P),F.delete(P),x.fetchers.delete(P)}function xr(P){let K=(Y.get(P)||0)-1;K<=0?(Y.delete(P),J.add(P),u.v7_fetcherPersist||vn(P)):Y.set(P,K),ge({fetchers:new Map(x.fetchers)})}function Tr(P){let K=G.get(P);K&&(K.abort(),G.delete(P))}function ci(P){for(let K of P){let q=_t(K),te=pi(q.data);x.fetchers.set(K,te)}}function ui(){let P=[],K=!1;for(let q of $){let te=x.fetchers.get(q);ze(te,"Expected fetcher: "+q),te.state==="loading"&&($.delete(q),P.push(q),K=!0)}return ci(P),K}function qi(P){let K=[];for(let[q,te]of L)if(te<P){let he=x.fetchers.get(q);ze(he,"Expected fetcher: "+q),he.state==="loading"&&(Tr(q),L.delete(q),K.push(q))}return ci(K),K.length>0}function Ya(P,K){let q=x.blockers.get(P)||vl;return ne.get(P)!==K&&ne.set(P,K),q}function We(P){x.blockers.delete(P),ne.delete(P)}function ut(P,K){let q=x.blockers.get(P)||vl;ze(q.state==="unblocked"&&K.state==="blocked"||q.state==="blocked"&&K.state==="blocked"||q.state==="blocked"&&K.state==="proceeding"||q.state==="blocked"&&K.state==="unblocked"||q.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+q.state+" -> "+K.state);let te=new Map(x.blockers);te.set(P,K),ge({blockers:te})}function wt(P){let{currentLocation:K,nextLocation:q,historyAction:te}=P;if(ne.size===0)return;ne.size>1&&Ai(!1,"A router only supports one blocker at a time");let he=Array.from(ne.entries()),[Ie,Be]=he[he.length-1],Se=x.blockers.get(Ie);if(!(Se&&Se.state==="proceeding")&&Be({currentLocation:K,nextLocation:q,historyAction:te}))return Ie}function Ar(P){let K=er(404,{pathname:P}),q=o||a,{matches:te,route:he}=Ab(q);return $n(),{notFoundMatches:te,route:he,error:K}}function $n(P){let K=[];return ae.forEach((q,te)=>{(!P||P(te))&&(q.cancel(),K.push(te),ae.delete(te))}),K}function qa(P,K,q){if(v=P,m=K,g=q||null,!b&&x.navigation===uh){b=!0;let te=ft(x.location,x.matches);te!=null&&ge({restoreScrollPosition:te})}return()=>{v=null,m=null,g=null}}function fn(P,K){return g&&g(P,K.map(te=>rD(te,x.loaderData)))||P.key}function Cr(P,K){if(v&&m){let q=fn(P,K);v[q]=m()}}function ft(P,K){if(v){let q=fn(P,K),te=v[q];if(typeof te=="number")return te}return null}function Xa(P,K,q){if(c)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:Ac(K,q,l,!0)}}else return{active:!0,matches:Ac(K,q,l,!0)||[]};return{active:!1,matches:null}}async function Za(P,K,q,te){if(!c)return{type:"success",matches:P};let he=P;for(;;){let Ie=o==null,Be=o||a,Se=i;try{await c({signal:q,path:K,matches:he,fetcherKey:te,patch:(Oe,qe)=>{q.aborted||_b(Oe,qe,Be,Se,s)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:he}}finally{Ie&&!q.aborted&&(a=[...a])}if(q.aborted)return{type:"aborted"};let xe=ra(Be,K,l);if(xe)return{type:"success",matches:xe};let ke=Ac(Be,K,l,!0);if(!ke||he.length===ke.length&&he.every((Oe,qe)=>Oe.route.id===ke[qe].route.id))return{type:"success",matches:null};he=ke}}function ih(P){i={},o=Kc(P,s,void 0,i)}function fl(P,K){let q=o==null;_b(P,K,o||a,i,s),q&&(a=[...a],ge({}))}return T={get basename(){return l},get future(){return u},get state(){return x},get routes(){return a},get window(){return e},initialize:Z,subscribe:de,enableScrollRestoration:qa,navigate:Pe,fetch:R,revalidate:Je,createHref:P=>n.history.createHref(P),encodeLocation:P=>n.history.encodeLocation(P),getFetcher:_t,deleteFetcher:xr,dispose:pe,getBlocker:Ya,deleteBlocker:We,patchRoutes:fl,_internalFetchControllers:G,_internalActiveDeferreds:ae,_internalSetRoutes:ih},T}function jD(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function xp(n,e,t,r,s,i,a,o){let l,d;if(a){l=[];for(let u of e)if(l.push(u),u.route.id===a){d=u;break}}else l=e,d=e[e.length-1];let c=Bu(s||".",Vu(l,i),Jo(n.pathname,t)||n.pathname,o==="path");if(s==null&&(c.search=n.search,c.hash=n.hash),(s==null||s===""||s===".")&&d){let u=fm(c.search);if(d.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&u){let h=new URLSearchParams(c.search),p=h.getAll("index");h.delete("index"),p.filter(g=>g).forEach(g=>h.append("index",g));let v=h.toString();c.search=v?"?"+v:""}}return r&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Gs([t,c.pathname])),Ci(c)}function vb(n,e,t,r){if(!r||!jD(r))return{path:t};if(r.formMethod&&!$D(r.formMethod))return{path:t,error:er(405,{method:r.formMethod})};let s=()=>({path:t,error:er(400,{type:"invalid-body"})}),i=r.formMethod||"get",a=n?i.toUpperCase():i.toLowerCase(),o=Q_(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Kr(a))return s();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,v)=>{let[g,m]=v;return""+p+g+"="+m+`
`},""):String(r.body);return{path:t,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Kr(a))return s();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:a,formAction:o,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}ze(typeof FormData=="function","FormData is not available in this environment");let l,d;if(r.formData)l=Ap(r.formData),d=r.formData;else if(r.body instanceof FormData)l=Ap(r.body),d=r.body;else if(r.body instanceof URLSearchParams)l=r.body,d=Eb(l);else if(r.body==null)l=new URLSearchParams,d=new FormData;else try{l=new URLSearchParams(r.body),d=Eb(l)}catch{return s()}let c={formMethod:a,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Kr(c.formMethod))return{path:t,submission:c};let u=js(t);return e&&u.search&&fm(u.search)&&l.append("index",""),u.search="?"+l,{path:Ci(u),submission:c}}function bb(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(s=>s.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function kb(n,e,t,r,s,i,a,o,l,d,c,u,h,p,v,g){let m=g?ur(g[1])?g[1].error:g[1].data:void 0,b=n.createURL(e.location),k=n.createURL(s),_=t;i&&e.errors?_=bb(t,Object.keys(e.errors)[0],!0):g&&ur(g[1])&&(_=bb(t,g[0]));let E=g?g[1].statusCode:void 0,S=a&&E&&E>=400,T=_.filter((A,O)=>{let{route:C}=A;if(C.lazy)return!0;if(C.loader==null)return!1;if(i)return Tp(C,e.loaderData,e.errors);if(RD(e.loaderData,e.matches[O],A)||l.some(U=>U===A.route.id))return!0;let D=e.matches[O],I=A;return yb(A,Lt({currentUrl:b,currentParams:D.params,nextUrl:k,nextParams:I.params},r,{actionResult:m,actionStatus:E,defaultShouldRevalidate:S?!1:o||b.pathname+b.search===k.pathname+k.search||b.search!==k.search||Z_(D,I)}))}),x=[];return u.forEach((A,O)=>{if(i||!t.some(H=>H.route.id===A.routeId)||c.has(O))return;let C=ra(p,A.path,v);if(!C){x.push({key:O,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(O),I=Nl(C,A.path),U=!1;h.has(O)?U=!1:d.has(O)?(d.delete(O),U=!0):D&&D.state!=="idle"&&D.data===void 0?U=o:U=yb(I,Lt({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:k,nextParams:t[t.length-1].params},r,{actionResult:m,actionStatus:E,defaultShouldRevalidate:S?!1:o})),U&&x.push({key:O,routeId:A.routeId,path:A.path,matches:C,match:I,controller:new AbortController})}),[T,x]}function Tp(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function RD(n,e,t){let r=!e||t.route.id!==e.route.id,s=n[t.route.id]===void 0;return r||s}function Z_(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function yb(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function _b(n,e,t,r,s){var i;let a;if(n){let d=r[n];ze(d,"No route found to patch children into: routeId = "+n),d.children||(d.children=[]),a=d.children}else a=t;let o=e.filter(d=>!a.some(c=>J_(d,c))),l=Kc(o,s,[n||"_","patch",String(((i=a)==null?void 0:i.length)||"0")],r);a.push(...l)}function J_(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>J_(t,i))}):!1}async function ID(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let s=t[n.id];ze(s,"No route found in manifest");let i={};for(let a in r){let l=s[a]!==void 0&&a!=="hasErrorBoundary";Ai(!l,'Route "'+s.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!tD.has(a)&&(i[a]=r[a])}Object.assign(s,i),Object.assign(s,Lt({},e(s),{lazy:void 0}))}async function ND(n){let{matches:e}=n,t=e.filter(s=>s.shouldLoad);return(await Promise.all(t.map(s=>s.resolve()))).reduce((s,i,a)=>Object.assign(s,{[t[a].route.id]:i}),{})}async function PD(n,e,t,r,s,i,a,o,l,d){let c=i.map(p=>p.route.lazy?ID(p.route,l,o):void 0),u=i.map((p,v)=>{let g=c[v],m=s.some(k=>k.route.id===p.route.id);return Lt({},p,{shouldLoad:m,resolve:async k=>(k&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(m=!0),m?MD(e,r,p,g,k,d):Promise.resolve({type:xt.data,result:void 0}))})}),h=await n({matches:u,request:r,params:i[0].params,fetcherKey:a,context:d});try{await Promise.all(c)}catch{}return h}async function MD(n,e,t,r,s,i){let a,o,l=d=>{let c,u=new Promise((v,g)=>c=g);o=()=>c(),e.signal.addEventListener("abort",o);let h=v=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):d({request:e,params:t.params,context:i},...v!==void 0?[v]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(g=>h(g)):h())}}catch(v){return{type:"error",result:v}}})();return Promise.race([p,u])};try{let d=t.route[n];if(r)if(d){let c,[u]=await Promise.all([l(d).catch(h=>{c=h}),r]);if(c!==void 0)throw c;a=u}else if(await r,d=t.route[n],d)a=await l(d);else if(n==="action"){let c=new URL(e.url),u=c.pathname+c.search;throw er(405,{method:e.method,pathname:u,routeId:t.route.id})}else return{type:xt.data,result:void 0};else if(d)a=await l(d);else{let c=new URL(e.url),u=c.pathname+c.search;throw er(404,{pathname:u})}ze(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:xt.error,result:d}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function LD(n){let{result:e,type:t}=n;if(ew(e)){let u;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(h){return{type:xt.error,error:h}}return t===xt.error?{type:xt.error,error:new zc(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:xt.data,data:u,statusCode:e.status,headers:e.headers}}if(t===xt.error){if(Cb(e)){var r,s;if(e.data instanceof Error){var i,a;return{type:xt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:xt.error,error:new zc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Ql(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:xt.error,error:e,statusCode:Ql(e)?e.status:void 0}}if(UD(e)){var o,l;return{type:xt.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Cb(e)){var d,c;return{type:xt.data,data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:xt.data,data:e}}function FD(n,e,t,r,s,i){let a=n.headers.get("Location");if(ze(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!cm.test(a)){let o=r.slice(0,r.findIndex(l=>l.route.id===t)+1);a=xp(new URL(e.url),o,s,!0,a,i),n.headers.set("Location",a)}return n}function wb(n,e,t,r){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(cm.test(n)){let i=n,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i);if(s.includes(a.protocol))throw new Error("Invalid redirect location");let o=Jo(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}try{let i=r.createURL(n);if(s.includes(i.protocol))throw new Error("Invalid redirect location")}catch{}return n}function no(n,e,t,r){let s=n.createURL(Q_(e)).toString(),i={signal:t};if(r&&Kr(r.formMethod)){let{formMethod:a,formEncType:o}=r;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(r.json)):o==="text/plain"?i.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?i.body=Ap(r.formData):i.body=r.formData}return new Request(s,i)}function Ap(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Eb(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function VD(n,e,t,r,s){let i={},a=null,o,l=!1,d={},c=t&&ur(t[1])?t[1].error:void 0;return n.forEach(u=>{if(!(u.route.id in e))return;let h=u.route.id,p=e[h];if(ze(!aa(p),"Cannot handle redirect results in processLoaderData"),ur(p)){let v=p.error;c!==void 0&&(v=c,c=void 0),a=a||{};{let g=sa(n,h);a[g.route.id]==null&&(a[g.route.id]=v)}i[h]=void 0,l||(l=!0,o=Ql(p.error)?p.error.status:500),p.headers&&(d[h]=p.headers)}else ki(p)?(r.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(o=p.statusCode),p.headers&&(d[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(o=p.statusCode),p.headers&&(d[h]=p.headers))}),c!==void 0&&t&&(a={[t[0]]:c},i[t[0]]=void 0),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:d}}function Sb(n,e,t,r,s,i,a){let{loaderData:o,errors:l}=VD(e,t,r,a);return s.forEach(d=>{let{key:c,match:u,controller:h}=d,p=i[c];if(ze(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(ur(p)){let v=sa(n.matches,u?.route.id);l&&l[v.route.id]||(l=Lt({},l,{[v.route.id]:p.error})),n.fetchers.delete(c)}else if(aa(p))ze(!1,"Unhandled fetcher revalidation redirect");else if(ki(p))ze(!1,"Unhandled fetcher deferred data");else{let v=pi(p.data);n.fetchers.set(c,v)}}),{loaderData:o,errors:l}}function xb(n,e,t,r){let s=Lt({},e);for(let i of t){let a=i.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(s[a]=e[a]):n[a]!==void 0&&i.route.loader&&(s[a]=n[a]),r&&r.hasOwnProperty(a))break}return s}function Tb(n){return n?ur(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function sa(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Ab(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function er(n,e){let{pathname:t,routeId:r,method:s,type:i,message:a}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(o="Bad Request",s&&t&&r?l="You made a "+s+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):n===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+t+'"'):n===404?(o="Not Found",l='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",s&&t&&r?l="You made a "+s.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new zc(n||500,o,new Error(l),!0)}function Qd(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(aa(s))return{key:r,result:s}}}function Q_(n){let e=typeof n=="string"?js(n):n;return Ci(Lt({},e,{hash:""}))}function BD(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function HD(n){return ew(n.result)&&AD.has(n.result.status)}function ki(n){return n.type===xt.deferred}function ur(n){return n.type===xt.error}function aa(n){return(n&&n.type)===xt.redirect}function Cb(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function UD(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function ew(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function $D(n){return TD.has(n.toLowerCase())}function Kr(n){return SD.has(n.toLowerCase())}async function KD(n,e,t,r,s){let i=Object.entries(e);for(let a=0;a<i.length;a++){let[o,l]=i[a],d=n.find(h=>h?.route.id===o);if(!d)continue;let c=r.find(h=>h.route.id===d.route.id),u=c!=null&&!Z_(c,d)&&(s&&s[d.route.id])!==void 0;ki(l)&&u&&await um(l,t,!1).then(h=>{h&&(e[o]=h)})}}async function zD(n,e,t){for(let r=0;r<t.length;r++){let{key:s,routeId:i,controller:a}=t[r],o=e[s];n.find(d=>d?.route.id===i)&&ki(o)&&(ze(a,"Expected an AbortController for revalidating fetcher deferred result"),await um(o,a.signal,!0).then(d=>{d&&(e[s]=d)}))}}async function um(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:xt.data,data:n.deferredData.unwrappedData}}catch(s){return{type:xt.error,error:s}}return{type:xt.data,data:n.deferredData.data}}}function fm(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Nl(n,e){let t=typeof e=="string"?js(e).search:e.search;if(n[n.length-1].route.index&&fm(t||""))return n[n.length-1];let r=G_(n);return r[r.length-1]}function Ob(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:i,json:a}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:a,text:void 0}}}function fh(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WD(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GD(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function pi(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function YD(n,e){try{let t=n.sessionStorage.getItem(q_);if(t){let r=JSON.parse(t);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function qD(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(q_,JSON.stringify(t))}catch(r){Ai(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}function ed(){return ed=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ed.apply(this,arguments)}const Hu=y.createContext(null),tw=y.createContext(null),Cp=y.createContext(null),Bi=y.createContext(null),Ed=y.createContext(null),Rs=y.createContext({outlet:null,matches:[],isDataRoute:!1}),nw=y.createContext(null);function XD(n,e){let{relative:t}=e===void 0?{}:e;Fa()||ze(!1);let{basename:r,navigator:s}=y.useContext(Bi),{hash:i,pathname:a,search:o}=sw(n,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:Gs([r,a])),s.createHref({pathname:l,search:o,hash:i})}function Fa(){return y.useContext(Ed)!=null}function Va(){return Fa()||ze(!1),y.useContext(Ed).location}function Iq(){return y.useContext(Ed).navigationType}function ZD(n){Fa()||ze(!1);let{pathname:e}=Va();return y.useMemo(()=>Ep(n,W_(e)),[e,n])}function rw(n){y.useContext(Bi).static||y.useLayoutEffect(n)}function pn(){let{isDataRoute:n}=y.useContext(Rs);return n?u2():JD()}function JD(){Fa()||ze(!1);let n=y.useContext(Hu),{basename:e,future:t,navigator:r}=y.useContext(Bi),{matches:s}=y.useContext(Rs),{pathname:i}=Va(),a=JSON.stringify(Vu(s,t.v7_relativeSplatPath)),o=y.useRef(!1);return rw(()=>{o.current=!0}),y.useCallback(function(d,c){if(c===void 0&&(c={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let u=Bu(d,JSON.parse(a),i,c.relative==="path");n==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Gs([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,a,i,n])}const QD=y.createContext(null);function e2(n){let e=y.useContext(Rs).outlet;return e&&y.createElement(QD.Provider,{value:n},e)}function ii(){let{matches:n}=y.useContext(Rs),e=n[n.length-1];return e?e.params:{}}function sw(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=y.useContext(Bi),{matches:s}=y.useContext(Rs),{pathname:i}=Va(),a=JSON.stringify(Vu(s,r.v7_relativeSplatPath));return y.useMemo(()=>Bu(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function t2(n,e){return iw(n,e)}function iw(n,e,t,r){Fa()||ze(!1);let{navigator:s}=y.useContext(Bi),{matches:i}=y.useContext(Rs),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let d=Va(),c;if(e){var u;let m=typeof e=="string"?js(e):e;l==="/"||(u=m.pathname)!=null&&u.startsWith(l)||ze(!1),c=m}else c=d;let h=c.pathname||"/",p=h;if(l!=="/"){let m=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let v=ra(n,{pathname:p}),g=a2(v&&v.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Gs([l,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:Gs([l,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,t,r);return e&&g?y.createElement(Ed.Provider,{value:{location:ed({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Zt.Pop}},g):g}function n2(){let n=d2(),e=Ql(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:s},t):null,null)}const r2=y.createElement(n2,null);class s2 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement(Rs.Provider,{value:this.props.routeContext},y.createElement(nw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i2(n){let{routeContext:e,match:t,children:r}=n,s=y.useContext(Hu);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Rs.Provider,{value:e},r)}function a2(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(s=t)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(u=>u.route.id&&o?.[u.route.id]!==void 0);c>=0||ze(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=c),u.route.id){let{loaderData:h,errors:p}=t,v=u.route.loader&&h[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||v){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((c,u,h)=>{let p,v=!1,g=null,m=null;t&&(p=o&&u.route.id?o[u.route.id]:void 0,g=u.route.errorElement||r2,l&&(d<0&&h===0?(f2("route-fallback"),v=!0,m=null):d===h&&(v=!0,m=u.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,h+1)),k=()=>{let _;return p?_=g:v?_=m:u.route.Component?_=y.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=c,y.createElement(i2,{match:u,routeContext:{outlet:c,matches:b,isDataRoute:t!=null},children:_})};return t&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?y.createElement(s2,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:k(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):k()},null)}var aw=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(aw||{}),ow=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(ow||{});function o2(n){let e=y.useContext(Hu);return e||ze(!1),e}function lw(n){let e=y.useContext(tw);return e||ze(!1),e}function l2(n){let e=y.useContext(Rs);return e||ze(!1),e}function dw(n){let e=l2(),t=e.matches[e.matches.length-1];return t.route.id||ze(!1),t.route.id}function Uu(n){return lw().loaderData[n]}function d2(){var n;let e=y.useContext(nw),t=lw(ow.UseRouteError),r=dw();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function c2(){let n=y.useContext(Cp);return n?._data}function u2(){let{router:n}=o2(aw.UseNavigateStable),e=dw(),t=y.useRef(!1);return rw(()=>{t.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,ed({fromRouteId:e},i)))},[n,e])}const Db={};function f2(n,e,t){Db[n]||(Db[n]=!0)}function h2(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Ro(n){let{to:e,replace:t,state:r,relative:s}=n;Fa()||ze(!1);let{future:i,static:a}=y.useContext(Bi),{matches:o}=y.useContext(Rs),{pathname:l}=Va(),d=pn(),c=Bu(e,Vu(o,i.v7_relativeSplatPath),l,s==="path"),u=JSON.stringify(c);return y.useEffect(()=>d(JSON.parse(u),{replace:t,state:r,relative:s}),[d,u,s,t,r]),null}function cw(n){return e2(n.context)}function gi(n){ze(!1)}function p2(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Zt.Pop,navigator:i,static:a=!1,future:o}=n;Fa()&&ze(!1);let l=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:l,navigator:i,static:a,future:ed({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=js(r));let{pathname:c="/",search:u="",hash:h="",state:p=null,key:v="default"}=r,g=y.useMemo(()=>{let m=Jo(c,l);return m==null?null:{location:{pathname:m,search:u,hash:h,state:p,key:v},navigationType:s}},[l,c,u,h,p,v,s]);return g==null?null:y.createElement(Bi.Provider,{value:d},y.createElement(Ed.Provider,{children:t,value:g}))}function g2(n){let{children:e,location:t}=n;return t2(Op(e),t)}function $u(n){let{children:e,errorElement:t,resolve:r}=n;return y.createElement(v2,{resolve:r,errorElement:t},y.createElement(b2,null,e))}var Rr=(function(n){return n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error",n})(Rr||{});const m2=new Promise(()=>{});class v2 extends y.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:r}=this.props,s=null,i=Rr.pending;if(!(r instanceof Promise))i=Rr.success,s=Promise.resolve(),Object.defineProperty(s,"_tracked",{get:()=>!0}),Object.defineProperty(s,"_data",{get:()=>r});else if(this.state.error){i=Rr.error;let a=this.state.error;s=Promise.reject().catch(()=>{}),Object.defineProperty(s,"_tracked",{get:()=>!0}),Object.defineProperty(s,"_error",{get:()=>a})}else r._tracked?(s=r,i="_error"in s?Rr.error:"_data"in s?Rr.success:Rr.pending):(i=Rr.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),s=r.then(a=>Object.defineProperty(r,"_data",{get:()=>a}),a=>Object.defineProperty(r,"_error",{get:()=>a})));if(i===Rr.error&&s._error instanceof Sp)throw m2;if(i===Rr.error&&!t)throw s._error;if(i===Rr.error)return y.createElement(Cp.Provider,{value:s,children:t});if(i===Rr.success)return y.createElement(Cp.Provider,{value:s,children:e});throw s}}function b2(n){let{children:e}=n,t=c2(),r=typeof e=="function"?e(t):e;return y.createElement(y.Fragment,null,r)}function Op(n,e){e===void 0&&(e=[]);let t=[];return y.Children.forEach(n,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){t.push.apply(t,Op(r.props.children,i));return}r.type!==gi&&ze(!1),!r.props.index||!r.props.children||ze(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Op(r.props.children,i)),t.push(a)}),t}function uw(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:y.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:y.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:y.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}function Io(){return Io=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Io.apply(this,arguments)}function k2(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function y2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _2(n,e){return n.button===0&&(!e||e==="_self")&&!y2(n)}const w2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],E2="6";try{window.__reactRouterVersion=E2}catch{}function Nq(n,e){return X_({basename:e?.basename,future:Io({},e?.future,{v7_prependBasename:!0}),history:JO({window:e?.window}),hydrationData:e?.hydrationData||fw(),routes:n,mapRouteProperties:uw,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function S2(n,e){return X_({basename:void 0,future:Io({},void 0,{v7_prependBasename:!0}),history:QO({window:void 0}),hydrationData:fw(),routes:n,mapRouteProperties:uw,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function fw(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Io({},e,{errors:x2(e.errors)})),e}function x2(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new zc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",t[r]=a}catch{}}if(t[r]==null){let i=new Error(s.message);i.stack="",t[r]=i}}else t[r]=s;return t}const T2=y.createContext({isTransitioning:!1}),A2=y.createContext(new Map),C2="startTransition",jb=VA[C2],O2="flushSync",Rb=BA[O2];function D2(n){jb?jb(n):n()}function kl(n){Rb?Rb(n):n()}class j2{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function R2(n){let{fallbackElement:e,router:t,future:r}=n,[s,i]=y.useState(t.state),[a,o]=y.useState(),[l,d]=y.useState({isTransitioning:!1}),[c,u]=y.useState(),[h,p]=y.useState(),[v,g]=y.useState(),m=y.useRef(new Map),{v7_startTransition:b}=r||{},k=y.useCallback(A=>{b?D2(A):A()},[b]),_=y.useCallback((A,O)=>{let{deletedFetchers:C,flushSync:D,viewTransitionOpts:I}=O;A.fetchers.forEach((H,j)=>{H.data!==void 0&&m.current.set(j,H.data)}),C.forEach(H=>m.current.delete(H));let U=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!I||U){D?kl(()=>i(A)):k(()=>i(A));return}if(D){kl(()=>{h&&(c&&c.resolve(),h.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let H=t.window.document.startViewTransition(()=>{kl(()=>i(A))});H.finished.finally(()=>{kl(()=>{u(void 0),p(void 0),o(void 0),d({isTransitioning:!1})})}),kl(()=>p(H));return}h?(c&&c.resolve(),h.skipTransition(),g({state:A,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(o(A),d({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,h,c,m,k]);y.useLayoutEffect(()=>t.subscribe(_),[t,_]),y.useEffect(()=>{l.isTransitioning&&!l.flushSync&&u(new j2)},[l]),y.useEffect(()=>{if(c&&a&&t.window){let A=a,O=c.promise,C=t.window.document.startViewTransition(async()=>{k(()=>i(A)),await O});C.finished.finally(()=>{u(void 0),p(void 0),o(void 0),d({isTransitioning:!1})}),p(C)}},[k,a,c,t.window]),y.useEffect(()=>{c&&a&&s.location.key===a.location.key&&c.resolve()},[c,h,s.location,a]),y.useEffect(()=>{!l.isTransitioning&&v&&(o(v.state),d({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),g(void 0))},[l.isTransitioning,v]),y.useEffect(()=>{},[]);let E=y.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,O,C)=>t.navigate(A,{state:O,preventScrollReset:C?.preventScrollReset}),replace:(A,O,C)=>t.navigate(A,{replace:!0,state:O,preventScrollReset:C?.preventScrollReset})}),[t]),S=t.basename||"/",T=y.useMemo(()=>({router:t,navigator:E,static:!1,basename:S}),[t,E,S]),x=y.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return y.useEffect(()=>h2(r,t.future),[r,t.future]),y.createElement(y.Fragment,null,y.createElement(Hu.Provider,{value:T},y.createElement(tw.Provider,{value:s},y.createElement(A2.Provider,{value:m.current},y.createElement(T2.Provider,{value:l},y.createElement(p2,{basename:S,location:s.location,navigationType:s.historyAction,navigator:E,future:x},s.initialized||t.future.v7_partialHydration?y.createElement(I2,{routes:t.routes,future:t.future,state:s}):e))))),null)}const I2=y.memo(N2);function N2(n){let{routes:e,future:t,state:r}=n;return iw(e,void 0,r,t)}const P2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pa=y.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:d,preventScrollReset:c,viewTransition:u}=e,h=k2(e,w2),{basename:p}=y.useContext(Bi),v,g=!1;if(typeof d=="string"&&M2.test(d)&&(v=d,P2))try{let _=new URL(window.location.href),E=d.startsWith("//")?new URL(_.protocol+d):new URL(d),S=Jo(E.pathname,p);E.origin===_.origin&&S!=null?d=S+E.search+E.hash:g=!0}catch{}let m=XD(d,{relative:s}),b=L2(d,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:u});function k(_){r&&r(_),_.defaultPrevented||b(_)}return y.createElement("a",Io({},h,{href:v||m,onClick:g||i?r:k,ref:t,target:l}))});var Ib;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Ib||(Ib={}));var Nb;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Nb||(Nb={}));function L2(n,e){let{target:t,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=pn(),d=Va(),c=sw(n,{relative:a});return y.useCallback(u=>{if(_2(u,t)){u.preventDefault();let h=r!==void 0?r:Ci(d)===Ci(c);l(n,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[d,l,c,r,s,t,n,i,a,o])}var hh={exports:{}},ph={};var Pb;function F2(){if(Pb)return ph;Pb=1;var n=md();function e(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,s=n.useRef,i=n.useEffect,a=n.useMemo,o=n.useDebugValue;return ph.useSyncExternalStoreWithSelector=function(l,d,c,u,h){var p=s(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=a(function(){function m(S){if(!b){if(b=!0,k=S,S=u(S),h!==void 0&&v.hasValue){var T=v.value;if(h(T,S))return _=T}return _=S}if(T=_,t(k,S))return T;var x=u(S);return h!==void 0&&h(T,x)?(k=S,T):(k=S,_=x)}var b=!1,k,_,E=c===void 0?null:c;return[function(){return m(d())},E===null?void 0:function(){return m(E())}]},[d,c,u,h]);var g=r(l,p[0],p[1]);return i(function(){v.hasValue=!0,v.value=g},[g]),o(g),g},ph}var Mb;function V2(){return Mb||(Mb=1,hh.exports=F2()),hh.exports}var B2=V2(),H2=y.version.startsWith("19"),U2=Symbol.for(H2?"react.transitional.element":"react.element"),$2=Symbol.for("react.portal"),K2=Symbol.for("react.fragment"),z2=Symbol.for("react.strict_mode"),W2=Symbol.for("react.profiler"),G2=Symbol.for("react.consumer"),Y2=Symbol.for("react.context"),hw=Symbol.for("react.forward_ref"),q2=Symbol.for("react.suspense"),X2=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),Z2=Symbol.for("react.lazy"),J2=hw,Q2=hm;function ej(n){if(typeof n=="object"&&n!==null){const{$$typeof:e}=n;switch(e){case U2:switch(n=n.type,n){case K2:case W2:case z2:case q2:case X2:return n;default:switch(n=n&&n.$$typeof,n){case Y2:case hw:case Z2:case hm:return n;case G2:return n;default:return e}}case $2:return e}}}function tj(n){return ej(n)===hm}function nj(n,e,t,r,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:a}){let o=!1,l,d,c,u,h;function p(k,_){return l=k,d=_,c=n(l,d),u=e(r,d),h=t(c,u,d),o=!0,h}function v(){return c=n(l,d),e.dependsOnOwnProps&&(u=e(r,d)),h=t(c,u,d),h}function g(){return n.dependsOnOwnProps&&(c=n(l,d)),e.dependsOnOwnProps&&(u=e(r,d)),h=t(c,u,d),h}function m(){const k=n(l,d),_=!a(k,c);return c=k,_&&(h=t(c,u,d)),h}function b(k,_){const E=!i(_,d),S=!s(k,l,_,d);return l=k,d=_,E&&S?v():E?g():S?m():h}return function(_,E){return o?b(_,E):p(_,E)}}function rj(n,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:r,...s}){const i=e(n,s),a=t(n,s),o=r(n,s);return nj(i,a,o,n,s)}function sj(n,e){const t={};for(const r in n){const s=n[r];typeof s=="function"&&(t[r]=(...i)=>e(s(...i)))}return t}function Dp(n){return function(t){const r=n(t);function s(){return r}return s.dependsOnOwnProps=!1,s}}function Lb(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function pw(n,e){return function(r,{displayName:s}){const i=function(o,l){return i.dependsOnOwnProps?i.mapToProps(o,l):i.mapToProps(o,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(o,l){i.mapToProps=n,i.dependsOnOwnProps=Lb(n);let d=i(o,l);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=Lb(d),d=i(o,l)),d},i}}function pm(n,e){return(t,r)=>{throw new Error(`Invalid value of type ${typeof n} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function ij(n){return n&&typeof n=="object"?Dp(e=>sj(n,e)):n?typeof n=="function"?pw(n):pm(n,"mapDispatchToProps"):Dp(e=>({dispatch:e}))}function aj(n){return n?typeof n=="function"?pw(n):pm(n,"mapStateToProps"):Dp(()=>({}))}function oj(n,e,t){return{...t,...n,...e}}function lj(n){return function(t,{displayName:r,areMergedPropsEqual:s}){let i=!1,a;return function(l,d,c){const u=n(l,d,c);return i?s(u,a)||(a=u):(i=!0,a=u),a}}}function dj(n){return n?typeof n=="function"?lj(n):pm(n,"mergeProps"):()=>oj}function cj(n){n()}function uj(){let n=null,e=null;return{clear(){n=null,e=null},notify(){cj(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!r||n===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var Fb={notify(){},get:()=>[]};function gw(n,e){let t,r=Fb,s=0,i=!1;function a(g){c();const m=r.subscribe(g);let b=!1;return()=>{b||(b=!0,m(),u())}}function o(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function d(){return i}function c(){s++,t||(t=e?e.addNestedSub(l):n.subscribe(l),r=uj())}function u(){s--,t&&s===0&&(t(),t=void 0,r.clear(),r=Fb)}function h(){i||(i=!0,c())}function p(){i&&(i=!1,u())}const v={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:d,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return v}var fj=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hj=fj(),pj=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gj=pj(),mj=()=>hj||gj?y.useLayoutEffect:y.useEffect,Wc=mj();function Vb(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function Ye(n,e){if(Vb(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(!Object.prototype.hasOwnProperty.call(e,t[s])||!Vb(n[t[s]],e[t[s]]))return!1;return!0}var vj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mw={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yj={[J2]:kj,[Q2]:mw};function Bb(n){return tj(n)?mw:yj[n.$$typeof]||vj}var _j=Object.defineProperty,wj=Object.getOwnPropertyNames,Hb=Object.getOwnPropertySymbols,Ej=Object.getOwnPropertyDescriptor,Sj=Object.getPrototypeOf,Ub=Object.prototype;function jp(n,e){if(typeof e!="string"){if(Ub){const i=Sj(e);i&&i!==Ub&&jp(n,i)}let t=wj(e);Hb&&(t=t.concat(Hb(e)));const r=Bb(n),s=Bb(e);for(let i=0;i<t.length;++i){const a=t[i];if(!bj[a]&&!(s&&s[a])&&!(r&&r[a])){const o=Ej(e,a);try{_j(n,a,o)}catch{}}}}return n}var xj=Symbol.for("react-redux-context"),Tj=typeof globalThis<"u"?globalThis:{};function Aj(){if(!y.createContext)return{};const n=Tj[xj]??=new Map;let e=n.get(y.createContext);return e||(e=y.createContext(null),n.set(y.createContext,e)),e}var Qs=Aj(),Cj=[null,null];function Oj(n,e,t){Wc(()=>n(...e),t)}function Dj(n,e,t,r,s,i){n.current=r,t.current=!1,s.current&&(s.current=null,i())}function jj(n,e,t,r,s,i,a,o,l,d,c){if(!n)return()=>{};let u=!1,h=null;const p=()=>{if(u||!o.current)return;const g=e.getState();let m,b;try{m=r(g,s.current)}catch(k){b=k,h=k}b||(h=null),m===i.current?a.current||d():(i.current=m,l.current=m,a.current=!0,c())};return t.onStateChange=p,t.trySubscribe(),p(),()=>{if(u=!0,t.tryUnsubscribe(),t.onStateChange=null,h)throw h}}function Rj(n,e){return n===e}function Ij(n,e,t,{pure:r,areStatesEqual:s=Rj,areOwnPropsEqual:i=Ye,areStatePropsEqual:a=Ye,areMergedPropsEqual:o=Ye,forwardRef:l=!1,context:d=Qs}={}){const c=d,u=aj(n),h=ij(e),p=dj(t),v=!!n;return m=>{const b=m.displayName||m.name||"Component",k=`Connect(${b})`,_={shouldHandleStateChanges:v,displayName:k,wrappedComponentName:b,WrappedComponent:m,initMapStateToProps:u,initMapDispatchToProps:h,initMergeProps:p,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:i,areMergedPropsEqual:o};function E(x){const[A,O,C]=y.useMemo(()=>{const{reactReduxForwardedRef:ge,...we}=x;return[x.context,ge,we]},[x]),D=y.useMemo(()=>{let ge=c;return A?.Consumer,ge},[A,c]),I=y.useContext(D),U=!!x.store&&!!x.store.getState&&!!x.store.dispatch,H=!!I&&!!I.store,j=U?x.store:I.store,V=H?I.getServerState:j.getState,F=y.useMemo(()=>rj(j.dispatch,_),[j]),[G,B]=y.useMemo(()=>{if(!v)return Cj;const ge=gw(j,U?void 0:I.subscription),we=ge.notifyNestedSubs.bind(ge);return[ge,we]},[j,U,I]),ce=y.useMemo(()=>U?I:{...I,subscription:G},[U,I,G]),L=y.useRef(void 0),$=y.useRef(C),M=y.useRef(void 0),Y=y.useRef(!1),J=y.useRef(!1),ae=y.useRef(void 0);Wc(()=>(J.current=!0,()=>{J.current=!1}),[]);const ne=y.useMemo(()=>()=>M.current&&C===$.current?M.current:F(j.getState(),C),[j,C]),Ce=y.useMemo(()=>we=>G?jj(v,j,G,F,$,L,Y,J,M,B,we):()=>{},[G]);Oj(Dj,[$,L,Y,C,M,B]);let Z;try{Z=y.useSyncExternalStore(Ce,ne,V?()=>F(V(),C):ne)}catch(ge){throw ae.current&&(ge.message+=`
The error may be correlated with this previous error:
${ae.current.stack}

`),ge}Wc(()=>{ae.current=void 0,M.current=void 0,L.current=Z});const pe=y.useMemo(()=>y.createElement(m,{...Z,ref:O}),[O,m,Z]);return y.useMemo(()=>v?y.createElement(D.Provider,{value:ce},pe):pe,[D,pe,ce])}const T=y.memo(E);if(T.WrappedComponent=m,T.displayName=E.displayName=k,l){const A=y.forwardRef(function(C,D){return y.createElement(T,{...C,reactReduxForwardedRef:D})});return A.displayName=k,A.WrappedComponent=m,jp(A,m)}return jp(T,m)}}var Nj=Ij;function Pj(n){const{children:e,context:t,serverState:r,store:s}=n,i=y.useMemo(()=>{const l=gw(s);return{store:s,subscription:l,getServerState:r?()=>r:void 0}},[s,r]),a=y.useMemo(()=>s.getState(),[s]);Wc(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,a]);const o=t||Qs;return y.createElement(o.Provider,{value:i},e)}var Mj=Pj;function gm(n=Qs){return function(){return y.useContext(n)}}var vw=gm();function bw(n=Qs){const e=n===Qs?vw:gm(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var Lj=bw();function Fj(n=Qs){const e=n===Qs?Lj:bw(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Vj=Fj(),Bj=(n,e)=>n===e;function Hj(n=Qs){const e=n===Qs?vw:gm(n),t=(r,s={})=>{const{equalityFn:i=Bj}=typeof s=="function"?{equalityFn:s}:s,a=e(),{store:o,subscription:l,getServerState:d}=a;y.useRef(!0);const c=y.useCallback({[r.name](h){return r(h)}}[r.name],[r]),u=B2.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,d||o.getState,c,i);return y.useDebugValue(u),u};return Object.assign(t,{withTypes:()=>t}),t}var W=Hj();const kt=Vj;function mm(n,e){const t=y.useCallback(r=>{if(r&&"detail"in r)return e(r)},[e]);y.useEffect(()=>(window.addEventListener(n,t),()=>window.removeEventListener(n,t)),[t,n])}function xn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Uj=typeof Symbol=="function"&&Symbol.observable||"@@observable",$b=Uj,gh=()=>Math.random().toString(36).substring(7).split("").join("."),$j={INIT:`@@redux/INIT${gh()}`,REPLACE:`@@redux/REPLACE${gh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gh()}`},Gc=$j;function vm(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function kw(n,e,t){if(typeof n!="function")throw new Error(xn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(xn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(xn(1));return t(kw)(n,e)}let r=n,s=e,i=new Map,a=i,o=0,l=!1;function d(){a===i&&(a=new Map,i.forEach((m,b)=>{a.set(b,m)}))}function c(){if(l)throw new Error(xn(3));return s}function u(m){if(typeof m!="function")throw new Error(xn(4));if(l)throw new Error(xn(5));let b=!0;d();const k=o++;return a.set(k,m),function(){if(b){if(l)throw new Error(xn(6));b=!1,d(),a.delete(k),i=null}}}function h(m){if(!vm(m))throw new Error(xn(7));if(typeof m.type>"u")throw new Error(xn(8));if(typeof m.type!="string")throw new Error(xn(17));if(l)throw new Error(xn(9));try{l=!0,s=r(s,m)}finally{l=!1}return(i=a).forEach(k=>{k()}),m}function p(m){if(typeof m!="function")throw new Error(xn(10));r=m,h({type:Gc.REPLACE})}function v(){const m=u;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(xn(11));function k(){const E=b;E.next&&E.next(c())}return k(),{unsubscribe:m(k)}},[$b](){return this}}}return h({type:Gc.INIT}),{dispatch:h,subscribe:u,getState:c,replaceReducer:p,[$b]:v}}function Kj(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Gc.INIT})>"u")throw new Error(xn(12));if(typeof t(void 0,{type:Gc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xn(13))})}function Rp(n){const e=Object.keys(n),t={};for(let i=0;i<e.length;i++){const a=e[i];typeof n[a]=="function"&&(t[a]=n[a])}const r=Object.keys(t);let s;try{Kj(t)}catch(i){s=i}return function(a={},o){if(s)throw s;let l=!1;const d={};for(let c=0;c<r.length;c++){const u=r[c],h=t[u],p=a[u],v=h(p,o);if(typeof v>"u")throw o&&o.type,new Error(xn(14));d[u]=v,l=l||v!==p}return l=l||r.length!==Object.keys(a).length,l?d:a}}function Yc(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function zj(...n){return e=>(t,r)=>{const s=e(t,r);let i=()=>{throw new Error(xn(15))};const a={getState:s.getState,dispatch:(l,...d)=>i(l,...d)},o=n.map(l=>l(a));return i=Yc(...o)(s.dispatch),{...s,dispatch:i}}}function yw(n){return vm(n)&&"type"in n&&typeof n.type=="string"}var _w=Symbol.for("immer-nothing"),Kb=Symbol.for("immer-draftable"),qn=Symbol.for("immer-state");function zr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var gr=Object,No=gr.getPrototypeOf,qc="constructor",Ku="prototype",Ip="configurable",Xc="enumerable",Cc="writable",td="value",Mr=n=>!!n&&!!n[qn];function Qr(n){return n?ww(n)||Wu(n)||!!n[Kb]||!!n[qc]?.[Kb]||Gu(n)||Yu(n):!1}var Wj=gr[Ku][qc].toString(),zb=new WeakMap;function ww(n){if(!n||!bm(n))return!1;const e=No(n);if(e===null||e===gr[Ku])return!0;const t=gr.hasOwnProperty.call(e,qc)&&e[qc];if(t===Object)return!0;if(!co(t))return!1;let r=zb.get(t);return r===void 0&&(r=Function.toString.call(t),zb.set(t,r)),r===Wj}function zu(n,e,t=!0){Sd(n)===0?(t?Reflect.ownKeys(n):gr.keys(n)).forEach(s=>{e(s,n[s],n)}):n.forEach((r,s)=>e(s,r,n))}function Sd(n){const e=n[qn];return e?e.type_:Wu(n)?1:Gu(n)?2:Yu(n)?3:0}var Wb=(n,e,t=Sd(n))=>t===2?n.has(e):gr[Ku].hasOwnProperty.call(n,e),Np=(n,e,t=Sd(n))=>t===2?n.get(e):n[e],Zc=(n,e,t,r=Sd(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function Gj(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Wu=Array.isArray,Gu=n=>n instanceof Map,Yu=n=>n instanceof Set,bm=n=>typeof n=="object",co=n=>typeof n=="function",mh=n=>typeof n=="boolean";function Yj(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var $s=n=>n.copy_||n.base_,km=n=>n.modified_?n.copy_:n.base_;function Pp(n,e){if(Gu(n))return new Map(n);if(Yu(n))return new Set(n);if(Wu(n))return Array[Ku].slice.call(n);const t=ww(n);if(e===!0||e==="class_only"&&!t){const r=gr.getOwnPropertyDescriptors(n);delete r[qn];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const a=s[i],o=r[a];o[Cc]===!1&&(o[Cc]=!0,o[Ip]=!0),(o.get||o.set)&&(r[a]={[Ip]:!0,[Cc]:!0,[Xc]:o[Xc],[td]:n[a]})}return gr.create(No(n),r)}else{const r=No(n);if(r!==null&&t)return{...n};const s=gr.create(r);return gr.assign(s,n)}}function ym(n,e=!1){return qu(n)||Mr(n)||!Qr(n)||(Sd(n)>1&&gr.defineProperties(n,{set:ec,add:ec,clear:ec,delete:ec}),gr.freeze(n),e&&zu(n,(t,r)=>{ym(r,!0)},!1)),n}function qj(){zr(2)}var ec={[td]:qj};function qu(n){return n===null||!bm(n)?!0:gr.isFrozen(n)}var Jc="MapSet",Mp="Patches",Gb="ArrayMethods",Ew={};function Ea(n){const e=Ew[n];return e||zr(0,n),e}var Yb=n=>!!Ew[n],nd,Sw=()=>nd,Xj=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Yb(Jc)?Ea(Jc):void 0,arrayMethodsPlugin_:Yb(Gb)?Ea(Gb):void 0});function qb(n,e){e&&(n.patchPlugin_=Ea(Mp),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Lp(n){Fp(n),n.drafts_.forEach(Zj),n.drafts_=null}function Fp(n){n===nd&&(nd=n.parent_)}var Xb=n=>nd=Xj(nd,n);function Zj(n){const e=n[qn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Zb(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[qn].modified_&&(Lp(e),zr(4)),Qr(n)&&(n=Jb(e,n));const{patchPlugin_:s}=e;s&&s.generateReplacementPatches_(t[qn].base_,n,e)}else n=Jb(e,t);return Jj(e,n,!0),Lp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==_w?n:void 0}function Jb(n,e){if(qu(e))return e;const t=e[qn];if(!t)return Qc(e,n.handledSet_,n);if(!Xu(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);Aw(t,n)}return t.copy_}function Jj(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&ym(e,t)}function xw(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Xu=(n,e)=>n.scope_===e,Qj=[];function Tw(n,e,t,r){const s=$s(n),i=n.type_;if(r!==void 0&&Np(s,r,i)===e){Zc(s,r,t,i);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;zu(s,(l,d)=>{if(Mr(d)){const c=o.get(d)||[];c.push(l),o.set(d,c)}})}const a=n.draftLocations_.get(e)??Qj;for(const o of a)Zc(s,o,t,i)}function eR(n,e,t){n.callbacks_.push(function(s){const i=e;if(!i||!Xu(i,s))return;s.mapSetPlugin_?.fixSetContents(i);const a=km(i);Tw(n,i.draft_??i,a,t),Aw(i,s)})}function Aw(n,e){if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(n.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const s=r.getPath(n);s&&r.generatePatches_(n,s,e)}xw(n)}}function tR(n,e,t){const{scope_:r}=n;if(Mr(t)){const s=t[qn];Xu(s,r)&&s.callbacks_.push(function(){Oc(n);const a=km(s);Tw(n,t,a,e)})}else Qr(t)&&n.callbacks_.push(function(){const i=$s(n);n.type_===3?i.has(t)&&Qc(t,r.handledSet_,r):Np(i,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Qc(Np(n.copy_,e,n.type_),r.handledSet_,r)})}function Qc(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Mr(n)||e.has(n)||!Qr(n)||qu(n)||(e.add(n),zu(n,(r,s)=>{if(Mr(s)){const i=s[qn];if(Xu(i,t)){const a=km(i);Zc(n,r,a,n.type_),xw(i)}}else Qr(s)&&Qc(s,e,t)})),n}function nR(n,e){const t=Wu(n),r={type_:t?1:0,scope_:e?e.scope_:Sw(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=r,i=eu;t&&(s=[r],i=rd);const{revoke:a,proxy:o}=Proxy.revocable(s,i);return r.draft_=o,r.revoke_=a,[o,r]}var eu={get(n,e){if(e===qn)return n;let t=n.scope_.arrayMethodsPlugin_;const r=n.type_===1&&typeof e=="string";if(r&&t?.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const s=$s(n);if(!Wb(s,e,n.type_))return rR(n,s,e);const i=s[e];if(n.finalized_||!Qr(i)||r&&n.operationMethod&&t?.isMutatingArrayMethod(n.operationMethod)&&Yj(e))return i;if(i===vh(n.base_,e)){Oc(n);const a=n.type_===1?+e:e,o=Bp(n.scope_,i,n,a);return n.copy_[a]=o}return i},has(n,e){return e in $s(n)},ownKeys(n){return Reflect.ownKeys($s(n))},set(n,e,t){const r=Cw($s(n),e);if(r?.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=vh($s(n),e),i=s?.[qn];if(i&&i.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(Gj(t,s)&&(t!==void 0||Wb(n.base_,e,n.type_)))return!0;Oc(n),Vp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),tR(n,e,t)),!0},deleteProperty(n,e){return Oc(n),vh(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),Vp(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=$s(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[Cc]:!0,[Ip]:n.type_!==1||e!=="length",[Xc]:r[Xc],[td]:t[e]}},defineProperty(){zr(11)},getPrototypeOf(n){return No(n.base_)},setPrototypeOf(){zr(12)}},rd={};for(let n in eu){let e=eu[n];rd[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}rd.deleteProperty=function(n,e){return rd.set.call(this,n,e,void 0)};rd.set=function(n,e,t){return eu.set.call(this,n[0],e,t,n[0])};function vh(n,e){const t=n[qn];return(t?$s(t):n)[e]}function rR(n,e,t){const r=Cw(e,t);return r?td in r?r[td]:r.get?.call(n.draft_):void 0}function Cw(n,e){if(!(e in n))return;let t=No(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=No(t)}}function Vp(n){n.modified_||(n.modified_=!0,n.parent_&&Vp(n.parent_))}function Oc(n){n.copy_||(n.assigned_=new Map,n.copy_=Pp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var sR=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if(co(e)&&!co(t)){const i=t;t=e;const a=this;return function(l=i,...d){return a.produce(l,c=>t.call(this,c,...d))}}co(t)||zr(6),r!==void 0&&!co(r)&&zr(7);let s;if(Qr(e)){const i=Xb(this),a=Bp(i,e,void 0);let o=!0;try{s=t(a),o=!1}finally{o?Lp(i):Fp(i)}return qb(i,r),Zb(s,i)}else if(!e||!bm(e)){if(s=t(e),s===void 0&&(s=e),s===_w&&(s=void 0),this.autoFreeze_&&ym(s,!0),r){const i=[],a=[];Ea(Mp).generateReplacementPatches_(e,s,{patches_:i,inversePatches_:a}),r(i,a)}return s}else zr(1,e)},this.produceWithPatches=(e,t)=>{if(co(e))return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,s;return[this.produce(e,t,(a,o)=>{r=a,s=o}),r,s]},mh(n?.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),mh(n?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),mh(n?.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Qr(n)||zr(8),Mr(n)&&(n=_m(n));const e=Xb(this),t=Bp(e,n,void 0);return t[qn].isManual_=!0,Fp(e),t}finishDraft(n,e){const t=n&&n[qn];(!t||!t.isManual_)&&zr(9);const{scope_:r}=t;return qb(r,e),Zb(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const r=Ea(Mp).applyPatches_;return Mr(n)?r(n,e):this.produce(n,s=>r(s,e))}};function Bp(n,e,t,r){const[s,i]=Gu(e)?Ea(Jc).proxyMap_(e,t):Yu(e)?Ea(Jc).proxySet_(e,t):nR(e,t);return(t?.scope_??Sw()).drafts_.push(s),i.callbacks_=t?.callbacks_??[],i.key_=r,t&&r!==void 0?eR(t,i,r):i.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:d}=l;i.modified_&&d&&d.generatePatches_(i,[],l)}),s}function _m(n){return Mr(n)||zr(10,n),Ow(n)}function Ow(n){if(!Qr(n)||qu(n))return n;const e=n[qn];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Pp(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=Pp(n,!0);return zu(t,(s,i)=>{Zc(t,s,Ow(i))},r),e&&(e.finalized_=!1),t}var iR=new sR,wm=iR.produce;function aR(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function oR(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function lR(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var Qb=n=>Array.isArray(n)?n:[n];function dR(n){const e=Array.isArray(n[0])?n[0]:n;return lR(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cR(n,e){const t=[],{length:r}=n;for(let s=0;s<r;s++)t.push(n[s].apply(null,e));return t}var uR=class{constructor(n){this.value=n}deref(){return this.value}},fR=typeof WeakRef<"u"?WeakRef:uR,hR=0,ek=1;function tc(){return{s:hR,v:void 0,o:null,p:null}}function Em(n,e={}){let t=tc();const{resultEqualityCheck:r}=e;let s,i=0;function a(){let o=t;const{length:l}=arguments;for(let u=0,h=l;u<h;u++){const p=arguments[u];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const g=v.get(p);g===void 0?(o=tc(),v.set(p,o)):o=g}else{let v=o.p;v===null&&(o.p=v=new Map);const g=v.get(p);g===void 0?(o=tc(),v.set(p,o)):o=g}}const d=o;let c;if(o.s===ek)c=o.v;else if(c=n.apply(null,arguments),i++,r){const u=s?.deref?.()??s;u!=null&&r(u,c)&&(c=u,i!==0&&i--),s=typeof c=="object"&&c!==null||typeof c=="function"?new fR(c):c}return d.s=ek,d.v=c,c}return a.clearCache=()=>{t=tc(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function Dw(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...s)=>{let i=0,a=0,o,l={},d=s.pop();typeof d=="object"&&(l=d,d=s.pop()),aR(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const c={...t,...l},{memoize:u,memoizeOptions:h=[],argsMemoize:p=Em,argsMemoizeOptions:v=[]}=c,g=Qb(h),m=Qb(v),b=dR(s),k=u(function(){return i++,d.apply(null,arguments)},...g),_=p(function(){a++;const S=cR(b,arguments);return o=k.apply(null,S),o},...m);return Object.assign(_,{resultFunc:d,memoizedResultFunc:k,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var pt=Dw(Em),pR=Object.assign((n,e=pt)=>{oR(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(i=>n[i]);return e(r,(...i)=>i.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>pR});function jw(n){return({dispatch:t,getState:r})=>s=>i=>typeof i=="function"?i(t,r,n):s(i)}var gR=jw(),mR=jw,vR=(...n)=>{const e=Dw(...n),t=Object.assign((...r)=>{const s=e(...r),i=(a,...o)=>s(Mr(a)?_m(a):a,...o);return Object.assign(i,s),i},{withTypes:()=>t});return t},bR=vR(Em),kR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yc:Yc.apply(null,arguments)},yR=n=>n&&typeof n.match=="function";function Hl(n,e){function t(...r){if(e){let s=e(...r);if(!s)throw new Error(qs(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>yw(r)&&r.type===n,t}function _R(n){return yw(n)&&Object.keys(n).every(wR)}function wR(n){return["type","payload","error","meta"].indexOf(n)>-1}var Rw=class Pl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pl.prototype)}static get[Symbol.species](){return Pl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pl(...e[0].concat(this)):new Pl(...e.concat(this))}};function tk(n){return Qr(n)?wm(n,()=>{}):n}function nc(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function ER(n){return typeof n=="boolean"}var SR=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let a=new Rw;return t&&(ER(t)?a.push(gR):a.push(mR(t.extraArgument))),a},xR="RTK_autoBatch",nk=n=>e=>{setTimeout(e,n)},TR=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let s=!0,i=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nk(10):n.type==="callback"?n.queueNotification:nk(n.timeout),d=()=>{a=!1,i&&(i=!1,o.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const u=()=>s&&c(),h=r.subscribe(u);return o.add(c),()=>{h(),o.delete(c)}},dispatch(c){try{return s=!c?.meta?.[xR],i=!s,i&&(a||(a=!0,l(d))),r.dispatch(c)}finally{s=!0}}})},AR=n=>function(t){const{autoBatch:r=!0}=t??{};let s=new Rw(n);return r&&s.push(TR(typeof r=="object"?r:void 0)),s};function CR(n){const e=SR(),{reducer:t=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(vm(t))o=Rp(t);else throw new Error(qs(1));let l;typeof r=="function"?l=r(e):l=e();let d=Yc;s&&(d=kR({trace:!1,...typeof s=="object"&&s}));const c=zj(...l),u=AR(c);let h=typeof a=="function"?a(u):u();const p=d(...h);return kw(o,i,p)}function Iw(n){const e={},t=[];let r;const s={addCase(i,a){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(qs(28));if(o in e)throw new Error(qs(29));return e[o]=a,s},addAsyncThunk(i,a){return a.pending&&(e[i.pending.type]=a.pending),a.rejected&&(e[i.rejected.type]=a.rejected),a.fulfilled&&(e[i.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:i.settled,reducer:a.settled}),s},addMatcher(i,a){return t.push({matcher:i,reducer:a}),s},addDefaultCase(i){return r=i,s}};return n(s),[e,t,r]}function OR(n){return typeof n=="function"}function DR(n,e){let[t,r,s]=Iw(e),i;if(OR(n))i=()=>tk(n());else{const o=tk(n);i=()=>o}function a(o=i(),l){let d=[t[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return d.filter(c=>!!c).length===0&&(d=[s]),d.reduce((c,u)=>{if(u)if(Mr(c)){const p=u(c,l);return p===void 0?c:p}else{if(Qr(c))return wm(c,h=>u(h,l));{const h=u(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},o)}return a.getInitialState=i,a}var jR=(n,e)=>yR(n)?n.match(e):n(e);function Ys(...n){return e=>n.some(t=>jR(t,e))}function Zu(n,e){if(!n||!n.meta)return!1;const t=typeof n.meta.requestId=="string",r=e.indexOf(n.meta.requestStatus)>-1;return t&&r}function Ju(n){return typeof n[0]=="function"&&"pending"in n[0]&&"fulfilled"in n[0]&&"rejected"in n[0]}function Nw(...n){return n.length===0?e=>Zu(e,["pending"]):Ju(n)?Ys(...n.map(e=>e.pending)):Nw()(n[0])}function Qu(...n){return n.length===0?e=>Zu(e,["rejected"]):Ju(n)?Ys(...n.map(e=>e.rejected)):Qu()(n[0])}function Sa(...n){return n.length===0?e=>Zu(e,["fulfilled"]):Ju(n)?Ys(...n.map(e=>e.fulfilled)):Sa()(n[0])}function Pw(...n){return n.length===0?e=>Zu(e,["pending","fulfilled","rejected"]):Ju(n)?Ys(...n.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):Pw()(n[0])}var RR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",IR=(n=21)=>{let e="",t=n;for(;t--;)e+=RR[Math.random()*64|0];return e},NR=["name","message","stack","code"],bh=class{constructor(n,e){this.payload=n,this.meta=e}_type},rk=class{constructor(n,e){this.payload=n,this.meta=e}_type},PR=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of NR)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},sk="External signal was aborted",dt=(()=>{function n(e,t,r){const s=Hl(e+"/fulfilled",(l,d,c,u)=>({payload:l,meta:{...u||{},arg:c,requestId:d,requestStatus:"fulfilled"}})),i=Hl(e+"/pending",(l,d,c)=>({payload:void 0,meta:{...c||{},arg:d,requestId:l,requestStatus:"pending"}})),a=Hl(e+"/rejected",(l,d,c,u,h)=>({payload:u,error:(r&&r.serializeError||PR)(l||"Rejected"),meta:{...h||{},arg:c,requestId:d,rejectedWithValue:!!u,requestStatus:"rejected",aborted:l?.name==="AbortError",condition:l?.name==="ConditionError"}}));function o(l,{signal:d}={}){return(c,u,h)=>{const p=r?.idGenerator?r.idGenerator(l):IR(),v=new AbortController;let g,m;function b(_){m=_,v.abort()}d&&(d.aborted?b(sk):d.addEventListener("abort",()=>b(sk),{once:!0}));const k=(async function(){let _;try{let S=r?.condition?.(l,{getState:u,extra:h});if(LR(S)&&(S=await S),S===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const T=new Promise((x,A)=>{g=()=>{A({name:"AbortError",message:m||"Aborted"})},v.signal.addEventListener("abort",g,{once:!0})});c(i(p,l,r?.getPendingMeta?.({requestId:p,arg:l},{getState:u,extra:h}))),_=await Promise.race([T,Promise.resolve(t(l,{dispatch:c,getState:u,extra:h,requestId:p,signal:v.signal,abort:b,rejectWithValue:(x,A)=>new bh(x,A),fulfillWithValue:(x,A)=>new rk(x,A)})).then(x=>{if(x instanceof bh)throw x;return x instanceof rk?s(x.payload,p,l,x.meta):s(x,p,l)})])}catch(S){_=S instanceof bh?a(null,p,l,S.payload,S.meta):a(S,p,l)}finally{g&&v.signal.removeEventListener("abort",g)}return r&&!r.dispatchConditionRejection&&a.match(_)&&_.meta.condition||c(_),_})();return Object.assign(k,{abort:b,requestId:p,arg:l,unwrap(){return k.then(MR)}})}}return Object.assign(o,{pending:i,rejected:a,fulfilled:s,settled:Ys(a,s),typePrefix:e})}return n.withTypes=()=>n,n})();function MR(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function LR(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var FR=Symbol.for("rtk-slice-createasyncthunk");function VR(n,e){return`${n}/${e}`}function BR({creators:n}={}){const e=n?.asyncThunk?.[FR];return function(r){const{name:s,reducerPath:i=s}=r;if(!s)throw new Error(qs(11));const a=(typeof r.reducers=="function"?r.reducers(UR()):r.reducers)||{},o=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,E){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(qs(12));if(S in l.sliceCaseReducersByType)throw new Error(qs(13));return l.sliceCaseReducersByType[S]=E,d},addMatcher(_,E){return l.sliceMatchers.push({matcher:_,reducer:E}),d},exposeAction(_,E){return l.actionCreators[_]=E,d},exposeCaseReducer(_,E){return l.sliceCaseReducersByName[_]=E,d}};o.forEach(_=>{const E=a[_],S={reducerName:_,type:VR(s,_),createNotation:typeof r.reducers=="function"};KR(E)?WR(S,E,d,e):$R(S,E,d)});function c(){const[_={},E=[],S=void 0]=typeof r.extraReducers=="function"?Iw(r.extraReducers):[r.extraReducers],T={..._,...l.sliceCaseReducersByType};return DR(r.initialState,x=>{for(let A in T)x.addCase(A,T[A]);for(let A of l.sliceMatchers)x.addMatcher(A.matcher,A.reducer);for(let A of E)x.addMatcher(A.matcher,A.reducer);S&&x.addDefaultCase(S)})}const u=_=>_,h=new Map,p=new WeakMap;let v;function g(_,E){return v||(v=c()),v(_,E)}function m(){return v||(v=c()),v.getInitialState()}function b(_,E=!1){function S(x){let A=x[_];return typeof A>"u"&&E&&(A=nc(p,S,m)),A}function T(x=u){const A=nc(h,E,()=>new WeakMap);return nc(A,x,()=>{const O={};for(const[C,D]of Object.entries(r.selectors??{}))O[C]=HR(D,x,()=>nc(p,x,m),E);return O})}return{reducerPath:_,getSelectors:T,get selectors(){return T(S)},selectSlice:S}}const k={name:s,reducer:g,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:m,...b(i),injectInto(_,{reducerPath:E,...S}={}){const T=E??i;return _.inject({reducerPath:T,reducer:g},S),{...k,...b(T,!0)}}};return k}}function HR(n,e,t,r){function s(i,...a){let o=e(i);return typeof o>"u"&&r&&(o=t()),n(o,...a)}return s.unwrapped=n,s}var Vr=BR();function UR(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function $R({type:n,reducerName:e,createNotation:t},r,s){let i,a;if("reducer"in r){if(t&&!zR(r))throw new Error(qs(17));i=r.reducer,a=r.prepare}else i=r;s.addCase(n,i).exposeCaseReducer(e,i).exposeAction(e,a?Hl(n,a):Hl(n))}function KR(n){return n._reducerDefinitionType==="asyncThunk"}function zR(n){return n._reducerDefinitionType==="reducerWithPrepare"}function WR({type:n,reducerName:e},t,r,s){if(!s)throw new Error(qs(18));const{payloadCreator:i,fulfilled:a,pending:o,rejected:l,settled:d,options:c}=t,u=s(n,i,c);r.exposeAction(e,u),a&&r.addCase(u.fulfilled,a),o&&r.addCase(u.pending,o),l&&r.addCase(u.rejected,l),d&&r.addMatcher(u.settled,d),r.exposeCaseReducer(e,{fulfilled:a||rc,pending:o||rc,rejected:l||rc,settled:d||rc})}function rc(){}function GR(){return{ids:[],entities:{}}}function YR(n){function e(t={},r){const s=Object.assign(GR(),t);return r?n.setAll(s,r):s}return{getInitialState:e}}function qR(){function n(e,t={}){const{createSelector:r=bR}=t,s=u=>u.ids,i=u=>u.entities,a=r(s,i,(u,h)=>u.map(p=>h[p])),o=(u,h)=>h,l=(u,h)=>u[h],d=r(s,u=>u.length);if(!e)return{selectIds:s,selectEntities:i,selectAll:a,selectTotal:d,selectById:r(i,o,l)};const c=r(e,i);return{selectIds:r(e,s),selectEntities:c,selectAll:r(e,a),selectTotal:r(e,d),selectById:r(c,o,l)}}return{getSelectors:n}}var XR=Mr;function ZR(n){const e=Jt((t,r)=>n(r));return function(r){return e(r,void 0)}}function Jt(n){return function(t,r){function s(a){return _R(a)}const i=a=>{s(r)?n(r.payload,a):n(r,a)};return XR(t)?(i(t),t):wm(t,i)}}function go(n,e){return e(n)}function yi(n){return Array.isArray(n)||(n=Object.values(n)),n}function Dc(n){return Mr(n)?_m(n):n}function Mw(n,e,t){n=yi(n);const r=Dc(t.ids),s=new Set(r),i=[],a=new Set([]),o=[];for(const l of n){const d=go(l,e);s.has(d)||a.has(d)?o.push({id:d,changes:l}):(a.add(d),i.push(l))}return[i,o,r]}function Lw(n){function e(v,g){const m=go(v,n);m in g.entities||(g.ids.push(m),g.entities[m]=v)}function t(v,g){v=yi(v);for(const m of v)e(m,g)}function r(v,g){const m=go(v,n);m in g.entities||g.ids.push(m),g.entities[m]=v}function s(v,g){v=yi(v);for(const m of v)r(m,g)}function i(v,g){v=yi(v),g.ids=[],g.entities={},t(v,g)}function a(v,g){return o([v],g)}function o(v,g){let m=!1;v.forEach(b=>{b in g.entities&&(delete g.entities[b],m=!0)}),m&&(g.ids=g.ids.filter(b=>b in g.entities))}function l(v){Object.assign(v,{ids:[],entities:{}})}function d(v,g,m){const b=m.entities[g.id];if(b===void 0)return!1;const k=Object.assign({},b,g.changes),_=go(k,n),E=_!==g.id;return E&&(v[g.id]=_,delete m.entities[g.id]),m.entities[_]=k,E}function c(v,g){return u([v],g)}function u(v,g){const m={},b={};v.forEach(_=>{_.id in g.entities&&(b[_.id]={id:_.id,changes:{...b[_.id]?.changes,..._.changes}})}),v=Object.values(b),v.length>0&&v.filter(E=>d(m,E,g)).length>0&&(g.ids=Object.values(g.entities).map(E=>go(E,n)))}function h(v,g){return p([v],g)}function p(v,g){const[m,b]=Mw(v,n,g);t(m,g),u(b,g)}return{removeAll:ZR(l),addOne:Jt(e),addMany:Jt(t),setOne:Jt(r),setMany:Jt(s),setAll:Jt(i),updateOne:Jt(c),updateMany:Jt(u),upsertOne:Jt(h),upsertMany:Jt(p),removeOne:Jt(a),removeMany:Jt(o)}}function JR(n,e,t){let r=0,s=n.length;for(;r<s;){let i=r+s>>>1;const a=n[i];t(e,a)>=0?r=i+1:s=i}return r}function QR(n,e,t){const r=JR(n,e,t);return n.splice(r,0,e),n}function eI(n,e){const{removeOne:t,removeMany:r,removeAll:s}=Lw(n);function i(m,b){return a([m],b)}function a(m,b,k){m=yi(m);const _=new Set(k??Dc(b.ids)),E=new Set,S=m.filter(T=>{const x=go(T,n),A=!E.has(x);return A&&E.add(x),!_.has(x)&&A});S.length!==0&&g(b,S)}function o(m,b){return l([m],b)}function l(m,b){let k={};if(m=yi(m),m.length!==0){for(const _ of m){const E=n(_);k[E]=_,delete b.entities[E]}m=yi(k),g(b,m)}}function d(m,b){m=yi(m),b.entities={},b.ids=[],a(m,b,[])}function c(m,b){return u([m],b)}function u(m,b){let k=!1,_=!1;for(let E of m){const S=b.entities[E.id];if(!S)continue;k=!0,Object.assign(S,E.changes);const T=n(S);if(E.id!==T){_=!0,delete b.entities[E.id];const x=b.ids.indexOf(E.id);b.ids[x]=T,b.entities[T]=S}}k&&g(b,[],k,_)}function h(m,b){return p([m],b)}function p(m,b){const[k,_,E]=Mw(m,n,b);k.length&&a(k,b,E),_.length&&u(_,b)}function v(m,b){if(m.length!==b.length)return!1;for(let k=0;k<m.length;k++)if(m[k]!==b[k])return!1;return!0}const g=(m,b,k,_)=>{const E=Dc(m.entities),S=Dc(m.ids),T=m.entities;let x=S;_&&(x=new Set(S));let A=[];for(const D of x){const I=E[D];I&&A.push(I)}const O=A.length===0;for(const D of b)T[n(D)]=D,O||QR(A,D,e);O?A=b.slice().sort(e):k&&A.sort(e);const C=A.map(n);v(S,C)||(m.ids=C)};return{removeOne:t,removeMany:r,removeAll:s,addOne:Jt(i),updateOne:Jt(c),upsertOne:Jt(h),setOne:Jt(o),setMany:Jt(l),setAll:Jt(d),addMany:Jt(a),updateMany:Jt(u),upsertMany:Jt(p)}}function Fw(n={}){const{selectId:e,sortComparer:t}={sortComparer:!1,selectId:a=>a.id,...n},r=t?eI(e,t):Lw(e),s=YR(r),i=qR();return{selectId:e,sortComparer:t,...s,...i,...r}}function qs(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const tI=n=>{if(n.length<2)return n;const e=n.replace("https://","").replace("http://","").split("/");return e.length===1?"/":[...e.slice(1)].join("/")};tI("https://aktivitetsplan.ekstern.dev.nav.no");const Hi=n=>"",nI=Hi()+"/veilarbdialog/api",un=Hi()+"/veilarbaktivitet/api",Vw=Hi()+"/veilarbaktivitet/graphql",rI=Hi()+"/veilarbdialog/graphql",Ui=Hi()+"/veilarboppfolging/api",Bw=Hi()+"/veilarblest/api",sI=Hi()+"/veilarbveileder/api",iI=Hi()+"/modiacontextholder/api";var Ul=(n=>(n.Local="local",n.Dev="dev",n.Prod="prod",n))(Ul||{});const Hw=()=>{const{hostname:n}=window.location;return n.includes("dev.nav.no")?"dev":n.includes("nav.no")?"prod":"local"},ef={credentials:"same-origin"},ik={ERROR:5,NOT_STARTED:4,PENDING:3,RELOADING:2,OK:1};function aI(...n){return n.reduce((e,t)=>ik[e]>ik[t]?e:t)}async function tf(n){if(n.status>=200&&n.status<300&&n.ok)return n;const e={code:n.status.toString(),message:`${n.url}`,name:`${n.statusText} (${n.status})`};return Promise.reject(e)}function nf(n){return n.status!==204?n.json():n}const oI=n=>{const t=new RegExp(`${n}=([^;]+)`).exec(document.cookie);return t!==null?t[1]:""},Uw={"Content-Type":"application/json",NAV_CSRF_PROTECTION:oI("NAV_CSRF_PROTECTION"),"Nav-Consumer-Id":"aktivitetsplan"};function rf(n,e={headers:Uw,method:"get"}){const t={...ef,...e};return fetch(n,t).then(tf).then(nf)}function $w(n,e,t,r){return rf(e,{method:n,headers:Uw,body:Object.keys(t).length===0?void 0:JSON.stringify(t),...r})}function On(n,e={},t={}){return $w("post",n,e,t)}function Br(n,e={},t={}){return $w("put",n,e,t)}const lI=(n,e)=>On(`${un}/aktivitet/${e}/ny`,n),dI=n=>Br(`${un}/aktivitet/${n.id}`,n),cI=()=>On(`${un}/innsynsrett`,{fnr:ns(rs.FNR)}),Kw=(n,e,t)=>Br(`${un}/avtaltMedNav?aktivitetId=${n}`,{aktivitetVersjon:e,forhaandsorientering:t}),zw=(n,e)=>Br(`${un}/avtaltMedNav/lest`,{aktivitetId:n,aktivitetVersion:e}),uI=(n,e,t,r)=>Br(`${un}/stillingFraNav/kanDeleCV?aktivitetId=${n}`,{aktivitetVersjon:e,kanDeles:t,avtaltDato:r}),fI=n=>Br(`${un}/aktivitet/${n.id}/status`,n),hI=n=>Br(`${un}/aktivitet/${n.id}/etikett`,n),pI=n=>Br(`${un}/aktivitet/${n.id}/referat/publiser`,n),gI=n=>Br(`${un}/aktivitet/${n.id}/referat`,n),mI=(n,e,t)=>Br(`${un}/stillingFraNav/soknadStatus?aktivitetId=${n}`,{aktivitetVersjon:e,soknadsstatus:t}),vI=()=>On(`${un}/arena/tiltak`,{fnr:ns(rs.FNR)}),bI=({arenaaktivitetId:n,oppfolgingsPeriodeId:e,forhaandsorientering:t})=>Br(`${un}/arena/${e}/forhaandsorientering?arenaaktivitetId=${n}`,t),kI=n=>Br(`${un}/arena/forhaandsorientering/lest?aktivitetId=${n}`),yI=(n,e,t,r)=>On(`${un}/arkivering/journalfor?oppfolgingsperiodeId=${n}`,{forhaandsvisningOpprettet:e,journalfrendeEnhetId:t,uuidCachetPdf:r}),_I=(n,e)=>On(`${un}/arkivering/forhaandsvisning?oppfolgingsperiodeId=${n}`,{journalfrendeEnhetId:e}),wI=(n,e,t,r,s,i)=>On(`${un}/arkivering/send-til-bruker?oppfolgingsperiodeId=${n}`,{forhaandsvisningOpprettet:e,journalfrendeEnhetId:t,filter:r,uuidCachetPdf:s,tekstTilBruker:i}),EI=(n,e,t,r)=>On(`${un}/arkivering/forhaandsvisning-send-til-bruker?oppfolgingsperiodeId=${n}`,{filter:e,journalfrendeEnhetId:t,tekstTilBruker:r}),Sm=n=>(n?.errors?.length||0)!=0?Promise.reject("Kunne ikke hente aktiviteter"):Promise.resolve(n),Ww=`
    id,
    funksjonellId,
    versjon,
    tittel,
    beskrivelse,
    lenke,
    type,
    status,
    fraDato,
    tilDato,
    opprettetDato,
    endretDato,
    endretAv,
    historisk,
    avsluttetKommentar,
    avtalt,
    forhaandsorientering {
        id,
        type,
        tekst,
        lestDato,
    }
    endretAvType,
    transaksjonsType,
    malid,
    oppfolgingsperiodeId,

    #   stillingaktivitet
    etikett,
    kontaktperson,
    arbeidsgiver,
    arbeidssted,
    stillingsTittel,

    #    // egenaktivitet
    hensikt,
    oppfolging,

    #    //sokeAvtaleAktivitet
    antallStillingerSokes,
    antallStillingerIUken,
    avtaleOppfolging,

    #    //iJobbAktivitet
    jobbStatus,
    ansettelsesforhold,
    arbeidstid,

    #    //behandlingAktivitet
    behandlingType,
    behandlingSted,
    effekt,
    behandlingOppfolging,

    #    //mte
    adresse,
    forberedelser,
    kanal,
    referat,
    erReferatPublisert,

    stillingFraNavData {
        cvKanDelesData {
            kanDeles,
            endretTidspunkt,
            endretAv,
            endretAvType,
            avtaltDato,
        }
        soknadsfrist,
        svarfrist,
        arbeidsgiver,
        bestillingsId,
        stillingsId,
        arbeidssted,
        kontaktpersonData {
            navn,
            tittel,
            mobil,
        }
        soknadsstatus,
        livslopsStatus,
        varselId,
        detaljer,
    }

    eksternAktivitet {
        type,
        oppgave {
            ekstern {
                subtekst,
                tekst,
                url
            }
            intern {
                subtekst,
                tekst,
                url
            }
        }
        handlinger {
            url,
            tekst,
            subtekst,
            lenkeType
        }
        detaljer {
            label,
            verdi
        }
        etiketter {
            tekst,
            kode,
            sentiment
        }
    }
`,SI=`
    query($fnr: String!) {
        perioder(fnr: $fnr) {
            id,
            start,
            slutt,
            aktiviteter {
                ${Ww}
            },
        }
    }
`,xI=`
    query($aktivitetId: String!) {
        eier(aktivitetId: $aktivitetId) {
            fnr
        },
        aktivitet(aktivitetId: $aktivitetId) {
            ${Ww}
            historikk {
                endringer {
                    endretAvType,
                    endretAv,
                    tidspunkt,
                    beskrivelseForVeileder,
                    beskrivelseForBruker,
                }
            }
        }

    }
`,TI=n=>({query:SI,variables:{fnr:n}}),AI=n=>({query:xI,variables:{aktivitetId:n}}),CI=async()=>{const n=ns(rs.FNR)||"";return fetch(Vw,{...ef,method:"POST",headers:{"Content-Type":"application/json","Nav-Consumer-Id":"aktivitetsplan"},body:JSON.stringify(TI(n))}).then(tf).then(nf).then(Sm)},OI=n=>fetch(Vw,{...ef,method:"POST",headers:{"Content-Type":"application/json","Nav-Consumer-Id":"aktivitetsplan"},body:JSON.stringify(AI(n))}).then(tf).then(nf).then(Sm).then(e=>({...e,data:{aktivitet:{...e.data.aktivitet,id:n},eier:{fnr:e.data.eier.fnr}}})),Qo=n=>{const{historikk:e,...t}=n;return t},Oi=dt("aktiviteter/hent",async()=>await CI()),sd=dt("aktivitet/hent",async n=>await OI(n)),xd=dt("aktivitet-etikett/oppdater",async n=>await hI(Qo(n))),xm=dt("aktivitet/oppdater",async n=>await dI(Qo(n))),Td=dt("aktivitet/fho",async({aktivitet:n,forhaandsorientering:e})=>await Kw(n.id,n.versjon,e)),Tm=dt("aktivitet/fho/lest",async n=>await zw(n.id,n.versjon)),Is=dt("aktivitet/flytt",async({aktivitet:n,status:e})=>await fI({...Qo(n),status:e}));function DI(n,e,t){const r={...n,avsluttetKommentar:t};return Is({aktivitet:r,status:e})}function jI(n,e){const t={...n,avsluttetKommentar:e};return Is({aktivitet:t,status:Re.AVBRUTT})}function RI(n,e){const t={...n,avsluttetKommentar:e};return Is({aktivitet:t,status:Re.FULLFOERT})}const sf=dt("aktivitet/oppdaterCvSvar",async({aktivitetId:n,aktivitetVersjon:e,kanDeles:t,avtaltDato:r})=>await uI(n,e,t,r)),Ad=dt("aktivitet-stilling-fra-nav-status/oppdater",async({aktivitetId:n,aktivitetVersjon:e,soknadsstatus:t})=>await mI(n,e,t)),af=dt("aktivitet/opprett",async n=>await lI(n.aktivitet,n.oppfolgingsPeriodeId)),Po=dt("referat/oppdater",async n=>await gI(Qo(n))),el=dt("referat/publiser",async n=>await pI({...Qo(n),erReferatPublisert:!0}));var ee=(n=>(n.NOT_STARTED="NOT_STARTED",n.PENDING="PENDING",n.OK="OK",n.RELOADING="RELOADING",n.ERROR="ERROR",n))(ee||{});const $i=({name:n,initialState:e={status:"NOT_STARTED"},reducers:t})=>Vr({name:n,initialState:e,reducers:{...t},extraReducers:r=>{r.addMatcher(s=>s.type.startsWith(`${n}/`)&&s.type.endsWith("/pending"),s=>{s.status=s.status==="NOT_STARTED"?"PENDING":"RELOADING"}),r.addMatcher(s=>s.type.startsWith(`${n}/`)&&s.type.endsWith("/fulfilled"),(s,i)=>{s.data=i.payload||e.data,s.status="OK"}),r.addMatcher(s=>s.type.startsWith(`${n}/`)&&s.type.endsWith("/rejected"),s=>{s.status="ERROR"})}}),II=`
    query($fnr: String!, $bareMedAktiviteter: Boolean) {
        dialoger(fnr: $fnr, bareMedAktiviteter: $bareMedAktiviteter) {
            id,
            aktivitetId,
            overskrift,
            oppfolgingsperiode,
            opprettetDato,
            egenskaper,
            lest,
            sisteDato,
            henvendelser {
                id,
                lest,
                avsender,
                avsenderId,
                dialogId,
                sendt,
                tekst
            }
        }
        stansVarsel(fnr: $fnr) {
            id,
            tilhorendeDialogId,
            opprettetAv,
            opprettetDato,
            opprettetBegrunnelse
        }
    }
`,NI=n=>({query:II,variables:{fnr:n,bareMedAktiviteter:!1}}),PI=async()=>{const n=ns(rs.FNR)||"";return fetch(rI,{...ef,method:"POST",headers:{"Content-Type":"application/json","Nav-Consumer-Id":"aktivitetsplan"},body:JSON.stringify(NI(n))}).then(tf).then(nf).then(Sm)},Gw=Vr({name:"eskaleringsvarsel",initialState:{data:void 0},reducers:{setForhaandsVarselOmStans(n,e){n.data=e.payload}}}),MI=Gw.actions.setForhaandsVarselOmStans,LI=Gw.reducer,FI={data:[],status:ee.NOT_STARTED,sistOppdatert:new Date().toISOString()},Yw=Vr({name:"dialog",initialState:FI,reducers:{},extraReducers:n=>{n.addCase(Os.fulfilled,(e,t)=>{e.data=t.payload.data.dialoger,e.status=ee.OK,e.sistOppdatert=new Date().toISOString()}),n.addCase(Os.rejected,(e,t)=>{e.status=ee.ERROR})}}),Os=dt(`${Yw.name}/fetchDialoger`,async(n,e)=>{const t=await PI();return t?.data?.stansVarsel&&e.dispatch(MI(t.data.stansVarsel)),t}),VI=Yw.reducer,BI=()=>rf(`${Ui}/v3/oppfolging/me`),HI=n=>On(`${Ui}/v3/oppfolging/settDigital`,n?{fnr:n}:void 0),UI=n=>On(`${Ui}/v3/oppfolging/hent-status`,n?{fnr:n}:void 0),$I=n=>On(`${Ui}/v3/hent-maal`,n?{fnr:n}:void 0),KI=n=>On(`${Ui}/v3/maal/hent-alle`,n?{fnr:n}:void 0),zI=(n,e)=>On(`${Ui}/v3/maal`,{maalInnhold:{maal:n},fnr:e}),WI=n=>On(`${Ui}/v3/oppfolging/harFlereAktorIderMedOppfolging`,n?{fnr:n}:void 0),GI=n=>On(`${Ui}/v3/veileder/lest-aktivitetsplan`,{fnr:n}),Am=$i({name:"oppfolging",initialState:{data:void 0,status:ee.NOT_STARTED},reducers:{}}),of=dt(`${Am.name}/fetchOppfolging`,async()=>{const n=ns(rs.FNR);return await UI(n??void 0)}),YI=dt(`${Am.name}/settDigital`,async()=>{const n=ns(rs.FNR);return await HI(n??void 0)}),qI=Am.reducer;var oa=(n=>(n.Dialog="DIALOG",n.Oppfolging="OPPFOLGING",n.Aktivitet="AKTIVITET",n))(oa||{});const qw="uppdate";function mo(n){window.dispatchEvent(new CustomEvent(qw,{detail:{uppdate:n,avsender:"aktivitetsplan"}}))}function XI(){const n=kt();return mm(qw,e=>{const t=e.detail.uppdate;if(e.detail.avsender!=="aktivitetsplan")switch(t){case"AKTIVITET":return n(Oi());case"DIALOG":return n(Os());case"OPPFOLGING":return n(of())}}),f.jsx(f.Fragment,{})}const Xw=y.createContext({dragDropManager:void 0});function Or(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var ak=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),ok=function(){return Math.random().toString(36).substring(7).split("").join(".")},lk={INIT:"@@redux/INIT"+ok(),REPLACE:"@@redux/REPLACE"+ok()};function ZI(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function Zw(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Or(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Or(1));return t(Zw)(n,e)}if(typeof n!="function")throw new Error(Or(2));var s=n,i=e,a=[],o=a,l=!1;function d(){o===a&&(o=a.slice())}function c(){if(l)throw new Error(Or(3));return i}function u(g){if(typeof g!="function")throw new Error(Or(4));if(l)throw new Error(Or(5));var m=!0;return d(),o.push(g),function(){if(m){if(l)throw new Error(Or(6));m=!1,d();var k=o.indexOf(g);o.splice(k,1),a=null}}}function h(g){if(!ZI(g))throw new Error(Or(7));if(typeof g.type>"u")throw new Error(Or(8));if(l)throw new Error(Or(9));try{l=!0,i=s(i,g)}finally{l=!1}for(var m=a=o,b=0;b<m.length;b++){var k=m[b];k()}return g}function p(g){if(typeof g!="function")throw new Error(Or(10));s=g,h({type:lk.REPLACE})}function v(){var g,m=u;return g={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(Or(11));function _(){k.next&&k.next(c())}_();var E=m(_);return{unsubscribe:E}}},g[ak]=function(){return this},g}return h({type:lk.INIT}),r={dispatch:h,subscribe:u,getState:c,replaceReducer:p},r[ak]=v,r}function Ge(n,e,...t){if(JI()&&e===void 0)throw new Error("invariant requires an error message argument");if(!n){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(e.replace(/%s/g,function(){return t[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function JI(){return typeof process<"u"&&!0}function QI(n,e,t){return e.split(".").reduce((r,s)=>r&&r[s]?r[s]:t||null,n)}function eN(n,e){return n.filter(t=>t!==e)}function Jw(n){return typeof n=="object"}function tN(n,e){const t=new Map,r=i=>{t.set(i,t.has(i)?t.get(i)+1:1)};n.forEach(r),e.forEach(r);const s=[];return t.forEach((i,a)=>{i===1&&s.push(a)}),s}function nN(n,e){return n.filter(t=>e.indexOf(t)>-1)}const Cm="dnd-core/INIT_COORDS",lf="dnd-core/BEGIN_DRAG",Om="dnd-core/PUBLISH_DRAG_SOURCE",df="dnd-core/HOVER",cf="dnd-core/DROP",uf="dnd-core/END_DRAG";function dk(n,e){return{type:Cm,payload:{sourceClientOffset:e||null,clientOffset:n||null}}}const rN={type:Cm,payload:{clientOffset:null,sourceClientOffset:null}};function sN(n){return function(t=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:a}=r,o=n.getMonitor(),l=n.getRegistry();n.dispatch(dk(i)),iN(t,o,l);const d=lN(t,o);if(d==null){n.dispatch(rN);return}let c=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");aN(a),c=a(d)}n.dispatch(dk(i,c));const h=l.getSource(d).beginDrag(o,d);if(h==null)return;oN(h),l.pinSource(d);const p=l.getSourceType(d);return{type:lf,payload:{itemType:p,item:h,sourceId:d,clientOffset:i||null,sourceClientOffset:c||null,isSourcePublic:!!s}}}}function iN(n,e,t){Ge(!e.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(r){Ge(t.getSource(r),"Expected sourceIds to be registered.")})}function aN(n){Ge(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function oN(n){Ge(Jw(n),"Item must be an object.")}function lN(n,e){let t=null;for(let r=n.length-1;r>=0;r--)if(e.canDragSource(n[r])){t=n[r];break}return t}function dN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),r.forEach(function(s){dN(n,s,t[s])})}return n}function uN(n){return function(t={}){const r=n.getMonitor(),s=n.getRegistry();fN(r),gN(r).forEach((a,o)=>{const l=hN(a,o,s,r),d={type:cf,payload:{dropResult:cN({},t,l)}};n.dispatch(d)})}}function fN(n){Ge(n.isDragging(),"Cannot call drop while not dragging."),Ge(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function hN(n,e,t,r){const s=t.getTarget(n);let i=s?s.drop(r,n):void 0;return pN(i),typeof i>"u"&&(i=e===0?{}:r.getDropResult()),i}function pN(n){Ge(typeof n>"u"||Jw(n),"Drop result must either be an object or undefined.")}function gN(n){const e=n.getTargetIds().filter(n.canDropOnTarget,n);return e.reverse(),e}function mN(n){return function(){const t=n.getMonitor(),r=n.getRegistry();vN(t);const s=t.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(t,s),r.unpinSource()),{type:uf}}}function vN(n){Ge(n.isDragging(),"Cannot call endDrag while not dragging.")}function Hp(n,e){return e===null?n===null:Array.isArray(n)?n.some(t=>t===e):n===e}function bN(n){return function(t,{clientOffset:r}={}){kN(t);const s=t.slice(0),i=n.getMonitor(),a=n.getRegistry(),o=i.getItemType();return _N(s,a,o),yN(s,i,a),wN(s,i,a),{type:df,payload:{targetIds:s,clientOffset:r||null}}}}function kN(n){Ge(Array.isArray(n),"Expected targetIds to be an array.")}function yN(n,e,t){Ge(e.isDragging(),"Cannot call hover while not dragging."),Ge(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<n.length;r++){const s=n[r];Ge(n.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const i=t.getTarget(s);Ge(i,"Expected targetIds to be registered.")}}function _N(n,e,t){for(let r=n.length-1;r>=0;r--){const s=n[r],i=e.getTargetType(s);Hp(i,t)||n.splice(r,1)}}function wN(n,e,t){n.forEach(function(r){t.getTarget(r).hover(e,r)})}function EN(n){return function(){if(n.getMonitor().isDragging())return{type:Om}}}function SN(n){return{beginDrag:sN(n),publishDragSource:EN(n),hover:bN(n),drop:uN(n),endDrag:mN(n)}}class xN{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function r(i){return(...a)=>{const o=i.apply(e,a);typeof o<"u"&&t(o)}}const s=SN(this);return Object.keys(s).reduce((i,a)=>{const o=s[a];return i[a]=r(o),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function TN(n,e){return{x:n.x+e.x,y:n.y+e.y}}function Qw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function AN(n){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:r}=n;return!e||!t||!r?null:Qw(TN(e,r),t)}function CN(n){const{clientOffset:e,initialClientOffset:t}=n;return!e||!t?null:Qw(e,t)}const $l=[],Dm=[];$l.__IS_NONE__=!0;Dm.__IS_ALL__=!0;function ON(n,e){return n===$l?!1:n===Dm||typeof e>"u"?!0:nN(e,n).length>0}class DN{subscribeToStateChange(e,t={}){const{handlerIds:r}=t;Ge(typeof e=="function","listener must be a function."),Ge(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const a=this.store.getState(),o=a.stateId;try{o===s||o===s+1&&!ON(a.dirtyHandlerIds,r)||e()}finally{s=o}};return this.store.subscribe(i)}subscribeToOffsetChange(e){Ge(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==t&&(t=s,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return Ge(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(Ge(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),s=this.getItemType();return Hp(r,s)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(Ge(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),s=this.getItemType();return r!==s?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:r}=t;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),i=this.getItemType();if(i&&!Hp(s,i))return!1;const a=this.getTargetIds();if(!a.length)return!1;const o=a.indexOf(e);return r?o===a.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return AN(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return CN(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const ck=typeof global<"u"?global:self,eE=ck.MutationObserver||ck.WebKitMutationObserver;function tE(n){return function(){const t=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(t),clearInterval(r),n()}}}function jN(n){let e=1;const t=new eE(n),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const RN=typeof eE=="function"?jN:tE;class IN{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let r=0,s=e.length-this.index;r<s;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=RN(this.flush),this.requestErrorThrow=tE(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class NN{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class PN{create(e){const t=this.freeTasks,r=t.length?t.pop():new NN(this.onError,s=>t[t.length]=s);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const nE=new IN,MN=new PN(nE.registerPendingError);function LN(n){nE.enqueueTask(MN.create(n))}const jm="dnd-core/ADD_SOURCE",Rm="dnd-core/ADD_TARGET",Im="dnd-core/REMOVE_SOURCE",ff="dnd-core/REMOVE_TARGET";function FN(n){return{type:jm,payload:{sourceId:n}}}function VN(n){return{type:Rm,payload:{targetId:n}}}function BN(n){return{type:Im,payload:{sourceId:n}}}function HN(n){return{type:ff,payload:{targetId:n}}}function UN(n){Ge(typeof n.canDrag=="function","Expected canDrag to be a function."),Ge(typeof n.beginDrag=="function","Expected beginDrag to be a function."),Ge(typeof n.endDrag=="function","Expected endDrag to be a function.")}function $N(n){Ge(typeof n.canDrop=="function","Expected canDrop to be a function."),Ge(typeof n.hover=="function","Expected hover to be a function."),Ge(typeof n.drop=="function","Expected beginDrag to be a function.")}function Up(n,e){if(e&&Array.isArray(n)){n.forEach(t=>Up(t,!1));return}Ge(typeof n=="string"||typeof n=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Nr;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(Nr||(Nr={}));let KN=0;function zN(){return KN++}function WN(n){const e=zN().toString();switch(n){case Nr.SOURCE:return`S${e}`;case Nr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${n}`)}}function uk(n){switch(n[0]){case"S":return Nr.SOURCE;case"T":return Nr.TARGET;default:throw new Error(`Cannot parse handler ID: ${n}`)}}function fk(n,e){const t=n.entries();let r=!1;do{const{done:s,value:[,i]}=t.next();if(i===e)return!0;r=!!s}while(!r);return!1}class GN{addSource(e,t){Up(e),UN(t);const r=this.addHandler(Nr.SOURCE,e,t);return this.store.dispatch(FN(r)),r}addTarget(e,t){Up(e,!0),$N(t);const r=this.addHandler(Nr.TARGET,e,t);return this.store.dispatch(VN(r)),r}containsHandler(e){return fk(this.dragSources,e)||fk(this.dropTargets,e)}getSource(e,t=!1){return Ge(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Ge(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Ge(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Ge(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return uk(e)===Nr.SOURCE}isTargetId(e){return uk(e)===Nr.TARGET}removeSource(e){Ge(this.getSource(e),"Expected an existing source."),this.store.dispatch(BN(e)),LN(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){Ge(this.getTarget(e),"Expected an existing target."),this.store.dispatch(HN(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);Ge(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){Ge(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){const s=WN(e);return this.types.set(s,t),e===Nr.SOURCE?this.dragSources.set(s,r):e===Nr.TARGET&&this.dropTargets.set(s,r),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const YN=(n,e)=>n===e;function qN(n,e){return!n&&!e?!0:!n||!e?!1:n.x===e.x&&n.y===e.y}function XN(n,e,t=YN){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!t(n[r],e[r]))return!1;return!0}function ZN(n=$l,e){switch(e.type){case df:break;case jm:case Rm:case ff:case Im:return $l;case lf:case Om:case uf:case cf:default:return Dm}const{targetIds:t=[],prevTargetIds:r=[]}=e.payload,s=tN(t,r);if(!(s.length>0||!XN(t,r)))return $l;const a=r[r.length-1],o=t[t.length-1];return a!==o&&(a&&s.push(a),o&&s.push(o)),s}function JN(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),r.forEach(function(s){JN(n,s,t[s])})}return n}const hk={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function eP(n=hk,e){const{payload:t}=e;switch(e.type){case Cm:case lf:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case df:return qN(n.clientOffset,t.clientOffset)?n:QN({},n,{clientOffset:t.clientOffset});case uf:case cf:return hk;default:return n}}function tP(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ro(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),r.forEach(function(s){tP(n,s,t[s])})}return n}const nP={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function rP(n=nP,e){const{payload:t}=e;switch(e.type){case lf:return ro({},n,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case Om:return ro({},n,{isSourcePublic:!0});case df:return ro({},n,{targetIds:t.targetIds});case ff:return n.targetIds.indexOf(t.targetId)===-1?n:ro({},n,{targetIds:eN(n.targetIds,t.targetId)});case cf:return ro({},n,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case uf:return ro({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function sP(n=0,e){switch(e.type){case jm:case Rm:return n+1;case Im:case ff:return n-1;default:return n}}function iP(n=0){return n+1}function aP(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),r.forEach(function(s){aP(n,s,t[s])})}return n}function lP(n={},e){return{dirtyHandlerIds:ZN(n.dirtyHandlerIds,{type:e.type,payload:oP({},e.payload,{prevTargetIds:QI(n,"dragOperation.targetIds",[])})}),dragOffset:eP(n.dragOffset,e),refCount:sP(n.refCount,e),dragOperation:rP(n.dragOperation,e),stateId:iP(n.stateId)}}function dP(n,e=void 0,t={},r=!1){const s=cP(r),i=new DN(s,new GN(s)),a=new xN(s,i),o=n(a,e,t);return a.receiveBackend(o),a}function cP(n){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Zw(lP,n&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function uP(n,e){if(n==null)return{};var t=fP(n,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function fP(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}let pk=0;const jc=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var hP=y.memo(function(e){var{children:t}=e,r=uP(e,["children"]);const[s,i]=pP(r);return y.useEffect(()=>{if(i){const a=rE();return++pk,()=>{--pk===0&&(a[jc]=null)}}},[]),f.jsx(Xw.Provider,{value:s,children:t})});function pP(n){if("manager"in n)return[{dragDropManager:n.manager},!1];const e=gP(n.backend,n.context,n.options,n.debugMode),t=!n.context;return[e,t]}function gP(n,e=rE(),t,r){const s=e;return s[jc]||(s[jc]={dragDropManager:dP(n,e,t,r)}),s[jc]}function rE(){return typeof global<"u"?global:window}var kh,gk;function mP(){return gk||(gk=1,kh=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}),kh}var vP=mP();const bP=Ru(vP),xa=typeof window<"u"?y.useLayoutEffect:y.useEffect;function kP(n,e,t){const[r,s]=y.useState(()=>e(n)),i=y.useCallback(()=>{const a=e(n);bP(r,a)||(s(a),t&&t())},[r,n,t]);return xa(i),[r,i]}function yP(n,e,t){const[r,s]=kP(n,e,t);return xa(function(){const a=n.getHandlerId();if(a!=null)return n.subscribeToStateChange(s,{handlerIds:[a]})},[n,s]),r}function sE(n,e,t){return yP(e,n||(()=>({})),()=>t.reconnect())}function iE(n,e){const t=[];return typeof n!="function"&&t.push(n),y.useMemo(()=>typeof n=="function"?n():n,t)}function _P(n){return y.useMemo(()=>n.hooks.dragSource(),[n])}function wP(n){return y.useMemo(()=>n.hooks.dragPreview(),[n])}let yh=!1,_h=!1;class EP{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Ge(!yh,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return yh=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{yh=!1}}isDragging(){if(!this.sourceId)return!1;Ge(!_h,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return _h=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{_h=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let wh=!1;class SP{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;Ge(!wh,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return wh=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{wh=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function xP(n,e,t){const r=t.getRegistry(),s=r.addTarget(n,e);return[s,()=>r.removeTarget(s)]}function TP(n,e,t){const r=t.getRegistry(),s=r.addSource(n,e);return[s,()=>r.removeSource(s)]}function $p(n,e,t,r){let s;if(s!==void 0)return!!s;if(n===e)return!0;if(typeof n!="object"||!n||typeof e!="object"||!e)return!1;const i=Object.keys(n),a=Object.keys(e);if(i.length!==a.length)return!1;const o=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<i.length;l++){const d=i[l];if(!o(d))return!1;const c=n[d],u=e[d];if(s=void 0,s===!1||s===void 0&&c!==u)return!1}return!0}function Kp(n){return n!==null&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function AP(n){if(typeof n.type=="string")return;const e=n.type.displayName||n.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function CP(n){return(e=null,t=null)=>{if(!y.isValidElement(e)){const i=e;return n(i,t),i}const r=e;return AP(r),OP(r,t?i=>n(i,t):n)}}function aE(n){const e={};return Object.keys(n).forEach(t=>{const r=n[t];if(t.endsWith("Ref"))e[t]=n[t];else{const s=CP(r);e[t]=()=>s}}),e}function mk(n,e){typeof n=="function"?n(e):n.current=e}function OP(n,e){const t=n.ref;return Ge(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?y.cloneElement(n,{ref:r=>{mk(t,r),mk(e,r)}}):y.cloneElement(n,{ref:e})}class DP{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!$p(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!$p(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=aE({dragSource:(t,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Kp(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Kp(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class jP{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!$p(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=aE({dropTarget:(t,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Kp(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function tl(){const{dragDropManager:n}=y.useContext(Xw);return Ge(n!=null,"Expected drag drop context"),n}function RP(n,e){const t=tl(),r=y.useMemo(()=>new DP(t.getBackend()),[t]);return xa(()=>(r.dragSourceOptions=n||null,r.reconnect(),()=>r.disconnectDragSource()),[r,n]),xa(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function IP(){const n=tl();return y.useMemo(()=>new EP(n),[n])}class NP{beginDrag(){const e=this.spec,t=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(t):r={},r??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const r=this.spec,s=this.monitor,{isDragging:i}=r;return i?i(s):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,r=this.connector,{end:s}=e;s&&s(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}function PP(n,e,t){const r=y.useMemo(()=>new NP(n,e,t),[e,t]);return y.useEffect(()=>{r.spec=n},[n]),r}function MP(n){return y.useMemo(()=>{const e=n.type;return Ge(e!=null,"spec.type must be defined"),e},[n])}function LP(n,e,t){const r=tl(),s=PP(n,e,t),i=MP(n);xa(function(){if(i!=null){const[o,l]=TP(i,s,r);return e.receiveHandlerId(o),t.receiveHandlerId(o),l}},[r,e,t,s,i])}function FP(n,e){const t=iE(n);Ge(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=IP(),s=RP(t.options,t.previewOptions);return LP(t,r,s),[sE(t.collect,r,s),_P(s),wP(s)]}function VP(n){return y.useMemo(()=>n.hooks.dropTarget(),[n])}function BP(n){const e=tl(),t=y.useMemo(()=>new jP(e.getBackend()),[e]);return xa(()=>(t.dropTargetOptions=n||null,t.reconnect(),()=>t.disconnectDropTarget()),[n]),t}function HP(){const n=tl();return y.useMemo(()=>new SP(n),[n])}function UP(n){const{accept:e}=n;return y.useMemo(()=>(Ge(n.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class $P{canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function KP(n,e){const t=y.useMemo(()=>new $P(n,e),[e]);return y.useEffect(()=>{t.spec=n},[n]),t}function zP(n,e,t){const r=tl(),s=KP(n,e),i=UP(n);xa(function(){const[o,l]=xP(i,s,r);return e.receiveHandlerId(o),t.receiveHandlerId(o),l},[r,e,s,t,i.map(a=>a.toString()).join("|")])}function WP(n,e){const t=iE(n),r=HP(),s=BP(t.options);return zP(t,r,s),[sE(t.collect,r,s),VP(s)]}function oE(n){let e=null;return()=>(e==null&&(e=n()),e)}function GP(n,e){return n.filter(t=>t!==e)}function YP(n,e){const t=new Set,r=i=>t.add(i);n.forEach(r),e.forEach(r);const s=[];return t.forEach(i=>s.push(i)),s}class qP{enter(e){const t=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=YP(this.entered.filter(r),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=GP(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class XP{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(t[r]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const lE="__NATIVE_FILE__",dE="__NATIVE_URL__",cE="__NATIVE_TEXT__",uE="__NATIVE_HTML__",vk=Object.freeze(Object.defineProperty({__proto__:null,FILE:lE,HTML:uE,TEXT:cE,URL:dE},Symbol.toStringTag,{value:"Module"}));function Eh(n,e,t){const r=e.reduce((s,i)=>s||n.getData(i),"");return r??t}const zp={[lE]:{exposeProperties:{files:n=>Array.prototype.slice.call(n.files),items:n=>n.items,dataTransfer:n=>n},matchesTypes:["Files"]},[uE]:{exposeProperties:{html:(n,e)=>Eh(n,e,""),dataTransfer:n=>n},matchesTypes:["Html","text/html"]},[dE]:{exposeProperties:{urls:(n,e)=>Eh(n,e,"").split(`
`),dataTransfer:n=>n},matchesTypes:["Url","text/uri-list"]},[cE]:{exposeProperties:{text:(n,e)=>Eh(n,e,""),dataTransfer:n=>n},matchesTypes:["Text","text/plain"]}};function ZP(n,e){const t=zp[n];if(!t)throw new Error(`native type ${n} has no configuration`);const r=new XP(t);return r.loadDataTransfer(e),r}function Sh(n){if(!n)return null;const e=Array.prototype.slice.call(n.types||[]);return Object.keys(zp).filter(t=>{const r=zp[t];return r?.matchesTypes?r.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const JP=oE(()=>/firefox/i.test(navigator.userAgent)),fE=oE(()=>!!window.safari);class bk{interpolate(e){const{xs:t,ys:r,c1s:s,c2s:i,c3s:a}=this;let o=t.length-1;if(e===t[o])return r[o];let l=0,d=a.length-1,c;for(;l<=d;){c=Math.floor(.5*(l+d));const p=t[c];if(p<e)l=c+1;else if(p>e)d=c-1;else return r[c]}o=Math.max(0,d);const u=e-t[o],h=u*u;return r[o]+s[o]*u+i[o]*h+a[o]*u*h}constructor(e,t){const{length:r}=e,s=[];for(let p=0;p<r;p++)s.push(p);s.sort((p,v)=>e[p]<e[v]?-1:1);const i=[],a=[];let o,l;for(let p=0;p<r-1;p++)o=e[p+1]-e[p],l=t[p+1]-t[p],i.push(o),a.push(l/o);const d=[a[0]];for(let p=0;p<i.length-1;p++){const v=a[p],g=a[p+1];if(v*g<=0)d.push(0);else{o=i[p];const m=i[p+1],b=o+m;d.push(3*b/((b+m)/v+(b+o)/g))}}d.push(a[a.length-1]);const c=[],u=[];let h;for(let p=0;p<d.length-1;p++){h=a[p];const v=d[p],g=1/i[p],m=v+d[p+1]-h-h;c.push((h-v-m)*g),u.push(m*g*g)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=c,this.c3s=u}}const QP=1;function hE(n){const e=n.nodeType===QP?n:n.parentElement;if(!e)return null;const{top:t,left:r}=e.getBoundingClientRect();return{x:r,y:t}}function sc(n){return{x:n.clientX,y:n.clientY}}function e5(n){var e;return n.nodeName==="IMG"&&(JP()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(n)))}function t5(n,e,t,r){let s=n?e.width:t,i=n?e.height:r;return fE()&&n&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function n5(n,e,t,r,s){const i=e5(e),o=hE(i?n:e),l={x:t.x-o.x,y:t.y-o.y},{offsetWidth:d,offsetHeight:c}=n,{anchorX:u,anchorY:h}=r,{dragPreviewWidth:p,dragPreviewHeight:v}=t5(i,e,d,c),g=()=>{let T=new bk([0,.5,1],[l.y,l.y/c*v,l.y+v-c]).interpolate(h);return fE()&&i&&(T+=(window.devicePixelRatio-1)*v),T},m=()=>new bk([0,.5,1],[l.x,l.x/d*p,l.x+p-d]).interpolate(u),{offsetX:b,offsetY:k}=s,_=b===0||b,E=k===0||k;return{x:_?b:m(),y:E?k:g()}}class r5{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function s5(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),r.forEach(function(s){s5(n,s,t[s])})}return n}class i5{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);const s=a=>this.handleDragStart(a,e),i=a=>this.handleSelectStart(a);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",s),t.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",s),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const r=a=>this.handleDragEnter(a,e),s=a=>this.handleDragOver(a,e),i=a=>this.handleDrop(a,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",s),t.addEventListener("drop",i),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",s),t.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return kk({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return kk({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(vk).some(t=>vk[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=ZP(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&hE(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const a=sc(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:o}=s,l=Sh(o);if(this.monitor.isDragging()){if(o&&typeof o.setDragImage=="function"){const c=this.monitor.getSourceId(),u=this.sourceNodes.get(c),h=this.sourcePreviewNodes.get(c)||u;if(h){const{anchorX:p,anchorY:v,offsetX:g,offsetY:m}=this.getCurrentSourcePreviewNodeOptions(),_=n5(u,h,a,{anchorX:p,anchorY:v},{offsetX:g,offsetY:m});o.setDragImage(h,_.x,_.y)}}try{o?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(o&&!o.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:o}=s,l=Sh(o);l&&this.beginDragNativeItem(l,o)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:sc(s)}),i.some(o=>this.monitor.canDropOnTarget(o))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=sc(s),this.scheduleHover(i),(i||[]).some(o=>this.monitor.canDropOnTarget(o))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else Sh(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:sc(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new r5(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new qP(this.isNodeInDocument)}}const a5=function(e,t,r){return new i5(e,t,r)},o5=({children:n})=>f.jsx(f.Fragment,{children:n}),l5={dragging:!1,aktivitet:void 0},pE=Vr({name:"drag",initialState:l5,reducers:{startDragging:(n,e)=>{n.dragging=!0,n.aktivitet=e.payload},stopDragging:n=>{n.dragging=!1,n.aktivitet=void 0}}}),d5=n=>n.view.dragAndDrop,gE=n=>d5(n).aktivitet,{startDragging:c5,stopDragging:u5}=pE.actions,f5=pE.reducer,h5=async n=>{if(Bg)return On(`${iI}/context`,{eventType:"NY_AKTIV_BRUKER",verdi:n})},yk=5e3;let Wp;const p5=()=>{Wp=new Promise((n,e)=>{let t,r;t=setTimeout(()=>{clearTimeout(t),clearInterval(r),e(`Did not find/load umami after ${yk}ms`)},yk),r=setInterval(()=>{globalThis.window.umami&&(clearTimeout(t),clearInterval(r),n())},200)})},g5=(n,e)=>{if(globalThis.window==="undefined"){console.warn("[umamiTrack] Window is undefined (SSR context)");return}if(Wp===void 0&&console.warn("[umamiTrack] Umami has not been initialized, can't track event"),!globalThis.window.umami){console.warn("[umamiTrack] window.umami is not available yet. Waiting for script to load...",{eventName:n,eventData:e}),Wp.then(()=>{console.log("[umamiTrack] Umami now available, tracking event:",n,e),globalThis.window.umami.track(n,e)}).catch(t=>{console.error(`[umamiTrack] Umami script failed to load within timeout. ${t.toString()} Event not tracked:`,{eventName:n,eventData:e})});return}globalThis.window.umami.track(n,e)};let ta=(n,e)=>{},Rc=!1;const m5=Hw(),v5=()=>{if(m5==Ul.Local){ta=(n,e)=>{console.log("[AnalyticsEvent]",n,e)},Rc=!0,xh(ta);return}Bg?(p5(),ta=(n,e)=>{g5(n,{...e,origin:"aktivitetsplan"})},Rc=!0,xh(ta)):setTimeout(()=>{const n=globalThis.window.dekoratorenAnalytics;ta=(e,t)=>{n({origin:"aktivitetsplan",eventName:e,eventData:t})},Rc=!0,xh(ta)},1e3)};let Gp=[];function*b5(){for(;Gp.length>0;){const n=Gp.shift();n&&(yield n)}}const xh=n=>{const e=b5();e.next();let t=e.next();for(;!t.done;)n(t.value.eventName,t.value.eventData),t=e.next()},k5=(n,e)=>{Rc?ta(n,e):Gp.push({eventName:n,eventData:e})};v5();const y5=k5;async function Ki(n,e){try{const t={..."data"in n?n.data:{},...e};y5(n.name,t)}catch(t){console.error(t)}}function Di(n){return Ki({name:"knapp klikket",data:{tekst:n}})}function _k(n){return Ki({name:"navigere",data:{tekst:n}})}function Ba(n){return Ki({name:"accordion pnet",data:{tekst:n}})}function Yp(n){return Ki({name:"filtervalg",data:{filternavn:n}})}function mE(n){return Ki({name:"toggle",data:{text:"Sl p klarsprkhjelp",enabled:n}})}function qp(n,e,t){const r=w5(n);return Ki({name:"referat lagret",data:{analysis:r,referatPublisert:e,spraksjekkEnabled:t}},{variant:"D"})}function vE({isDirty:n,aktivitet:e,modalType:t,navType:r}){return Ki({name:"modal lukket",data:{isDirty:n,aktivitet:e.toLocaleLowerCase(),modalType:t,navType:r}})}function _5(){return Ki({name:"dyplenking",data:{text:"Dyplenking til annen bruker"}})}function w5(n){return{longParagraphs:n.longParagraphs.length,longSentences:n.longSentences.length,longWords:n.longWords.length,duplicateWords:n.duplicateWords.length,kansellisten:n.kansellisten.length,nrkOrd:n.nrkOrd.length,avloeserord:n.avloeserord.avloeserordMatches.length+n.avloeserord.datatermerMatches.length,comma:n.comma,personvernbrudd:n.personvernbrudd.length,personalData:{emails:n.personalData.emails.length,names:n.personalData.names.length,phonenumbers:n.personalData.phonenumbers.length},tools:{lix:n.tools.lix,wordCount:n.tools.wordCount}}}const hf=Fw({selectId:n=>n.id}),pf=Fw({selectId:n=>n.id}),{selectById:E5,selectAll:Cd}=pf.getSelectors(),{selectById:S5,selectAll:Nm}=hf.getSelectors(),Od=n=>n.data.aktiviteter,x5=(n,e)=>Cd(Od(n)).map(r=>S5(r.aktiviteter,e)).find(r=>!!r),bE=pt(Od,n=>Cd(n).flatMap(e=>Nm(e.aktiviteter)).filter(e=>e)||[]),T5=pt(Od,n=>(Cd(n)||[]).map(t=>({id:t.id,aktiviteter:Nm(t.aktiviteter)}))),A5=pf.getInitialState({status:ee.NOT_STARTED});function so(n,e){const t=kE(n,e.oppfolgingsperiodeId);return pf.upsertOne(n,{id:t.id,aktiviteter:hf.upsertOne(t.aktiviteter,e),start:t.start,slutt:t.slutt})}const kE=(n,e)=>E5(n,e)||{id:e,aktiviteter:hf.getInitialState(),start:"NaN",slutt:void 0},C5=Vr({name:"aktivitet",initialState:A5,reducers:{},extraReducers:n=>{n.addCase(Oi.fulfilled,(e,t)=>{e.status=ee.OK;const r=t.payload.data.perioder.map(s=>{const i=kE(e,s.id);return{id:s.id,aktiviteter:hf.upsertMany(i.aktiviteter,s.aktiviteter),start:s.start,slutt:s.slutt}});pf.upsertMany(e,r)}),n.addCase(sd.fulfilled,(e,t)=>{const r=t.payload.data.aktivitet,s=t.payload.data.eier;!Cd(e).map(o=>Nm(o.aktiviteter).map(l=>l.id)).flat().includes(r.id)&&(_5(),h5(s.fnr)),so(e,r)}),n.addCase(af.fulfilled,(e,t)=>{mo(oa.Aktivitet),so(e,t.payload)}),n.addCase(Tm.fulfilled,(e,t)=>{mo(oa.Aktivitet),so(e,t.payload)}),n.addCase(Td.fulfilled,(e,t)=>{mo(oa.Aktivitet),so(e,t.payload)}),n.addMatcher(Ys(sf.fulfilled,xd.fulfilled,Ad.fulfilled),(e,t)=>so(e,t.payload)),n.addMatcher(Ys(Is.fulfilled,Po.fulfilled,el.fulfilled),(e,t)=>(mo(oa.Aktivitet),so(e,t.payload))),n.addMatcher(Ys(Oi.rejected,sd.rejected),e=>{e.status=ee.ERROR})}}),O5=C5.reducer,D5={data:[]},yE=Vr({name:"aktivitetsview",initialState:D5,reducers:{settAktivitetSomVist:(n,e)=>{n.data=[...n.data,e.payload]}}}),{settAktivitetSomVist:j5}=yE.actions,R5=yE.reducer,I5={data:[],status:ee.NOT_STARTED},wk=(n,e)=>{const t=n.data.findIndex(s=>s.id===e.id),r=[...n.data];return r[t]=e,{...n,data:r}},gf=Vr({name:"arenaAktivitet",initialState:I5,reducers:{},extraReducers:n=>{n.addCase(ji.fulfilled,(e,t)=>{e.data=t.payload,e.status=ee.OK}),n.addCase(ji.rejected,e=>{e.status=ee.ERROR}),n.addCase(_E.fulfilled,(e,t)=>(mo(oa.Aktivitet),wk({...e},t.payload))),n.addCase(wE.fulfilled,(e,t)=>(mo(oa.Aktivitet),wk({...e},t.payload)))}}),ji=dt(`${gf.name}/fetchArenaAktiviteter`,async()=>await vI()),N5=["TA","UA","GA","ARENATA","ARENAUA","ARENAGA"],Pm=n=>N5.some(e=>n.startsWith(e)),_E=dt(`${gf.name}/oppdater`,async({arenaAktivitet:n,forhaandsorientering:e,oppfolgingsPeriodeId:t})=>Pm(n.id)?await bI({arenaaktivitetId:n.id,forhaandsorientering:e,oppfolgingsPeriodeId:t}):await Kw(n.id,n.versjon.toString(),e)),wE=dt(`${gf.name}/fho/lest`,async n=>{if(Pm(n.id))return await kI(n.id);{const e=await zw(n.id,n.versjon.toString());return{...n,forhaandsorientering:e.forhaandsorientering}}}),P5=gf.reducer,EE=n=>n.data.feature,M5=["aktivitetsplan.tryggtekst","aktivitetsplan.journalforing"],L5=M5.map(n=>"feature="+n).join("&"),F5=n=>{const e=kt();y.useEffect(()=>{e(xE())},[]);const{status:t,data:r}=W(EE);return t===ee.OK&&r&&r[n]};function V5(){return rf(`${un}/feature?${L5}`)}const B5={"aktivitetsplan.tryggtekst":!1},SE=$i({name:"feature",initialState:{data:B5,status:ee.NOT_STARTED},reducers:{}}),xE=dt(`${SE.name}/fetchFeatures`,async()=>await V5()),H5=SE.reducer,U5={data:{},status:ee.NOT_STARTED},Mm=Vr({name:"mal",initialState:U5,reducers:{},extraReducers:n=>{n.addCase(ga.pending,e=>{e.status=e.status===ee.NOT_STARTED?ee.PENDING:ee.RELOADING}),n.addCase(ga.fulfilled,(e,t)=>{e.status=ee.OK,e.data=t.payload}),n.addCase(ga.rejected,e=>{e.status=ee.ERROR}),n.addCase(Dd.fulfilled,(e,t)=>{e.data=t.payload})}}),ga=dt(`${Mm.name}/fetchMal`,async()=>{const n=ns(rs.FNR);return await $I(n??void 0)}),Dd=dt(`${Mm.name}/oppdaterMal`,async n=>{const e=ns(rs.FNR);return await zI(n.mal,e??void 0)}),$5=Mm.reducer,K5=[Is.rejected.type,af.rejected.type,xm.rejected.type,xd.rejected.type,Ad.rejected.type,Td.rejected.type,Po.rejected.type,el.rejected.type,sf.rejected.type,Tm.rejected.type,Dd.rejected.type],TE=Vr({name:"feil",initialState:{},reducers:{fjernDismissableErrors:n=>{K5.forEach(e=>{delete n[e]})}},extraReducers:n=>{n.addMatcher(e=>Pw(e)&&Qu(e),(e,t)=>{e[t.type]={...t.error,type:t.type}}),n.addMatcher(Ys(Sa,Nw),(e,t)=>{const r=t.type.replace("pending","rejected").replace("fulfilled","rejected");delete e[r]})}}),{fjernDismissableErrors:Pq}=TE.actions,z5=TE.reducer,W5={aktivitetTyper:{ARENA_TILTAK:!1,BEHANDLING:!1,EGEN:!1,GRUPPEAKTIVITET:!1,IJOBB:!1,MOTE:!1,SAMTALEREFERAT:!1,SOKEAVTALE:!1,STILLING:!1,STILLING_FRA_NAV:!1,TILTAKSAKTIVITET:!1,UTDANNINGSAKTIVITET:!1,MIDLERTIDIG_LONNSTILSKUDD:!1,VARIG_LONNSTILSKUDD:!1,ARBEIDSTRENING:!1,VARIG_TILRETTELAGT_ARBEID_I_ORDINAER_VIRKSOMHET:!1,MENTOR:!1,REKRUTTERINGSTREFF:!1,ENKELAMO:!1,ENKFAGYRKE:!1,HOYEREUTD:!1},aktivitetEtiketter:{AVSLAG:!1,CV_DELT:!1,IKKE_FATT_JOBBEN:!1,INGEN_VALGT:!1,INNKALT_TIL_INTERVJU:!1,JOBBTILBUD:!1,SKAL_PAA_INTERVJU:!1,SOKNAD_SENDT:!1,VENTER:!1},arenaAktivitetEtiketter:{AKTUELL:!1,AVSLAG:!1,IKKAKTUELL:!1,IKKEM:!1,INFOMOETE:!1,JATAKK:!1,NEITAKK:!1,TILBUD:!1,VENTELISTE:!1},aktivitetAvtaltMedNav:{AVTALT_MED_NAV:!1,IKKE_AVTALT_MED_NAV:!1}},AE=Vr({name:"filter",initialState:W5,reducers:{toggleAktivitetsType:(n,e)=>{n.aktivitetTyper[e.payload]=!n.aktivitetTyper[e.payload]},toggleAktivitetsEtikett:(n,e)=>{n.aktivitetEtiketter[e.payload]=!n.aktivitetEtiketter[e.payload]},toggleArenaAktivitetsEtikett:(n,e)=>{n.arenaAktivitetEtiketter[e.payload]=!n.arenaAktivitetEtiketter[e.payload]},toggleAktivitetAvtaltMedNav:(n,e)=>{n.aktivitetAvtaltMedNav[e.payload]=!n.aktivitetAvtaltMedNav[e.payload]}}}),{toggleAktivitetsEtikett:CE,toggleArenaAktivitetsEtikett:OE,toggleAktivitetsType:DE,toggleAktivitetAvtaltMedNav:jE}=AE.actions,G5=AE.reducer,RE=$i({name:"identitet",initialState:{data:{},status:ee.NOT_STARTED},reducers:{}}),Lm=dt(`${RE.name}/fetchIdentitet`,async()=>await BI()),Y5=RE.reducer,q5=()=>{const n=ns(rs.FNR);return On(`${Bw}/aktivitetsplan/les`,{fnr:n})},X5=n=>Br(`${Bw}/informasjon/les?versjon=${n}`),IE=$i({name:"lest",initialState:{data:[],status:ee.NOT_STARTED},reducers:{}}),NE=dt(`${IE.name}/fetchSisteLest`,async()=>await q5()),Z5=IE.reducer,PE=$i({name:"malListe",initialState:{data:[],status:ee.NOT_STARTED},reducers:{}}),mf=dt(`${PE.name}/fetchMalListe`,async()=>{const n=ns(rs.FNR);return await KI(n??void 0)}),J5=PE.reducer,Q5=()=>rf(`${sI}/veileder/me`),ME=$i({name:"veileder",reducers:{}}),eM=dt(`${ME.name}/fetchVeilederInfo`,async()=>await Q5()),tM=ME.reducer,jd=Vr({name:"arkiv",initialState:{forhaandsvisningStatus:ee.NOT_STARTED,forhaandsvisningSendTilBrukerStatus:ee.NOT_STARTED},reducers:{},extraReducers:n=>{n.addCase(Nc.pending,e=>{e.forhaandsvisningStatus=e.forhaandsvisningStatus===ee.NOT_STARTED?ee.PENDING:ee.RELOADING,e.journalfringStatus=ee.NOT_STARTED}),n.addCase(Nc.fulfilled,(e,t)=>{e.forhaandsvisning=t.payload,e.forhaandsvisningStatus=ee.OK}),n.addCase(Nc.rejected,e=>{e.forhaandsvisningStatus=ee.ERROR}),n.addCase(Kl.pending,e=>{e.forhaandsvisningSendTilBrukerStatus=e.forhaandsvisningSendTilBrukerStatus===ee.NOT_STARTED?ee.PENDING:ee.RELOADING,e.sendTilBrukerStatus=ee.NOT_STARTED}),n.addCase(Kl.fulfilled,(e,t)=>{e.forhaandsvisningSendTilBruker=t.payload,e.forhaandsvisningSendTilBrukerStatus=ee.OK}),n.addCase(Kl.rejected,e=>{e.forhaandsvisningSendTilBrukerStatus=ee.ERROR}),n.addCase(Ic.pending,e=>{e.journalfringStatus=e.journalfringStatus===ee.NOT_STARTED?ee.PENDING:ee.RELOADING}),n.addCase(Ic.rejected,e=>{e.journalfringStatus=ee.ERROR}),n.addCase(Ic.fulfilled,(e,t)=>{e.forhaandsvisning&&(e.forhaandsvisning.sistJournalfrt=t.payload.sistJournalfrt),e.journalfringStatus=ee.OK}),n.addCase(Pc.pending,e=>{e.sendTilBrukerStatus=e.sendTilBrukerStatus===ee.NOT_STARTED?ee.PENDING:ee.RELOADING}),n.addCase(Pc.rejected,e=>{e.sendTilBrukerStatus=ee.ERROR}),n.addCase(Pc.fulfilled,e=>{e.sendTilBrukerStatus=ee.OK})}}),Ic=dt(`${jd.name}/journalfoering`,async({forhaandsvisningOpprettet:n,journalfrendeEnhetId:e,oppfolgingsperiodeId:t,uuidCachetPdf:r})=>await yI(t,n,e,r));function LE(n){return n.data.arkiv.journalfringStatus}const Nc=dt(`${jd.name}/forhaandsvisning`,async({oppfolgingsperiodeId:n,journalfrendeEnhetId:e})=>await _I(n,e)),Kl=dt(`${jd.name}/forhaandsvisning-send-til-bruker`,async({oppfolgingsperiodeId:n,filter:e,journalfrendeEnhetId:t,tekstTilBruker:r})=>await EI(n,e,t,r)),Pc=dt(`${jd.name}/send-til-bruker`,async({forhaandsvisningOpprettet:n,journalfrendeEnhetId:e,oppfolgingsperiodeId:t,filter:r,tekstTilBruker:s,uuidCachetPdf:i})=>await wI(t,n,e,r,i,s));function FE(n){return n.data.arkiv.sendTilBrukerStatus}function VE(n){return n.data.arkiv.forhaandsvisningStatus}function nM(n){return n.data.arkiv.forhaandsvisningSendTilBrukerStatus}function rM(n){return n.data.arkiv?.forhaandsvisning?.pdf}function sM(n){return n.data.arkiv?.forhaandsvisningSendTilBruker?.pdf}function iM(n){return n.data.arkiv?.forhaandsvisning?.forhaandsvisningOpprettet}function aM(n){return n.data.arkiv?.forhaandsvisningSendTilBruker?.forhaandsvisningOpprettet}function oM(n){return n.data.arkiv?.forhaandsvisning?.uuidCachetPdf}function lM(n){return n.data.arkiv?.forhaandsvisningSendTilBruker?.uuidCachetPdf}function dM(n){return n.data.arkiv?.forhaandsvisning?.sistJournalfrt}const cM=jd.reducer,BE=$i({name:"innsynsrett",reducers:{}}),uM=dt(`${BE.name}/fetchInnsynsrett`,async()=>await cI()),fM=BE.reducer,HE=Vr({name:"valgtPeriodeSlice",initialState:{valgtPeriodeId:null},reducers:{velgPeriode:(n,e)=>{n.valgtPeriodeId=e.payload}}}),{velgPeriode:Ek}=HE.actions,hM=n=>n.data.valgtPeriode,nl=pt(hM,n=>n.valgtPeriodeId),pM=HE.reducer;async function gM(n,e){return await fetch("/tryggtekst/proxy/completion",{method:"POST",body:JSON.stringify({payload:n,...e&&{trackingID:e}}),headers:{Pragma:"no-cache","Cache-Control":"no-cache","Content-Type":"application/json"}}).then(t=>{if(t.ok)return t.json();throw new Error("Network response was not ok")}).then(t=>{const{referatId:r,...s}=t;return{...s,tryggTekstReferatId:r}}).catch(t=>(console.log(t),t))}const UE=async(n,e)=>{if(!n)return{kategorier:[],feilmedling:"",tryggTekstReferatId:void 0};const t=await gM(n,e),r=JSON.parse(t.content);console.log("containsSensitive",r);let s="",i=[];return r.kategorier&&r.kategorier.length>0?(i=r.kategorier.map(a=>({kategori:a.kategori,trigger:a.trigger})),s=` Det ser ut som du har skrevet inn personopplysninger om ${i.map(a=>a.kategori).join(", ")} i skjemaet.`):s="",{kategorier:i,feilmedling:s,tryggTekstReferatId:t.tryggTekstReferatId}},vf=$i({name:"trykkTekst",reducers:{nullstillTryggTekst:()=>({status:"NOT_STARTED",data:void 0})}}),mM=dt(`${vf.name}/postSjekkForPersonopplysninger`,async({tekst:n,tryggTekstReferatId:e})=>await UE(n,e)),Xp=dt(`${vf.name}/notifiserTryggTekstVedLagring`,async(n,{getState:e})=>{const r=e().data.tryggTekst.data?.tryggTekstReferatId;if(r)return await UE(n,r)}),{nullstillTryggTekst:vM}=vf.actions,bM=vf.reducer,kM={data:Rp({aktiviteter:O5,arenaAktiviteter:P5,dialog:VI,filter:G5,identitet:Y5,mal:$5,malListe:J5,oppfolging:qI,arkiv:cM,lest:Z5,veileder:tM,eskaleringsvarsel:LI,feature:H5,errors:z5,innsynsrett:fM,valgtPeriode:pM,tryggTekst:bM}),view:Rp({visteAktiviteterMedEndringer:R5,dragAndDrop:f5})};let $E=null;const yM=(n=void 0)=>{const e=CR({reducer:kM,preloadedState:n});return $E=e,e},tu="aktivitetsplan-state",Mq=n=>{if(!n)return;const e=sessionStorage.getItem(tu);if(e)try{const t=JSON.parse(e);if(n===t.data.oppfolging?.data?.fnr)return JSON.parse(e);sessionStorage.removeItem(tu);return}catch(t){console.warn(t);return}},Lq=()=>{const n=$E?.getState();sessionStorage.setItem(tu,JSON.stringify(n))},Fq=()=>sessionStorage.removeItem(tu),KE=w.createContext(!1),yt=()=>y.useContext(KE),zE=w.createContext({fnr:void 0,aktivEnhet:void 0}),Mo=()=>y.useContext(zE),_M=n=>{},Vq=({children:n,setFnrRef:e,fnr:t,aktivEnhet:r,preloadedState:s})=>{const[i,a]=y.useState(t),[o,l]=y.useState(r);y.useEffect(()=>(e&&e(a),()=>{e&&e(_M)}),[]);const d=y.useMemo(()=>yM(s),[i]);return f.jsx(zE.Provider,{value:{fnr:i,aktivEnhet:o},children:f.jsx(KE.Provider,{value:Bg,children:f.jsx(Mj,{store:d,children:f.jsx(hP,{backend:a5,children:f.jsx(o5,{children:n})})})})})};function Bq({createRoutesForUser:n}){const e=yt(),t=kt(),{aktivEnhet:r}=Mo(),s=n(t,e,r);return f.jsxs("div",{className:"aktivitetsplanfs",id:l_,children:[f.jsx("div",{className:"aktivitetsplan-wrapper w-full",children:f.jsx(R2,{router:s})}),f.jsx(XI,{})]})}const hn=(n,...e)=>Object.entries(n).filter(([t,r])=>e.includes(t)).map(([t,r])=>r),Hn=n=>n.data.errors,wM=[of.rejected.type,Lm.rejected.type,Oi.rejected.type,ji.rejected.type,NE.rejected.type,Os.rejected.type,Is.rejected.type],EM=pt(Hn,n=>hn(n,...wM)),SM=pt(Hn,n=>hn(n,af.rejected.type)),xM=pt(Hn,n=>hn(n,Is.rejected.type)),TM=pt(Hn,n=>hn(n,xd.rejected.type)),AM=pt(Hn,n=>hn(n,Ad.rejected.type)),CM=pt(Hn,n=>hn(n,sf.rejected.type)),OM=pt(Hn,n=>hn(n,Td.rejected.type)),DM=pt(Hn,n=>hn(n,Oi.rejected.type,Os.rejected.type).length===0),jM=pt(Hn,n=>hn(n,ga.rejected.type,mf.rejected.type)),RM=pt(Hn,n=>hn(n,Dd.rejected.type)),IM=pt(Hn,n=>hn(n,el.rejected.type)),NM=pt(Hn,n=>hn(n,el.rejected.type,Po.rejected.type)),PM=typeof window<"u"&&window.matchMedia===void 0,MM=(n,e)=>{const[t,r]=y.useState(e);return y.useEffect(()=>{if(PM)return;const s=window.matchMedia(n);r(s.matches);const i=a=>{r(a.matches)};return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[n]),t};function WE(n,e=166,t=!1){const r=new HA;function s(...i){const a=()=>{n.apply(this,i)};!r.isStarted()&&t&&a(),r.start(e,a)}return s.clear=r.clear,s}const Fm=y.createContext({headingSize:"small",size:"medium",openItems:[],mounted:!1});var LM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Vm=y.createContext(null),FM=y.forwardRef((n,e)=>{var{children:t,className:r,open:s,defaultOpen:i=!1,onOpenChange:a}=n,o=LM(n,["children","className","open","defaultOpen","onOpenChange"]);const[l,d]=xi({defaultValue:i,value:s,onChange:a}),c=y.useContext(Fm),{cn:u}=_e(),h=y.useRef(!(s||i)),p=()=>{d(v=>!v),h.current=!0};return c?.mounted||console.error("<Accordion.Item> has to be used within an <Accordion>"),w.createElement("div",Object.assign({className:u("navds-accordion__item",r,{"navds-accordion__item--open":l,"navds-accordion__item--neutral":c?.variant==="neutral","navds-accordion__item--no-animation":!h.current}),"data-expanded":l,ref:e},Ti(o,["onClick"])),w.createElement(Vm.Provider,{value:{open:l,toggleOpen:p}},t))});var VM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const BM=y.forwardRef((n,e)=>{var{children:t,className:r}=n,s=VM(n,["children","className"]);const i=y.useContext(Vm),a=wr(),{cn:o}=_e();return i===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):w.createElement(br,Object.assign({},s,{as:"div",ref:e,className:o("navds-accordion__content",{"navds-accordion__content--closed":!i.open},r)}),a?.isDarkside?w.createElement("div",{className:o("navds-accordion__content-inner")},t):t)});var HM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const UM=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=HM(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",d:"M18.746 7.25A8.25 8.25 0 1 0 20.25 12a.75.75 0 0 1 1.5 0c0 5.385-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25a9.73 9.73 0 0 1 7.75 3.833V3.5a.75.75 0 0 1 1.5 0V8a.75.75 0 0 1-.75.75H16a.75.75 0 0 1 0-1.5z"}))});var $M=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const KM=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=$M(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",d:"M8.97 6.97a.75.75 0 1 1 1.06 1.06l-3.22 3.22H19a.75.75 0 0 1 0 1.5H6.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06z"}))});var zM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const WM=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=zM(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",d:"M14.088 6.873a.75.75 0 0 1 .942.097l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 0 1-1.06-1.06l3.22-3.22H5a.75.75 0 0 1-.75-.74V12a.75.75 0 0 1 .75-.75h12.19l-3.22-3.22a.75.75 0 0 1 .118-1.157"}))});var GM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const YM=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=GM(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.47 21.03a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 1 0-1.06-1.06l-2.22 2.22V9.5a.75.75 0 0 0-1.5 0v9.19l-2.22-2.22a.75.75 0 1 0-1.06 1.06zM4.03 7.53l2.22-2.22v9.19a.75.75 0 0 0 1.5 0V5.31l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06",clipRule:"evenodd"}))});var qM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const XM=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=qM(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 7.5c0-.69.56-1.25 1.25-1.25h4.25V5c0-.966.784-1.75 1.75-1.75h5c.966 0 1.75.784 1.75 1.75v1.25h4.25c.69 0 1.25.56 1.25 1.25v5c0 .69-.56 1.25-1.25 1.25h-.25v4.75c0 .69-.56 1.25-1.25 1.25H5c-.69 0-1.25-.56-1.25-1.25v-4.75H3.5c-.69 0-1.25-.56-1.25-1.25zm7-2.5a.25.25 0 0 1 .25-.25h5a.25.25 0 0 1 .25.25v1.25h-5.5zM12 15.75a.75.75 0 0 0 .75-.75v-1.25h6v4.5H5.25v-4.5h6V15c0 .414.336.75.75.75m0-5.5a.75.75 0 0 1 .75.75v1.25h7.5v-4.5H3.75v4.5h7.5V11a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))});var ZM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const JM=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=ZM(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 6c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v9c0 .69-.56 1.25-1.25 1.25H9a.75.75 0 0 0-.386.107L4.75 18.675zM6 3.25A2.75 2.75 0 0 0 3.25 6v14a.75.75 0 0 0 1.136.643l4.822-2.893H18A2.75 2.75 0 0 0 20.75 15V6A2.75 2.75 0 0 0 18 3.25zm3 6.5a.75.75 0 0 0 0 1.5h.01a.75.75 0 0 0 0-1.5zm2.25.75a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75M15 9.75a.75.75 0 0 0 0 1.5h.01a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var QM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const e3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=QM(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 21.75c5.385 0 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25 2.25 6.615 2.25 12s4.365 9.75 9.75 9.75m4.954-12.475a.813.813 0 0 0-1.24-1.05l-5.389 6.368L7.7 11.967a.812.812 0 0 0-1.15 1.15l3.25 3.25a.81.81 0 0 0 1.195-.05z",clipRule:"evenodd"}))});var t3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const GE=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=t3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.53 5.97a.75.75 0 0 1 0 1.06L9.56 12l4.97 4.97a.75.75 0 1 1-1.06 1.06l-5.5-5.5a.75.75 0 0 1 0-1.06l5.5-5.5a.75.75 0 0 1 1.06 0",clipRule:"evenodd"}))});var n3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const bf=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=n3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 5.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 0 1 0 1.06l-5.5 5.5a.75.75 0 1 1-1.06-1.06L14.44 12 9.47 7.03a.75.75 0 0 1 0-1.06",clipRule:"evenodd"}))});var r3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const s3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=r3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var i3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const a3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=i3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.364 2.344a.75.75 0 0 0-.728 0l-9 5A.75.75 0 0 0 2.25 8v11c0 .414.336.75.75.75h18a.75.75 0 0 0 .75-.75V8a.75.75 0 0 0-.386-.656zM3.75 17.19l5.088-5.088L3.75 9.275zM4.544 8l5.85 3.25h3.212L19.456 8 12 3.858zm10.618 4.102 5.088 5.087V9.275zm4.027 6.148-5.5-5.5h-3.378l-5.5 5.5z",clipRule:"evenodd"}))});var o3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const l3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=o3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.526-17.25A.75.75 0 0 1 12 2.25M12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m-1 7.75a1 1 0 1 1 2 0 1 1 0 0 1-2 0",clipRule:"evenodd"}))});var d3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const c3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=d3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.5 2.25a.75.75 0 0 1 .75.75v2.25H17a.75.75 0 0 1 .6.3l3 4c.2.267.2.633 0 .9l-3 4a.75.75 0 0 1-.6.3h-4.75V21a.75.75 0 0 1-1.5 0v-6.25H4a.75.75 0 0 1-.6-1.2L6.063 10 3.4 6.45a.75.75 0 0 1 .6-1.2h6.75V3a.75.75 0 0 1 .75-.75m-3.9 8.2-2.1 2.8h11.125L19.063 10l-2.438-3.25H5.5l2.1 2.8c.2.267.2.633 0 .9",clipRule:"evenodd"}))});var u3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const f3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=u3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 4A.75.75 0 0 1 4 3.25h16a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-.75.75H4a.75.75 0 0 1-.75-.75zM11 7.75a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-1.25 3a.75.75 0 0 1 .75-.75H12a.75.75 0 0 1 .75.75v4.75h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5h.75v-4h-.75a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var h3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const p3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=h3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.638 4.417a3.25 3.25 0 0 0-4.608-.008l-9.378 9.379a.75.75 0 0 0-.191.324l-1.414 4.95a.75.75 0 0 0 .925.927l4.94-1.398a.75.75 0 0 0 .327-.191l9.39-9.391a3.25 3.25 0 0 0 .01-4.592M16.091 5.47a1.752 1.752 0 1 1 2.478 2.478l-.23.23-2.477-2.479zM14.8 6.76 6.85 14.71l-.991 3.47 3.457-.979 7.963-7.963z",clipRule:"evenodd"}))});var g3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const m3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=g3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.75 3.75v16.5h12.5V3.75zm-1.5-.25c0-.69.56-1.25 1.25-1.25h13c.69 0 1.25.56 1.25 1.25v17c0 .69-.56 1.25-1.25 1.25h-13c-.69 0-1.25-.56-1.25-1.25zM12 7.25a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5M8.25 9.5a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0m1.805 7.055a2.75 2.75 0 0 1 4.667 1.552.75.75 0 1 0 1.484-.214 4.25 4.25 0 0 0-8.413 0 .75.75 0 0 0 1.485.214 2.75 2.75 0 0 1 .777-1.552",clipRule:"evenodd"}))});var v3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const b3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=v3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))});var k3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const y3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=k3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 2.25a.75.75 0 0 0-.75.75v4.25H4A1.75 1.75 0 0 0 2.25 9v9c0 .414.336.75.75.75h3.25V21c0 .414.336.75.75.75h10a.75.75 0 0 0 .75-.75v-2.25H21a.75.75 0 0 0 .75-.75V9A1.75 1.75 0 0 0 20 7.25h-2.25V3a.75.75 0 0 0-.75-.75zM3.75 9A.25.25 0 0 1 4 8.75h16a.25.25 0 0 1 .25.25v8.25h-2.5V12a.75.75 0 0 0-.75-.75H7a.75.75 0 0 0-.75.75v5.25h-2.5zm12.5-1.75v-3.5h-8.5v3.5zm-8.5 5.5v7.5h8.5v-7.5zM9.25 15a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75m0 3a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H10a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var _3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const w3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=_3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.03 18.53a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06l2.22 2.22V6a.75.75 0 0 1 1.5 0v10.19l2.22-2.22a.75.75 0 1 1 1.06 1.06zM2.75 6.25a.75.75 0 0 0 0 1.5h9.5a.75.75 0 0 0 0-1.5zm0 5a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5zM2 17a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5A.75.75 0 0 1 2 17",clipRule:"evenodd"}))});var E3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const S3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=E3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.03 5.47a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 1 0 1.06 1.06l2.22-2.22V18a.75.75 0 0 0 1.5 0V7.81l2.22 2.22a.75.75 0 1 0 1.06-1.06zM2.75 17.75a.75.75 0 0 1 0-1.5h9.5a.75.75 0 0 1 0 1.5zm0-5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zM2 7c0 .414.336.75.75.75h5.5a.75.75 0 0 0 0-1.5h-5.5A.75.75 0 0 0 2 7",clipRule:"evenodd"}))});var x3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const T3=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=x3(n,["title","titleId"]);let i=nn();return i=t?r||"title-"+i:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?w.createElement("title",{id:i},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.742 2.47a.75.75 0 0 1 .53-.22h7.456a.75.75 0 0 1 .53.22l5.272 5.272c.141.14.22.331.22.53v7.456a.75.75 0 0 1-.22.53l-5.272 5.272a.75.75 0 0 1-.53.22H8.272a.75.75 0 0 1-.53-.22L2.47 16.258a.75.75 0 0 1-.22-.53V8.272a.75.75 0 0 1 .22-.53zm1.288 5.5a.75.75 0 0 0-1.06 1.06L10.94 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06L12 13.06l2.97 2.97a.75.75 0 1 0 1.06-1.06L13.06 12l2.97-2.97a.75.75 0 0 0-1.06-1.06L12 10.94z",clipRule:"evenodd"}))});var A3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const C3=y.forwardRef((n,e)=>{var t,{children:r,className:s,onClick:i}=n,a=A3(n,["children","className","onClick"]);const o=y.useContext(Vm),l=y.useContext(Fm),d=wr(),{cn:c}=_e();if(o===null)return console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null;let u=(t=l?.headingSize)!==null&&t!==void 0?t:"small";return d?.isDarkside&&(u=l?.size==="large"?"small":"xsmall"),w.createElement("button",Object.assign({ref:e},a,{className:c("navds-accordion__header",s),onClick:it(i,o.toggleOpen),"aria-expanded":o.open,type:"button"}),w.createElement("span",{className:c("navds-accordion__icon-wrapper")},w.createElement(Iu,{className:c("navds-accordion__header-chevron"),"aria-hidden":!0})),w.createElement(Ve,{size:u,as:"span",className:c("navds-accordion__header-content")},r))});var O3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ue=y.forwardRef((n,e)=>{var{className:t,variant:r="default",headingSize:s="small",size:i="medium",indent:a=!0}=n,o=O3(n,["className","variant","headingSize","size","indent"]);const{cn:l}=_e();return w.createElement(Fm.Provider,{value:{variant:r,headingSize:s,size:i,mounted:!0}},w.createElement("div",Object.assign({},o,{className:l("navds-accordion",t,`navds-accordion--${i}`,{"navds-accordion--indent":a}),ref:e})))});ue.Header=C3;ue.Content=BM;ue.Item=FM;const D3=n=>{if(!w.isValidElement(n))throw Error(`Expected a single React Element child, but got: ${w.Children.toArray(n).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return n};var j3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Sk=y.createContext(null),R3=y.forwardRef((n,e)=>{var t,{rootElement:r,children:s}=n,i=j3(n,["rootElement","children"]);const a=(t=UA())===null||t===void 0?void 0:t.rootElement,o=y.useContext(Sk),[l,d]=w.useState(null),[c,u]=w.useState(null),h=w.useRef(null),p=Cn(e,u);return Zr(()=>{var v,g,m;if((r??a)===null){h.current&&(h.current=null,u(null),d(null));return}const b=(g=(v=r??o)!==null&&v!==void 0?v:a)!==null&&g!==void 0?g:(m=globalThis?.document)===null||m===void 0?void 0:m.body;if(b===null){h.current&&(h.current=null,u(null),d(null));return}h.current!==b&&(h.current=b,u(null),d(b))},[o,a,r]),l?kd.createPortal(w.createElement(I3,Object.assign({ref:p},i,{"data-aksel-portal":""}),w.createElement(Sk.Provider,{value:c},s)),l):null}),I3=y.forwardRef((n,e)=>{const t=wr();return t?.isDarkside?w.createElement($A,{theme:t?.theme,asChild:!0,hasBackground:!1,"data-color":t?.color},w.createElement("div",Object.assign({ref:e},n))):w.createElement("div",Object.assign({ref:e},n))});let yl=new WeakMap,_l=new WeakMap,ic=new WeakSet,Th=0;const Ah="aria-hidden",xk="data-aksel-hidden";function YE(n){return n&&(n.host||YE(n.parentNode))}function N3(n,e){return e.map(t=>{if(n.contains(t))return t;const r=YE(t);return n.contains(r)?r:null}).filter(t=>t!==null)}function P3(n,e){const t=N3(e,n),r=new Set,s=new Set(t),i=[];t.forEach(a),o(e),r.clear();function a(l){!l||r.has(l)||(r.add(l),l.parentNode&&a(l.parentNode))}function o(l){if(!l||s.has(l))return;const d=l.children;for(let c=0;c<d.length;c+=1){const u=d[c];if(r.has(u))o(u);else{const h=u.getAttribute(Ah),p=h!==null&&h!=="false",v=(yl.get(u)||0)+1,g=(_l.get(u)||0)+1;yl.set(u,v),_l.set(u,g),i.push(u),v===1&&p&&ic.add(u),g===1&&u.setAttribute(xk,""),p||u.setAttribute(Ah,"true")}}}return Th+=1,()=>{for(const l of i){const c=(yl.get(l)||0)-1,u=(_l.get(l)||0)-1;yl.set(l,c),_l.set(l,u),c||(ic.has(l)||l.removeAttribute(Ah),ic.delete(l)),u||l.removeAttribute(xk)}Th-=1,Th||(yl=new WeakMap,ic=new WeakSet,_l=new WeakMap)}}function M3(n){const e=ko(n[0]).body,t=Array.from(e.querySelectorAll("[aria-live], script"));return P3(n.concat(t),e)}function Zp(n){const e=KA(L3,n).current;return e.next=n,Zr(e.effect),e}function L3(n){const e={current:n,next:n,effect:()=>{e.current=e.next}};return e}function Jp(n){return n===null?n:"current"in n?n.current:n}var F3=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const V3=y.forwardRef((n,e)=>{var{loop:t=!1,trapped:r=!1,initialFocus:s=!0,returnFocus:i=!0,modal:a=!1}=n,o=F3(n,["loop","trapped","initialFocus","returnFocus","modal"]);const l=Zp(s),d=Zp(i),c=y.useRef(null),[u,h]=y.useState(null),p=Cn(e,h),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(!r||!u)return;function m(E){if(v.paused||u===null)return;const S=E.target;u.contains(S)?c.current=S:io(c.current,{select:!0})}function b(E){if(v.paused||u===null)return;const S=E.relatedTarget;S!==null&&(u.contains(S)||io(c.current,{select:!0}))}const k=E=>{document.activeElement===document.body&&E.some(S=>S.removedNodes.length>0)&&io(u)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const _=new MutationObserver(k);return _.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),_.disconnect()}},[r,u,v.paused]),y.useEffect(()=>{if(!u)return;const m=ko(u),b=m.activeElement,k=b?.closest("[data-focus-boundary]");return z3(m.activeElement,k),Ck.add(v),()=>{setTimeout(()=>{Ck.remove(v)},0)}},[u,v]),y.useEffect(()=>()=>{u&&K3(u)},[u]),y.useEffect(()=>{if(!(!u||!a))return M3([u])},[u,a]),Zr(()=>{if(!u||l.current===!1)return;const b=ko(u).activeElement;queueMicrotask(()=>{const k=$3(qE(u)),_=l.current,E=typeof _=="function"?_():_;if(E===void 0||E===!1)return;let S;const T=k[0]||u;E===!0||E===null?S=T:S=Jp(E)||T,!u.contains(b)&&io(S,{preventScroll:S===u,sync:!1})})},[u,l]),Zr(()=>{if(!u)return;const m=ko(u);function b(){const k=d.current;let _=typeof k=="function"?k():k;if(_===void 0||_===!1)return null;if(_===null&&(_=!0),typeof _=="boolean"){const S=jk();return S?.isConnected?S:m.body}const E=jk()||m.body;return Jp(_)||E}return()=>{const k=b(),_=m.activeElement;queueMicrotask(()=>{d.current&&k&&k!==_&&k.focus({preventScroll:!0})})}},[u,d]);const g=y.useCallback(m=>{if(!t&&!r||v.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,k=document.activeElement;if(b&&k){const _=m.currentTarget,[E,S]=B3(_);if(!(E&&S)){k===_&&m.preventDefault();return}!m.shiftKey&&k===S?(m.preventDefault(),t&&io(E,{select:!0})):m.shiftKey&&k===E&&(m.preventDefault(),t&&io(S,{select:!0}))}},[t,r,v.paused]);return w.createElement(Ma,Object.assign({tabIndex:-1},o,{ref:p,onKeyDown:g,"data-focus-boundary":!0}))});function B3(n){const e=qE(n);return[Tk(e,n),Tk(e.reverse(),n)]}function qE(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Tk(n,e){for(const t of n)if(!H3(t,{upTo:e}))return t}function H3(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}let Ak=0;function io(n,{select:e=!1,preventScroll:t=!0,sync:r=!0}={}){if(!n?.focus)return;const s=document.activeElement;cancelAnimationFrame(Ak);const i=()=>n.focus({preventScroll:t});r?i():Ak=requestAnimationFrame(i),e&&n!==s&&n instanceof HTMLInputElement&&"select"in n&&n.select()}const Ck=U3();function U3(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Ok(n,e),n.unshift(e)},remove(e){var t;n=Ok(n,e),(t=n[0])===null||t===void 0||t.resume()}}}function Ok(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function $3(n){return n.filter(e=>e.tagName!=="A")}const Dk=10;let xs=[];const nu=new WeakMap;function XE(){xs=xs.filter(n=>n.isConnected)}function K3(n){const e=nu.get(n)||[];xs=xs.filter(t=>!e.includes(t)),nu.delete(n)}function z3(n,e){if(XE(),n&&n?.nodeName!=="BODY"){if(xs.push(n),e){const t=nu.get(e)||[];t.push(n),nu.set(e,t)}xs.length>Dk&&(xs=xs.slice(-Dk))}}function jk(){return XE(),xs[xs.length-1]}function Rk(n){return n.sort((e,t)=>{const r=e.compareDocumentPosition(t);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const W3=n=>typeof n=="object"&&"nodeType"in n&&n.nodeType===Node.ELEMENT_NODE;function Ik(n,e,t){let r=n+1;return t&&r>=e&&(r=0),r}function Nk(n,e,t){let r=n-1;return t&&r<0&&(r=e),r}const Ch=n=>n;class G3{constructor(){this.descendants=new Map,this.register=e=>{if(e!=null)return W3(e)?this.registerNode(e):t=>{this.registerNode(t,e)}},this.unregister=e=>{this.descendants.delete(e);const t=Rk(Array.from(this.descendants.keys()));this.assignIndex(t)},this.destroy=()=>{this.descendants.clear()},this.assignIndex=e=>{this.descendants.forEach(t=>{const r=e.indexOf(t.node);t.index=r,t.node.dataset.index=t.index.toString()})},this.count=()=>this.descendants.size,this.enabledCount=()=>this.enabledValues().length,this.values=()=>Array.from(this.descendants.values()).sort((t,r)=>t.index-r.index),this.enabledValues=()=>this.values().filter(e=>!e.disabled),this.item=e=>{if(this.count()!==0)return this.values()[e]},this.enabledItem=e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]},this.first=()=>this.item(0),this.firstEnabled=()=>this.enabledItem(0),this.last=()=>this.item(this.descendants.size-1),this.lastEnabled=()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)},this.indexOf=e=>{var t,r;return e&&(r=(t=this.descendants.get(e))===null||t===void 0?void 0:t.index)!==null&&r!==void 0?r:-1},this.enabledIndexOf=e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e)),this.next=(e,t=!0)=>{const r=Ik(e,this.count(),t);return this.item(r)},this.nextEnabled=(e,t=!0)=>{const r=this.item(e);if(!r)return;const s=this.enabledIndexOf(r.node),i=Ik(s,this.enabledCount(),t);return this.enabledItem(i)},this.prev=(e,t=!0)=>{const r=Nk(e,this.count()-1,t);return this.item(r)},this.prevEnabled=(e,t=!0)=>{const r=this.item(e);if(!r)return;const s=this.enabledIndexOf(r.node),i=Nk(s,this.enabledCount()-1,t);return this.enabledItem(i)},this.registerNode=(e,t)=>{if(!e)return;const r=this.descendants.get(e);if(r){this.descendants.set(e,Object.assign({index:r.index,node:e},t));return}const s=Array.from(this.descendants.keys()).concat(e),i=Rk(s);t?.disabled&&(t.disabled=!!t.disabled);const a=Object.assign({node:e,index:-1},t);this.descendants.set(e,a),this.assignIndex(i)}}}function Y3(){const{Provider:n,useContext:e}=Ds({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"}),t=Ch(i=>w.createElement(n,Object.assign({},i.value),i.children));function r(i){const a=e(),[o,l]=y.useState(-1),d=y.useRef(null);Zr(()=>()=>{d.current&&a.unregister(d.current)},[]),Zr(()=>{if(!d.current)return;const h=Number(d.current.dataset.index);o!==h&&!Number.isNaN(h)&&l(h)});const c=Ch(i?a.register(i):a.register),u=Cn(c,d);return{descendants:a,index:o,enabledIndex:a.enabledIndexOf(d.current),register:u}}function s(){return y.useRef(new G3).current}return[t,e,s,r]}function q3(n,e){const t=[],r=new Set,s=new Map;e.forEach((a,o)=>{a.forEach(l=>{l!==o&&s.set(l,o)})});const i=a=>{if(r.has(a))return;const o=s.get(a);if(o&&!r.has(o)&&(i(o),r.has(a)))return;r.add(a),t.push(a);const l=e.get(a);l&&l.forEach(i)};return n.forEach(i),t}function X3(n,e=globalThis?.document,t=!0){const r=ss(n);y.useEffect(()=>{if(!t)return;const s=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",s),()=>{e.removeEventListener("keydown",s)}},[r,e,t])}const Bm={FOCUS_OUTSIDE:"AKSEL_FOCUS_OUTSIDE",POINTER_DOWN_OUTSIDE:"AKSEL_POINTER_DOWN_OUTSIDE",POINTER_UP_OUTSIDE:"AKSEL_POINTER_UP_OUTSIDE"};function Hm(n,e,t,{discrete:r}={discrete:!1}){if(!e)return;const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});s.addEventListener(n,e,{once:!0}),r&&s?kd.flushSync(()=>s.dispatchEvent(i)):s.dispatchEvent(i)}function Z3(n,e=globalThis?.document,t=!0){const r=ss(n),s=y.useRef(!1);return y.useEffect(()=>{if(!t)return;const i=a=>{if(a.target&&!s.current){const o={originalEvent:a};Hm(Bm.FOCUS_OUTSIDE,r,o)}};return e.addEventListener("focusin",i),()=>{e.removeEventListener("focusin",i)}},[e,r,t]),{onFocusCapture:()=>{s.current=!0},onBlurCapture:()=>{s.current=!1}}}function J3(n,e=globalThis?.document,t=!0){const r=ss(n),s=y.useRef(!1),i=y.useRef(()=>{}),a=bp();return y.useEffect(()=>{if(!t)return;const o=l=>{function d(){Hm(Bm.POINTER_DOWN_OUTSIDE,r,{originalEvent:l},{discrete:!0})}l.target&&!s.current?l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d():e.removeEventListener("click",i.current),s.current=!1};return a.start(0,()=>{e.addEventListener("pointerdown",o)}),()=>{e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,r,a,t]),{onPointerDownCapture:()=>{s.current=!0}}}function Q3(n,e=globalThis?.document,t=!0){const r=ss(n),s=y.useRef(!1);return y.useEffect(()=>{if(!t)return;const i=l=>{l.target&&!s.current&&Hm(Bm.POINTER_UP_OUTSIDE,r,{originalEvent:l},{discrete:!0}),s.current=!1},a=()=>{s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerup",i),e.addEventListener("pointercancel",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerup",i),e.removeEventListener("pointercancel",a)}},[e,r,t]),{onPointerDownCapture:()=>{s.current=!0},onPointerUpCapture:()=>{s.current=!0}}}var eL=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Pk=w.createContext(null),Qp="dismissableLayer.update";let Mk;const tL=w.createContext({layers:new Set,branchedLayers:new Map,layersWithOutsidePointerEventsDisabled:new Set}),ZE=y.forwardRef((n,e)=>{var{children:t,disableOutsidePointerEvents:r,onDismiss:s,onInteractOutside:i,onEscapeKeyDown:a,onFocusOutside:o,onPointerDownOutside:l,onPointerUpOutside:d,enablePointerUpOutside:c=!1,safeZone:u,asChild:h,enabled:p=!0}=n,v=eL(n,["children","disableOutsidePointerEvents","onDismiss","onInteractOutside","onEscapeKeyDown","onFocusOutside","onPointerDownOutside","onPointerUpOutside","enablePointerUpOutside","safeZone","asChild","enabled"]);const g=y.useContext(tL),m=y.useRef(!1),[,b]=y.useState({}),[k,_]=w.useState(null),E=Cn(e,_),S=ko(k),T=q3(g.layers,g.branchedLayers),x=nL(T,g.layersWithOutsidePointerEventsDisabled),A=k?T.indexOf(k):-1,O=g.layersWithOutsidePointerEventsDisabled.size>0,C=x===-1||A>=x;function D(F){if(!u?.anchor)return;const G=F.detail.originalEvent.type,B=F.target;(u.anchor.contains(B)||B===u.anchor)&&F.preventDefault(),G==="pointerdown"&&m.current===!0&&F.preventDefault(),m.current=!1}const I=J3(F=>{C&&(l?.(F),i?.(F),u&&D(F),!F.defaultPrevented&&s&&s(F))},S,p),U=Q3(F=>{!C||!c||(d?.(F),i?.(F),u&&D(F),!F.defaultPrevented&&s&&s(F))},S,p),H=Z3(F=>{o?.(F),i?.(F),u&&D(F),!F.defaultPrevented&&s&&s(F)},S,p);X3(F=>{A===g.layers.size-1&&(a?.(F),!F.defaultPrevented&&s&&(s(F),F.preventDefault()))},S,p),y.useEffect(()=>{if(!u?.anchor)return;const F=()=>{m.current=!0},G=()=>{m.current=!1},B=u.anchor;return B.addEventListener("pointerdown",F,{capture:!0}),B.addEventListener("pointerup",G),B.addEventListener("pointerleave",G),B.addEventListener("pointercancel",G),()=>{B.removeEventListener("pointerdown",F,{capture:!0}),B.removeEventListener("pointerup",G),B.removeEventListener("pointerleave",G),B.removeEventListener("pointercancel",G)}},[u?.anchor]),y.useEffect(()=>{if(!(!k||!p))return r&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Mk=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(k)),g.layers.add(k),ac(),()=>{r&&g.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Mk)}},[k,p,r,g,S]),y.useEffect(()=>()=>{k&&(g.layers.has(k)||g.layersWithOutsidePointerEventsDisabled.has(k))&&(g.layers.delete(k),g.layersWithOutsidePointerEventsDisabled.delete(k),ac())},[k,g,p]);const j=y.useContext(Pk);y.useEffect(()=>{if(!k||!p||!j||k===j)return;g.branchedLayers.has(j)||g.branchedLayers.set(j,new Set);const F=g.branchedLayers.get(j);return F.add(k),ac(),()=>{F.delete(k),F.size===0&&g.branchedLayers.delete(j),ac()}},[k,p,j,g]),y.useEffect(()=>{const F=()=>b({});return document.addEventListener(Qp,F),()=>document.removeEventListener(Qp,F)},[]);const V=h?Ma:"div";return w.createElement(Pk.Provider,{value:k},w.createElement(V,Object.assign({},v,{ref:E,style:Object.assign({pointerEvents:O?C?"auto":"none":void 0},v.style),onFocusCapture:it(v.onFocusCapture,H.onFocusCapture),onBlurCapture:it(v.onBlurCapture,H.onBlurCapture),onPointerDownCapture:it(v.onPointerDownCapture,()=>{I.onPointerDownCapture(),U.onPointerDownCapture()}),onPointerUpCapture:it(v.onPointerUpCapture,U.onPointerUpCapture)}),t))});function ac(){const n=new CustomEvent(Qp);document.dispatchEvent(n)}function nL(n,e){for(let t=n.length-1;t>=0;t-=1)if(e.has(n[t]))return t;return-1}function rL(n,e=!1){const t=w.useRef(null),r=w.useRef(null),s=y.useCallback(()=>{for(const i of[t,r])i.current!==null&&(cancelAnimationFrame(i.current),i.current=null)},[]);return y.useEffect(()=>()=>s(),[s]),ss((i,a=null)=>{s();const o=Jp(n);if(o!=null){if(typeof o.getAnimations!="function"||globalThis.AKSEL_NO_EXIT_ANIMATIONS){i();return}t.current=requestAnimationFrame(()=>{function l(){o&&Promise.allSettled(o.getAnimations().map(d=>d.finished)).then(()=>{a?.aborted||kd.flushSync(i)})}e?r.current=requestAnimationFrame(l):l()})}})}function sL(n){const{enabled:e=!0,open:t,ref:r=null,onComplete:s}=n,i=Zp(t),a=ss(s),o=rL(r,t);y.useEffect(()=>{e&&o(()=>{t===i.current&&a()})},[e,t,a,o,i])}function iL(n){return{name:"transformOrigin",options:n,fn(e){var t,r,s,i,a;const{placement:o,rects:l,middlewareData:d}=e,u=((t=d.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,h=u?0:n.arrowWidth,p=u?0:n.arrowHeight,[v,g]=JE(o),m={start:"0%",center:"50%",end:"100%"}[g],b=((s=(r=d.arrow)===null||r===void 0?void 0:r.x)!==null&&s!==void 0?s:0)+h/2,k=((a=(i=d.arrow)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0)+p/2;let _="",E="";return v==="bottom"?(_=u?m:`${b}px`,E=`${-p}px`):v==="top"?(_=u?m:`${b}px`,E=`${l.floating.height+p}px`):v==="right"?(_=`${-p}px`,E=u?m:`${k}px`):v==="left"&&(_=`${l.floating.width+p}px`,E=u?m:`${k}px`),{data:{x:_,y:E}}}}}function JE(n){const[e,t="center"]=n.split("-");return[e,t]}var QE=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const{Provider:aL,useContext:eS}=Ds({name:"FloatingContext"}),rl=({children:n})=>{const[e,t]=y.useState(null);return w.createElement(aL,{anchor:e,onAnchorChange:t},n)},oL=y.forwardRef((n,e)=>{var{virtualRef:t,asChild:r}=n,s=QE(n,["virtualRef","asChild"]);const i=eS(),a=y.useRef(null),o=Cn(e,a);y.useEffect(()=>{i.onAnchorChange(t?.current||a.current)});const l=r?Ma:"div";return t?null:w.createElement(l,Object.assign({ref:o},s))}),lL={top:"bottom",right:"left",bottom:"top",left:"right"},dL=({width:n,height:e,className:t})=>{const r=uL(),s=lL[r.placedSide];return w.createElement("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.hideArrow?"hidden":void 0},"aria-hidden":!0},w.createElement("svg",{className:t,width:n,height:e,viewBox:"0 0 30 10",preserveAspectRatio:"none",style:{display:"block"}},w.createElement("polygon",{points:"0,0 30,0 15,10"})))},{Provider:cL,useContext:uL}=Ds({name:"FloatingContentContext"}),fL=y.forwardRef((n,e)=>{var t,r,s,i,a,o,{children:l,side:d="bottom",sideOffset:c=0,align:u="center",alignOffset:h=0,avoidCollisions:p=!0,collisionBoundary:v=[],collisionPadding:g=0,hideWhenDetached:m=!1,updatePositionStrategy:b="optimized",onPlaced:k,arrow:_,fallbackPlacements:E,enabled:S=!0,autoUpdateWhileMounted:T=!0}=n,x=QE(n,["children","side","sideOffset","align","alignOffset","avoidCollisions","collisionBoundary","collisionPadding","hideWhenDetached","updatePositionStrategy","onPlaced","arrow","fallbackPlacements","enabled","autoUpdateWhileMounted"]);const A=eS(),O=Nu(!1),C=Object.assign({padding:5,width:0,height:0},_),[D,I]=y.useState(null),U=C.width,H=C.height,j=d+(u!=="center"?"-"+u:""),V=typeof g=="number"?g:Object.assign({top:0,right:0,bottom:0,left:0},g),F=Array.isArray(v)?v:[v],G=F.length>0;function B(Pe){return Pe!==null}const ce={padding:V,boundary:F.filter(B),altBoundary:G,fallbackAxisSideDirection:"end",fallbackPlacements:E},{refs:L,floatingStyles:$,placement:M,isPositioned:Y,middlewareData:J,elements:ae,update:ne}=zA({open:S,strategy:"fixed",placement:j,whileElementsMounted:T?(...Pe)=>kp(...Pe,{animationFrame:b==="always"}):void 0,elements:{reference:A.anchor},middleware:[d_({mainAxis:c+H,alignmentAxis:h}),p&&c_({mainAxis:!0,crossAxis:!1,limiter:WA()}),p&&u_(Object.assign({},ce)),GA(Object.assign(Object.assign({},ce),{apply:({elements:Pe,rects:Je,availableWidth:tt,availableHeight:ct})=>{const{width:Un,height:mn}=Je.reference,vt=Pe.floating.style;vt.setProperty("--ac-floating-available-width",`${tt}px`),vt.setProperty("--ac-floating-available-height",`${ct}px`),vt.setProperty("--ac-floating-anchor-width",`${Un}px`),vt.setProperty("--ac-floating-anchor-height",`${mn}px`)}})),D&&f_({element:D,padding:C.padding}),iL({arrowWidth:U,arrowHeight:H}),m&&YA(Object.assign({strategy:"referenceHidden"},ce))]});y.useEffect(()=>{if(!(T||!S)&&ae.reference&&ae.floating){const Pe=kp(ae.reference,ae.floating,ne);return()=>{Pe()}}},[T,S,ae,ne]),sL({enabled:!!O?.modalRef,open:S,ref:O?.modalRef,onComplete:ne});const[Ce,Z]=JE(M),pe=ss(k);Zr(()=>{Y&&pe?.()},[Y,pe]);const de=(t=J.arrow)===null||t===void 0?void 0:t.x,ge=(r=J.arrow)===null||r===void 0?void 0:r.y,we=((s=J.arrow)===null||s===void 0?void 0:s.centerOffset)!==0;return w.createElement("div",{ref:L.setFloating,"data-aksel-floating-content-wrapper":"",style:Object.assign(Object.assign({},$),{transform:Y?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:"9999999","--ac-floating-transform-origin":[(i=J.transformOrigin)===null||i===void 0?void 0:i.x,(a=J.transformOrigin)===null||a===void 0?void 0:a.y].join(" ")}),dir:"ltr"},w.createElement(cL,{placedSide:Ce,onArrowChange:I,arrowX:de,arrowY:ge,hideArrow:we},w.createElement("div",Object.assign({ref:e,"data-side":Ce,"data-align":Z},x,{style:Object.assign(Object.assign({},x.style),{animation:Y?void 0:"none",opacity:!((o=J.hide)===null||o===void 0)&&o.referenceHidden?0:void 0})}),l,_?.height&&_?.width&&w.createElement(dL,{width:_.width,height:_.height,className:_.className}))))});rl.Anchor=oL;rl.Content=fL;var hL=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Oh="rovingFocusGroup.onEntryFocus",pL={bubbles:!1,cancelable:!0},gL=y.forwardRef((n,e)=>{var{children:t,asChild:r,descendants:s,onKeyDown:i,onEntryFocus:a,onMouseDown:o,onFocus:l}=n,d=hL(n,["children","asChild","descendants","onKeyDown","onEntryFocus","onMouseDown","onFocus"]);const c=w.useRef(null),u=Cn(e,c),h=ss(a),p=y.useRef(!1);y.useEffect(()=>{const m=c.current;if(m)return m.addEventListener(Oh,h),()=>m.removeEventListener(Oh,h)},[h]);const v=y.useCallback(m=>{const k=ko(c?.current),_=s.values().findIndex(C=>C.node.isSameNode(k.activeElement)),O={ArrowUp:()=>{var C;const D=s.prevEnabled(_,!1);(C=D?.node)===null||C===void 0||C.focus()},ArrowDown:()=>{var C;const D=s.nextEnabled(_,!1);(C=D?.node)===null||C===void 0||C.focus()},Home:()=>{var C;const D=s.firstEnabled();(C=D?.node)===null||C===void 0||C.focus()},End:()=>{var C;const D=s.lastEnabled();(C=D?.node)===null||C===void 0||C.focus()}}[m.key];O&&(m.preventDefault(),O(m))},[s]),g=r?Ma:"div";return w.createElement(g,Object.assign({ref:u},d,{tabIndex:s.enabledCount()===0?-1:0,style:Object.assign({outline:"none"},d.style),onKeyDown:it(i,v),onMouseDown:it(o,()=>{p.current=!0}),onFocus:it(l,m=>{var b;if(m.target===m.currentTarget){const k=new CustomEvent(Oh,pL);m.currentTarget.dispatchEvent(k),k.defaultPrevented||(b=s.firstEnabled())===null||b===void 0||b.node.focus({preventScroll:!0})}p.current=!1})}),t)});var mL=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const kf=y.forwardRef((n,e)=>{var{asChild:t}=n,r=mL(n,["asChild"]);const s=t?Ma:"div";return w.createElement(s,Object.assign({},r,{ref:e}))});var Ha=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const vL=["ArrowDown","PageUp","Home"],tS=["ArrowUp","PageDown","End"],bL=[...vL,...tS],[nS,rS,sS,kL]=Y3(),{Provider:iS,useContext:zi}=Ds({name:"MenuContext"}),{Provider:yL,useContext:yf}=Ds({name:"MenuRootContext"}),_L=({open:n=!1,children:e,onOpenChange:t,modal:r=!0})=>{const[s,i]=y.useState(null),a=y.useRef(!1),o=ss(t);return y.useEffect(()=>{const l=globalThis.document,d=()=>{a.current=!1},c=()=>{a.current=!0,l.addEventListener("pointerdown",d,{capture:!0,once:!0}),l.addEventListener("pointermove",d,{capture:!0,once:!0})};return l.addEventListener("keydown",c,{capture:!0}),()=>{l.removeEventListener("keydown",c,{capture:!0}),l.removeEventListener("pointerdown",d,{capture:!0}),l.removeEventListener("pointermove",d,{capture:!0})}},[]),w.createElement(rl,null,w.createElement(iS,{open:n,onOpenChange:o,content:s,onContentChange:i},w.createElement(yL,{onClose:w.useCallback(()=>o(!1),[o]),isUsingKeyboardRef:a,modal:r},e)))},At=_L,aS=y.forwardRef((n,e)=>w.createElement(rl.Anchor,Object.assign({},n,{ref:e}))),wL=w.forwardRef((n,e)=>{const t=sS(),r=yf();return w.createElement(nS,{value:t},r.modal?w.createElement(SL,Object.assign({},n,{ref:e})):w.createElement(EL,Object.assign({},n,{ref:e})))}),EL=w.forwardRef((n,e)=>{const t=zi();return w.createElement(Um,Object.assign({},n,{ref:e,disableOutsidePointerEvents:!1,onDismiss:()=>t.onOpenChange(!1)}))}),SL=y.forwardRef((n,e)=>{const t=zi();return w.createElement(Um,Object.assign({},n,{ref:e,disableOutsidePointerEvents:t.open,onFocusOutside:it(n.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)}))}),Um=y.forwardRef((n,e)=>{var{initialFocus:t,returnFocus:r,disableOutsidePointerEvents:s,onEntryFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:c,safeZone:u}=n,h=Ha(n,["initialFocus","returnFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","safeZone"]);const p=rS(),v=zi(),g=yf(),m=y.useRef(null),b=Cn(e,m,v.onContentChange);return w.createElement(V3,{initialFocus:t??m,returnFocus:r,trapped:!1,loop:!1},w.createElement(ZE,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:c,safeZone:u},w.createElement(gL,{asChild:!0,descendants:p,onEntryFocus:it(i,k=>{g.isUsingKeyboardRef.current||k.preventDefault()})},w.createElement(rl.Content,Object.assign({role:"menu","aria-orientation":"vertical","data-state":uS(v.open),"data-aksel-menu-content":"",dir:"ltr"},h,{ref:b,style:Object.assign({outline:"none"},h.style),onKeyDown:it(h.onKeyDown,k=>{var _,E,S,T;k.target.closest("[data-aksel-menu-content]")===k.currentTarget&&k.key==="Tab"&&k.preventDefault();const O=m.current;if(k.target===O&&bL.includes(k.key)){if(k.preventDefault(),tS.includes(k.key)){(E=(_=p.lastEnabled())===null||_===void 0?void 0:_.node)===null||E===void 0||E.focus();return}(T=(S=p.firstEnabled())===null||S===void 0?void 0:S.node)===null||T===void 0||T.focus()}})})))))}),Lk="menu.itemSelect",$m=y.forwardRef((n,e)=>{var{disabled:t=!1,onSelect:r,onClick:s,onPointerUp:i,onPointerDown:a,onKeyDown:o,onKeyUp:l}=n,d=Ha(n,["disabled","onSelect","onClick","onPointerUp","onPointerDown","onKeyDown","onKeyUp"]);const c=y.useRef(null),u=yf(),h=Cn(e,c),p=y.useRef(!1),v=()=>{const m=c.current;if(!t&&m&&r){const b=new CustomEvent(Lk,{bubbles:!0,cancelable:!0});m.addEventListener(Lk,r,{once:!0}),kd.flushSync(()=>m.dispatchEvent(b)),b.defaultPrevented?p.current=!1:u.onClose()}else!t&&m&&u.onClose()},g=(m,b)=>{t||m.repeat||b===m.key&&(m.currentTarget.click(),m.preventDefault())};return w.createElement(oS,Object.assign({},d,{tabIndex:t?-1:0,ref:h,disabled:t,onClick:it(s,v,{checkForDefaultPrevented:!1}),onPointerDown:it(a,()=>{p.current=!0},{checkForDefaultPrevented:!1}),onPointerUp:it(i,m=>{var b;p.current||(b=m.currentTarget)===null||b===void 0||b.click()}),onKeyDown:it(o,m=>g(m,"Enter")),onKeyUp:it(l,m=>g(m," "))}))}),oS=y.forwardRef((n,e)=>{var{disabled:t=!1,onPointerMove:r,onPointerLeave:s}=n,i=Ha(n,["disabled","onPointerMove","onPointerLeave"]);const a=zi(),{register:o}=kL({disabled:t,closeMenu:()=>{i["data-submenu-trigger"]&&a.open&&a.onOpenChange(!1)}}),l=y.useRef(null),d=Cn(e,l,o);return w.createElement(kf,Object.assign({role:"menuitem","aria-disabled":t||void 0,"data-disabled":t?"":void 0,tabIndex:-1},i,{style:Object.assign({userSelect:"none"},i?.style),ref:d,onPointerMove:it(r,Fk(c=>{var u;t?(u=a.content)===null||u===void 0||u.focus():c.currentTarget.focus()})),onPointerLeave:it(s,Fk(()=>{var c;return(c=a.content)===null||c===void 0?void 0:c.focus()}))}))}),lS=y.forwardRef((n,e)=>w.createElement(kf,Object.assign({role:"group"},n,{ref:e}))),xL=y.forwardRef(({children:n,rootElement:e},t)=>zi().open?w.createElement(R3,{rootElement:e,ref:t},n):null),{Provider:TL,useContext:AL}=Ds({name:"MenuRadioGroupContext",defaultValue:{value:void 0,onValueChange:()=>{}}}),CL=w.forwardRef((n,e)=>{var{value:t,onValueChange:r}=n,s=Ha(n,["value","onValueChange"]);const i=ss(r);return w.createElement(TL,{value:t,onValueChange:i},w.createElement(lS,Object.assign({},s,{ref:e})))}),{Provider:dS,useContext:OL}=Ds({name:"MenuItemIndicatorContext"}),DL=y.forwardRef((n,e)=>{var{asChild:t}=n,r=Ha(n,["asChild"]);const s=OL();return w.createElement(kf,Object.assign({},r,{ref:e,"data-state":Km(s.state),"aria-hidden":!0,asChild:t}))}),jL=y.forwardRef((n,e)=>{var{value:t,onSelect:r}=n,s=Ha(n,["value","onSelect"]);const i=AL(),a=t===i.value;return w.createElement(dS,{state:a},w.createElement($m,Object.assign({role:"menuitemradio","aria-checked":a},s,{ref:e,"data-state":Km(a),onSelect:it(r,()=>{var o;return(o=i.onValueChange)===null||o===void 0?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})))}),RL=y.forwardRef((n,e)=>{var{checked:t=!1,onCheckedChange:r,onSelect:s}=n,i=Ha(n,["checked","onCheckedChange","onSelect"]);return w.createElement(dS,{state:t},w.createElement($m,Object.assign({role:"menuitemcheckbox","aria-checked":eg(t)?"mixed":t},i,{ref:e,"data-state":Km(t),onSelect:it(s,()=>r?.(eg(t)?!0:!t),{checkForDefaultPrevented:!1})})))}),IL=y.forwardRef((n,e)=>w.createElement(kf,Object.assign({role:"separator","aria-orientation":"horizontal"},n,{ref:e}))),{Provider:NL,useContext:cS}=Ds({name:"MenuSubContext"}),PL=({children:n,onOpenChange:e,open:t=!1})=>{const r=zi(),{values:s}=rS(),[i,a]=y.useState(null),[o,l]=y.useState(null),d=ss(e);return y.useEffect(()=>(r.open===!1&&d(!1),()=>d(!1)),[r.open,d]),w.createElement(rl,null,w.createElement(iS,{open:t,onOpenChange:c=>{d(c),c&&s().forEach(u=>{u.node!==i&&u.closeMenu()})},content:o,onContentChange:l},w.createElement(NL,{contentId:Jr(),triggerId:Jr(),trigger:i,onTriggerChange:a},n)))},ML=y.forwardRef((n,e)=>{const t=zi(),r=cS(),s=Cn(e,r.onTriggerChange),i=(a,o)=>{var l;n.disabled||o.includes(a.key)&&(t.onOpenChange(!0),(l=t.content)===null||l===void 0||l.focus(),a.preventDefault())};return w.createElement(aS,{asChild:!0},w.createElement(oS,Object.assign({id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":uS(t.open)},n,{ref:s,"data-submenu-trigger":!0,onClick:a=>{var o;n.disabled||a.defaultPrevented||((o=n.onClick)===null||o===void 0||o.call(n,a),a.currentTarget.focus(),t.onOpenChange(!t.open))},onKeyDown:it(n.onKeyDown,a=>i(a,["Enter","ArrowRight"])),onKeyUp:it(n.onKeyUp,a=>i(a,[" "]))})))}),LL=y.forwardRef((n,e)=>{const t=sS(),r=zi(),s=yf(),i=cS(),a=y.useRef(null),o=Cn(e,a);return w.createElement(nS,{value:t},w.createElement(Um,Object.assign({id:i.contentId,"aria-labelledby":i.triggerId},n,{ref:o,align:"start",side:"right",disableOutsidePointerEvents:!1,initialFocus:()=>s.isUsingKeyboardRef.current?a.current:!1,returnFocus:!1,onEscapeKeyDown:it(n.onEscapeKeyDown,l=>{s.onClose(),l.preventDefault()}),onKeyDown:it(n.onKeyDown,l=>{var d,c;const u=l.currentTarget.contains(l.target);let h=l.key==="ArrowLeft";((d=r.content)===null||d===void 0?void 0:d.dataset.side)==="left"&&(h=h||l.key==="ArrowRight"),u&&h&&(r.onOpenChange(!1),(c=i.trigger)===null||c===void 0||c.focus(),l.preventDefault())})})))});function uS(n){return n?"open":"closed"}function eg(n){return n==="indeterminate"}function Km(n){return eg(n)?"indeterminate":n?"checked":"unchecked"}function Fk(n){return e=>e.pointerType==="mouse"?n(e):void 0}At.Anchor=aS;At.Portal=xL;At.Content=wL;At.Group=lS;At.Item=$m;At.CheckboxItem=RL;At.RadioGroup=CL;At.RadioItem=jL;At.Divider=IL;At.Sub=PL;At.SubTrigger=ML;At.SubContent=LL;At.ItemIndicator=DL;var as=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const{Provider:FL,useContext:zm}=Ds({name:"ActionMenuContext",errorMessage:"ActionMenu sub-components cannot be rendered outside the ActionMenu component."}),VL=({children:n,open:e,onOpenChange:t,rootElement:r})=>{const s=y.useRef(null),i=Nu(!1),a=i?i.modalRef.current:r,[o=!1,l]=xi({value:e,defaultValue:!1,onChange:t});return w.createElement(FL,{triggerId:Jr(),triggerRef:s,contentId:Jr(),open:o,onOpenChange:l,onOpenToggle:()=>l(d=>!d),rootElement:a},w.createElement(At,{open:o,onOpenChange:l,modal:!0},n))},dn=VL,BL=y.forwardRef((n,e)=>{var{children:t,onKeyDown:r,style:s,onClick:i}=n,a=as(n,["children","onKeyDown","style","onClick"]);const o=zm(),l=Cn(e,o.triggerRef);return w.createElement(At.Anchor,{asChild:!0},w.createElement(Ma,Object.assign({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed",ref:l},a,{style:Object.assign(Object.assign({},s),{pointerEvents:o.open?"auto":void 0}),onClick:it(i,o.onOpenToggle),onKeyDown:it(r,d=>{d.key==="ArrowDown"&&(o.onOpenChange(!0),d.preventDefault())})}),D3(t)))}),HL=y.forwardRef((n,e)=>{var{children:t,className:r,style:s,align:i="start"}=n,a=as(n,["children","className","style","align"]);const o=zm(),{cn:l}=_e();return w.createElement(At.Portal,{rootElement:o.rootElement},w.createElement(At.Content,Object.assign({ref:e,id:o.contentId,"aria-labelledby":o.triggerId,className:l("navds-action-menu__content",r)},a,{align:i,sideOffset:4,collisionPadding:10,returnFocus:o.triggerRef,safeZone:{anchor:o.triggerRef.current},style:Object.assign(Object.assign({},s),{"--__ac-action-menu-content-transform-origin":"var(--ac-floating-transform-origin)","--__ac-action-menu-content-available-height":"var(--ac-floating-available-height)"})}),w.createElement("div",{className:l("navds-action-menu__content-inner")},t)))}),UL=y.forwardRef((n,e)=>{var{children:t,className:r}=n,s=as(n,["children","className"]);const{cn:i}=_e();return w.createElement("div",Object.assign({ref:e},s,{className:i("navds-action-menu__label",r)}),t)}),$L=y.forwardRef((n,e)=>{var{children:t,className:r,label:s}=n,i=as(n,["children","className","label"]);const a=Jr(),{cn:o}=_e();return w.createElement(At.Group,Object.assign({ref:e},i,{className:o("navds-action-menu__group",r),asChild:!1,"aria-labelledby":s?a:void 0}),s&&w.createElement(dn.Label,{id:a,"aria-hidden":!0},s),t)}),Lo=({children:n,className:e,placement:t})=>{const{cn:r}=_e();return w.createElement("div",{"aria-hidden":!0,className:r(e,"navds-action-menu__marker",`navds-action-menu__marker--${t}`)},n)},fS=({children:n})=>{const{cn:e}=_e(),t=n.split("+").filter(r=>r!=="");return w.createElement(Lo,{placement:"right"},t.map((r,s)=>w.createElement("span",{key:r+s,className:e("navds-action-menu__shortcut")},r)))},KL=y.forwardRef((n,e)=>{var{children:t,as:r="div",className:s,icon:i,shortcut:a,variant:o}=n,l=as(n,["children","as","className","icon","shortcut","variant"]);const{cn:d}=_e();return w.createElement(At.Item,Object.assign({},l,{className:d("navds-action-menu__item",s,{"navds-action-menu__item--danger":o==="danger","navds-action-menu__item--has-icon":i}),"aria-keyshortcuts":a??void 0,asChild:!0}),w.createElement(r,{ref:e},t,i&&w.createElement(Lo,{placement:"left",className:d("navds-action-menu__marker-icon")},i),a&&w.createElement(fS,null,a)))}),zL=y.forwardRef((n,e)=>{var{children:t,className:r,shortcut:s,onSelect:i}=n,a=as(n,["children","className","shortcut","onSelect"]);const{cn:o}=_e();return w.createElement(At.CheckboxItem,Object.assign({ref:e},a,{onSelect:it(i,l=>{l.preventDefault()}),asChild:!1,className:o("navds-action-menu__item navds-action-menu__item--has-icon",r),"aria-keyshortcuts":s}),t,w.createElement(Lo,{placement:"left"},w.createElement(At.ItemIndicator,{className:o("navds-action-menu__indicator")},w.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o("navds-action-menu__indicator-icon"),"aria-hidden":!0},w.createElement("g",{className:o("navds-action-menu__indicator-icon--unchecked")},w.createElement("rect",{width:"24",height:"24",rx:"4",fill:"var(--ax-border-neutral, var(--a-border-default))"}),w.createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"3",fill:"var(--ax-bg-default, var(--a-surface-default))",strokeWidth:"2"})),w.createElement("g",{className:o("navds-action-menu__indicator-icon--indeterminate")},w.createElement("rect",{width:"24",height:"24",rx:"4",fill:"var(--ax-bg-strong-pressed, var(--a-surface-action-selected))"}),w.createElement("rect",{x:"6",y:"10",width:"12",height:"4",rx:"1",fill:"var(--ax-bg-default, var(--a-surface-default))"})),w.createElement("g",{className:o("navds-action-menu__indicator-icon--checked")},w.createElement("rect",{width:"24",height:"24",rx:"4",fill:"var(--ax-bg-strong-pressed, var(--a-surface-action-selected))"}),w.createElement("path",{d:"M10.0352 13.4148L16.4752 7.40467C17.0792 6.83965 18.029 6.86933 18.5955 7.47478C19.162 8.08027 19.1296 9.03007 18.5245 9.59621L11.0211 16.5993C10.741 16.859 10.3756 17 10.0002 17C9.60651 17 9.22717 16.8462 8.93914 16.5611L6.43914 14.0611C5.85362 13.4756 5.85362 12.5254 6.43914 11.9399C7.02467 11.3544 7.97483 11.3544 8.56036 11.9399L10.0352 13.4148Z",fill:"var(--ax-bg-default, var(--a-surface-default))"}))))),s&&w.createElement(fS,null,s))}),WL=y.forwardRef((n,e)=>{var{children:t,label:r}=n,s=as(n,["children","label"]);const i=Jr();return w.createElement(At.RadioGroup,Object.assign({ref:e},s,{asChild:!1,"aria-labelledby":r?i:void 0}),r&&w.createElement(dn.Label,{id:i,"aria-hidden":!0},r),t)}),GL=y.forwardRef((n,e)=>{var{children:t,className:r,onSelect:s}=n,i=as(n,["children","className","onSelect"]);const{cn:a}=_e(),o=wr();return w.createElement(At.RadioItem,Object.assign({ref:e},i,{onSelect:it(s,l=>{l.preventDefault()}),asChild:!1,className:a("navds-action-menu__item navds-action-menu__item--has-icon",r)}),t,w.createElement(Lo,{placement:"left"},w.createElement(At.ItemIndicator,{className:a("navds-action-menu__indicator")},w.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a("navds-action-menu__indicator-icon"),"aria-hidden":!0},w.createElement("g",{className:a("navds-action-menu__indicator-icon--unchecked")},w.createElement("rect",{width:"24",height:"24",rx:"12",fill:"var(--ax-border-neutral, var(--a-border-default))"}),w.createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"11",strokeWidth:"2",fill:"var(--ax-bg-default, var(--a-surface-default))"})),o?.isDarkside?w.createElement("g",{className:a("navds-action-menu__indicator-icon--checked")},w.createElement("rect",{width:"24",height:"24",rx:"12",fill:"var(--ax-bg-strong-pressed)"}),w.createElement("rect",{x:"8",y:"8",width:"8",height:"8",rx:"4",fill:"var(--ax-bg-default, var(--a-surface-default))"})):w.createElement("g",{className:a("navds-action-menu__indicator-icon--checked")},w.createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"11",fill:"var(--ax-bg-default, var(--a-surface-default))"}),w.createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"11",stroke:"var(--ax-bg-strong-pressed, var(--a-surface-action-selected))",strokeWidth:"2"}),w.createElement("path",{d:"M20 12C20 16.4178 16.4178 20 12 20C7.58222 20 4 16.4178 4 12C4 7.58222 7.58222 4 12 4C16.4178 4 20 7.58222 20 12Z",fill:"var(--ax-bg-strong-pressed, var(--a-surface-action-selected))"}))))))}),YL=y.forwardRef((n,e)=>{var{className:t}=n,r=as(n,["className"]);const{cn:s}=_e();return w.createElement(At.Divider,Object.assign({ref:e,asChild:!1},r,{className:s("navds-action-menu__divider",t)}))}),qL=n=>{const{children:e,open:t,onOpenChange:r}=n,[s=!1,i]=xi({value:t,defaultValue:!1,onChange:r});return w.createElement(At.Sub,{open:s,onOpenChange:i},e)},XL=y.forwardRef((n,e)=>{var{children:t,className:r,icon:s}=n,i=as(n,["children","className","icon"]);const{cn:a}=_e();return w.createElement(At.SubTrigger,Object.assign({ref:e},i,{asChild:!1,className:a("navds-action-menu__item navds-action-menu__sub-trigger",r,{"navds-action-menu__item--has-icon":s})}),t,s&&w.createElement(Lo,{placement:"left",className:a("navds-action-menu__marker-icon")},s),w.createElement(Lo,{placement:"right",className:a("navds-action-menu__marker-icon")},w.createElement(bf,{"aria-hidden":!0})))}),ZL=y.forwardRef((n,e)=>{var{children:t,className:r,style:s}=n,i=as(n,["children","className","style"]);const{cn:a}=_e(),o=zm();return w.createElement(At.Portal,{rootElement:o.rootElement},w.createElement(At.SubContent,Object.assign({ref:e,alignOffset:-4,sideOffset:1,collisionPadding:10},i,{className:a("navds-action-menu__content navds-action-menu__sub-content",r),style:Object.assign(Object.assign({},s),{"--ac-action-menu-content-transform-origin":"var(--ac-floating-transform-origin)","--ac-action-menu-content-available-width":"var(--ac-floating-available-width)","--ac-action-menu-content-available-height":"var(--ac-floating-available-height)","--ac-action-menu-trigger-width":"var(--ac-floating-anchor-width)","--ac-action-menu-trigger-height":"var(--ac-floating-anchor-height)"})}),w.createElement("div",{className:a("navds-action-menu__content-inner")},t)))});dn.Trigger=BL;dn.Content=HL;dn.Group=$L;dn.Label=UL;dn.Item=KL;dn.CheckboxItem=zL;dn.RadioGroup=WL;dn.RadioItem=GL;dn.Divider=YL;dn.Sub=qL;dn.SubTrigger=XL;dn.SubContent=ZL;var JL=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const QL={error:T3,warning:l3,info:f3,success:e3},bt=y.forwardRef((n,e)=>{var{children:t,className:r,variant:s,size:i="medium",fullWidth:a=!1,contentMaxWidth:o=!0,inline:l=!1,closeButton:d=!1,onClose:c}=n,u=JL(n,["children","className","variant","size","fullWidth","contentMaxWidth","inline","closeButton","onClose"]);const{cn:h}=_e(),p=Er("global"),v=QL[s];return w.createElement("div",Object.assign({},u,{"data-color":e4(s),"data-variant":s,ref:e,className:h(r,"navds-alert",`navds-alert--${s}`,`navds-alert--${i}`,{"navds-alert--full-width":a,"navds-alert--inline":l,"navds-alert--close-button":d})}),w.createElement(v,{title:p(s),className:h("navds-alert__icon")}),w.createElement(br,{as:"div",size:i,className:h("navds-alert__wrapper",o&&"navds-alert__wrapper--maxwidth")},t),d&&!l&&w.createElement("div",{className:h("navds-alert__button-wrapper")},w.createElement(Ze,{className:h("navds-alert__button"),size:"small",variant:"tertiary-neutral",onClick:c,type:"button",icon:w.createElement(h_,{title:p("close")})})))});function e4(n){switch(n){case"warning":return"warning";case"error":return"danger";case"info":return"info";case"success":return"success";default:return"info"}}var t4=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const n4=y.forwardRef((n,e)=>{var{children:t,variant:r,onDelete:s,className:i,onClick:a,type:o="button","data-color":l}=n,d=t4(n,["children","variant","onDelete","className","onClick","type","data-color"]);const c=Er("Chips"),u=wr(),{cn:h}=_e();let p;return u?.isDarkside?p=r:p=r??"action",w.createElement("button",Object.assign({"data-color":l??r4(p)},d,{ref:e,type:o,className:h("navds-chips__chip navds-chips__removable navds-chips--icon-right",i,{[`navds-chips__removable--${p}`]:p}),"aria-label":`${t} ${c("Removable.labelSuffix")}`,onClick:it(a,s)}),w.createElement("span",{className:h("navds-chips__chip-text")},t),w.createElement("span",{className:h("navds-chips__removable-icon")},w.createElement(h_,{"aria-hidden":!0})))});function r4(n){switch(n){case"action":return"accent";case"neutral":return"neutral";default:return}}var s4=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const i4=y.forwardRef((n,e)=>{var{className:t,children:r,selected:s,variant:i,checkmark:a=!0,as:o="button","data-color":l}=n,d=s4(n,["className","children","selected","variant","checkmark","as","data-color"]);const{cn:c}=_e(),u=wr();let h;return u?.isDarkside?h=i:h=i??"action",w.createElement(o,Object.assign({"data-color":l??a4(h)},d,{ref:e,className:c("navds-chips__chip navds-chips__toggle",t,{"navds-chips__toggle--with-checkmark":a,[`navds-chips__toggle--${h}`]:h}),"aria-pressed":s,"data-pressed":s}),a&&w.createElement("svg",{"aria-hidden":!0,className:c("navds-chips__toggle-icon"),width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},s?w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ax-text-default, var(--ac-chip-toggle-circle-border, var(--a-border-default)))"})),w.createElement("span",{className:c("navds-chips__chip-text")},r))});function a4(n){switch(n){case"action":return"accent";case"neutral":return"neutral";default:return}}var o4=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const _f=y.forwardRef((n,e)=>{var{className:t,size:r="medium",children:s}=n,i=o4(n,["className","size","children"]);const{cn:a}=_e();return w.createElement("ul",Object.assign({},i,{ref:e,className:a("navds-chips",t,`navds-chips--${r}`,{"navds-body-short navds-body-short--small":r==="medium","navds-detail navds-detail--small":r==="small"})}),w.Children.map(s,(o,l)=>w.createElement("li",{key:o?.toString()||l},o)))});_f.Toggle=i4;_f.Removable=n4;const{useContext:l4}=Ds({name:"DialogContext",errorMessage:"useDialogContext must be used within Dialog"});var d4=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const c4=y.forwardRef((n,e)=>{var{className:t}=n,r=d4(n,["className"]);const{cn:s}=_e();return w.createElement("div",Object.assign({},r,{ref:e,className:s("navds-popover__content",t)}))});var u4=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ru=y.forwardRef((n,e)=>{var{className:t,children:r,anchorEl:s,arrow:i=!0,open:a,onClose:o,placement:l="top",offset:d,strategy:c,flip:u=!0}=n,h=u4(n,["className","children","anchorEl","arrow","open","onClose","placement","offset","strategy","flip"]);const{cn:p}=_e(),v=y.useRef(null),g=Nu(!1)!==void 0,m=c??(g?"fixed":"absolute"),b=wr(),{update:k,refs:_,placement:E,middlewareData:{arrow:{x:S,y:T}={}},floatingStyles:x}=qA({strategy:m,placement:l,open:a,middleware:[d_(d??(b?.isDarkside?8:i?16:4)),u&&u_({padding:5,fallbackPlacements:h4(l)}),c_({padding:12}),f_({element:v,padding:8})]});Zr(()=>{_.setReference(s)},[s,_]);const A=Cn(_.setFloating,e);Zr(()=>{if(!_.reference.current||!_.floating.current||!a)return;const C=kp(_.reference.current,_.floating.current,k);return()=>C()},[_.floating,_.reference,k,a,s]);const O={top:"bottom",right:"left",bottom:"top",left:"right"}[E.split("-")[0]];return w.createElement(ZE,{asChild:!0,safeZone:{anchor:s},onDismiss:()=>a&&o?.(),enabled:a},w.createElement("div",Object.assign({ref:A},h,{className:p("navds-popover",t,{"navds-popover--hidden":!a||!s}),style:Object.assign(Object.assign({},h.style),x),"data-placement":E,"aria-hidden":!a||!s}),r,i&&!b?.isDarkside&&w.createElement("div",{ref:C=>{v.current=C},style:Object.assign(Object.assign(Object.assign({},S!=null?{left:S}:{}),T!=null?{top:T}:{}),O?{[O]:"-0.5rem"}:{}),className:p("navds-popover__arrow")})))}),f4={top:"bottom",bottom:"top",left:"right",right:"left"};function h4(n){if(n.startsWith("left")||n.startsWith("right"))return["bottom","top"];const[e,t]=n.split("-"),r=f4[e];return[t?`${r}-${t}`:r]}ru.Content=c4;const p4={single:"chooseDate",multiple:"chooseDates",range:"chooseDateRange",month:"chooseMonth"},g4=({open:n,children:e,onClose:t,anchor:r,locale:s,translate:i,variant:a,popoverProps:o})=>{const l=Er("global",XA(s)),{cn:d}=_e(),c=y.useRef(null),u=Nu(!1)!==void 0,h=l4(!1)!==void 0,p=MM("screen and (min-width: 768px)",!0)&&!u&&!h;return n?p?w.createElement(ru,Object.assign({arrow:!1,anchorEl:r,open:n,onClose:t,placement:"bottom-start",className:d("navds-date__popover",{"navds-date":a==="month"})},o),e):w.createElement(yo,{ref:c,open:n,onClose:v=>{v.stopPropagation(),t()},"aria-label":i(p4[a]),className:d("navds-date__modal",{"navds-date__nested-modal":u,"navds-date":a==="month"}),closeOnBackdropClick:!0,placement:"top"},w.createElement("div",{className:d("navds-date__modal-body")},e,w.createElement(Ze,{variant:"tertiary",onClick:()=>{var v;return(v=c?.current)===null||v===void 0?void 0:v.close()},size:"small",type:"button"},l("close")))):null};function hS(n){return!!(n&&typeof n=="object"&&"from"in n)}const m4={},Ml={};function zl(n,e){try{const r=(m4[n]||=new Intl.DateTimeFormat("en-GB",{timeZone:n,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return r in Ml?Ml[r]:Vk(r,r.split(":"))}catch{if(n in Ml)return Ml[n];const t=n?.match(v4);return t?Vk(n,t.slice(1)):NaN}}const v4=/([+-]\d\d):?(\d\d)?/;function Vk(n,e){const t=+e[0],r=+(e[1]||0);return Ml[n]=t>0?t*60+r:t*60-r}class Ts extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(zl(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),pS(this),tg(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new Ts(...t,e):new Ts(Date.now(),e)}withTimeZone(e){return new Ts(+this,e)}getTimezoneOffset(){return-zl(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),tg(this),+this}[Symbol.for("constructDateFrom")](e){return new Ts(+new Date(e),this.timeZone)}}const Bk=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(n=>{if(!Bk.test(n))return;const e=n.replace(Bk,"$1UTC");Ts.prototype[e]&&(n.startsWith("get")?Ts.prototype[n]=function(){return this.internal[e]()}:(Ts.prototype[n]=function(){return Date.prototype[e].apply(this.internal,arguments),b4(this),+this},Ts.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),tg(this),+this}))});function tg(n){n.internal.setTime(+n),n.internal.setUTCMinutes(n.internal.getUTCMinutes()-n.getTimezoneOffset())}function b4(n){Date.prototype.setFullYear.call(n,n.internal.getUTCFullYear(),n.internal.getUTCMonth(),n.internal.getUTCDate()),Date.prototype.setHours.call(n,n.internal.getUTCHours(),n.internal.getUTCMinutes(),n.internal.getUTCSeconds(),n.internal.getUTCMilliseconds()),pS(n)}function pS(n){const e=zl(n.timeZone,n),t=new Date(+n);t.setUTCHours(t.getUTCHours()-1);const r=-new Date(+n).getTimezoneOffset(),s=-new Date(+t).getTimezoneOffset(),i=r-s,a=Date.prototype.getHours.apply(n)!==n.internal.getUTCHours();i&&a&&n.internal.setUTCMinutes(n.internal.getUTCMinutes()+i);const o=r-e;o&&Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+o);const l=zl(n.timeZone,n),c=-new Date(+n).getTimezoneOffset()-l,u=l!==e,h=c-o;if(u&&h){Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+h);const p=zl(n.timeZone,n),v=l-p;v&&(n.internal.setUTCMinutes(n.internal.getUTCMinutes()+v),Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+v))}}class Nn extends Ts{static tz(e,...t){return t.length?new Nn(...t,e):new Nn(Date.now(),e)}toISOString(){const[e,t,r]=this.tzComponents(),s=`${e}${t}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,r,s]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${r} ${t} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,r,s]=this.tzComponents();return`${e} GMT${t}${r}${s} (${k4(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[t,r,s]}withTimeZone(e){return new Nn(+this,e)}[Symbol.for("constructDateFrom")](e){return new Nn(+new Date(e),this.timeZone)}}function k4(n,e){return new Intl.DateTimeFormat("en-GB",{timeZone:n,timeZoneName:"long"}).format(e).slice(12)}var De;(function(n){n.Root="root",n.Chevron="chevron",n.Day="day",n.DayButton="day_button",n.CaptionLabel="caption_label",n.Dropdowns="dropdowns",n.Dropdown="dropdown",n.DropdownRoot="dropdown_root",n.Footer="footer",n.MonthGrid="month_grid",n.MonthCaption="month_caption",n.MonthsDropdown="months_dropdown",n.Month="month",n.Months="months",n.Nav="nav",n.NextMonthButton="button_next",n.PreviousMonthButton="button_previous",n.Week="week",n.Weeks="weeks",n.Weekday="weekday",n.Weekdays="weekdays",n.WeekNumber="week_number",n.WeekNumberHeader="week_number_header",n.YearsDropdown="years_dropdown"})(De||(De={}));var Bt;(function(n){n.disabled="disabled",n.hidden="hidden",n.outside="outside",n.focused="focused",n.today="today"})(Bt||(Bt={}));var Yr;(function(n){n.range_end="range_end",n.range_middle="range_middle",n.range_start="range_start",n.selected="selected"})(Yr||(Yr={}));var cr;(function(n){n.weeks_before_enter="weeks_before_enter",n.weeks_before_exit="weeks_before_exit",n.weeks_after_enter="weeks_after_enter",n.weeks_after_exit="weeks_after_exit",n.caption_after_enter="caption_after_enter",n.caption_after_exit="caption_after_exit",n.caption_before_enter="caption_before_enter",n.caption_before_exit="caption_before_exit"})(cr||(cr={}));const Hk=5,y4=4;function _4(n,e){const t=e.startOfMonth(n),r=t.getDay()>0?t.getDay():7,s=e.addDays(n,-r+1),i=e.addDays(s,Hk*7-1);return e.getMonth(n)===e.getMonth(i)?Hk:y4}function gS(n,e){const t=e.startOfMonth(n),r=t.getDay();return r===1?t:r===0?e.addDays(t,-6):e.addDays(t,-1*(r-1))}function w4(n,e){const t=gS(n,e),r=_4(n,e);return e.addDays(t,r*7-1)}class ai{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Nn.tz(this.options.timeZone):new this.Date,this.newDate=(r,s,i)=>this.overrides?.newDate?this.overrides.newDate(r,s,i):this.options.timeZone?new Nn(r,s,i,this.options.timeZone):new Date(r,s,i),this.addDays=(r,s)=>this.overrides?.addDays?this.overrides.addDays(r,s):La(r,s),this.addMonths=(r,s)=>this.overrides?.addMonths?this.overrides.addMonths(r,s):Lu(r,s),this.addWeeks=(r,s)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,s):aC(r,s),this.addYears=(r,s)=>this.overrides?.addYears?this.overrides.addYears(r,s):Jg(r,s),this.differenceInCalendarDays=(r,s)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):Pn(r,s),this.differenceInCalendarMonths=(r,s)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):S_(r,s),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):A_(r),this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):w4(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):gC(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):nm(r),this.endOfWeek=(r,s)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,s):C_(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):Fu(r),this.format=(r,s,i)=>{const a=this.overrides?.format?this.overrides.format(r,s,this.options):rr(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):rm(r),this.getMonth=(r,s)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):am(r,this.options),this.getYear=(r,s)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):om(r,this.options),this.getWeek=(r,s)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):im(r,this.options),this.isAfter=(r,s)=>this.overrides?.isAfter?this.overrides.isAfter(r,s):is(r,s),this.isBefore=(r,s)=>this.overrides?.isBefore?this.overrides.isBefore(r,s):Vi(r,s),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Qg(r),this.isSameDay=(r,s)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,s):Jl(r,s),this.isSameMonth=(r,s)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,s):RO(r,s),this.isSameYear=(r,s)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,s):L_(r,s),this.max=r=>this.overrides?.max?this.overrides.max(r):oC(r),this.min=r=>this.overrides?.min?this.overrides.min(r):lC(r),this.setMonth=(r,s)=>this.overrides?.setMonth?this.overrides.setMonth(r,s):V_(r,s),this.setYear=(r,s)=>this.overrides?.setYear?this.overrides.setYear(r,s):B_(r,s),this.startOfBroadcastWeek=(r,s)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):gS(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):wn(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):_a(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):wa(r),this.startOfWeek=(r,s)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):Js(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):yd(r),this.options={locale:_d,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=t.format(s);return r}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,r=>t[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const Ns=new ai;class mS{constructor(e,t,r=Ns){this.date=e,this.displayMonth=t,this.outside=!!(t&&!r.isSameMonth(e,t)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class E4{constructor(e,t){this.date=e,this.weeks=t}}class S4{constructor(e,t){this.days=t,this.weekNumber=e}}function zs(n,e,t=!1,r=Ns){let{from:s,to:i}=n;const{differenceInCalendarDays:a,isSameDay:o}=r;return s&&i?(a(i,s)<0&&([s,i]=[i,s]),a(e,s)>=(t?1:0)&&a(i,e)>=(t?1:0)):!t&&i?o(i,e):!t&&s?o(s,e):!1}function vS(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function Wm(n){return!!(n&&typeof n=="object"&&"from"in n)}function bS(n){return!!(n&&typeof n=="object"&&"after"in n)}function kS(n){return!!(n&&typeof n=="object"&&"before"in n)}function yS(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function _S(n,e){return Array.isArray(n)&&n.every(e.isDate)}function An(n,e,t=Ns){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:i,isAfter:a}=t;return r.some(o=>{if(typeof o=="boolean")return o;if(t.isDate(o))return s(n,o);if(_S(o,t))return o.includes(n);if(Wm(o))return zs(o,n,!1,t);if(yS(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(n.getDay()):o.dayOfWeek===n.getDay();if(vS(o)){const l=i(o.before,n),d=i(o.after,n),c=l>0,u=d<0;return a(o.before,o.after)?u&&c:c||u}return bS(o)?i(n,o.after)>0:kS(o)?i(o.before,n)>0:typeof o=="function"?o(n):!1})}function x4(n,e,t){const{disabled:r,hidden:s,modifiers:i,showOutsideDays:a,broadcastCalendar:o,today:l}=e,{isSameDay:d,isSameMonth:c,startOfMonth:u,isBefore:h,endOfMonth:p,isAfter:v}=t,g=e.startMonth&&u(e.startMonth),m=e.endMonth&&p(e.endMonth),b={[Bt.focused]:[],[Bt.outside]:[],[Bt.disabled]:[],[Bt.hidden]:[],[Bt.today]:[]},k={};for(const _ of n){const{date:E,displayMonth:S}=_,T=!!(S&&!c(E,S)),x=!!(g&&h(E,g)),A=!!(m&&v(E,m)),O=!!(r&&An(E,r,t)),C=!!(s&&An(E,s,t))||x||A||!o&&!a&&T||o&&a===!1&&T,D=d(E,l??t.today());T&&b.outside.push(_),O&&b.disabled.push(_),C&&b.hidden.push(_),D&&b.today.push(_),i&&Object.keys(i).forEach(I=>{const U=i?.[I];U&&An(E,U,t)&&(k[I]?k[I].push(_):k[I]=[_])})}return _=>{const E={[Bt.focused]:!1,[Bt.disabled]:!1,[Bt.hidden]:!1,[Bt.outside]:!1,[Bt.today]:!1},S={};for(const T in b){const x=b[T];E[T]=x.some(A=>A===_)}for(const T in k)S[T]=k[T].some(x=>x===_);return{...E,...S}}}function T4(n,e,t={}){return Object.entries(n).filter(([,s])=>s===!0).reduce((s,[i])=>(t[i]?s.push(t[i]):e[Bt[i]]?s.push(e[Bt[i]]):e[Yr[i]]&&s.push(e[Yr[i]]),s),[e[De.Day]])}function A4(n){return w.createElement("button",{...n})}function C4(n){return w.createElement("span",{...n})}function O4(n){const{size:e=24,orientation:t="left",className:r}=n;return w.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&w.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&w.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&w.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&w.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function D4(n){const{day:e,modifiers:t,...r}=n;return w.createElement("td",{...r})}function j4(n){const{day:e,modifiers:t,...r}=n,s=w.useRef(null);return w.useEffect(()=>{t.focused&&s.current?.focus()},[t.focused]),w.createElement("button",{ref:s,...r})}function R4(n){const{options:e,className:t,components:r,classNames:s,...i}=n,a=[s[De.Dropdown],t].join(" "),o=e?.find(({value:l})=>l===i.value);return w.createElement("span",{"data-disabled":i.disabled,className:s[De.DropdownRoot]},w.createElement(r.Select,{className:a,...i},e?.map(({value:l,label:d,disabled:c})=>w.createElement(r.Option,{key:l,value:l,disabled:c},d))),w.createElement("span",{className:s[De.CaptionLabel],"aria-hidden":!0},o?.label,w.createElement(r.Chevron,{orientation:"down",size:18,className:s[De.Chevron]})))}function I4(n){return w.createElement("div",{...n})}function N4(n){return w.createElement("div",{...n})}function P4(n){const{calendarMonth:e,displayIndex:t,...r}=n;return w.createElement("div",{...r},n.children)}function M4(n){const{calendarMonth:e,displayIndex:t,...r}=n;return w.createElement("div",{...r})}function L4(n){return w.createElement("table",{...n})}function F4(n){return w.createElement("div",{...n})}const wS=y.createContext(void 0);function Ua(){const n=y.useContext(wS);if(n===void 0)throw new Error("useDayPicker() must be used within a custom component.");return n}function V4(n){const{components:e}=Ua();return w.createElement(e.Dropdown,{...n})}function B4(n){const{onPreviousClick:e,onNextClick:t,previousMonth:r,nextMonth:s,...i}=n,{components:a,classNames:o,labels:{labelPrevious:l,labelNext:d}}=Ua(),c=y.useCallback(h=>{s&&t?.(h)},[s,t]),u=y.useCallback(h=>{r&&e?.(h)},[r,e]);return w.createElement("nav",{...i},w.createElement(a.PreviousMonthButton,{type:"button",className:o[De.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:u},w.createElement(a.Chevron,{disabled:r?void 0:!0,className:o[De.Chevron],orientation:"left"})),w.createElement(a.NextMonthButton,{type:"button",className:o[De.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:c},w.createElement(a.Chevron,{disabled:s?void 0:!0,orientation:"right",className:o[De.Chevron]})))}function H4(n){const{components:e}=Ua();return w.createElement(e.Button,{...n})}function U4(n){return w.createElement("option",{...n})}function $4(n){const{components:e}=Ua();return w.createElement(e.Button,{...n})}function K4(n){const{rootRef:e,...t}=n;return w.createElement("div",{...t,ref:e})}function z4(n){return w.createElement("select",{...n})}function W4(n){const{week:e,...t}=n;return w.createElement("tr",{...t})}function G4(n){return w.createElement("th",{...n})}function Y4(n){return w.createElement("thead",{"aria-hidden":!0},w.createElement("tr",{...n}))}function q4(n){const{week:e,...t}=n;return w.createElement("th",{...t})}function X4(n){return w.createElement("th",{...n})}function Z4(n){return w.createElement("tbody",{...n})}function J4(n){const{components:e}=Ua();return w.createElement(e.Dropdown,{...n})}const Q4=Object.freeze(Object.defineProperty({__proto__:null,Button:A4,CaptionLabel:C4,Chevron:O4,Day:D4,DayButton:j4,Dropdown:R4,DropdownNav:I4,Footer:N4,Month:P4,MonthCaption:M4,MonthGrid:L4,Months:F4,MonthsDropdown:V4,Nav:B4,NextMonthButton:H4,Option:U4,PreviousMonthButton:$4,Root:K4,Select:z4,Week:W4,WeekNumber:q4,WeekNumberHeader:X4,Weekday:G4,Weekdays:Y4,Weeks:Z4,YearsDropdown:J4},Symbol.toStringTag,{value:"Module"}));function eF(n){return{...Q4,...n}}function tF(n){const e={"data-mode":n.mode??void 0,"data-required":"required"in n?n.required:void 0,"data-multiple-months":n.numberOfMonths&&n.numberOfMonths>1||void 0,"data-week-numbers":n.showWeekNumber||void 0,"data-broadcast-calendar":n.broadcastCalendar||void 0,"data-nav-layout":n.navLayout||void 0};return Object.entries(n).forEach(([t,r])=>{t.startsWith("data-")&&(e[t]=r)}),e}function nF(){const n={};for(const e in De)n[De[e]]=`rdp-${De[e]}`;for(const e in Bt)n[Bt[e]]=`rdp-${Bt[e]}`;for(const e in Yr)n[Yr[e]]=`rdp-${Yr[e]}`;for(const e in cr)n[cr[e]]=`rdp-${cr[e]}`;return n}function ES(n,e,t){return(t??new ai(e)).format(n,"LLLL y")}const rF=ES;function sF(n,e,t){return(t??new ai(e)).format(n,"d")}function iF(n,e=Ns){return e.format(n,"LLLL")}function aF(n,e=Ns){return n<10?e.formatNumber(`0${n.toLocaleString()}`):e.formatNumber(`${n.toLocaleString()}`)}function oF(){return""}function lF(n,e,t){return(t??new ai(e)).format(n,"cccccc")}function SS(n,e=Ns){return e.format(n,"yyyy")}const dF=SS,cF=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:ES,formatDay:sF,formatMonthCaption:rF,formatMonthDropdown:iF,formatWeekNumber:aF,formatWeekNumberHeader:oF,formatWeekdayName:lF,formatYearCaption:dF,formatYearDropdown:SS},Symbol.toStringTag,{value:"Module"}));function uF(n){return n?.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n?.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),{...cF,...n}}function fF(n,e,t,r,s){const{startOfMonth:i,startOfYear:a,endOfYear:o,eachMonthOfInterval:l,getMonth:d}=s;return l({start:a(n),end:o(n)}).map(h=>{const p=r.formatMonthDropdown(h,s),v=d(h),g=e&&h<i(e)||t&&h>i(t)||!1;return{value:v,label:p,disabled:g}})}function hF(n,e={},t={}){let r={...e?.[De.Day]};return Object.entries(n).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...t?.[s]}}),r}function pF(n,e,t){const r=n.today(),s=e?n.startOfISOWeek(r):n.startOfWeek(r),i=[];for(let a=0;a<7;a++){const o=n.addDays(s,a);i.push(o)}return i}function gF(n,e,t,r){if(!n||!e)return;const{startOfYear:s,endOfYear:i,addYears:a,getYear:o,isBefore:l,isSameYear:d}=r,c=s(n),u=i(e),h=[];let p=c;for(;l(p,u)||d(p,u);)h.push(p),p=a(p,1);return h.map(v=>{const g=t.formatYearDropdown(v,r);return{value:o(v),label:g,disabled:!1}})}function xS(n,e,t){return(t??new ai(e)).format(n,"LLLL y")}const mF=xS;function vF(n,e,t,r){let s=(r??new ai(t)).format(n,"PPPP");return e?.today&&(s=`Today, ${s}`),s}function TS(n,e,t,r){let s=(r??new ai(t)).format(n,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const bF=TS;function kF(){return""}function yF(n){return"Choose the Month"}function _F(n){return"Go to the Next Month"}function wF(n){return"Go to the Previous Month"}function EF(n,e,t){return(t??new ai(e)).format(n,"cccc")}function SF(n,e){return`Week ${n}`}function xF(n){return"Week Number"}function TF(n){return"Choose the Year"}const AF=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:mF,labelDay:bF,labelDayButton:TS,labelGrid:xS,labelGridcell:vF,labelMonthDropdown:yF,labelNav:kF,labelNext:_F,labelPrevious:wF,labelWeekNumber:SF,labelWeekNumberHeader:xF,labelWeekday:EF,labelYearDropdown:TF},Symbol.toStringTag,{value:"Module"})),Rd=n=>n instanceof HTMLElement?n:null,Dh=n=>[...n.querySelectorAll("[data-animated-month]")??[]],CF=n=>Rd(n.querySelector("[data-animated-month]")),jh=n=>Rd(n.querySelector("[data-animated-caption]")),Rh=n=>Rd(n.querySelector("[data-animated-weeks]")),OF=n=>Rd(n.querySelector("[data-animated-nav]")),DF=n=>Rd(n.querySelector("[data-animated-weekdays]"));function jF(n,e,{classNames:t,months:r,focused:s,dateLib:i}){const a=y.useRef(null),o=y.useRef(r),l=y.useRef(!1);y.useLayoutEffect(()=>{const d=o.current;if(o.current=r,!e||!n.current||!(n.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const c=i.isSameMonth(r[0].date,d[0].date),u=i.isAfter(r[0].date,d[0].date),h=u?t[cr.caption_after_enter]:t[cr.caption_before_enter],p=u?t[cr.weeks_after_enter]:t[cr.weeks_before_enter],v=a.current,g=n.current.cloneNode(!0);if(g instanceof HTMLElement?(Dh(g).forEach(_=>{if(!(_ instanceof HTMLElement))return;const E=CF(_);E&&_.contains(E)&&_.removeChild(E);const S=jh(_);S&&S.classList.remove(h);const T=Rh(_);T&&T.classList.remove(p)}),a.current=g):a.current=null,l.current||c||s)return;const m=v instanceof HTMLElement?Dh(v):[],b=Dh(n.current);if(b&&b.every(k=>k instanceof HTMLElement)&&m&&m.every(k=>k instanceof HTMLElement)){l.current=!0,n.current.style.isolation="isolate";const k=OF(n.current);k&&(k.style.zIndex="1"),b.forEach((_,E)=>{const S=m[E];if(!S)return;_.style.position="relative",_.style.overflow="hidden";const T=jh(_);T&&T.classList.add(h);const x=Rh(_);x&&x.classList.add(p);const A=()=>{l.current=!1,n.current&&(n.current.style.isolation=""),k&&(k.style.zIndex=""),T&&T.classList.remove(h),x&&x.classList.remove(p),_.style.position="",_.style.overflow="",_.contains(S)&&_.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const O=DF(S);O&&(O.style.opacity="0");const C=jh(S);C&&(C.classList.add(u?t[cr.caption_before_exit]:t[cr.caption_after_exit]),C.addEventListener("animationend",A));const D=Rh(S);D&&D.classList.add(u?t[cr.weeks_before_exit]:t[cr.weeks_after_exit]),_.insertBefore(S,_.firstChild)})}})}function RF(n,e,t,r){const s=n[0],i=n[n.length-1],{ISOWeek:a,fixedWeeks:o,broadcastCalendar:l}=t??{},{addDays:d,differenceInCalendarDays:c,differenceInCalendarMonths:u,endOfBroadcastWeek:h,endOfISOWeek:p,endOfMonth:v,endOfWeek:g,isAfter:m,startOfBroadcastWeek:b,startOfISOWeek:k,startOfWeek:_}=r,E=l?b(s,r):a?k(s):_(s),S=l?h(i):a?p(v(i)):g(v(i)),T=c(S,E),x=u(i,s)+1,A=[];for(let D=0;D<=T;D++){const I=d(E,D);if(e&&m(I,e))break;A.push(I)}const C=(l?35:42)*x;if(o&&A.length<C){const D=C-A.length;for(let I=0;I<D;I++){const U=d(A[A.length-1],1);A.push(U)}}return A}function IF(n){const e=[];return n.reduce((t,r)=>{const s=r.weeks.reduce((i,a)=>[...i,...a.days],e);return[...t,...s]},e)}function NF(n,e,t,r){const{numberOfMonths:s=1}=t,i=[];for(let a=0;a<s;a++){const o=r.addMonths(n,a);if(e&&o>e)break;i.push(o)}return i}function Uk(n,e){const{month:t,defaultMonth:r,today:s=e.today(),numberOfMonths:i=1,endMonth:a,startMonth:o}=n;let l=t||r||s;const{differenceInCalendarMonths:d,addMonths:c,startOfMonth:u}=e;if(a&&d(a,l)<0){const h=-1*(i-1);l=c(a,h)}return o&&d(l,o)<0&&(l=o),u(l)}function PF(n,e,t,r){const{addDays:s,endOfBroadcastWeek:i,endOfISOWeek:a,endOfMonth:o,endOfWeek:l,getISOWeek:d,getWeek:c,startOfBroadcastWeek:u,startOfISOWeek:h,startOfWeek:p}=r,v=n.reduce((g,m)=>{const b=t.broadcastCalendar?u(m,r):t.ISOWeek?h(m):p(m),k=t.broadcastCalendar?i(m):t.ISOWeek?a(o(m)):l(o(m)),_=e.filter(x=>x>=b&&x<=k),E=t.broadcastCalendar?35:42;if(t.fixedWeeks&&_.length<E){const x=e.filter(A=>{const O=E-_.length;return A>k&&A<=s(k,O)});_.push(...x)}const S=_.reduce((x,A)=>{const O=t.ISOWeek?d(A):c(A),C=x.find(I=>I.weekNumber===O),D=new mS(A,m,r);return C?C.days.push(D):x.push(new S4(O,[D])),x},[]),T=new E4(m,S);return g.push(T),g},[]);return t.reverseMonths?v.reverse():v}function MF(n,e){let{startMonth:t,endMonth:r}=n;const{startOfYear:s,startOfDay:i,startOfMonth:a,endOfMonth:o,addYears:l,endOfYear:d,newDate:c,today:u}=e,{fromYear:h,toYear:p,fromMonth:v,toMonth:g}=n;!t&&v&&(t=v),!t&&h&&(t=e.newDate(h,0,1)),!r&&g&&(r=g),!r&&p&&(r=c(p,11,31));const m=n.captionLayout==="dropdown"||n.captionLayout==="dropdown-years";return t?t=a(t):h?t=c(h,0,1):!t&&m&&(t=s(l(n.today??u(),-100))),r?r=o(r):p?r=c(p,11,31):!r&&m&&(r=d(n.today??u())),[t&&i(t),r&&i(r)]}function LF(n,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i=1}=t,{startOfMonth:a,addMonths:o,differenceInCalendarMonths:l}=r,d=s?i:1,c=a(n);if(!e)return o(c,d);if(!(l(e,n)<i))return o(c,d)}function FF(n,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:i}=t,{startOfMonth:a,addMonths:o,differenceInCalendarMonths:l}=r,d=s?i??1:1,c=a(n);if(!e)return o(c,-d);if(!(l(c,e)<=0))return o(c,-d)}function VF(n){const e=[];return n.reduce((t,r)=>[...t,...r.weeks],e)}function wf(n,e){const[t,r]=y.useState(n);return[e===void 0?t:e,r]}function BF(n,e){const[t,r]=MF(n,e),{startOfMonth:s,endOfMonth:i}=e,a=Uk(n,e),[o,l]=wf(a,n.month?a:void 0);y.useEffect(()=>{const T=Uk(n,e);l(T)},[n.timeZone]);const d=NF(o,r,n,e),c=RF(d,n.endMonth?i(n.endMonth):void 0,n,e),u=PF(d,c,n,e),h=VF(u),p=IF(u),v=FF(o,t,n,e),g=LF(o,r,n,e),{disableNavigation:m,onMonthChange:b}=n,k=T=>h.some(x=>x.days.some(A=>A.isEqualTo(T))),_=T=>{if(m)return;let x=s(T);t&&x<s(t)&&(x=s(t)),r&&x>s(r)&&(x=s(r)),l(x),b?.(x)};return{months:u,weeks:h,days:p,navStart:t,navEnd:r,previousMonth:v,nextMonth:g,goToMonth:_,goToDay:T=>{k(T)||_(T.date)}}}var gs;(function(n){n[n.Today=0]="Today",n[n.Selected=1]="Selected",n[n.LastFocused=2]="LastFocused",n[n.FocusedModifier=3]="FocusedModifier"})(gs||(gs={}));function $k(n){return!n[Bt.disabled]&&!n[Bt.hidden]&&!n[Bt.outside]}function HF(n,e,t,r){let s,i=-1;for(const a of n){const o=e(a);$k(o)&&(o[Bt.focused]&&i<gs.FocusedModifier?(s=a,i=gs.FocusedModifier):r?.isEqualTo(a)&&i<gs.LastFocused?(s=a,i=gs.LastFocused):t(a.date)&&i<gs.Selected?(s=a,i=gs.Selected):o[Bt.today]&&i<gs.Today&&(s=a,i=gs.Today))}return s||(s=n.find(a=>$k(e(a)))),s}function UF(n,e,t,r,s,i,a){const{ISOWeek:o,broadcastCalendar:l}=i,{addDays:d,addMonths:c,addWeeks:u,addYears:h,endOfBroadcastWeek:p,endOfISOWeek:v,endOfWeek:g,max:m,min:b,startOfBroadcastWeek:k,startOfISOWeek:_,startOfWeek:E}=a;let T={day:d,week:u,month:c,year:h,startOfWeek:x=>l?k(x,a):o?_(x):E(x),endOfWeek:x=>l?p(x):o?v(x):g(x)}[n](t,e==="after"?1:-1);return e==="before"&&r?T=m([r,T]):e==="after"&&s&&(T=b([s,T])),T}function AS(n,e,t,r,s,i,a,o=0){if(o>365)return;const l=UF(n,e,t.date,r,s,i,a),d=!!(i.disabled&&An(l,i.disabled,a)),c=!!(i.hidden&&An(l,i.hidden,a)),u=l,h=new mS(l,u,a);return!d&&!c?h:AS(n,e,h,r,s,i,a,o+1)}function $F(n,e,t,r,s){const{autoFocus:i}=n,[a,o]=y.useState(),l=HF(e.days,t,r||(()=>!1),a),[d,c]=y.useState(i?l:void 0);return{isFocusTarget:g=>!!l?.isEqualTo(g),setFocused:c,focused:d,blur:()=>{o(d),c(void 0)},moveFocus:(g,m)=>{if(!d)return;const b=AS(g,m,d,e.navStart,e.navEnd,n,s);b&&(e.goToDay(b),c(b))}}}function KF(n,e){const{selected:t,required:r,onSelect:s}=n,[i,a]=wf(t,s?t:void 0),o=s?t:i,{isSameDay:l}=e,d=p=>o?.some(v=>l(v,p))??!1,{min:c,max:u}=n;return{selected:o,select:(p,v,g)=>{let m=[...o??[]];if(d(p)){if(o?.length===c||r&&o?.length===1)return;m=o?.filter(b=>!l(b,p))}else o?.length===u?m=[p]:m=[...m,p];return s||a(m),s?.(m,p,v,g),m},isSelected:d}}function zF(n,e,t=0,r=0,s=!1,i=Ns){const{from:a,to:o}=e||{},{isSameDay:l,isAfter:d,isBefore:c}=i;let u;if(!a&&!o)u={from:n,to:t>0?void 0:n};else if(a&&!o)l(a,n)?s?u={from:a,to:void 0}:u=void 0:c(n,a)?u={from:n,to:a}:u={from:a,to:n};else if(a&&o)if(l(a,n)&&l(o,n))s?u={from:a,to:o}:u=void 0;else if(l(a,n))u={from:a,to:t>0?void 0:n};else if(l(o,n))u={from:n,to:t>0?void 0:n};else if(c(n,a))u={from:n,to:o};else if(d(n,a))u={from:a,to:n};else if(d(n,o))u={from:a,to:n};else throw new Error("Invalid range");if(u?.from&&u?.to){const h=i.differenceInCalendarDays(u.to,u.from);r>0&&h>r?u={from:n,to:void 0}:t>1&&h<t&&(u={from:n,to:void 0})}return u}function WF(n,e,t=Ns){const r=Array.isArray(e)?e:[e];let s=n.from;const i=t.differenceInCalendarDays(n.to,n.from),a=Math.min(i,6);for(let o=0;o<=a;o++){if(r.includes(s.getDay()))return!0;s=t.addDays(s,1)}return!1}function Kk(n,e,t=Ns){return zs(n,e.from,!1,t)||zs(n,e.to,!1,t)||zs(e,n.from,!1,t)||zs(e,n.to,!1,t)}function GF(n,e,t=Ns){const r=Array.isArray(e)?e:[e];if(r.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:t.isDate(o)?zs(n,o,!1,t):_S(o,t)?o.some(l=>zs(n,l,!1,t)):Wm(o)?o.from&&o.to?Kk(n,{from:o.from,to:o.to},t):!1:yS(o)?WF(n,o.dayOfWeek,t):vS(o)?t.isAfter(o.before,o.after)?Kk(n,{from:t.addDays(o.after,1),to:t.addDays(o.before,-1)},t):An(n.from,o,t)||An(n.to,o,t):bS(o)||kS(o)?An(n.from,o,t)||An(n.to,o,t):!1))return!0;const a=r.filter(o=>typeof o=="function");if(a.length){let o=n.from;const l=t.differenceInCalendarDays(n.to,n.from);for(let d=0;d<=l;d++){if(a.some(c=>c(o)))return!0;o=t.addDays(o,1)}}return!1}function YF(n,e){const{disabled:t,excludeDisabled:r,selected:s,required:i,onSelect:a}=n,[o,l]=wf(s,a?s:void 0),d=a?s:o;return{selected:d,select:(h,p,v)=>{const{min:g,max:m}=n,b=h?zF(h,d,g,m,i,e):void 0;return r&&t&&b?.from&&b.to&&GF({from:b.from,to:b.to},t,e)&&(b.from=h,b.to=void 0),a||l(b),a?.(b,h,p,v),b},isSelected:h=>d&&zs(d,h,!1,e)}}function qF(n,e){const{selected:t,required:r,onSelect:s}=n,[i,a]=wf(t,s?t:void 0),o=s?t:i,{isSameDay:l}=e;return{selected:o,select:(u,h,p)=>{let v=u;return!r&&o&&o&&l(u,o)&&(v=void 0),s||a(v),s?.(v,u,h,p),v},isSelected:u=>o?l(o,u):!1}}function XF(n,e){const t=qF(n,e),r=KF(n,e),s=YF(n,e);switch(n.mode){case"single":return t;case"multiple":return r;case"range":return s;default:return}}function ZF(n){let e=n;e.timeZone&&(e={...n},e.today&&(e.today=new Nn(e.today,e.timeZone)),e.month&&(e.month=new Nn(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Nn(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Nn(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Nn(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Nn(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(We=>new Nn(We,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Nn(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Nn(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:r,labels:s,dateLib:i,locale:a,classNames:o}=y.useMemo(()=>{const We={..._d,...e.locale};return{dateLib:new ai({locale:We,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:eF(e.components),formatters:uF(e.formatters),labels:{...AF,...e.labels},locale:We,classNames:{...nF(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:l,mode:d,navLayout:c,numberOfMonths:u=1,onDayBlur:h,onDayClick:p,onDayFocus:v,onDayKeyDown:g,onDayMouseEnter:m,onDayMouseLeave:b,onNextClick:k,onPrevClick:_,showWeekNumber:E,styles:S}=e,{formatCaption:T,formatDay:x,formatMonthDropdown:A,formatWeekNumber:O,formatWeekNumberHeader:C,formatWeekdayName:D,formatYearDropdown:I}=r,U=BF(e,i),{days:H,months:j,navStart:V,navEnd:F,previousMonth:G,nextMonth:B,goToMonth:ce}=U,L=x4(H,e,i),{isSelected:$,select:M,selected:Y}=XF(e,i)??{},{blur:J,focused:ae,isFocusTarget:ne,moveFocus:Ce,setFocused:Z}=$F(e,U,L,$??(()=>!1),i),{labelDayButton:pe,labelGridcell:de,labelGrid:ge,labelMonthDropdown:we,labelNav:Pe,labelPrevious:Je,labelNext:tt,labelWeekday:ct,labelWeekNumber:Un,labelWeekNumberHeader:mn,labelYearDropdown:vt}=s,R=y.useMemo(()=>pF(i,e.ISOWeek),[i,e.ISOWeek]),z=d!==void 0||p!==void 0,X=y.useCallback(()=>{G&&(ce(G),_?.(G))},[G,ce,_]),le=y.useCallback(()=>{B&&(ce(B),k?.(B))},[ce,B,k]),oe=y.useCallback((We,ut)=>wt=>{wt.preventDefault(),wt.stopPropagation(),Z(We),M?.(We.date,ut,wt),p?.(We.date,ut,wt)},[M,p,Z]),se=y.useCallback((We,ut)=>wt=>{Z(We),v?.(We.date,ut,wt)},[v,Z]),Ee=y.useCallback((We,ut)=>wt=>{J(),h?.(We.date,ut,wt)},[J,h]),Le=y.useCallback((We,ut)=>wt=>{const Ar={ArrowLeft:["day",e.dir==="rtl"?"after":"before"],ArrowRight:["day",e.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[wt.shiftKey?"year":"month","before"],PageDown:[wt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Ar[wt.key]){wt.preventDefault(),wt.stopPropagation();const[$n,qa]=Ar[wt.key];Ce($n,qa)}g?.(We.date,ut,wt)},[Ce,g,e.dir]),Fe=y.useCallback((We,ut)=>wt=>{m?.(We.date,ut,wt)},[m]),_t=y.useCallback((We,ut)=>wt=>{b?.(We.date,ut,wt)},[b]),vn=y.useCallback(We=>ut=>{const wt=Number(ut.target.value),Ar=i.setMonth(i.startOfMonth(We),wt);ce(Ar)},[i,ce]),xr=y.useCallback(We=>ut=>{const wt=Number(ut.target.value),Ar=i.setYear(i.startOfMonth(We),wt);ce(Ar)},[i,ce]),{className:Tr,style:ci}=y.useMemo(()=>({className:[o[De.Root],e.className].filter(Boolean).join(" "),style:{...S?.[De.Root],...e.style}}),[o,e.className,e.style,S]),ui=tF(e),qi=y.useRef(null);jF(qi,!!e.animate,{classNames:o,months:j,focused:ae,dateLib:i});const Ya={dayPickerProps:e,selected:Y,select:M,isSelected:$,months:j,nextMonth:B,previousMonth:G,goToMonth:ce,getModifiers:L,components:t,classNames:o,styles:S,labels:s,formatters:r};return w.createElement(wS.Provider,{value:Ya},w.createElement(t.Root,{rootRef:e.animate?qi:void 0,className:Tr,style:ci,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...ui},w.createElement(t.Months,{className:o[De.Months],style:S?.[De.Months]},!e.hideNavigation&&!c&&w.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:o[De.Nav],style:S?.[De.Nav],"aria-label":Pe(),onPreviousClick:X,onNextClick:le,previousMonth:G,nextMonth:B}),j.map((We,ut)=>{const wt=fF(We.date,V,F,r,i),Ar=gF(V,F,r,i);return w.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:o[De.Month],style:S?.[De.Month],key:ut,displayIndex:ut,calendarMonth:We},c==="around"&&!e.hideNavigation&&ut===0&&w.createElement(t.PreviousMonthButton,{type:"button",className:o[De.PreviousMonthButton],tabIndex:G?void 0:-1,"aria-disabled":G?void 0:!0,"aria-label":Je(G),onClick:X,"data-animated-button":e.animate?"true":void 0},w.createElement(t.Chevron,{disabled:G?void 0:!0,className:o[De.Chevron],orientation:e.dir==="rtl"?"right":"left"})),w.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:o[De.MonthCaption],style:S?.[De.MonthCaption],calendarMonth:We,displayIndex:ut},l?.startsWith("dropdown")?w.createElement(t.DropdownNav,{className:o[De.Dropdowns],style:S?.[De.Dropdowns]},l==="dropdown"||l==="dropdown-months"?w.createElement(t.MonthsDropdown,{className:o[De.MonthsDropdown],"aria-label":we(),classNames:o,components:t,disabled:!!e.disableNavigation,onChange:vn(We.date),options:wt,style:S?.[De.Dropdown],value:i.getMonth(We.date)}):w.createElement("span",null,A(We.date,i)),l==="dropdown"||l==="dropdown-years"?w.createElement(t.YearsDropdown,{className:o[De.YearsDropdown],"aria-label":vt(i.options),classNames:o,components:t,disabled:!!e.disableNavigation,onChange:xr(We.date),options:Ar,style:S?.[De.Dropdown],value:i.getYear(We.date)}):w.createElement("span",null,I(We.date,i)),w.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},T(We.date,i.options,i))):w.createElement(t.CaptionLabel,{className:o[De.CaptionLabel],role:"status","aria-live":"polite"},T(We.date,i.options,i))),c==="around"&&!e.hideNavigation&&ut===u-1&&w.createElement(t.NextMonthButton,{type:"button",className:o[De.NextMonthButton],tabIndex:B?void 0:-1,"aria-disabled":B?void 0:!0,"aria-label":tt(B),onClick:le,"data-animated-button":e.animate?"true":void 0},w.createElement(t.Chevron,{disabled:B?void 0:!0,className:o[De.Chevron],orientation:e.dir==="rtl"?"left":"right"})),ut===u-1&&c==="after"&&!e.hideNavigation&&w.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:o[De.Nav],style:S?.[De.Nav],"aria-label":Pe(),onPreviousClick:X,onNextClick:le,previousMonth:G,nextMonth:B}),w.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":ge(We.date,i.options,i)||void 0,className:o[De.MonthGrid],style:S?.[De.MonthGrid]},!e.hideWeekdays&&w.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:o[De.Weekdays],style:S?.[De.Weekdays]},E&&w.createElement(t.WeekNumberHeader,{"aria-label":mn(i.options),className:o[De.WeekNumberHeader],style:S?.[De.WeekNumberHeader],scope:"col"},C()),R.map(($n,qa)=>w.createElement(t.Weekday,{"aria-label":ct($n,i.options,i),className:o[De.Weekday],key:qa,style:S?.[De.Weekday],scope:"col"},D($n,i.options,i)))),w.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:o[De.Weeks],style:S?.[De.Weeks]},We.weeks.map(($n,qa)=>w.createElement(t.Week,{className:o[De.Week],key:$n.weekNumber,style:S?.[De.Week],week:$n},E&&w.createElement(t.WeekNumber,{week:$n,style:S?.[De.WeekNumber],"aria-label":Un($n.weekNumber,{locale:a}),className:o[De.WeekNumber],scope:"row",role:"rowheader"},O($n.weekNumber,i)),$n.days.map(fn=>{const{date:Cr}=fn,ft=L(fn);if(ft[Bt.focused]=!ft.hidden&&!!ae?.isEqualTo(fn),ft[Yr.selected]=$?.(Cr)||ft.selected,Wm(Y)){const{from:fl,to:P}=Y;ft[Yr.range_start]=!!(fl&&P&&i.isSameDay(Cr,fl)),ft[Yr.range_end]=!!(fl&&P&&i.isSameDay(Cr,P)),ft[Yr.range_middle]=zs(Y,Cr,!0,i)}const Xa=hF(ft,S,e.modifiersStyles),Za=T4(ft,o,e.modifiersClassNames),ih=!z&&!ft.hidden?de(Cr,ft,i.options,i):void 0;return w.createElement(t.Day,{key:`${i.format(Cr,"yyyy-MM-dd")}_${i.format(fn.displayMonth,"yyyy-MM")}`,day:fn,modifiers:ft,className:Za.join(" "),style:Xa,role:"gridcell","aria-selected":ft.selected||void 0,"aria-label":ih,"data-day":i.format(Cr,"yyyy-MM-dd"),"data-month":fn.outside?i.format(Cr,"yyyy-MM"):void 0,"data-selected":ft.selected||void 0,"data-disabled":ft.disabled||void 0,"data-hidden":ft.hidden||void 0,"data-outside":fn.outside||void 0,"data-focused":ft.focused||void 0,"data-today":ft.today||void 0},!ft.hidden&&z?w.createElement(t.DayButton,{className:o[De.DayButton],style:S?.[De.DayButton],type:"button",day:fn,modifiers:ft,disabled:ft.disabled||void 0,tabIndex:ne(fn)?0:-1,"aria-label":pe(Cr,ft,i.options,i),onClick:oe(fn,ft),onBlur:Ee(fn,ft),onFocus:se(fn,ft),onKeyDown:Le(fn,ft),onMouseEnter:Fe(fn,ft),onMouseLeave:_t(fn,ft)},x(Cr,i.options,i)):!ft.hidden&&x(fn.date,i.options,i))}))))))})),e.footer&&w.createElement(t.Footer,{className:o[De.Footer],style:S?.[De.Footer],role:"status","aria-live":"polite"},e.footer)))}var JF=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const CS=y.forwardRef((n,e)=>{var{as:t="div",className:r,above:s,below:i,variant:a,asChild:o}=n,l=JF(n,["as","className","above","below","variant","asChild"]);const{cn:d}=_e(),c=a==="show"?s:i,u=a==="show"?i:s,h=o?Ma:t;return w.createElement(h,Object.assign({},l,{ref:e,className:d("navds-responsive",r,{[`navds-responsive__above--${c}`]:c,[`navds-responsive__below--${u}`]:u})}))}),QF=y.forwardRef((n,e)=>w.createElement(CS,Object.assign({},n,{ref:e,variant:"hide"}))),Gm=y.forwardRef((n,e)=>w.createElement(CS,Object.assign({},n,{ref:e,variant:"show"})));function Ln(n){return!!(n&&!Number.isNaN(n.getTime())&&n.getFullYear()>999)}function e6({day:n,fromDate:e,toDate:t}){const r=t&&Pn(n,wn(t))>0,s=e&&Pn(wn(e),n)>0;return r||s||!1}const OS="dd.MM.yyyy",t6="MMMM yyyy",DS=[OS,"ddMMyyyy","dd/MM/yyyy","dd-MM-yyyy"];[...DS];const oc=(n,e,t,r,s)=>{let i;const a=DS;if(s){for(const o of a)if(i=Xr(n,o,e,{locale:t}),Ln(i)&&!Ih(n,e,t,a))return i;for(const o of[...a.map(l=>l.replace("yyyy","yy"))])if(i=Xr(n,o,e,{locale:t}),Ln(i)&&Ih(n,e,t,a)){const l=n6(n,o,e,t);return Ln(new Date(l))?new Date(l):new Date("Invalid date")}return new Date("Invalid date")}for(const o of a)if(i=Xr(n,o,e,{locale:t}),Ln(i)&&!Ih(n,e,t,a))return i;return new Date("Invalid date")};function Ih(n,e,t,r){let s;const i=r.map(a=>a.replace("yyyy","yy"));for(const a of i)if(s=Xr(n,a,e,{locale:t}),Ln(s))return!0;return!1}function n6(n,e,t,r){const s=Xr(zk(n,"19"),e.replace("yy","yyyy"),t,{locale:r}),i=Xr(zk(n,"20"),e.replace("yy","yyyy"),t,{locale:r});return Ln(s)&&Ln(i)?Vi(s,U_(new Date,{years:80}))?i:s:new Date("Invalid date")}function zk(n,e){const t=n.slice(-2);return`${n.slice(0,n.length-2)}${e}${t}`}const ar=(n,e,t,r)=>rr(n,r??OS,{locale:e}),r6=({month:n,start:e,end:t})=>{if(!n)return;let r=n;return e&&Vi(r,e)&&(r=e),t&&is(r,t)&&(r=t),wa(r)};function s6({displayMonth:n,navStart:e,navEnd:t,locale:r}){return A_({start:yd(n),end:Fu(n)}).map(a=>{const o=rr(a,"LLLL",{locale:r}).replace(".",""),l=am(a),d=e&&a<wa(e)||t&&a>wa(t)||!1;return{value:l,label:o,disabled:d}})}function i6({navStart:n,navEnd:e,locale:t}){if(!n||!e)return;const r=yd(n),s=Fu(e),i=[];let a=r;for(;Vi(a,s)||L_(a,s);)i.push(a),a=Jg(a,1);return i.map(o=>{const l=rr(o,"yyyy",{locale:t});return{value:om(o),label:l,disabled:!1}})}function a6({captionLayout:n,startMonth:e,endMonth:t,today:r}){const s=n==="dropdown",i=r??new Date;return e?e=wa(e):!e&&s&&(e=yd(Jg(i,-100))),t?t=nm(t):!t&&s&&(t=Fu(i)),[e&&wn(e),t&&wn(t)]}var o6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const l6=n=>{var{day:e,modifiers:t,locale:r,children:s}=n,i=o6(n,["day","modifiers","locale","children"]);const{cn:a}=_e(),o=y.useRef(null);return y.useEffect(()=>{var l;t.focused&&((l=o.current)===null||l===void 0||l.focus())},[t.focused]),t.hidden?null:w.createElement("button",Object.assign({},i,{ref:o,"aria-hidden":e.outside,"aria-pressed":!!t.selected,"aria-label":rr(e.date,"cccc d",{locale:r}),"data-pressed":t.selected,"data-today":t.today||void 0,className:a(i.className,{"rdp-day_disabled":t.disabled,"rdp-day_selected":t.selected,"rdp-day_range_start":t.range_start,"rdp-day_range_middle":t.range_middle,"rdp-day_range_end":t.range_end,"rdp-day_today":t.today,"rdp-day_outside":t.outside,"rdp-day__weekend":t.weekend})}),s)},jS=({week:{weekNumber:n,days:e},onWeekNumberClick:t,className:r,style:s,showOnDesktop:i})=>{const a=zg().translate,{cn:o}=_e(),{getModifiers:l}=Ua(),d=y.useMemo(()=>e.filter(u=>{const h=l(u);return!(h.hidden||h.outside||h.disabled)}).length===0,[e,l]),c=i?Gm:QF;return!t||d?w.createElement(c,{above:"sm",asChild:!0},w.createElement("td",{className:"rdp-cell"},w.createElement(Go,{as:"span",textColor:"subtle",className:r,style:s,"aria-label":a("weekNumber",{week:n})},n))):w.createElement(c,{above:"sm",asChild:!0},w.createElement("td",{className:o("rdp-cell",{"navds-date__week-wrapper":!i})},w.createElement(Ze,{variant:"secondary-neutral",size:"small",name:"week-number","aria-label":a("selectWeekNumber",{week:n}),style:s,className:o("navds-date__weeknumber","rdp-weeknumber"),onClick:()=>{t(n,e.map(u=>u.date))},icon:w.createElement("span",{className:o("navds-date__weeknumber-number")},n)})))},d6=({onWeekNumberClick:n,weeks:e})=>{const t=zg().translate,{cn:r}=_e(),s=Jr();return n?w.createElement(Gm,{below:"sm",asChild:!0},w.createElement("table",{className:"rdp-table",role:"grid"},w.createElement("tbody",{className:"rdp-tbody"},w.createElement("tr",{className:r("rdp-row navds-date__week-row")},w.createElement(Go,{as:"th",weight:"semibold",className:r("rdp-cell navds-date__week-cell")},w.createElement("span",{className:r("navds-date__week-wrapper"),id:s},t("week"))),e?.map(i=>w.createElement(jS,{key:i.weekNumber,week:i,onWeekNumberClick:n,showOnDesktop:!1,className:r("navds-date__week-wrapper")})))))):null};var c6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const u6=n=>{var{children:e,calendarMonth:t,locale:r,onWeekNumberClick:s}=n,i=c6(n,["children","calendarMonth","locale","onWeekNumberClick"]);const{dayPickerProps:a,goToMonth:o,previousMonth:l,nextMonth:d}=Ua(),{captionLayout:c}=a,{cn:u}=_e(),h=zg().translate,p=y.useCallback((_,E)=>{const S=Number(E.target.value),T=V_(wa(_),S);o(T)},[o]),v=y.useCallback((_,E)=>{const S=Number(E.target.value),T=B_(wa(_),S);o(T)},[o]),[g,m]=a6({captionLayout:c==="dropdown"?"dropdown":"label",startMonth:a.startMonth,endMonth:a.endMonth,today:a.today}),b=s6({displayMonth:t.date,navStart:g,navEnd:m,locale:r}),k=i6({navStart:g,navEnd:m,locale:r});return w.createElement("div",Object.assign({},Ti(i,["displayIndex"])),w.createElement("div",{className:u("navds-date__caption")},c?.startsWith("dropdown")&&w.createElement("span",{"aria-live":"polite","aria-atomic":"true",className:u("navds-sr-only")},rr(t.date,"LLLL y",{locale:r})),w.createElement(Ze,{variant:"tertiary-neutral",disabled:!l,onClick:()=>l&&o(l),icon:w.createElement(KM,{title:h("goToPreviousMonth")}),className:u("navds-date__caption-button"),type:"button"}),c?.startsWith("dropdown")?w.createElement("div",{className:u("navds-date__caption")},w.createElement(Zs,{label:h("month"),hideLabel:!0,className:u("navds-date__caption__month"),onChange:_=>p(t.date,_),value:am(t.date)},b?.map(({value:_,label:E,disabled:S})=>w.createElement("option",{key:_,value:_,disabled:S},E))),w.createElement(Zs,{label:h("year"),hideLabel:!0,className:u("navds-date__caption__year"),onChange:_=>v(t.date,_),value:om(t.date)},k?.map(({value:_,label:E,disabled:S})=>w.createElement("option",{key:_,value:_,disabled:S},E)))):w.createElement(ie,{weight:"semibold",as:"span","aria-live":"polite",role:"status",className:u("navds-date__caption-label")},rr(t.date,"LLLL y",{locale:r})),w.createElement(Ze,{variant:"tertiary-neutral",icon:w.createElement(WM,{title:h("goToNextMonth")}),onClick:()=>d&&o(d),disabled:!d,className:u("navds-date__caption-button"),type:"button"})),w.createElement(d6,{weeks:t.weeks,onWeekNumberClick:s}),e)};var f6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const h6={root:"rdp",button_next:"button",day:"rdp-cell",day_button:"rdp-day rdp-button",disabled:"",hidden:"rdp-day_hidden",outside:"rdp-day_outside",selected:"rdp-day_selected",weekday:"rdp-head_cell",weekdays:"rdp-head_row",week:"rdp-row",weeks:"rdp-tbody",month_grid:"rdp-table",week_number:"rdp-weeknumber"},RS=n=>{var{className:e,dropdownCaption:t,disabled:r=[],disableWeekends:s=!1,showWeekNumber:i=!1,selected:a,fixedWeeks:o=!1,onWeekNumberClick:l,fromDate:d,toDate:c,month:u,mode:h,handleSelect:p,locale:v}=n,g=f6(n,["className","dropdownCaption","disabled","disableWeekends","showWeekNumber","selected","fixedWeeks","onWeekNumberClick","fromDate","toDate","month","mode","handleSelect","locale"]);const{cn:m}=_e(),b=p_(),k=v?g_(v):b,_=h??"single";return w.createElement(ZF,Object.assign({captionLayout:t?"dropdown":"label",hideNavigation:!0,locale:k,mode:_,onSelect:(E,S)=>{if(_!=="range"||E||!hS(a)){p(E);return}if(!a.to){if(a.from&&Jl(a.from,S)){p({from:S,to:S});return}p({from:S,to:void 0});return}let T;Jl(a.to,S)?T=void 0:Vi(S,a.to)?T={from:S,to:a.to}:T={from:a.to,to:S},p(T)},selected:a,classNames:h6,components:{MonthCaption:()=>w.createElement(w.Fragment,null),DayButton:y.useCallback(E=>w.createElement(l6,Object.assign({},E,{locale:k})),[k]),Month:y.useCallback(E=>w.createElement(u6,Object.assign({},E,{locale:k,onWeekNumberClick:_==="multiple"?l:void 0})),[k,_,l]),Day:y.useCallback(E=>w.createElement("td",Object.assign({},Ti(E,["day","modifiers"]),{className:"rdp-cell",role:void 0})),[]),WeekNumber:y.useCallback(E=>w.createElement(jS,Object.assign({},E,{showOnDesktop:!0,onWeekNumberClick:_==="multiple"?l:void 0})),[_,l]),WeekNumberHeader:y.useCallback(E=>w.createElement(Gm,{above:"sm",asChild:!0},w.createElement("th",Object.assign({},E))),[]),Weekdays:y.useCallback(E=>w.createElement("thead",Object.assign({},E,{className:"rdp-head","aria-hidden":!0}),w.createElement("tr",{className:"rdp-head_row"},E.children)),[])},className:m("navds-date",e),disabled:E=>s&&Ws(E)||An(E,r)||e6({day:E,fromDate:d,toDate:c}),weekStartsOn:1,modifiers:{weekend:E=>s&&Ws(E)},modifiersClassNames:{weekend:"rdp-day__weekend"},autoFocus:!1,showWeekNumber:i,fixedWeeks:o,showOutsideDays:!0,startMonth:d,endMonth:c,month:r6({month:u,start:d,end:c})},Ti(g,["onSelect","role","id","defaultSelected"])))};var p6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const g6=y.forwardRef((n,e)=>{var{className:t,locale:r,translations:s,selected:i,defaultSelected:a,onSelect:o,mode:l}=n,d=p6(n,["className","locale","translations","selected","defaultSelected","onSelect","mode"]);const{cn:c}=_e(),u=Er("DatePicker",s,m_(r)),[h,p]=xi({defaultValue:a,value:i,onChange:v=>o?.(v)});return w.createElement(v_,{translate:u},w.createElement("div",{ref:e,className:c("navds-date__standalone-wrapper",t)},w.createElement(RS,Object.assign({},d,{locale:r,handleSelect:p,selected:h,mode:l}))))});var m6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const ma=y.forwardRef((n,e)=>{var{children:t,locale:r,translations:s,selected:i,id:a,defaultSelected:o,wrapperClassName:l,open:d,onClose:c,onOpenToggle:u,strategy:h,mode:p}=n,v=m6(n,["children","locale","translations","selected","id","defaultSelected","wrapperClassName","open","onClose","onOpenToggle","strategy","mode"]);const g=Er("DatePicker",s,m_(r)),{cn:m}=_e(),b=Jr(a),[k,_]=xi({defaultValue:!1,value:d}),[E,S]=y.useState(null),T=Cn(S,e),[x,A]=xi({defaultValue:o,value:i,onChange:O=>{var C;let D=!1;p==="single"&&O?D=!0:hS(O)&&O.from&&O.to&&(D=!0,Jl(O.from,O.to)&&(D=!1)),D&&(c?.(),_(!1)),(C=v?.onSelect)===null||C===void 0||C.call(v,O)}});return w.createElement(v_,{translate:g},w.createElement(ZA,{open:k,onOpen:()=>{_(O=>!O),u?.()},ariaId:b,defined:!0},w.createElement("div",{ref:T,className:m("navds-date__wrapper",l)},t,w.createElement(g4,{open:k,anchor:E,onClose:()=>{c?.(),k&&_(!1)},locale:r,translate:g,variant:p??"single",popoverProps:{id:b,strategy:h}},w.createElement(RS,Object.assign({},v,{locale:r,handleSelect:A,selected:x,mode:p}))))))});ma.Standalone=g6;ma.Input=JA;const ng=(n={},e={})=>({from:Object.assign({isDisabled:!1,isWeekend:!1,isEmpty:!1,isInvalid:!1,isBefore:!1,isAfter:!1,isValidDate:!0},n),to:Object.assign({isDisabled:!1,isWeekend:!1,isEmpty:!1,isInvalid:!1,isBefore:!1,isAfter:!1,isBeforeFrom:!1,isValidDate:!0},e)}),fs={FROM:"FROM",TO:"TO"},v6=(n,e)=>{const t=e?.fromDate&&n&&Pn(e?.fromDate,n)>0,r=e?.toDate&&n&&Pn(n,e?.toDate)>0;if(Ln(n)&&!(e?.disableWeekends&&Ws(n))&&!(e?.disabled&&An(n,e.disabled)))return{isValidDate:!1,isInvalid:!Ln(n),isWeekend:e?.disableWeekends&&Ws(n),isDisabled:e?.disabled&&An(n,e.disabled),isBefore:t,isAfter:r};if(t||r)return{isValidDate:!1,isBefore:t,isAfter:r}},b6=(n,e,t)=>{var r;const s=t?.fromDate&&n&&Pn(t?.fromDate,n)>0,i=t?.toDate&&n&&Pn(n,t?.toDate)>0,a=(r=e&&Pn(e,n)>0)!==null&&r!==void 0?r:!1;if(Ln(n)&&!(t?.disableWeekends&&Ws(n))&&!(t?.disabled&&An(n,t.disabled)))return{isValidDate:!1,isInvalid:!Ln(n),isWeekend:t?.disableWeekends&&Ws(n),isDisabled:t?.disabled&&An(n,t.disabled),isBefore:s,isAfter:i,isBeforeFrom:a};if(s||i||a)return{isValidDate:!1,isBefore:s,isAfter:i,isBeforeFrom:a}},Nh=(n,e)=>{if(!n||!n?.from)return ng({isEmpty:!0,isValidDate:!1},{isEmpty:!0,isValidDate:!1});const t=v6(n.from,e),r=n.to?b6(n.to,n.from,e):{isEmpty:!0,isValidDate:!1};return ng(Object.assign({},t),Object.assign({},r))},k6=(n={})=>{const{locale:e,defaultSelected:t,today:r=new Date,fromDate:s,toDate:i,disabled:a,disableWeekends:o,onRangeChange:l,inputFormat:d,onValidate:c,defaultMonth:u,allowTwoDigitYear:h=!0}=n,[p,v]=y.useState(null),g=p_(),m=e?g_(e):g,[b,k]=y.useState(t),[_,E]=y.useState(b?.from||b?.to||u||r),[S,T]=y.useState(b??{from:void 0,to:void 0}),[x,A]=y.useState(b?.from?ar(b.from,m,"date",d):""),[O,C]=y.useState(b?.to?ar(b.to,m,"date",d):""),[D,I]=y.useState(Nh(S,n)),[U,H]=y.useState(!1),j=Z=>{l?.(Z),T(Z)},V=(Z={},pe={})=>{const de=ng(Z,pe);I(de),c?.(de)},F=()=>{j(b??{from:void 0,to:void 0}),E(b?.from||b?.to||u||r),I(Nh(b??{from:void 0,to:void 0},n)),A(b?.from?ar(b.from,m,"date",d):""),C(b?.to?ar(b.to,m,"date",d):""),k(t)},G=Z=>{j(Z),A(Z?.from?ar(Z.from,m,"date",d):""),C(Z?.to?ar(Z?.to,m,"date",d):""),I(Nh(Z,n))},B=(Z,pe)=>{if(Z.target.readOnly)return;const de=oc(Z.target.value,r,m,"date",h);if(Ln(de)){pe===fs.FROM?A(ar(de,m,"date",d)):C(ar(de,m,"date",d));const ge=s&&de&&Pn(s,de)>0,we=i&&de&&Pn(de,i)>0;!ge&&!we&&E(de)}},ce=(Z,pe)=>{const de=oc(Z.target.value,r,m,"date",h);Ln(de)&&(pe===fs.FROM?A(ar(de,m,"date",d)):pe===fs.TO&&C(ar(de,m,"date",d)))},L=Z=>Ln(Z)&&!(o&&Ws(Z))&&!(a&&An(Z,a)),$=Z=>{Z?.from&&Z?.to&&(Jl(Z.from,Z.to)||(H(!1),p?.focus())),A(Z?.from?ar(Z.from,m,"date",d):""),C(Z?.to?ar(Z.to,m,"date",d):""),j({from:Z?.from,to:Z?.to}),V({isValidDate:!!Z?.from,isEmpty:!Z?.from},{isValidDate:!!Z?.to,isEmpty:!Z?.to})},M=(Z="",pe,de=!1,ge=!1)=>{if(A(Z),!L(pe)){j(Object.assign(Object.assign({},S),{from:void 0})),V({isEmpty:!Z,isValidDate:!1,isInvalid:!Ln(pe),isWeekend:o&&Ws(pe),isDisabled:a&&An(pe,a),isBefore:de,isAfter:ge},D.to);return}if(de||ge){j(Object.assign(Object.assign({},S),{from:void 0})),V({isValidDate:!1,isBefore:de,isAfter:ge},D.to);return}if(S?.to&&Pn(pe,S?.to)>0){j({to:pe,from:pe}),C(ar(pe,m,"date",d)),E(pe),V();return}if(O&&!S?.to){const we=oc(O,r,m,"date",h);if(L(we)){j({from:pe,to:we}),E(pe),V();return}}j(Object.assign(Object.assign({},S),{from:pe})),V({},D.to),E(pe)},Y=(Z="",pe,de=!1,ge=!1)=>{if(C(Z),!L(pe)){j({from:S?.from,to:void 0}),V(D.from,{isEmpty:!Z,isValidDate:!1,isInvalid:!Ln(pe),isWeekend:o&&Ws(pe),isDisabled:a&&An(pe,a),isBefore:de,isAfter:ge});return}if(de||ge){j({from:S?.from,to:void 0}),V(D.from,{isValidDate:!1,isBefore:de,isAfter:ge});return}if(S?.from&&Pn(S?.from,pe)>0){j({from:S?.from,to:void 0}),V(D.from,{isValidDate:!1,isBeforeFrom:!0});return}j({from:S?.from,to:pe}),V(D.from,{}),E(pe)},J=(Z,pe)=>{const de=oc(Z.target.value,r,m,"date",h),ge=s&&Pn(s,de)>0,we=i&&Pn(de,i)>0;return pe===fs.FROM?M(Z.target.value,de,ge,we):Y(Z.target.value,de,ge,we)};return{datepickerProps:{month:_,onMonthChange:E,onSelect:$,selected:S,locale:e,fromDate:s,toDate:i,today:r,mode:"range",open:U,onOpenToggle:()=>H(Z=>!Z),onClose:()=>{H(!1),p?.focus()},disabled:a,disableWeekends:o},fromInputProps:{onChange:Z=>J(Z,fs.FROM),onFocus:Z=>B(Z,fs.FROM),onBlur:Z=>ce(Z,fs.FROM),value:x,setAnchorRef:v},toInputProps:{onChange:Z=>J(Z,fs.TO),onFocus:Z=>B(Z,fs.TO),onBlur:Z=>ce(Z,fs.TO),value:O,setAnchorRef:v},reset:F,selectedRange:S,setSelected:G}},Ef=y.createContext({open:!1,toggleOpen:()=>{},size:"medium"});var y6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const _6=y.forwardRef((n,e)=>{var{children:t,className:r,"data-color":s}=n,i=y6(n,["children","className","data-color"]);const{cn:a}=_e(),o=y.useContext(Ef),l=wr();return o===null?(console.error("<ExpansionCard.Content> has to be used within an <ExpansionCard>"),null):w.createElement(br,Object.assign({},i,{ref:e,as:"div",className:a("navds-expansioncard__content",r,{"navds-expansioncard__content--closed":!o.open}),"aria-hidden":!o.open,size:o.size,"data-open":o.open}),w.createElement("div",{className:a("navds-expansioncard__content-inner"),"data-color":s??l?.color},t))});var w6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const E6=y.forwardRef((n,e)=>{var{className:t}=n,r=w6(n,["className"]);const{cn:s}=_e(),i=y.useContext(Ef);return i===null?(console.error("<ExpansionCard.Description> has to be used within an <ExpansionCard>"),null):w.createElement(br,Object.assign({},r,{as:"p",ref:e,className:s("navds-link-panel__description",t),size:i.size}))});var S6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const x6=y.forwardRef((n,e)=>{var{children:t,className:r}=n,s=S6(n,["children","className"]);const{cn:i}=_e(),a=y.useContext(Ef),o=Er("global");return a===null?(console.error("<ExpansionCard.Header> has to be used within an <ExpansionCard>"),null):w.createElement("div",Object.assign({ref:e},s,{className:i("navds-expansioncard__header",r),"data-open":a.open}),w.createElement("div",{className:i("navds-expansioncard__header-content")},t),w.createElement("button",{className:i("navds-expansioncard__header-button"),onClick:a.toggleOpen,type:"button","aria-expanded":a.open},w.createElement(Iu,{className:i("navds-expansioncard__header-chevron"),title:o("showMore")})))});var T6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const A6=y.forwardRef((n,e)=>{var{className:t,as:r="h3",size:s="medium"}=n,i=T6(n,["className","as","size"]);const{cn:a}=_e();return w.createElement(r,Object.assign({},i,{ref:e,className:a("navds-expansioncard__title",`navds-expansioncard__title--${s}`,"navds-heading",`navds-heading--${s}`,t)}))});var C6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const va=y.forwardRef((n,e)=>{var{className:t,onToggle:r,open:s,defaultOpen:i=!1,size:a="medium","data-color":o="neutral"}=n,l=C6(n,["className","onToggle","open","defaultOpen","size","data-color"]);const{cn:d}=_e(),c=y.useRef(!(s||i)),[u,h]=xi({value:s,onChange:p=>{r?.(p),c.current=!0},defaultValue:i});return w.createElement(Ef.Provider,{value:{open:s??u,toggleOpen:()=>h(p=>!p),size:a}},w.createElement("section",Object.assign({"data-color":o},l,{className:d("navds-expansioncard",t,`navds-expansioncard--${a}`,{"navds-expansioncard--open":s??u,"navds-expansioncard--no-animation":!c.current}),ref:e})))});va.Header=x6;va.Content=_6;va.Title=A6;va.Description=E6;const O6=()=>{const n=Er("GuidePanel");return w.createElement("svg",{width:"56",height:"85",viewBox:"0 0 56 85",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":n("illustrationLabel"),focusable:!1,role:"img"},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.1888 40.4308C41.795 44.9808 39.0663 48.7576 35.5693 51.069L35.7484 53.0952L35.7474 53.1777L33.857 69.8797H21.8679L21.8181 69.5289L19.5004 53.1489L19.5862 51.1002C16.0715 48.795 13.3274 45.0119 11.9257 40.4499C11.8781 40.4544 11.83 40.4566 11.7812 40.4566C10.8745 40.4566 10.1562 39.6595 10.1562 38.6939V33.2298C10.1562 32.5825 10.479 32.0106 10.9648 31.7039C11.7229 21.5028 18.8443 13.4855 27.554 13.4855C36.2401 13.4855 43.3472 21.4596 44.1376 31.6211C44.7049 31.8986 45.0937 32.5184 45.0937 33.2298V38.6939C45.0937 39.66 44.3765 40.4566 43.4687 40.4566C43.3731 40.4566 43.2796 40.4478 43.1888 40.4308Z",fill:"#F7F7F7"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.1471 51.6345C35.0789 55.2819 31.7373 59.0239 27.625 59.0239C23.4949 59.0239 20.142 55.2493 20.1022 51.5869C17.9622 52.1325 14.6956 53.7781 11.9995 56.5281C9.38852 59.1912 7.3125 63.1941 7.3125 66.2993V85.0001H47.9375V66.2993C47.9375 63.1878 45.8167 59.178 43.1575 56.5119C40.4983 53.8458 37.3007 52.2225 35.1471 51.6345Z",fill:"#005B82"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9671 51.7134C17.9959 52.4333 14.6891 54.0068 12.1875 56.3964C4.875 54.7595 1.625 50.87 1.625 50.87C1.625 50.87 8.36213 44.2596 8.3662 32.698V32.6857C8.3662 19.1478 15.6319 9.80762 27.6022 9.80762C39.5742 9.80762 46.8399 19.1478 46.8399 32.6857H46.883C46.883 44.2555 53.625 50.87 53.625 50.87C53.625 50.87 50.375 54.7595 43.0625 56.3942L43.0515 56.3964C40.6353 54.1853 37.1309 52.4799 35.2243 51.7589L35.2265 51.7582L35.1508 50.9012L35.1917 50.8302C38.7891 48.5155 41.5804 44.6159 42.9262 39.904C43.0909 39.9961 43.277 40.048 43.4739 40.048C44.1476 40.048 44.6928 39.4431 44.6928 38.6939V33.2298C44.6928 32.5887 44.2936 32.0528 43.7564 31.9114C43.7559 31.904 43.7554 31.8966 43.7549 31.8892C26.7466 33.7984 20.6199 22.068 20.117 22.0672C20.117 22.0672 14.4686 26.1538 11.769 31.0124C11.769 31.0124 11.3576 31.9296 11.3556 31.9605C10.8934 32.1527 10.5637 32.648 10.5637 33.2298V38.6939C10.5637 39.4431 11.1103 40.048 11.7826 40.048C11.9316 40.048 12.0743 40.0184 12.2062 39.9642C13.5668 44.6785 16.3759 48.5738 19.9901 50.8732L20.0035 50.9012L19.9695 51.7134H19.9671Z",fill:"#F25C5C"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.8159 35.8563C20.766 35.9417 20.4722 34.2696 20.7885 33.1776C20.848 32.9706 21.1956 32.0283 21.8109 32.0283C22.4254 32.0283 22.6968 32.5434 22.7345 32.632C23.1865 33.6965 22.9645 35.7622 21.8159 35.8563",fill:"#262626"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.9927 35.8563C35.0425 35.9417 35.3364 34.2696 35.0201 33.1776C34.9606 32.9706 34.613 32.0283 33.9977 32.0283C33.3832 32.0283 33.1118 32.5434 33.0741 32.632C32.6221 33.6965 32.8441 35.7622 33.9927 35.8563",fill:"#262626"}),w.createElement("path",{d:"M28.2935 37.5041C28.9213 37.396 29.3501 37.4638 29.5036 37.6748C30.0833 38.4721 29.8979 39.3156 28.9035 40.0081C28.3806 40.372 27.661 40.5001 27.28 40.3114C27.0937 40.2191 26.8758 40.3133 26.7934 40.5218C26.7109 40.7304 26.7951 40.9742 26.9814 41.0665C27.6111 41.3784 28.5794 41.206 29.2931 40.7092C30.6445 39.7682 30.9537 38.3611 30.0758 37.1534C29.7042 36.643 29.0465 36.5389 28.1812 36.688C27.9799 36.7227 27.8418 36.9335 27.8728 37.1589C27.9038 37.3842 28.0921 37.5388 28.2935 37.5041Z",fill:"#262626"}),w.createElement("path",{d:"M32.8337 42.9837C32.7968 43.0623 32.7122 43.2128 32.5763 43.411C32.3463 43.7465 32.0574 44.0829 31.7066 44.3966C30.6611 45.3314 29.3002 45.872 27.5683 45.8225C25.8795 45.7743 24.5247 45.2421 23.4626 44.3839C23.0726 44.0688 22.7506 43.7314 22.4933 43.395C22.3415 43.1967 22.2468 43.0463 22.2053 42.9679C22.1056 42.7794 21.8606 42.7018 21.6581 42.7946C21.4555 42.8873 21.3721 43.1153 21.4718 43.3039C21.5318 43.4174 21.6487 43.6029 21.8273 43.8363C22.1206 44.2196 22.4852 44.6018 22.9266 44.9584C24.1256 45.9272 25.6579 46.5292 27.5432 46.583C29.5064 46.6391 31.0759 46.0156 32.273 44.9453C32.6733 44.5874 33.0023 44.2042 33.2656 43.8202C33.4257 43.5867 33.5298 43.4014 33.5829 43.2881C33.6733 43.0955 33.5788 42.8713 33.3719 42.7872C33.165 42.7032 32.924 42.7911 32.8337 42.9837Z",fill:"#262626"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.8629 70.5H30.8865C30.3966 70.5 30 70.0974 30 69.6001V63.609C30 63.1117 30.3966 62.7084 30.8865 62.7084H41.8629C42.3527 62.7084 42.75 63.1117 42.75 63.609V69.6001C42.75 70.0974 42.3527 70.5 41.8629 70.5",fill:"white"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.0345 63.9451H35.8971C35.8128 63.9451 35.7449 63.8775 35.7449 63.7937V63.6029C35.7449 63.5197 35.8128 63.4515 35.8971 63.4515H37.0345C37.1188 63.4515 37.1867 63.5197 37.1867 63.6029V63.7937C37.1867 63.8775 37.1188 63.9451 37.0345 63.9451",fill:"#262626"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.1365 63.7708H36.7955V62H36.1365V63.7708Z",fill:"#8F8F8F"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.5417 65.5H39.6457C39.6457 65.5 39.5839 65.5 39.5621 65.5545L39.0662 67.0725L38.5708 65.5545C38.5489 65.5 38.4868 65.5 38.4868 65.5H36.764C36.7267 65.5 36.6954 65.5311 36.6954 65.5682V66.0837C36.6954 65.6748 36.2603 65.5 36.0055 65.5C35.4349 65.5 35.053 65.8758 34.934 66.4472C34.9276 66.0681 34.8961 65.9323 34.794 65.7932C34.7471 65.7251 34.6793 65.6678 34.6055 65.6204C34.4535 65.5314 34.317 65.5 34.0237 65.5H33.6794C33.6794 65.5 33.6171 65.5 33.5952 65.5545L33.2818 66.331V65.5682C33.2818 65.5311 33.2508 65.5 33.2136 65.5H32.4167C32.4167 65.5 32.3552 65.5 32.3328 65.5545L32.0071 66.362C32.0071 66.362 31.9746 66.4427 32.0489 66.4427H32.3552V67.9813C32.3552 68.0195 32.3853 68.0497 32.4236 68.0497H33.2136C33.2508 68.0497 33.2818 68.0195 33.2818 67.9813V66.4427H33.5898C33.7664 66.4427 33.8039 66.4475 33.8726 66.4796C33.914 66.4952 33.9513 66.5268 33.9716 66.5633C34.0133 66.6417 34.0237 66.7359 34.0237 67.0135V67.9813C34.0237 68.0195 34.0544 68.0497 34.0923 68.0497H34.8494C34.8494 68.0497 34.935 68.0497 34.9688 67.9652L35.1366 67.5505C35.3597 67.863 35.7269 68.0497 36.1833 68.0497H36.283C36.283 68.0497 36.3691 68.0497 36.4032 67.9652L36.6954 67.2415V67.9813C36.6954 68.0195 36.7267 68.0497 36.764 68.0497H37.5368C37.5368 68.0497 37.6221 68.0497 37.6564 67.9652C37.6564 67.9652 37.9655 67.1978 37.9667 67.192H37.9671C37.979 67.1281 37.8983 67.1281 37.8983 67.1281H37.6225V65.8113L38.4904 67.9652C38.5243 68.0497 38.6097 68.0497 38.6097 68.0497H39.5228C39.5228 68.0497 39.6087 68.0497 39.6426 67.9652L40.6048 65.5826C40.6381 65.5 40.5417 65.5 40.5417 65.5V65.5ZM36.6954 67.128H36.1763C35.9696 67.128 35.8015 66.9607 35.8015 66.7538C35.8015 66.5473 35.9696 66.3789 36.1763 66.3789H36.3215C36.5276 66.3789 36.6954 66.5473 36.6954 66.7538V67.128Z",fill:"#C30000"}))},D6=()=>{const n=Er("GuidePanel");return w.createElement("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":n("illustrationLabel"),focusable:!1,role:"img"},w.createElement("g",{clipPath:"url(#clip0_1387_21067)"},w.createElement("rect",{width:"80",height:"80",rx:"40",fill:"var(--ax-bg-moderate)"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55.1888 40.4309C53.795 44.9809 51.0663 48.7578 47.5693 51.0691L47.7484 53.0953L47.7474 53.1777L45.857 69.8798H33.8679L33.8181 69.5289L31.5004 53.149L31.5862 51.1003C28.0715 48.7951 25.3274 45.012 23.9257 40.4499C23.8781 40.4544 23.83 40.4567 23.7812 40.4567C22.8745 40.4567 22.1562 39.6596 22.1562 38.694V33.2299C22.1562 32.5826 22.479 32.0107 22.9648 31.704C23.7229 21.5029 30.8443 13.4856 39.554 13.4856C48.2401 13.4856 55.3472 21.4598 56.1376 31.6212C56.7049 31.8987 57.0938 32.5185 57.0938 33.2299V38.694C57.0938 39.6601 56.3765 40.4567 55.4688 40.4567C55.3731 40.4567 55.2796 40.4479 55.1888 40.4309Z",fill:"#F5F6F7"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.1471 51.6344C47.0789 55.2818 43.7373 59.0238 39.625 59.0238C35.4948 59.0238 32.142 55.2492 32.1022 51.5868C29.9622 52.1324 26.6956 53.778 23.9995 56.528C21.3885 59.191 19.3125 63.194 19.3125 66.2992V85H59.9375V66.2992C59.9375 63.1877 57.8167 59.1779 55.1575 56.5118C52.4983 53.8457 49.3007 52.2224 47.1471 51.6344Z",fill:"#156389"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.9671 51.7135C29.9959 52.4334 26.6891 54.0069 24.1875 56.3965C16.875 54.7596 13.625 50.8701 13.625 50.8701C13.625 50.8701 20.3621 44.2597 20.3662 32.698V32.6858C20.3662 19.1479 27.6319 9.80769 39.6022 9.80769C51.5742 9.80769 58.8399 19.1479 58.8399 32.6858H58.883C58.883 44.2556 65.625 50.8701 65.625 50.8701C65.625 50.8701 62.375 54.7596 55.0625 56.3942L55.0515 56.3965C52.6353 54.1854 49.1309 52.48 47.2243 51.759L47.2265 51.7583L47.1508 50.9013L47.1917 50.8303C50.7891 48.5155 53.5804 44.616 54.9262 39.904C55.0909 39.9962 55.277 40.0481 55.4739 40.0481C56.1476 40.0481 56.6928 39.4432 56.6928 38.694V33.2299C56.6928 32.5888 56.2936 32.0529 55.7564 31.9115C55.7559 31.9041 55.7554 31.8967 55.7549 31.8893C38.7466 33.7984 32.6199 22.0681 32.117 22.0673C32.117 22.0673 26.4686 26.1538 23.769 31.0125C23.769 31.0125 23.3576 31.9297 23.3556 31.9605C22.8934 32.1528 22.5637 32.648 22.5637 33.2299V38.694C22.5637 39.4432 23.1103 40.0481 23.7826 40.0481C23.9316 40.0481 24.0743 40.0185 24.2062 39.9643C25.5668 44.6786 28.3759 48.5739 31.9901 50.8733L32.0035 50.9013L31.9695 51.7135H31.9671Z",fill:"#A93D70"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.8159 35.8563C32.766 35.9417 32.4722 34.2696 32.7885 33.1775C32.848 32.9706 33.1956 32.0283 33.8109 32.0283C34.4254 32.0283 34.6968 32.5433 34.7345 32.6319C35.1865 33.6965 34.9645 35.7622 33.8159 35.8563",fill:"#202733"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.9927 35.8563C47.0425 35.9417 47.3364 34.2696 47.0201 33.1775C46.9606 32.9706 46.613 32.0283 45.9977 32.0283C45.3832 32.0283 45.1118 32.5433 45.0741 32.6319C44.6221 33.6965 44.8441 35.7622 45.9927 35.8563",fill:"#202733"}),w.createElement("path",{d:"M40.2935 37.5041C40.9213 37.396 41.3501 37.4638 41.5036 37.6748C42.0833 38.4721 41.8979 39.3156 40.9035 40.0081C40.3806 40.372 39.661 40.5001 39.28 40.3114C39.0937 40.2191 38.8758 40.3133 38.7934 40.5218C38.7109 40.7304 38.7951 40.9742 38.9814 41.0665C39.6111 41.3784 40.5794 41.206 41.2931 40.7092C42.6445 39.7682 42.9537 38.3611 42.0758 37.1534C41.7042 36.643 41.0465 36.5389 40.1812 36.688C39.9799 36.7227 39.8418 36.9335 39.8728 37.1589C39.9038 37.3842 40.0921 37.5388 40.2935 37.5041Z",fill:"#202733"}),w.createElement("path",{d:"M44.8337 42.9837C44.7968 43.0623 44.7122 43.2128 44.5763 43.4111C44.3463 43.7466 44.0574 44.083 43.7066 44.3967C42.6611 45.3315 41.3002 45.8721 39.5683 45.8226C37.8795 45.7744 36.5247 45.2422 35.4626 44.384C35.0726 44.0689 34.7506 43.7315 34.4933 43.3951C34.3415 43.1967 34.2468 43.0464 34.2053 42.968C34.1056 42.7795 33.8606 42.7019 33.6581 42.7946C33.4555 42.8874 33.3721 43.1154 33.4718 43.3039C33.5318 43.4175 33.6487 43.6029 33.8273 43.8364C34.1206 44.2197 34.4852 44.6019 34.9266 44.9585C36.1256 45.9273 37.6579 46.5293 39.5432 46.5831C41.5064 46.6391 43.0759 46.0157 44.273 44.9453C44.6733 44.5875 45.0023 44.2043 45.2656 43.8203C45.4257 43.5868 45.5298 43.4015 45.5829 43.2882C45.6733 43.0956 45.5788 42.8714 45.3719 42.7873C45.165 42.7033 44.924 42.7912 44.8337 42.9837Z",fill:"#202733"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M53.8629 70.5H42.8865C42.3966 70.5 42 70.0974 42 69.6V63.609C42 63.1117 42.3966 62.7083 42.8865 62.7083H53.8629C54.3527 62.7083 54.75 63.1117 54.75 63.609V69.6C54.75 70.0974 54.3527 70.5 53.8629 70.5",fill:"white"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.0346 63.9451H47.8971C47.8128 63.9451 47.7449 63.8775 47.7449 63.7937V63.6029C47.7449 63.5197 47.8128 63.4515 47.8971 63.4515H49.0346C49.1188 63.4515 49.1867 63.5197 49.1867 63.6029V63.7937C49.1867 63.8775 49.1188 63.9451 49.0346 63.9451",fill:"#202733"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.1365 63.7708H48.7955V62H48.1365V63.7708Z",fill:"#818997"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.5417 65.5H51.6457C51.6457 65.5 51.5839 65.5 51.5621 65.5545L51.0662 67.0725L50.5708 65.5545C50.5489 65.5 50.4868 65.5 50.4868 65.5H48.764C48.7267 65.5 48.6954 65.5311 48.6954 65.5682V66.0837C48.6954 65.6748 48.2603 65.5 48.0055 65.5C47.4349 65.5 47.053 65.8758 46.934 66.4472C46.9276 66.0681 46.8961 65.9323 46.794 65.7932C46.7471 65.7251 46.6793 65.6678 46.6055 65.6204C46.4535 65.5314 46.317 65.5 46.0237 65.5H45.6794C45.6794 65.5 45.6171 65.5 45.5952 65.5545L45.2818 66.331V65.5682C45.2818 65.5311 45.2508 65.5 45.2136 65.5H44.4167C44.4167 65.5 44.3552 65.5 44.3328 65.5545L44.0071 66.362C44.0071 66.362 43.9746 66.4427 44.0489 66.4427H44.3552V67.9813C44.3552 68.0195 44.3853 68.0497 44.4236 68.0497H45.2136C45.2508 68.0497 45.2818 68.0195 45.2818 67.9813V66.4427H45.5898C45.7664 66.4427 45.8039 66.4475 45.8726 66.4796C45.914 66.4952 45.9513 66.5268 45.9716 66.5633C46.0133 66.6417 46.0237 66.7359 46.0237 67.0135V67.9813C46.0237 68.0195 46.0544 68.0497 46.0923 68.0497H46.8494C46.8494 68.0497 46.935 68.0497 46.9688 67.9652L47.1366 67.5505C47.3597 67.863 47.7269 68.0497 48.1833 68.0497H48.283C48.283 68.0497 48.3691 68.0497 48.4032 67.9652L48.6954 67.2415V67.9813C48.6954 68.0195 48.7267 68.0497 48.764 68.0497H49.5368C49.5368 68.0497 49.6221 68.0497 49.6564 67.9652C49.6564 67.9652 49.9655 67.1978 49.9667 67.192H49.9671C49.979 67.1281 49.8983 67.1281 49.8983 67.1281H49.6225V65.8113L50.4904 67.9652C50.5243 68.0497 50.6097 68.0497 50.6097 68.0497H51.5228C51.5228 68.0497 51.6087 68.0497 51.6426 67.9652L52.6048 65.5826C52.6381 65.5 52.5417 65.5 52.5417 65.5V65.5ZM48.6954 67.128H48.1763C47.9696 67.128 47.8015 66.9607 47.8015 66.7538C47.8015 66.5473 47.9696 66.3789 48.1763 66.3789H48.3215C48.5276 66.3789 48.6954 66.5473 48.6954 66.7538V67.128Z",fill:"#C30000"})),w.createElement("defs",null,w.createElement("clipPath",{id:"clip0_1387_21067"},w.createElement("rect",{width:"80",height:"80",rx:"40",fill:"white"}))))};var j6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const IS=y.forwardRef((n,e)=>{var{children:t,className:r,illustration:s,poster:i,"data-color":a="info"}=n,o=j6(n,["children","className","illustration","poster","data-color"]);const{cn:l}=_e(),d=wr();return w.createElement("div",Object.assign({"data-color":a},o,{ref:e,className:l("navds-guide-panel",r,{"navds-guide-panel--poster":i===!0,"navds-guide-panel--not-poster":i===!1,"navds-guide-panel--responsive-poster":i===void 0}),"data-responsive":i===void 0,"data-poster":i}),w.createElement("div",{className:l("navds-guide")},s??(d?.isDarkside?w.createElement(D6,null):w.createElement(O6,null))),w.createElement("div",{className:l("navds-guide-panel__content")},d?.isDarkside&&w.createElement("svg",{viewBox:"0 0 33 22",width:"33",height:"22",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:l("navds-guide-panel__tail")},w.createElement("path",{d:"M8.74229e-08 22L0 20L33 20V22L8.74229e-08 22Z",fill:"var(--ax-bg-raised)"}),w.createElement("path",{d:"M31 20.0001L2 20.0001C2.09817 10.0296 3 7.00011 6 2.00011C8 12.5001 20 20.0001 31 20.0001Z",fill:"var(--ax-bg-raised)"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 20C-2.87106e-10 19.9934 3.21047e-05 19.987 9.68646e-05 19.9804C0.0494722 14.9659 0.299239 11.5341 0.964025 8.68212C1.64231 5.77217 2.72947 3.56367 4.28501 0.971094C4.71185 0.259692 5.53358 -0.114327 6.35038 0.0310157C7.16718 0.176359 7.80944 0.810884 7.96467 1.62586C8.84145 6.22896 11.9453 10.3172 16.2599 13.2908C20.5715 16.2623 25.9294 18.0001 31 18.0001C32.1046 18.0001 33 18.8954 33 20L0 20ZM6.755 4.70521C8.97688 10.7068 14.4934 15.469 20.8803 18.0001C24.1345 19.2897 27.6146 20.0001 31 20.0001L2 20.0001C2.00689 19.3003 2.01774 18.6346 2.033 18.0001C2.19625 11.2107 2.86405 7.98363 4.58479 4.54371C4.9944 3.72487 5.46367 2.89399 6 2.00011C6.17639 2.92619 6.43058 3.82889 6.755 4.70521Z",fill:"var(--ax-border-default)"})),d?.isDarkside?w.createElement("div",{className:l("navds-guide-panel__content-inner")},t):t))}),Wk=({filled:n=!1})=>{const{cn:e}=_e();return w.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",className:e("navds-help-text__icon",{"navds-help-text__icon--filled":n}),"aria-hidden":!0},w.createElement("circle",{cx:"12",cy:"12",r:"11",strokeWidth:"1.5",stroke:"currentColor",fill:n?"currentColor":"transparent"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.75 9C9.75 7.75736 10.7574 6.75 12 6.75H12.1716C13.3195 6.75 14.25 7.68054 14.25 8.82843C14.25 9.37966 14.031 9.90832 13.6412 10.2981L12.6412 11.2981C11.7504 12.1889 11.25 13.3971 11.25 14.6569C11.25 15.0711 11.5858 15.4069 12 15.4069C12.4142 15.4069 12.75 15.0711 12.75 14.6569C12.75 13.7949 13.0924 12.9682 13.7019 12.3588L14.7019 11.3588C15.373 10.6877 15.75 9.77748 15.75 8.82843C15.75 6.85212 14.1479 5.25 12.1716 5.25H12C9.92893 5.25 8.25 6.92893 8.25 9V9.5C8.25 9.91421 8.58579 10.25 9 10.25C9.41421 10.25 9.75 9.91421 9.75 9.5V9ZM12 16.5C11.4477 16.5 11 16.9477 11 17.5C11 18.0523 11.4477 18.5 12 18.5C12.5523 18.5 13 18.0523 13 17.5C13 16.9477 12.5523 16.5 12 16.5Z",fill:n?"var(--ax-text-accent-contrast, var(--a-surface-default))":"currentColor"}))};var R6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const NS=y.forwardRef((n,e)=>{var{className:t,children:r,placement:s,strategy:i="absolute",title:a,onClick:o,wrapperClassName:l,"data-color":d="info"}=n,c=R6(n,["className","children","placement","strategy","title","onClick","wrapperClassName","data-color"]);const{cn:u}=_e(),h=y.useRef(null),p=Cn(h,e),[v,g]=y.useState(!1),m=wr(),b=Er("HelpText"),k=a||b("title");return w.createElement("div",{className:u("navds-help-text",l),"data-color":d},w.createElement("button",Object.assign({},c,{ref:p,onClick:it(o,()=>g(_=>!_)),className:u(t,"navds-help-text__button"),type:"button","aria-expanded":v,"aria-label":k}),w.createElement(Wk,null),w.createElement(Wk,{filled:!0})),w.createElement(ru,{onClose:()=>g(!1),className:u("navds-help-text__popover"),open:v,anchorEl:h.current,placement:s,strategy:i,offset:m?.isDarkside?8:12,arrow:!m?.isDarkside},w.createElement(ru.Content,{className:u("navds-body-short")},r)))});var I6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const tn=y.forwardRef((n,e)=>{var{as:t="a",className:r,underline:s=!0,variant:i,inlineText:a=!1,"data-color":o}=n,l=I6(n,["as","className","underline","variant","inlineText","data-color"]);const d=wr(),{cn:c}=_e();let u;return d?.isDarkside?u=i:u=i??"action",w.createElement(t,Object.assign({"data-color":o??N6(u),"data-variant":u},l,{ref:e,className:c("navds-link",r,{[`navds-link--${u}`]:u,"navds-link--remove-underline":!s,"navds-link--inline-text":a})}))});function N6(n){switch(n){case"action":return"accent";case"neutral":return"neutral";case"subtle":return"neutral";default:return}}const Mc=y.createContext({listType:"ul",size:"medium"});var P6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const PS=y.forwardRef((n,e)=>{var{className:t,children:r,title:s,icon:i}=n,a=P6(n,["className","children","title","icon"]);const{listType:o,size:l}=y.useContext(Mc),{cn:d}=_e();return o==="ol"&&i&&console.warn("<List />: Icon prop is not supported for ordered lists. Please remove the icon prop."),w.createElement("li",Object.assign({},a,{ref:e,className:d("navds-list__item",t)}),o==="ul"&&w.createElement("div",{className:d("navds-list__item-marker",{"navds-list__item-marker--icon":i,"navds-list__item-marker--bullet":!i})},i||w.createElement("svg",{viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1,role:"img"},w.createElement("rect",{width:"6",height:"6",rx:"3",fill:"currentColor"}))),w.createElement("div",null,s&&w.createElement(br,{as:"p",size:l,weight:"semibold"},s),r))});PS.displayName="List.Item";var M6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const L6={small:"xsmall",medium:"small",large:"medium"},Mn=y.forwardRef((n,e)=>{var{children:t,className:r,as:s="ul",title:i,description:a,headingTag:o,size:l,"aria-label":d,"aria-labelledby":c}=n,u=M6(n,["children","className","as","title","description","headingTag","size","aria-label","aria-labelledby"]);const{size:h}=y.useContext(Mc),{cn:p}=_e(),v=wr(),g=l??h;return v?.isDarkside?w.createElement(Mc.Provider,{value:{listType:s,size:g}},w.createElement(br,Object.assign({as:"div"},u,{size:g,ref:e,className:p("navds-list",`navds-list--${g}`,r)}),w.createElement(s,{role:"list","aria-label":d,"aria-labelledby":c},t))):w.createElement(Mc.Provider,{value:{listType:s,size:g}},w.createElement(br,Object.assign({as:"div"},u,{size:g,ref:e,className:p("navds-list",`navds-list--${g}`,r)}),i&&w.createElement(Ve,{size:L6[g],as:o??"h3"},i),a&&w.createElement(ie,{size:g},a),w.createElement(s,{role:"list","aria-label":d,"aria-labelledby":c},t)))});Mn.Item=PS;var F6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const MS=y.forwardRef((n,e)=>{var{children:t,as:r="button",selected:s=!1,className:i,page:a,"data-color":o}=n,l=F6(n,["children","as","selected","className","page","data-color"]);const d=wr(),{cn:c}=_e();return w.createElement(Ze,Object.assign({as:r,variant:d?.isDarkside?"tertiary-neutral":"tertiary","data-color":o,"aria-current":s,"data-pressed":s,ref:e,className:c("navds-pagination__item",i,{"navds-pagination__item--selected":s}),"data-page":a,page:a},r==="button"&&{type:"button"},l),t)});var V6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const B6=({page:n,count:e,boundaryCount:t=1,siblingCount:r=1})=>{var s,i;const a=(u,h)=>Array.from({length:h-u+1},(p,v)=>u+v);if(e<=(t+r)*2+3)return a(1,e);const o=a(1,t),l=a(e-t+1,e),d=Math.max(Math.min(n-r,e-t-r*2-1),t+2),c=d+r*2;return[...o,d-((s=o[o.length-1])!==null&&s!==void 0?s:0)===2?d-1:"ellipsis",...a(d,c),((i=l[0])!==null&&i!==void 0?i:e+1)-c===2?c+1:"ellipsis",...l]},Id=y.forwardRef((n,e)=>{var{page:t,onPageChange:r,count:s,boundaryCount:i=1,siblingCount:a=1,className:o,size:l="medium",prevNextTexts:d=!1,srHeading:c,"aria-labelledby":u,renderItem:h=MS,"data-color":p}=n,v=V6(n,["page","onPageChange","count","boundaryCount","siblingCount","className","size","prevNextTexts","srHeading","aria-labelledby","renderItem","data-color"]);const{cn:g}=_e(),m=Jr(),b=Er("Pagination");return t<1?(console.error("page cannot be less than 1"),null):s<1?(console.error("count cannot be less than 1"),null):i<0?(console.error("boundaryCount cannot be less than 0"),null):a<0?(console.error("siblingCount cannot be less than 0"),null):w.createElement("nav",Object.assign({ref:e},v,{"data-color":p,"aria-labelledby":c?Yo(m,u):u,className:g("navds-pagination",`navds-pagination--${l}`,o)}),c&&w.createElement(Ve,{size:"xsmall",visuallyHidden:!0,as:c.tag,id:m},c.text),w.createElement("ul",{className:g("navds-pagination__list")},w.createElement("li",null,w.createElement(h,{"data-color":p,className:g("navds-pagination__prev-next",{"navds-pagination--invisible":t===1,"navds-pagination--prev-next--with-text":d}),disabled:t===1,onClick:()=>r?.(t-1),page:t-1,size:l,icon:w.createElement(GE,Object.assign({},d?{"aria-hidden":!0}:{title:b("previous")}))},d&&b("previous"))),B6({page:t,count:s,siblingCount:a,boundaryCount:i}).map((k,_)=>{const E=Number(k);return Number.isNaN(E)?w.createElement("li",{className:g("navds-pagination__ellipsis"),key:`${k}${_}`},w.createElement(ie,{size:l==="xsmall"?"small":l,as:"span"},"...")):w.createElement("li",{key:k},w.createElement(h,{"data-color":p,onClick:()=>r?.(E),selected:t===E,page:E,size:l},E))}),w.createElement("li",null,w.createElement(h,{"data-color":p,className:g("navds-pagination__prev-next",{"navds-pagination--invisible":t===s,"navds-pagination--prev-next--with-text":d}),disabled:t===s,onClick:()=>r?.(t+1),page:t+1,size:l,icon:w.createElement(bf,Object.assign({},d?{"aria-hidden":!0}:{title:b("next")})),iconPosition:"right"},d&&b("next")))))});Id.Item=MS;var H6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const rg=y.forwardRef((n,e)=>{var{className:t,children:r,height:s,width:i,style:a,variant:o="text",as:l="div"}=n,d=H6(n,["className","children","height","width","style","variant","as"]);const{cn:c}=_e();return w.createElement(l,Object.assign({},d,{ref:e,className:c("navds-skeleton",t,`navds-skeleton--${o}`,{"navds-skeleton--has-children":!!r,"navds-skeleton--no-height":!s,"navds-skeleton--no-width":!i,"navds-skeleton--inline":l==="span"}),style:Object.assign(Object.assign({},a),{width:i,height:s}),"aria-hidden":!0}),r)});var U6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const $6=y.forwardRef((n,e)=>{var{className:t}=n,r=U6(n,["className"]);const{cn:s}=_e();return w.createElement("tbody",Object.assign({},r,{ref:e,className:s("navds-table__body",t)}))});var K6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const LS=y.forwardRef((n,e)=>{var{className:t,children:r,align:s,textSize:i}=n,a=K6(n,["className","children","align","textSize"]);const{cn:o}=_e();return w.createElement("th",Object.assign({ref:e,className:o("navds-table__header-cell","navds-label",t,{[`navds-table__header-cell--align-${s}`]:s,"navds-label--small":i==="small"})},a),r)}),FS=y.createContext(null);var z6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const W6=y.forwardRef((n,e)=>{var t,r,s,i,{className:a,children:o,sortable:l=!1,sortKey:d}=n,c=z6(n,["className","children","sortable","sortKey"]);const u=y.useContext(FS),{cn:h}=_e();return l&&!d&&console.warn("ColumnHeader with `sortable=true` must have a sortKey."),w.createElement(LS,Object.assign({scope:"col",ref:e,className:h(a),"aria-sort":l?((t=u?.sort)===null||t===void 0?void 0:t.orderBy)===d?(r=u?.sort)===null||r===void 0?void 0:r.direction:"none":void 0},c),l?w.createElement("button",{type:"button",className:h("navds-table__sort-button"),onClick:l&&d?()=>{var p;return(p=u?.onSortChange)===null||p===void 0?void 0:p.call(u,d)}:void 0},o,((s=u?.sort)===null||s===void 0?void 0:s.orderBy)===d?((i=u?.sort)===null||i===void 0?void 0:i.direction)==="descending"?w.createElement(w3,{"aria-hidden":!0}):w.createElement(S3,{"aria-hidden":!0}):w.createElement(YM,{"aria-hidden":!0})):o)});var G6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const VS=y.forwardRef((n,e)=>{var{className:t,children:r="",align:s,textSize:i}=n,a=G6(n,["className","children","align","textSize"]);const{cn:o}=_e();return w.createElement(ie,Object.assign({as:"td",ref:e,className:o("navds-table__data-cell",t,{[`navds-table__data-cell--align-${s}`]:s}),size:i},a),r)});var Y6=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const q6=globalThis?.matchMedia?globalThis.matchMedia("(prefers-reduced-motion: reduce)").matches:!1;function X6(n){const e=parseFloat(n);return!Number.isNaN(e)&&Number.isFinite(e)}function Gk(n){return typeof n=="string"&&n[n.length-1]==="%"&&X6(n.substring(0,n.length-1))}function Ph(n,e){e===0&&n?.style&&(n.style.display="none")}function Z6(n,e){e===0&&n?.style&&(n.style.display="")}const J6=n=>{var{children:e,className:t,innerClassName:r,duration:s=250,easing:i="ease",height:a}=n,o=Y6(n,["children","className","innerClassName","duration","easing","height"]);const{cn:l}=_e(),d=y.useRef(a),c=y.useRef(null),u=bp(),h=bp(),p=y.useRef(a),v=y.useRef("visible"),g=q6?0:s;typeof p.current=="number"?(typeof a!="string"&&(p.current=a<0?0:a),v.current="hidden"):Gk(p.current)&&(p.current=a==="0%"?0:a,v.current="hidden");const[m,b]=y.useState(p.current),[k,_]=y.useState(v.current),[E,S]=y.useState(!1);y.useEffect(()=>{Ph(c.current,p.current)},[]),y.useEffect(()=>{if(a!==d.current&&c.current){Z6(c.current,d.current),c.current.style.overflow="hidden";const O=c.current.offsetHeight;c.current.style.overflow="";const C=g;let D,I,U="hidden",H;const j=d.current==="auto";typeof a=="number"?(D=a<0?0:a,I=D):Gk(a)?(D=a==="0%"?0:a,I=D):(D=O,I="auto",U=void 0),j&&(I=D,D=O),b(D),_("hidden"),S(!j),j?(H=!0,h.start(50,()=>{b(I),_(U),S(H)}),u.start(C,()=>{S(!1),Ph(c.current,I)})):h.start(C,()=>{b(I),_(U),S(!1),a!=="auto"&&Ph(c.current,D)})}return d.current=a,()=>{h.clear(),u.clear()}},[a]);const T={height:m,overflow:k};E&&(T.transition=`height ${g}ms ${i} 0ms`,T.WebkitTransition=T.transition);const A=typeof o["aria-hidden"]<"u"?o["aria-hidden"]:a===0;return w.createElement("div",Object.assign({},o,{className:l(t),style:T}),w.createElement("div",{"aria-hidden":A,className:l(r),ref:c},e))},Q6=new Set(["BUTTON","A","INPUT","SELECT","TEXTAREA","DETAILS","SUMMARY","LABEL"]),e7=new Set(["button","link","checkbox","radio","switch","menuitem","option","tab","textbox","combobox","spinbutton","slider"]);function BS(n){for(let e=n;e&&e.nodeName!=="TR"&&e.nodeName!=="TH";e=e.parentElement){const t=e.nodeName;if(Q6.has(t))return!0;const r=e.getAttribute("role");if(r&&e7.has(r)||e.hasAttribute("tabindex")&&e.getAttribute("tabindex")!=="-1")return!0}return!1}var t7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const HS=y.forwardRef((n,e)=>{var{className:t,selected:r=!1,shadeOnHover:s=!0,onClick:i,onRowClick:a}=n,o=t7(n,["className","selected","shadeOnHover","onClick","onRowClick"]);const{cn:l}=_e(),d=c=>{a&&(BS(c.target)||a(c))};return w.createElement("tr",Object.assign({},o,{ref:e,className:l("navds-table__row",t,{"navds-table__row--selected":r,"navds-table__row--shade-on-hover":s}),onClick:it(i,d),"data-interactive":!!a}))});var n7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const r7=y.forwardRef((n,e)=>{var{className:t,children:r,content:s,togglePlacement:i="left",defaultOpen:a=!1,open:o,onOpenChange:l,expansionDisabled:d=!1,expandOnRowClick:c=!1,colSpan:u=999,contentGutter:h,onClick:p}=n,v=n7(n,["className","children","content","togglePlacement","defaultOpen","open","onOpenChange","expansionDisabled","expandOnRowClick","colSpan","contentGutter","onClick"]);const{cn:g}=_e(),[m,b]=xi({defaultValue:a,value:o,onChange:l}),k=Er("global"),_=Jr(),E=T=>{b(x=>!x),T.stopPropagation()},S=T=>{c&&!d&&!BS(T.target)&&E(T)};return w.createElement(w.Fragment,null,w.createElement(HS,Object.assign({},v,{ref:e,className:g("navds-table__expandable-row",t,{"navds-table__expandable-row--open":m,"navds-table__expandable-row--expansion-disabled":d,"navds-table__expandable-row--clickable":c}),onClick:it(p,S)}),i==="right"&&r,w.createElement(VS,{className:g("navds-table__toggle-expand-cell",{"navds-table__toggle-expand-cell--open":m}),onClick:d?()=>null:E},!d&&w.createElement("button",{className:g("navds-table__toggle-expand-button"),type:"button","aria-controls":_,"aria-expanded":m,onClick:E},w.createElement(Iu,{className:g("navds-table__expandable-icon"),title:k(m?"showLess":"showMore")}))),i==="left"&&r),w.createElement("tr",{"data-state":m?"open":"closed",className:g("navds-table__expanded-row"),"aria-hidden":!m,id:_},w.createElement("td",{colSpan:u,className:g("navds-table__expanded-row-cell")},w.createElement(J6,{className:g("navds-table__expanded-row-collapse"),innerClassName:g(`navds-table__expanded-row-content navds-table__expanded-row-content--gutter-${h??i}`),height:m?"auto":0,duration:150,easing:"cubic-bezier(0.39,0.57,0.56,1)"},s))))});var s7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const i7=y.forwardRef((n,e)=>{var{className:t}=n,r=s7(n,["className"]);const{cn:s}=_e();return w.createElement("thead",Object.assign({},r,{ref:e,className:s("navds-table__header",t)}))});var a7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const It=y.forwardRef((n,e)=>{var{className:t,zebraStripes:r=!1,size:s="medium",onSortChange:i,sort:a,stickyHeader:o=!1}=n,l=a7(n,["className","zebraStripes","size","onSortChange","sort","stickyHeader"]);const{cn:d}=_e();return w.createElement(FS.Provider,{value:{onSortChange:i,sort:a}},w.createElement("table",Object.assign({},l,{ref:e,className:d("navds-table",`navds-table--${s}`,t,{"navds-table--zebra-stripes":r,"navds-table--sticky-header":o})})))});It.Header=i7;It.Body=$6;It.Row=HS;It.ColumnHeader=W6;It.HeaderCell=LS;It.DataCell=VS;It.ExpandableRow=r7;var o7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const $a=y.forwardRef((n,e)=>{var{children:t,className:r,variant:s,size:i="medium",icon:a,"data-color":o}=n,l=o7(n,["children","className","variant","size","icon","data-color"]);const{cn:d}=_e(),c=s?.endsWith("-filled")&&"strong",u=s?.endsWith("-moderate")&&"moderate";return w.createElement(ie,Object.assign({"data-color":o??l7(s),"data-variant":c||u||"outline"},l,{ref:e,as:"span",size:i==="medium"?"medium":"small",className:d("navds-tag",r,`navds-tag--${s}`,`navds-tag--${i}`)}),a&&w.createElement("span",{className:d("navds-tag__icon--left")},a),t)});function l7(n){switch(n){case"warning":case"warning-filled":case"warning-moderate":return"warning";case"error":case"error-filled":case"error-moderate":return"danger";case"info":case"info-filled":case"info-moderate":case"alt3":case"alt3-filled":case"alt3-moderate":return"info";case"success":case"success-filled":case"success-moderate":return"success";case"neutral":case"neutral-filled":case"neutral-moderate":return"neutral";case"alt1":case"alt1-filled":case"alt1-moderate":return"meta-purple";case"alt2":case"alt2-filled":case"alt2-moderate":return"meta-lime";default:return"neutral"}}var d7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const c7=y.forwardRef((n,e)=>{var{children:t,as:r="a",className:s}=n,i=d7(n,["children","as","className"]);const{cn:a}=_e();return w.createElement("li",null,w.createElement(r,Object.assign({},i,{ref:e,className:a(s,"navds-error-summary__item","navds-link")}),t))});var u7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Lc=y.forwardRef((n,e)=>{var{children:t,className:r,size:s="medium",headingTag:i="h2",heading:a}=n,o=u7(n,["children","className","size","headingTag","heading"]);const{cn:l}=_e(),d=Er("ErrorSummary"),c=y.useRef(null),u=y.useRef(null),h=Cn(e,c);return w.createElement("div",Object.assign({ref:h},o,{className:l(r,"navds-error-summary",`navds-error-summary--${s}`),tabIndex:-1,onFocus:it(o.onFocus,p=>{var v;p.target===c.current&&((v=u?.current)===null||v===void 0||v.focus())})}),w.createElement(Ve,{className:l("navds-error-summary__heading"),as:i,size:s==="medium"?"small":"xsmall",ref:u,tabIndex:-1},a??d("heading")),w.createElement(ie,{as:"ul",size:s,className:l("navds-error-summary__list")},t))});Lc.Item=c7;var f7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const US=y.forwardRef((n,e)=>{var t,r,s;const{inputProps:i,size:a,readOnly:o}=Wg(n,"switch"),{children:l,className:d,description:c,hideLabel:u=!1,loading:h,checked:p,defaultChecked:v,position:g="left"}=n,m=f7(n,["children","className","description","hideLabel","loading","checked","defaultChecked","position"]),{cn:b}=_e(),[k,_]=y.useState((t=v??p)!==null&&t!==void 0?t:!1);y.useEffect(()=>{p!==void 0&&_(p)},[p]);const E=p??k;return w.createElement("div",{className:b("navds-switch",n.className,`navds-switch--${a}`,`navds-switch--${g}`,{"navds-switch--loading":h,"navds-switch--disabled":(r=i.disabled)!==null&&r!==void 0?r:h,"navds-switch--readonly":o,"navds-switch--standalone":u})},w.createElement("input",Object.assign({},Ti(m,["size","readOnly"]),Ti(i,["aria-invalid","aria-describedby"]),{disabled:(s=i.disabled)!==null&&s!==void 0?s:h,checked:p,defaultChecked:v,ref:e,type:"checkbox",onChange:S=>{var T;o||(_(S.target.checked),(T=n.onChange)===null||T===void 0||T.call(n,S))},onClick:S=>{var T;if(o){S.preventDefault();return}(T=n.onClick)===null||T===void 0||T.call(n,S)},className:b(d,"navds-switch__input")})),w.createElement("span",{className:b("navds-switch__track")},w.createElement("span",{className:b("navds-switch__thumb")},w.createElement(h7,{size:a,checked:E,loading:h}))),w.createElement("label",{htmlFor:i.id,className:b("navds-switch__label-wrapper")},w.createElement("span",{className:b("navds-switch__content",{"navds-sr-only":u,"navds-switch--with-description":c&&!u})},w.createElement(ie,{as:"span",size:a,className:b("navds-switch__label")},o&&w.createElement(QA,null),l),c&&w.createElement(ie,{size:a,as:"span",className:b("navds-form-field__subdescription navds-switch__description")},c))))}),h7=({size:n,checked:e,loading:t})=>{if(t){let r=16;return n==="small"&&(r=12),e&&(r+=2),w.createElement(qo,{size:"small","aria-live":"polite",variant:e?"interaction":"inverted",width:`${r/16}rem`,height:`${r/16}rem`})}return e?n==="small"?w.createElement("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img","aria-hidden":!0},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.62013 0.530226C10.1194 0.952686 10.1817 1.6999 9.7592 2.19917L5.4171 7.33075C5.20318 7.58356 4.89318 7.73525 4.5623 7.74901C4.23142 7.76277 3.90989 7.63735 3.67572 7.40318L1.3073 5.03476C0.844833 4.5723 0.844833 3.8225 1.3073 3.36003C1.76976 2.89757 2.51956 2.89757 2.98202 3.36003L4.4404 4.81841L7.95118 0.669304C8.37364 0.170033 9.12085 0.107765 9.62013 0.530226Z",fill:"currentColor"})):w.createElement("svg",{width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img","aria-hidden":!0},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2674 0.647802C11.8762 1.20971 11.9141 2.1587 11.3522 2.76743L5.35221 9.26743C5.07531 9.56739 4.68813 9.74155 4.27998 9.74971C3.87184 9.75787 3.478 9.59933 3.18934 9.31067L0.68934 6.81067C0.103553 6.22488 0.103553 5.27513 0.68934 4.68935C1.27513 4.10356 2.22487 4.10356 2.81066 4.68935L4.20673 6.08541L9.14779 0.732587C9.7097 0.123856 10.6587 0.0858967 11.2674 0.647802Z",fill:"currentColor"})):null};var p7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Yk=(n,e,t)=>{const{outerHeightStyle:r,overflow:s}=e;return t.current<20&&(r>0&&Math.abs((n.outerHeightStyle||0)-r)>1||n.overflow!==s)?(t.current+=1,e):n};function lc(n){return parseInt(n,10)||0}const g7=y.forwardRef((n,e)=>{var t,r,{className:s,onChange:i,maxRows:a,minRows:o=1,autoScrollbar:l,style:d,value:c}=n,u=p7(n,["className","onChange","maxRows","minRows","autoScrollbar","style","value"]);const{current:h}=y.useRef(c!=null),p=y.useRef(null),v=Cn(p,e),g=y.useRef(null),m=y.useRef(0),[b,k]=y.useState({outerHeightStyle:0}),_=w.useCallback(()=>{const x=p.current,O=ab(x).getComputedStyle(x);if(O.width==="0px")return{outerHeightStyle:0};const C=g.current;C.style.width=O.width,C.value=x.value||u.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const D=O.boxSizing,I=lc(O.paddingBottom)+lc(O.paddingTop),U=lc(O.borderBottomWidth)+lc(O.borderTopWidth),H=C.scrollHeight-I;C.value="x";const j=C.scrollHeight-I;let V=H;o&&(V=Math.max(Number(o)*j,V)),a&&(V=Math.min(Number(a)*j,V)),V=Math.max(V,j);const F=V+(D==="border-box"?I+U:0),G=Math.abs(V-H)<=1;return{outerHeightStyle:F,overflow:G}},[a,o,u.placeholder]),E=()=>{const x=_();qk(x)||k(A=>Yk(A,x,m))};Zr(()=>{const x=()=>{const I=_();qk(I)||kd.flushSync(()=>{k(U=>Yk(U,I,m))})},A=WE(()=>{var I,U,H;if(m.current=0,!((I=p.current)===null||I===void 0)&&I.style.height||!((U=p.current)===null||U===void 0)&&U.style.width){((H=p.current)===null||H===void 0?void 0:H.style.overflow)==="hidden"&&k(j=>Object.assign(Object.assign({},j),{overflow:!1}));return}x()},166,!0),O=p.current,C=ab(O);C.addEventListener("resize",A);let D;return typeof ResizeObserver<"u"&&(D=new ResizeObserver(A),D.observe(O)),()=>{A.clear(),C.removeEventListener("resize",A),D&&D.disconnect()}},[_]),Zr(()=>{E()}),y.useEffect(()=>{m.current=0},[c]);const S=x=>{m.current=0,h||E(),i&&i(x)},T=Object.assign({"--__ac-textarea-height":b.outerHeightStyle?b.outerHeightStyle+"px":"auto","--__axc-textarea-height":b.outerHeightStyle?b.outerHeightStyle+"px":"auto",overflow:b.overflow&&!l&&!(!((t=p.current)===null||t===void 0)&&t.style.height)&&!(!((r=p.current)===null||r===void 0)&&r.style.width)?"hidden":void 0},d);return w.createElement(w.Fragment,null,w.createElement("textarea",Object.assign({value:c,onChange:S,ref:v,rows:o,style:T},u,{className:s})),w.createElement("textarea",{"aria-hidden":!0,className:s,readOnly:!0,ref:g,tabIndex:-1,style:Object.assign({visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},d)}))});function qk(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflow}const m7=({maxLengthId:n,maxLength:e,currentLength:t,size:r,i18n:s})=>{const{cn:i}=_e(),a=Er("Textarea",{charsLeft:s?.counterLeft?`{chars} ${s.counterLeft}`:void 0,charsTooMany:s?.counterTooMuch?`{chars} ${s.counterTooMuch}`:void 0}),o=e-t,[l,d]=y.useState(o);return y.useEffect(()=>{const c=WE(()=>{d(o)},2e3);return c(),()=>{c.clear()}},[o]),w.createElement(w.Fragment,null,w.createElement("span",{id:n,className:i("navds-sr-only")},a("maxLength",{maxLength:e})),o<20&&w.createElement("span",{role:"status",className:i("navds-textarea__sr-counter navds-sr-only")},Xk(l,a)),w.createElement(ie,{className:i("navds-textarea__counter",{"navds-textarea__counter--error":o<0}),size:r},Xk(o,a)))},Xk=(n,e)=>n<0?e("charsTooMany",{chars:Math.abs(n)}):e("charsLeft",{chars:n});var v7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Xn=y.forwardRef((n,e)=>{var t,r,s;const{inputProps:i,errorId:a,showErrorMsg:o,hasError:l,size:d,inputDescriptionId:c}=Wg(n,"textarea"),{label:u,className:h,description:p,maxLength:v,hideLabel:g=!1,resize:m,UNSAFE_autoScrollbar:b,i18n:k,readOnly:_}=n,E=v7(n,["label","className","description","maxLength","hideLabel","resize","UNSAFE_autoScrollbar","i18n","readOnly"]),{cn:S}=_e(),T=Jr(),x=v!==void 0&&v>0,[A,O]=y.useState((t=n?.defaultValue)!==null&&t!==void 0?t:""),C=Yo(i["aria-describedby"],{[T??""]:x});return w.createElement("div",{className:S(h,"navds-form-field",`navds-form-field--${d}`,{"navds-form-field--disabled":!!i.disabled,"navds-form-field--readonly":_,"navds-textarea--readonly":_,"navds-textarea--error":l,"navds-textarea--autoscrollbar":b,[`navds-textarea--resize-${m===!0?"both":m}`]:m})},w.createElement(Xo,{htmlFor:i.id,size:d,className:S("navds-form-field__label",{"navds-sr-only":g})},_&&w.createElement(b_,null),u),!!p&&w.createElement(ie,{className:S("navds-form-field__description",{"navds-sr-only":g}),id:c,size:d,as:"div"},p),w.createElement(g7,Object.assign({},Ti(E,["error","errorId","size"]),i,{onChange:it(n.onChange,n.value===void 0?D=>O(D.target.value):void 0),minRows:E.minRows||(d==="small"?2:3),autoScrollbar:b,ref:e,readOnly:_,className:S("navds-textarea__input","navds-body-short",`navds-body-short--${d??"medium"}`)},C?{"aria-describedby":C}:{})),x&&!_&&!i.disabled&&w.createElement(m7,{maxLengthId:T,maxLength:v,currentLength:(s=(r=n.value)===null||r===void 0?void 0:r.length)!==null&&s!==void 0?s:A.length,size:d,i18n:k}),w.createElement("div",{className:S("navds-form-field__error"),id:a,"aria-relevant":"additions removals","aria-live":"polite"},o&&w.createElement(k_,{size:d,showIcon:!0},n.error)))});var b7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Gt=y.forwardRef((n,e)=>{const{cn:t}=_e(),{inputProps:r,errorId:s,showErrorMsg:i,hasError:a,size:o,inputDescriptionId:l}=Wg(n,"textField"),{label:d,className:c,description:u,htmlSize:h,hideLabel:p=!1,type:v="text",readOnly:g}=n,m=b7(n,["label","className","description","htmlSize","hideLabel","type","readOnly"]);return w.createElement("div",{className:t(c,"navds-form-field",`navds-form-field--${o}`,{"navds-text-field--error":a,"navds-text-field--disabled":!!r.disabled,"navds-form-field--disabled":!!r.disabled,"navds-form-field--readonly":g,"navds-text-field--readonly":g})},w.createElement(Xo,{htmlFor:r.id,size:o,className:t("navds-form-field__label",{"navds-sr-only":p})},g&&w.createElement(b_,null),d),!!u&&w.createElement(ie,{className:t("navds-form-field__description",{"navds-sr-only":p}),id:l,size:o,as:"div"},u),w.createElement("input",Object.assign({},Ti(m,["error","errorId","size"]),r,{ref:e,type:v,readOnly:g,className:t("navds-text-field__input","navds-body-short",`navds-body-short--${o??"medium"}`),size:h})),w.createElement("div",{className:t("navds-form-field__error"),id:s,"aria-relevant":"additions removals","aria-live":"polite"},i&&w.createElement(k_,{size:o,showIcon:!0},n.error)))});var k7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const y7=y.forwardRef((n,e)=>{var{children:t,className:r,border:s=!1,as:i="div"}=n,a=k7(n,["children","className","border","as"]);const{cn:o}=_e();return w.createElement(i,Object.assign({ref:e,className:o("navds-panel",r,{"navds-panel--border":s})},a),t)});var _7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const w7=y.forwardRef((n,e)=>{var{className:t}=n,r=_7(n,["className"]);const{cn:s}=_e();return w.createElement(br,Object.assign({},r,{as:"div",ref:e,className:s("navds-link-panel__description",t)}))});var E7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const S7=y.forwardRef((n,e)=>{var{className:t,as:r="div"}=n,s=E7(n,["className","as"]);const{cn:i}=_e();return w.createElement(r,Object.assign({},s,{ref:e,className:i("navds-link-panel__title","navds-heading","navds-heading--medium",t)}))});var x7=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const T7=y.forwardRef((n,e)=>{var{children:t,as:r="a",border:s=!0,className:i}=n,a=x7(n,["children","as","border","className"]);const{cn:o}=_e();return w.createElement(y7,Object.assign({},a,{as:r,border:s,ref:e,className:o("navds-link-panel",i)}),w.createElement("div",{className:o("navds-link-panel__content")},t),w.createElement(bf,{className:o("navds-link-panel__chevron"),"aria-hidden":!0}))}),Ym=T7;Ym.Title=S7;Ym.Description=w7;var Mh={exports:{}};var Zk;function A7(){return Zk||(Zk=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(i=s(i,r(o)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var o in i)e.call(i,o)&&i[o]&&(a=s(a,o));return a}function s(i,a){return a?i?i+" "+a:i+a:i}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Mh)),Mh.exports}var C7=A7();const sr=Ru(C7),O7=n=>{const e=n.length,t=n[0];switch(t.code){case"401":return"Du er blitt logget ut. Ta vare p alt ulagret arbeid fr du logger inn ved  laste siden p nytt.";case"403":return"Noe gikk dessverre galt med aktivitetsplanen. Du har ikke tilgang til  se dette"}if(e>1)return"Noe gikk dessverre galt med aktivitetsplanen. Prv igjen senere.";switch(t.type){case Oi.rejected.type:case sd.rejected.type:case ji.rejected.type:return"Noe gikk galt, og du fr dessverre ikke sett alle aktiviteter. Prv igjen senere.";case Os.rejected.type:return"Noe gikk galt, og du fr dessverre ikke sett dialogmeldinger. Prv igjen senere.";case Is.rejected.type:return"Noe gikk galt, og du fr dessverre ikke oppdatert status p aktiviteten. Prv igjen senere.";case Dd.rejected.type:return"Noe gikk galt, og du fr dessverre ikke oppdatert ml. Prv igjen senere.";case el.rejected.type:return"Noe gikk dessverre galt med deling av referat. Prv igjen senere.";case Po.rejected.type:return t.code=="409"?"Konflikt ved oppdatering av referat, nye endringer har kommet siden aktiviteten sist ble pnet":t.code=="400"?"Kunne ikke endre aktivitet, sjekk at den ikke er blitt flyttet i en ferdig status eller historisert":t.code=="403"?"Oppdatering av referat krever skrive-tilgang til bruker":"Noe gikk dessverre galt med deling av referat. Prv igjen senere.";default:return"Noe gikk dessverre galt med aktivitetsplanen. Prv igjen senere."}};function Hr(n){const{feilmeldinger:e,inline:t=!1}=n;if(e.length===0)return null;const r=O7(e);return f.jsx("div",{className:sr("my-4"),children:f.jsx(bt,{variant:"error",inline:t,children:r})})}const sg=(n,e=0)=>{if(n===void 0)return;let t=3735928559^e,r=1103547991^e;for(let s=0,i;s<n.length;s++)i=n.charCodeAt(s),t=Math.imul(t^i,2654435761),r=Math.imul(r^i,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),(4294967296*(2097151&r)+(t>>>0)).toString()};function Nt(n,e,t){if([Ul.Prod.toString(),Ul.Dev.toString(),Ul.Local.toString()].includes(Hw()))return;const r={name:n,fields:e,tags:t},s=`${un}/logger/event`,i={headers:{"Nav-Consumer-Id":"aktivitetsplan","Content-Type":"application/json"},credentials:"same-origin",method:"post",body:JSON.stringify(r)};return fetch(s,i)}const Fc="aktivitetsplan.forhandsorientering",D7="avtaltMedNavKrrKvpManuell",j7="avtaltMedNavMindreEnnSyvDager",R7="tilltakSpesialTilltakBruker",I7="aktivitetsplan.mittmal.klikk",N7="aktivitetsplan.mittmal.lagre",P7="aktivitetsplan.stillingfranav.stillingslenke.klikk",M7="aktivitetsplan.antallSluttBrukere",L7="aktivitetsplan.antallVeiledere",F7="aktivitetsplan.antallBrukerIkkeOppfolging",V7="aktivitetsplan.printmodal",B7="aktivitetsplan.printmodalprint",H7="aktivitetsplan.omTjenesten.trykk",U7="aktivitetsplan.endreAktivitet.trykk",$7="aktivitetsplan.aktivitetfilter.opne",Sf="aktivitetsplan.filter.",K7=`${Sf}aktivitestype`,z7=`${Sf}avtalt`,W7=`${Sf}etikett`,G7=`${Sf}arenatEtikett`,Y7="aktivitetsplan.aktivitet.flyttet",q7="aktivitetsplan.forhaandsorientering.lest";function X7(n,e){Nt(q7,{},{aktivitetType:n,lestKnappTrykket:e})}function Z7(n){const e=!n||window.defaultSelectedTab==="AKTIVITETSPLAN";if(!window.aktivitesplanTimeToAktivitestavlePaint&&e){const t=performance.now();window.aktivitesplanTimeToAktivitestavlePaint=t,Nt("aktivitetsplan.timeToAktivitestavlePaintv3",{timeToAktivitestavlePaint:t},{erVeileder:n})}}function J7(n,e,t,r){const s={underOppfolging:e,veileder:sg(t),bruker:sg(r)};Nt(L7,s,{servicegruppe:n})}function Q7(n,e,t){e?Nt(M7,{bruker:sg(t)},{servicegruppe:n}):Nt(F7,{},{servicegruppe:n})}function e9(){Nt(Fc,{forhandsorienteringType:R7})}function t9(n){Nt("aktivitetsplan.aktivitet.forste.avtalt.v2",{tidSidenOppfolging:n})}function $S(n,e,t){Nt(Y7,{fraStatus:e.status,tilStatus:t,aktivitetType:e.type,flytteMetode:n})}function n9(n,e,t,r){return n?Nt(Fc,{forhandsorienteringType:D7,aktivitettype:r}):e?Nt(Fc,{forhandsorienteringType:j7,aktivitettype:r}):Nt(Fc,{forhandsorienteringType:t,aktivitettype:r})}function r9(n){Nt(I7,{erVeileder:n})}function s9(n){Nt(N7,{erVeileder:n})}function i9(n){Nt(P7,{erVeileder:n})}function a9(n){const e=y.useRef(new Set),t=y.useRef(new Set),r=y.useRef(!1);r.current||(Nt("aktivitesplan.lastet"),r.current=!0),y.useEffect(()=>{o9(n,e),l9(n,t)},[n])}function o9(n,e){const t=n.map(r=>KS(r));new Set(t).forEach(r=>{e.current.has(r)||(e.current.add(r),Nt("aktivitetsplan.feil",{feil_kategori:r},{feil_kategori_tag:r}))})}function l9(n,e){const t=n.filter(r=>r.code!=="403"&&r.code!=="401");new Set(t).forEach(r=>{const s=r.type;e.current.has(s)||(e.current.add(s),Nt("aktivitetsplan.feiltype",{feil:s,feil_kategori:KS(r)}))})}function KS(n){if(n.code==="403")return"forbidden";if(n.code==="401")return"unauthorized";switch(n.type){case Lm.rejected.type:case Oi.rejected.type:case of.rejected.type:return"critical";case ji.rejected.type:case Os.rejected.type:return"degraded";default:return"unknown"}}function d9(){const n=W(EM);return a9(n),f.jsx(Hr,{feilmeldinger:n})}const Wi="/aktivitetsplan",c9=(n,e)=>`${e?Wi:""}/aktivitet/vis/${n}`,u9=n=>`${n?Wi:""}/aktivitet/ny`,f9=(n,e)=>`${e?Wi:""}/aktivitet/endre/${n}`,h9=(n,e)=>`${e?Wi:""}/aktivitet/fullfor/${n}`,p9=(n,e)=>`${e?Wi:""}/aktivitet/avbryt/${n}`,g9=n=>`${n?Wi:""}/`,m9=n=>`${n?Wi:""}/mal`,v9=n=>`${n?Wi:""}/informasjon`,gn=()=>{const n=yt();return{aktivitetRoute:e=>c9(e,n),nyAktivitetRoute:()=>u9(n),endreAktivitetRoute:e=>f9(e,n),fullforAktivitetRoute:e=>h9(e,n),avbrytAktivitetRoute:e=>p9(e,n),hovedsideRoute:()=>g9(n),malRoute:()=>m9(n),informasjonRoute:()=>v9(n)}};function zS(n){return n.data.identitet}function xf(n){return zS(n).data}function os(n){return xf(n).erBruker}function b9(n){return xf(n).id}function qm(n){return zS(n).status}function WS(n){return n.data.lest}function k9(n){return WS(n).data}function GS(n,e){return k9(n).filter(t=>t.ressurs===e)[0]}function YS(n){return GS(n,"informasjon")}function qS(n){return GS(n,"aktivitetsplan")}function Xm(n){return WS(n).status}var Lh={exports:{}},Fh,Jk;function y9(){if(Jk)return Fh;Jk=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fh=n,Fh}var Vh,Qk;function _9(){if(Qk)return Vh;Qk=1;var n=y9();function e(){}function t(){}return t.resetWarningCache=e,Vh=function(){function r(a,o,l,d,c,u){if(u!==n){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},Vh}var ey;function XS(){return ey||(ey=1,Lh.exports=_9()()),Lh.exports}var w9=XS();const Q=Ru(w9);function ZS(n){return Array.isArray(n)?n:[n]}const Tf=(...n)=>e=>ZS(n).includes(e),ty=n=>n.some(Tf(ee.ERROR)),JS=n=>n.some(Tf(ee.OK)),E9=n=>n.every(Tf(ee.OK,ee.RELOADING)),S9=n=>n.every(Tf(ee.OK)),QS=n=>n?ZS(n).map(e=>!e||typeof e=="string"?e:e.status).map(e=>e||"NOT_SETT"):[],Af=n=>{const{avhengigheter:e,spinnerSize:t="2xlarge",className:r,children:s,minstEn:i=!1,visChildrenVedFeil:a=!1,alleOK:o=!1,...l}=n,d=QS(e);return(o?S9(d):E9(d)||i&&JS(d)||a&&ty(d))?typeof s=="function"?s(e,l):(Array.isArray(s),s):ty(d)?null:f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsx(qo,{size:t,className:sr(r,"m-3")})})},Ka=n=>{const{heading:e,subHeading:t,children:r,avhengigheter:s,onRequestClose:i,minstEnAvhengighet:a=!1,feilmeldinger:o,tilbakeLenke:l,onClose:d,lukkPKlikkUtenfor:c}=n,u=pn(),{hovedsideRoute:h,nyAktivitetRoute:p}=gn(),v=()=>i?i():(u(h()),!0);return f.jsxs(yo,{closeOnBackdropClick:c!==void 0?c:!0,open:!0,onClose:d,onBeforeClose:v,className:"lg:w-120","aria-labelledby":"modal-heading",children:[f.jsx(yo.Header,{closeButton:!0,children:f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ve,{id:"modal-heading",size:"large",children:e}),l?f.jsx(f.Fragment,{children:f.jsx(pa,{className:"hover:cursor-pointer text-text-action underline",to:p(),tabIndex:0,children:l.tekst})}):null]})}),f.jsx(yo.Body,{children:f.jsxs("div",{className:"flex flex-col max-w-2xl mx-auto",children:[t?f.jsx(Ve,{className:"",level:"2",size:"xsmall",children:t}):null,o&&f.jsx(Hr,{feilmeldinger:o}),f.jsx(Af,{className:"flex m-auto my-8",minstEn:a,avhengigheter:s,children:r})]})})]})},ex=n=>{const{className:e,children:t}=n;return f.jsx("div",{className:sr(e,"modal-container"),children:t})},x9=Q.shape({tittel:Q.string,fraDato:Q.string,tilDato:Q.string,opprettetDato:Q.string.isRequired,endretDato:Q.string,historisk:Q.bool,endretAvType:Q.string,detaljer:Q.object,beskrivelse:Q.string,avtalt:Q.bool,tiltaksarrangor:Q.string,deltakelsesprosent:Q.number,dagerPerUke:Q.number});Q.arrayOf(x9);const T9=Q.shape({dialogId:Q.string.isRequired,tekst:Q.string.isRequired,avsender:Q.string.isRequired,avsenderId:Q.string,sendt:Q.string.isRequired,lest:Q.bool.isRequired});Q.shape({id:Q.string.isRequired,overskrift:Q.string.isRequired,aktivitetId:Q.string,lest:Q.bool,sisteDato:Q.string,erLestAvBruker:Q.bool,venterPaSvar:Q.bool,ferdigBehandlet:Q.bool,henvendelser:Q.arrayOf(T9).isRequired,egenskaper:Q.arrayOf(Q.string)});Q.shape({id:Q.string,type:Q.string,visningsTekst:Q.string});const A9=Q.shape({status:Q.string,data:Q.any}),C9=Q.oneOf(Object.keys(ee)),O9=Q.oneOfType([A9,C9]);Q.arrayOf(O9);const D9=Q.shape({kanAvslutte:Q.bool,underOppfolging:Q.bool,harYtelser:Q.bool,harTiltak:Q.bool,underKvp:Q.bool,inaktiveringsDato:Q.string}),j9=Q.shape({varselId:Q.number,aktorId:Q.string,opprettetAv:Q.string,opprettetDato:Q.string,avsluttetDato:Q.string,tilhorendeDialogId:Q.number});Q.shape({status:Q.string,data:Q.shape({fnr:Q.string,veileder:Q.string,reservasjonKRR:Q.bool,manuell:Q.bool,underOppfolging:Q.bool,oppfolgingUtgang:Q.string,gjeldendeEkskaleringsvarsel:j9,kanStarteOppfolging:Q.bool,underKvp:Q.bool,avslutningStatus:D9,oppfolgingsPerioder:Q.arrayOf(Q.object),harSkriveTilgang:Q.bool})});const R9=Q.shape({mal:Q.string,endretAv:Q.string,dato:Q.string});Q.arrayOf(R9);Q.shape({status:Q.string,data:Q.shape({navn:Q.string})});Q.shape({id:Q.string,fra:Q.string,vistFra:Q.string,til:Q.string});Q.shape({type:Q.string,httpStatus:Q.number,melding:Q.shape({id:Q.string,type:Q.string.isRequired,detaljer:Q.object})});Q.shape({etternavn:Q.string,fornavn:Q.string,ident:Q.string,navn:Q.string});Q.shape({overskrift:Q.string,beskrivelse:Q.string});Q.oneOf([Hg,Ou,vd,Ug,Du,$g,ju,bd,ir,Fr]);const I9=Q.shape({tidspunkt:Q.string.isRequired,verdi:Q.string,ressurs:Q.string.isRequired});function tx(n){return n.data.oppfolging}function ls(n){return tx(n).data}function sl(n){return tx(n).status}const Cf=n=>ls(n)?.reservasjonKRR,N9=n=>ls(n)?.registrertKRR||!1;function P9(n){return ls(n)?.servicegruppe}const M9=pt(ls,n=>n?.oppfolgingsPerioder||[]);function nx(n){return il(n).find(e=>!e.slutt)}const il=pt(Od,n=>Cd(n).map(e=>({id:e.id,start:e.start,slutt:e.slutt}))),L9=pt(il,n=>Array.from(n).sort((t,r)=>dC(t.start,r.start)));function F9(n){const e=nl(n),r=M9(n).find(s=>s.uuid===e);return r&&r.kvpPerioder}const rx=pt(nl,il,(n,e)=>e.find(t=>t.id===n)),al=pt(rx,n=>!!n?.slutt),sx=pt(al,n=>!n);function Dn(n){return ls(n)?.underOppfolging||!1}function Of(n){return ls(n)?.manuell}function V9(n){return ls(n)?.aktorId}function ix(n){return ls(n)?.underKvp}function Df(n){return ls(n)?.harSkriveTilgang||!1}function B9(n){return ls(n)?.kanReaktiveres}function H9(n){return ls(n)?.inaktiveringsdato}const U9=()=>f.jsx("div",{children:f.jsx("iframe",{title:"Video: Aktivitetskort",src:"https://video.qbrick.com/play2/embed/qbrick-player?accountId=763558&mediaId=418eb7de-64bc-403f-a711-a57762aa6454&configId=qbrick-player&pageStyling=adaptive&autoplay=false&repeat=false&sharing=true&download=false&volume&language=nb",allow:"fullscreen",className:" w-full h-300px mt-4"})}),$9=()=>{const[n,e]=y.useState(!1);function t(){n||Ba("Slik bruker du aktivitetsplanen"),e(!n)}return f.jsxs(ue.Item,{children:[f.jsx(ue.Header,{onClick:t,children:f.jsx(Ve,{level:"2",size:"small",children:"Slik bruker du aktivitetsplanen"})}),f.jsxs(ue.Content,{children:[f.jsx(ie,{className:"pb-4",children:"Bestem deg frst for hva som er mlet ditt. Du kan endre dette senere. Vurder s hvilke aktiviteter du nsker  gjre for  n mlet, for eksempel  ske jobber, gjennomfre et kurs eller arbeidstrening."}),f.jsx(ie,{children:"I aktivitetsplanen kan du og veilederen din samarbeide om hva som skal til for at du skal komme i aktivitet eller jobb. Du og veilederen din ser den samme planen."}),f.jsx(Ve,{level:"3",size:"xsmall",className:"pt-4",children:"Avtalt med Nav"}),f.jsx(ie,{className:"pb-4",children:"Nr du har avtalt  gjennomfre en aktivitet med veilederen din, vil veilederen merke den Avtalt med Nav. Du m gjennomfre slike aktiviteter. Hvis du ikke flger opp avtalte aktiviteter, kan du risikere  miste pengesttte fra Nav."}),f.jsx(ie,{children:'Nr en aktivitet er markert med "avtalt med Nav" kan teksten ikke lenger endres p. Noen datoer kan likevel endres p, men ingen annen tekst. Det er laget slik for at ingen skal kunne endre p detaljer som kan vre viktige for din sak i Nav.'}),f.jsx(Ve,{level:"3",size:"xsmall",className:"pt-4",children:"Flytte p en aktivitet"}),f.jsx(ie,{children:"Aktivitetsplanen har fem kolonner med statusene forslag, planlegger, gjennomfrer, fullfrt og avbrutt. Statusen p aktiviteten viser til hvor langt du har kommet i gjennomfringen. Du kan oppdatere statusen inne i aktiviteten, for eksempel fra gjennomfrer til fullfrt."}),f.jsx(Ve,{level:"3",size:"xsmall",className:"pt-4",children:"Fullfrte eller avbrutte aktiviteter"}),f.jsx(ie,{children:'Nr en aktivitet flyttes til "fullfrt" eller "avbrutt", blir aktiviteten lst slik at hverken du eller veilederen din kan endre innholdet i etterkant. Pass p  gjre viktige endringer fr aktiviteten lses.'}),f.jsx(Ve,{level:"3",size:"xsmall",className:"pt-4",children:"Bl prikk"}),f.jsx(ie,{children:"Hvis du ser at en aktivitet er merket med bl prikk, er det veilederen din som har gjort noe nytt siden sist du var inne i aktiviteten."}),f.jsx(Ve,{level:"3",size:"xsmall",className:"pt-4",children:"Tidligere planer"}),f.jsx(ie,{children:"Hvis du har vrt registrert hos Nav fr, kan du se aktivitetsplanen fra denne perioden."}),f.jsx(U9,{})]})]})},K9=()=>{const[n,e]=y.useState(!1);function t(){n||Ba("Aktivitetsplanen handler ikke om konomi"),e(!n)}return f.jsxs(ue.Item,{children:[f.jsx(ue.Header,{onClick:t,children:f.jsx(Ve,{level:"2",size:"small",children:"Aktivitetsplanen handler ikke om konomi"})}),f.jsxs(ue.Content,{children:[f.jsx(ie,{children:"Aktivitetsplanen og dialogen skal bare handle om jobbrettede aktiviteter. Har du sprsml om konomisk sttte, konomisk sosialhjelp, boligsituasjon eller andre ting som ikke handler om  komme i jobb, kan du"}),f.jsxs("ul",{className:"list-disc mt-4 pl-8",children:[f.jsx("li",{children:f.jsxs(ie,{children:["kontakte Nav i tjenesten"," ",f.jsx(tn,{href:"https://www.nav.no/person/kontakt-oss/skriv-til-oss",children:"Skriv til oss"})]})}),f.jsxs("li",{children:[f.jsx(ie,{children:"ringe Nav p 55 55 33 33"})," "]})]})]})]})};function z9(){const[n,e]=y.useState(!1);function t(){n||Ba("Rettigheter og personvern"),e(!n)}return f.jsxs(ue.Item,{children:[f.jsx(ue.Header,{onClick:t,children:f.jsx(Ve,{level:"2",size:"small",children:"Rettigheter og personvern"})}),f.jsxs(ue.Content,{children:[f.jsx(ie,{children:"Du har rett til  f en aktivitetsplan nr du har registrert deg hos Nav. Informasjonen i aktivitetsplanen og annen informasjon du gir til veilederen din brukes til  vurdere ditt behov for hjelp fra Nav."}),f.jsx(Ve,{level:"3",size:"xsmall",className:"pt-4",children:"Manuell oppflging"}),f.jsx(ie,{children:"Nav henter informasjon om deg fra Folkeregisteret og sjekker mot Kontakt- og reservasjonsregisteret for  se om du har reservert deg mot digital kommunikasjon med det offentlige. Hvis du har reservert deg, eller ikke er i stand til  bruke aktivitetsplanen, vil Nav flge deg opp manuelt. Det betyr at en veileder flger deg opp, uten at du selv bruker den digitale aktivitetsplanen. Du fr aktivitetsplanen skrevet ut p papir."}),f.jsx(Ve,{level:"3",size:"xsmall",className:"pt-4",children:"Deling og lagring"}),f.jsx(ie,{className:"pb-4",children:"Opplysningene i aktivitetsplanen blir ikke delt med andre offentlige etater, med mindre de har rett til  hente slike opplysninger."}),f.jsx(ie,{className:"pb-4",children:"Opplysningene i aktivitetsplanen din blir lagret og oppbevart etter arkivloven. Aktiviteter og meldinger i dialogen kan ikke slettes nr de frst er opprettet."}),f.jsxs(ie,{children:["Les mer om"," ",f.jsx(tn,{href:"https://www.nav.no/no/NAV+og+samfunn/Om+NAV/personvern-i-arbeids-og-velferdsetaten",children:"hvordan Nav behandler personopplysninger"}),"."]})]})]})}const W9=()=>f.jsx("div",{children:f.jsx("iframe",{title:"Video: Dialogen",src:"https://video.qbrick.com/play2/embed/qbrick-player?accountId=763558&mediaId=9b22ccf2-e8ba-43d2-ad57-1740db0e6b33&configId=qbrick-player&pageStyling=adaptive&autoplay=false&repeat=false&sharing=true&download=false&volume&language=nb",allow:"fullscreen",className:" w-full h-300px mt-4"})}),G9=()=>{const[n,e]=y.useState(!1);function t(){n||Ba("Dialog med veilederen din"),e(!n)}return f.jsxs(ue.Item,{children:[f.jsx(ue.Header,{onClick:t,children:f.jsx(Ve,{level:"2",size:"small",children:"Dialog med veilederen din"})}),f.jsxs(ue.Content,{children:[f.jsx(ie,{className:"pb-4",children:"I dialogen kan du og veilederen din skrive til hverandre om arbeid og oppflging. Dere kan blant annet sende meldinger om aktivitetene dine i aktivitetsplanen."}),f.jsx(ie,{children:"Vr oppmerksom p at hverken du eller veilederen din kan endre meldinger etter at de er sendt. Hvis det er noe du nsker  rette p, kan du sende en ny melding der du forteller om hva som ikke stemte i den forrige meldingen."}),f.jsx(W9,{})]})]})},Y9=()=>f.jsx("div",{className:"color-black",children:f.jsx("iframe",{title:"Video: Aktivitetsplan - Introduksjon",src:"https://video.qbrick.com/play2/embed/qbrick-player?accountId=763558&mediaId=fb0502e7-2ed9-4f27-a6d5-3a40a68975d2&configId=qbrick-player&pageStyling=adaptive&autoplay=false&repeat=false&sharing=true&download=false&volume&language=nb",allow:"fullscreen",className:"w-full h-300px mt-4 ",id:"introduksjonsvideo"})}),q9=()=>{const[n,e]=y.useState(!1);function t(){n||Ba("Er du under 18 r?"),e(!n)}return f.jsxs(ue.Item,{children:[f.jsx(ue.Header,{onClick:t,children:f.jsx(Ve,{level:"2",size:"small",children:"Er du under 18 r?"})}),f.jsxs(ue.Content,{children:[f.jsx(Ve,{level:"3",size:"xsmall",className:"pt-4",children:"Er du under 18 r?"}),f.jsx(ie,{className:"pb-4",children:"Nr du er under 18 r s har dine foresatte rett til  be om  f se alt du skriver i Nav sine tjenester. Derfor br du ikke skrive noe her som du ikke vil at dine foresatte skal lese."}),f.jsx(ie,{children:"Nr du blir 18 r vil de ikke kunne lese nye ting du skriver, men de kan fortsatt lese det du skrev fr du fylte 18 r."})]})]})},ig="v1",Zm=({erBruker:n,underOppfolging:e,lestInfo:t})=>{const r=pn(),{hovedsideRoute:s}=gn(),i=()=>r(s());return y.useEffect(()=>{n&&e&&(!t||t.verdi!==ig)&&X5(ig)},[]),f.jsx(Ka,{onClose:i,className:"informasjon-visning",heading:"Hva er aktivitetsplanen?",children:f.jsxs(ex,{className:"max-w-2xl",children:[f.jsx(ie,{className:"pb-4",children:"I aktivitetsplanen holder du oversikt over det du gjr for  komme i jobb eller annen aktivitet. Bde du og veilederen din kan se og endre aktivitetsplanen."}),f.jsxs(ie,{children:["Du kan legge inn mlet ditt, aktiviteter du skal gjre og stillinger du vil ske p. Veilederen kan blant annet legge inn forslag til aktiviteter eller skrive referat fra et mte dere har hatt. Du kan kommunisere med veilederen din om aktivitetene i"," ",f.jsx(tn,{href:"https://pto.ekstern.dev.nav.no/arbeid/dialog",children:"dialogen"}),"."]}),f.jsx(Y9,{}),f.jsxs(ue,{className:"mt-4",children:[f.jsx(q9,{}),f.jsx($9,{}),f.jsx(G9,{}),f.jsx(K9,{}),f.jsx(z9,{})]})]})})};Zm.defaultProps={lestInfo:null,erBruker:!1,underOppfolging:!1};Zm.propTypes={erBruker:Q.bool,underOppfolging:Q.bool,lestInfo:I9};const X9=n=>({lestInfo:YS(n),erBruker:os(n),underOppfolging:Dn(n)}),Z9=Nj(X9)(Zm),J9=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Wl="8.55.0",Lr=globalThis;function jf(n,e,t){const r=Lr,s=r.__SENTRY__=r.__SENTRY__||{},i=s[Wl]=s[Wl]||{};return i[n]||(i[n]=e())}const Rf=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Q9="Sentry Logger ",ny=["debug","info","warn","error","log","assert","trace"],ry={};function ax(n){if(!("console"in Lr))return n();const e=Lr.console,t={},r=Object.keys(ry);r.forEach(s=>{const i=ry[s];t[s]=e[s],e[s]=i});try{return n()}finally{r.forEach(s=>{e[s]=t[s]})}}function e8(){let n=!1;const e={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return Rf?ny.forEach(t=>{e[t]=(...r)=>{n&&ax(()=>{Lr.console[t](`${Q9}[${t}]:`,...r)})}}):ny.forEach(t=>{e[t]=()=>{}}),e}const ba=jf("logger",e8),ox=50,t8="?",sy=/\(error: (.*)\)/,iy=/captureMessage|captureException/;function n8(...n){const e=n.sort((t,r)=>t[0]-r[0]).map(t=>t[1]);return(t,r=0,s=0)=>{const i=[],a=t.split(`
`);for(let o=r;o<a.length;o++){const l=a[o];if(l.length>1024)continue;const d=sy.test(l)?l.replace(sy,"$1"):l;if(!d.match(/\S*Error: /)){for(const c of e){const u=c(d);if(u){i.push(u);break}}if(i.length>=ox+s)break}}return r8(i.slice(s))}}function Hq(n){return Array.isArray(n)?n8(...n):n}function r8(n){if(!n.length)return[];const e=Array.from(n);return/sentryWrapped/.test(dc(e).function||"")&&e.pop(),e.reverse(),iy.test(dc(e).function||"")&&(e.pop(),iy.test(dc(e).function||"")&&e.pop()),e.slice(0,ox).map(t=>({...t,filename:t.filename||dc(e).filename,function:t.function||t8}))}function dc(n){return n[n.length-1]||{}}const Bh="<anonymous>";function s8(n){try{return!n||typeof n!="function"?Bh:n.name||Bh}catch{return Bh}}function Uq(n){const e=n.exception;if(e){const t=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&t.push(...r.stacktrace.frames)}),t}catch{return}}}function Nd(){return Jm(Lr),Lr}function Jm(n){const e=n.__SENTRY__=n.__SENTRY__||{};return e.version=e.version||Wl,e[Wl]=e[Wl]||{}}const lx=Object.prototype.toString;function i8(n){switch(lx.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return If(n,Error)}}function ol(n,e){return lx.call(n)===`[object ${e}]`}function $q(n){return ol(n,"ErrorEvent")}function Kq(n){return ol(n,"DOMError")}function zq(n){return ol(n,"DOMException")}function su(n){return ol(n,"String")}function a8(n){return typeof n=="object"&&n!==null&&"__sentry_template_string__"in n&&"__sentry_template_values__"in n}function Wq(n){return n===null||a8(n)||typeof n!="object"&&typeof n!="function"}function Qm(n){return ol(n,"Object")}function o8(n){return typeof Event<"u"&&If(n,Event)}function l8(n){return typeof Element<"u"&&If(n,Element)}function d8(n){return ol(n,"RegExp")}function ev(n){return!!(n&&n.then&&typeof n.then=="function")}function c8(n){return Qm(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}function If(n,e){try{return n instanceof e}catch{return!1}}function dx(n){return!!(typeof n=="object"&&n!==null&&(n.__isVue||n._isVue))}const wo=Lr,u8=80;function f8(n,e={}){if(!n)return"<unknown>";try{let t=n;const r=5,s=[];let i=0,a=0;const o=" > ",l=o.length;let d;const c=Array.isArray(e)?e:e.keyAttrs,u=!Array.isArray(e)&&e.maxStringLength||u8;for(;t&&i++<r&&(d=h8(t,c),!(d==="html"||i>1&&a+s.length*l+d.length>=u));)s.push(d),a+=d.length,t=t.parentNode;return s.reverse().join(o)}catch{return"<unknown>"}}function h8(n,e){const t=n,r=[];if(!t||!t.tagName)return"";if(wo.HTMLElement&&t instanceof HTMLElement&&t.dataset){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}r.push(t.tagName.toLowerCase());const s=e&&e.length?e.filter(a=>t.getAttribute(a)).map(a=>[a,t.getAttribute(a)]):null;if(s&&s.length)s.forEach(a=>{r.push(`[${a[0]}="${a[1]}"]`)});else{t.id&&r.push(`#${t.id}`);const a=t.className;if(a&&su(a)){const o=a.split(/\s+/);for(const l of o)r.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const o=t.getAttribute(a);o&&r.push(`[${a}="${o}"]`)}return r.join("")}function Gq(){try{return wo.document.location.href}catch{return""}}function Yq(n){return wo.document&&wo.document.querySelector?wo.document.querySelector(n):null}function qq(n){if(!wo.HTMLElement)return null;let e=n;const t=5;for(let r=0;r<t;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function Gl(n,e=0){return typeof n!="string"||e===0||n.length<=e?n:`${n.slice(0,e)}...`}function Xq(n,e){if(!Array.isArray(n))return"";const t=[];for(let r=0;r<n.length;r++){const s=n[r];try{dx(s)?t.push("[VueViewModel]"):t.push(String(s))}catch{t.push("[value cannot be serialized]")}}return t.join(e)}function p8(n,e,t=!1){return su(n)?d8(e)?e.test(n):su(e)?t?n===e:n.includes(e):!1:!1}function Zq(n,e=[],t=!1){return e.some(r=>p8(n,r,t))}function Jq(n,e,t){if(!(e in n))return;const r=n[e],s=t(r);typeof s=="function"&&g8(s,r);try{n[e]=s}catch{Rf&&ba.log(`Failed to replace method "${e}" in object`,n)}}function Fo(n,e,t){try{Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0})}catch{Rf&&ba.log(`Failed to add non-enumerable property "${e}" to object`,n)}}function g8(n,e){try{const t=e.prototype||{};n.prototype=e.prototype=t,Fo(n,"__sentry_original__",e)}catch{}}function Qq(n){return n.__sentry_original__}function cx(n){if(i8(n))return{message:n.message,name:n.name,stack:n.stack,...oy(n)};if(o8(n)){const e={type:n.type,target:ay(n.target),currentTarget:ay(n.currentTarget),...oy(n)};return typeof CustomEvent<"u"&&If(n,CustomEvent)&&(e.detail=n.detail),e}else return n}function ay(n){try{return l8(n)?f8(n):Object.prototype.toString.call(n)}catch{return"<unknown>"}}function oy(n){if(typeof n=="object"&&n!==null){const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}else return{}}function eX(n,e=40){const t=Object.keys(cx(n));t.sort();const r=t[0];if(!r)return"[object has no keys]";if(r.length>=e)return Gl(r,e);for(let s=t.length;s>0;s--){const i=t.slice(0,s).join(", ");if(!(i.length>e))return s===t.length?i:Gl(i,e)}return""}function qr(n){return ag(n,new Map)}function ag(n,e){if(m8(n)){const t=e.get(n);if(t!==void 0)return t;const r={};e.set(n,r);for(const s of Object.getOwnPropertyNames(n))typeof n[s]<"u"&&(r[s]=ag(n[s],e));return r}if(Array.isArray(n)){const t=e.get(n);if(t!==void 0)return t;const r=[];return e.set(n,r),n.forEach(s=>{r.push(ag(s,e))}),r}return n}function m8(n){if(!Qm(n))return!1;try{const e=Object.getPrototypeOf(n).constructor.name;return!e||e==="Object"}catch{return!0}}const ux=1e3;function tv(){return Date.now()/ux}function v8(){const{performance:n}=Lr;if(!n||!n.now)return tv;const e=Date.now()-n.now(),t=n.timeOrigin==null?e:n.timeOrigin;return()=>(t+n.now())/ux}const nv=v8(),tX=(()=>{const{performance:n}=Lr;if(!n||!n.now)return;const e=3600*1e3,t=n.now(),r=Date.now(),s=n.timeOrigin?Math.abs(n.timeOrigin+t-r):e,i=s<e,a=n.timing&&n.timing.navigationStart,l=typeof a=="number"?Math.abs(a+t-r):e,d=l<e;return i||d?s<=l?n.timeOrigin:a:r})();function wi(){const n=Lr,e=n.crypto||n.msCrypto;let t=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(t=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(t()&15)>>r/4).toString(16))}function fx(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function nX(n){const{message:e,event_id:t}=n;if(e)return e;const r=fx(n);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||t||"<unknown>":t||"<unknown>"}function rX(n,e,t){const r=n.exception=n.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}function b8(n,e){const t=fx(n);if(!t)return;const r={type:"generic",handled:!0},s=t.mechanism;if(t.mechanism={...r,...s,...e},e&&"data"in e){const i={...s&&s.data,...e.data};t.mechanism.data=i}}function sX(n){if(k8(n))return!0;try{Fo(n,"__sentry_captured__",!0)}catch{}return!1}function k8(n){try{return n.__sentry_captured__}catch{}}var Us;(function(n){n[n.PENDING=0]="PENDING";const t=1;n[n.RESOLVED=t]="RESOLVED";const r=2;n[n.REJECTED=r]="REJECTED"})(Us||(Us={}));function iX(n){return new ks(e=>{e(n)})}function aX(n){return new ks((e,t)=>{t(n)})}class ks{constructor(e){ks.prototype.__init.call(this),ks.prototype.__init2.call(this),ks.prototype.__init3.call(this),ks.prototype.__init4.call(this),this._state=Us.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new ks((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(a){s(a)}},i=>{if(!t)s(i);else try{r(t(i))}catch(a){s(a)}}]),this._executeHandlers()})}catch(e){return this.then(t=>t,e)}finally(e){return new ks((t,r)=>{let s,i;return this.then(a=>{i=!1,s=a,e&&e()},a=>{i=!0,s=a,e&&e()}).then(()=>{if(i){r(s);return}t(s)})})}__init(){this._resolve=e=>{this._setResult(Us.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Us.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===Us.PENDING){if(ev(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Us.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(t=>{t[0]||(this._state===Us.RESOLVED&&t[1](this._value),this._state===Us.REJECTED&&t[2](this._value),t[0]=!0)})}}}function y8(n){const e=nv(),t={sid:wi(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>w8(t)};return n&&Nf(t,n),t}function Nf(n,e={}){if(e.user&&(!n.ipAddress&&e.user.ip_address&&(n.ipAddress=e.user.ip_address),!n.did&&!e.did&&(n.did=e.user.id||e.user.email||e.user.username)),n.timestamp=e.timestamp||nv(),e.abnormal_mechanism&&(n.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(n.ignoreDuration=e.ignoreDuration),e.sid&&(n.sid=e.sid.length===32?e.sid:wi()),e.init!==void 0&&(n.init=e.init),!n.did&&e.did&&(n.did=`${e.did}`),typeof e.started=="number"&&(n.started=e.started),n.ignoreDuration)n.duration=void 0;else if(typeof e.duration=="number")n.duration=e.duration;else{const t=n.timestamp-n.started;n.duration=t>=0?t:0}e.release&&(n.release=e.release),e.environment&&(n.environment=e.environment),!n.ipAddress&&e.ipAddress&&(n.ipAddress=e.ipAddress),!n.userAgent&&e.userAgent&&(n.userAgent=e.userAgent),typeof e.errors=="number"&&(n.errors=e.errors),e.status&&(n.status=e.status)}function _8(n,e){let t={};n.status==="ok"&&(t={status:"exited"}),Nf(n,t)}function w8(n){return qr({sid:`${n.sid}`,init:n.init,started:new Date(n.started*1e3).toISOString(),timestamp:new Date(n.timestamp*1e3).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}function iu(){return wi()}function Vo(){return wi().substring(16)}function Pf(n,e,t=2){if(!e||typeof e!="object"||t<=0)return e;if(n&&e&&Object.keys(e).length===0)return n;const r={...n};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=Pf(r[s],e[s],t-1));return r}const og="_sentrySpan";function ly(n,e){e?Fo(n,og,e):delete n[og]}function lg(n){return n[og]}const E8=100;class rv{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:iu(),spanId:Vo()}}clone(){const e=new rv;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ly(e,lg(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Nf(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return t===null?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t=typeof e=="function"?e(this):e,[r,s]=t instanceof Ri?[t.getScopeData(),t.getRequestSession()]:Qm(t)?[e,e.requestSession]:[],{tags:i,extra:a,user:o,contexts:l,level:d,fingerprint:c=[],propagationContext:u}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},o&&Object.keys(o).length&&(this._user=o),d&&(this._level=d),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,ly(this,void 0),this._attachments=[],this.setPropagationContext({traceId:iu()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const r=typeof t=="number"?t:E8;if(r<=0)return this;const s={timestamp:tv(),...e};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:lg(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Pf(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Vo(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,t){const r=t&&t.event_id?t.event_id:wi();if(!this._client)return ba.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...t,event_id:r},this),r}captureMessage(e,t,r){const s=r&&r.event_id?r.event_id:wi();if(!this._client)return ba.warn("No client configured on scope - will not capture message!"),s;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,t){const r=t&&t.event_id?t.event_id:wi();return this._client?(this._client.captureEvent(e,{...t,event_id:r},this),r):(ba.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Ri=rv;function S8(){return jf("defaultCurrentScope",()=>new Ri)}function x8(){return jf("defaultIsolationScope",()=>new Ri)}class T8{constructor(e,t){let r;e?r=e:r=new Ri;let s;t?s=t:s=new Ri,this._stack=[{scope:r}],this._isolationScope=s}withScope(e){const t=this._pushScope();let r;try{r=e(t)}catch(s){throw this._popScope(),s}return ev(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Bo(){const n=Nd(),e=Jm(n);return e.stack=e.stack||new T8(S8(),x8())}function A8(n){return Bo().withScope(n)}function C8(n,e){const t=Bo();return t.withScope(()=>(t.getStackTop().scope=n,e(n)))}function dy(n){return Bo().withScope(()=>n(Bo().getIsolationScope()))}function O8(){return{withIsolationScope:dy,withScope:A8,withSetScope:C8,withSetIsolationScope:(n,e)=>dy(e),getCurrentScope:()=>Bo().getScope(),getIsolationScope:()=>Bo().getIsolationScope()}}function Mf(n){const e=Jm(n);return e.acs?e.acs:O8()}function Gi(){const n=Nd();return Mf(n).getCurrentScope()}function Pd(){const n=Nd();return Mf(n).getIsolationScope()}function D8(){return jf("globalScope",()=>new Ri)}function oX(...n){const e=Nd(),t=Mf(e);if(n.length===2){const[r,s]=n;return r?t.withSetScope(r,s):t.withScope(s)}return t.withScope(n[0])}function Md(){return Gi().getClient()}function lX(n){const e=n.getPropagationContext(),{traceId:t,spanId:r,parentSpanId:s}=e;return qr({trace_id:t,span_id:r,parent_span_id:s})}const j8="_sentryMetrics";function R8(n){const e=n[j8];if(!e)return;const t={};for(const[,[r,s]]of e)(t[r]||(t[r]=[])).push(qr(s));return t}const I8="sentry.source",N8="sentry.sample_rate",P8="sentry.op",M8="sentry.origin",dX="sentry.idle_span_finish_reason",cX="sentry.measurement_unit",uX="sentry.measurement_value",fX="sentry.custom_span_name",hX="sentry.profile_id",pX="sentry.exclusive_time",L8=0,hx=1,or=2;function F8(n){if(n<400&&n>=100)return{code:hx};if(n>=400&&n<500)switch(n){case 401:return{code:or,message:"unauthenticated"};case 403:return{code:or,message:"permission_denied"};case 404:return{code:or,message:"not_found"};case 409:return{code:or,message:"already_exists"};case 413:return{code:or,message:"failed_precondition"};case 429:return{code:or,message:"resource_exhausted"};case 499:return{code:or,message:"cancelled"};default:return{code:or,message:"invalid_argument"}}if(n>=500&&n<600)switch(n){case 501:return{code:or,message:"unimplemented"};case 503:return{code:or,message:"unavailable"};case 504:return{code:or,message:"deadline_exceeded"};default:return{code:or,message:"internal_error"}}return{code:or,message:"unknown_error"}}function gX(n,e){n.setAttribute("http.response.status_code",e);const t=F8(e);t.message!=="unknown_error"&&n.setStatus(t)}const px="sentry-",V8=/^sentry-/,B8=8192;function gx(n){const e=H8(n);if(!e)return;const t=Object.entries(e).reduce((r,[s,i])=>{if(s.match(V8)){const a=s.slice(px.length);r[a]=i}return r},{});if(Object.keys(t).length>0)return t}function mX(n){if(!n)return;const e=Object.entries(n).reduce((t,[r,s])=>(s&&(t[`${px}${r}`]=s),t),{});return U8(e)}function H8(n){if(!(!n||!su(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((e,t)=>{const r=cy(t);return Object.entries(r).forEach(([s,i])=>{e[s]=i}),e},{}):cy(n)}function cy(n){return n.split(",").map(e=>e.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((e,[t,r])=>(t&&r&&(e[t]=r),e),{})}function U8(n){if(Object.keys(n).length!==0)return Object.entries(n).reduce((e,[t,r],s)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(r)}`,a=s===0?i:`${e},${i}`;return a.length>B8?(Rf&&ba.warn(`Not adding key: ${t} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):a},"")}const $8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function K8(n){if(!n)return;const e=n.match($8);if(!e)return;let t;return e[3]==="1"?t=!0:e[3]==="0"&&(t=!1),{traceId:e[1],parentSampled:t,parentSpanId:e[2]}}function vX(n,e){const t=K8(n),r=gx(e);if(!t||!t.traceId)return{traceId:iu(),spanId:Vo()};const{traceId:s,parentSpanId:i,parentSampled:a}=t,o=Vo();return{traceId:s,parentSpanId:i,spanId:o,sampled:a,dsc:r||{}}}function z8(n=iu(),e=Vo(),t){let r="";return t!==void 0&&(r=t?"-1":"-0"),`${n}-${e}${r}`}const bX=0,W8=1;let uy=!1;function kX(n){const{spanId:e,traceId:t}=n.spanContext(),{data:r,op:s,parent_span_id:i,status:a,origin:o}=Lf(n);return qr({parent_span_id:i,span_id:e,trace_id:t,data:r,op:s,status:a,origin:o})}function G8(n){const{spanId:e,traceId:t,isRemote:r}=n.spanContext(),s=r?e:Lf(n).parent_span_id,i=r?Vo():e;return qr({parent_span_id:s,span_id:i,trace_id:t})}function yX(n){const{traceId:e,spanId:t}=n.spanContext(),r=sv(n);return z8(e,t,r)}function fy(n){return typeof n=="number"?hy(n):Array.isArray(n)?n[0]+n[1]/1e9:n instanceof Date?hy(n.getTime()):nv()}function hy(n){return n>9999999999?n/1e3:n}function Lf(n){if(q8(n))return n.getSpanJSON();try{const{spanId:e,traceId:t}=n.spanContext();if(Y8(n)){const{attributes:r,startTime:s,name:i,endTime:a,parentSpanId:o,status:l}=n;return qr({span_id:e,trace_id:t,data:r,description:i,parent_span_id:o,start_timestamp:fy(s),timestamp:fy(a)||void 0,status:X8(l),op:r[P8],origin:r[M8],_metrics_summary:R8(n)})}return{span_id:e,trace_id:t}}catch{return{}}}function Y8(n){const e=n;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function q8(n){return typeof n.getSpanJSON=="function"}function sv(n){const{traceFlags:e}=n.spanContext();return e===W8}function X8(n){if(!(!n||n.code===L8))return n.code===hx?"ok":n.message||"unknown_error"}const ka="_sentryChildSpans",dg="_sentryRootSpan";function _X(n,e){const t=n[dg]||n;Fo(e,dg,t),n[ka]?n[ka].add(e):Fo(n,ka,new Set([e]))}function wX(n,e){n[ka]&&n[ka].delete(e)}function EX(n){const e=new Set;function t(r){if(!e.has(r)&&sv(r)){e.add(r);const s=r[ka]?Array.from(r[ka]):[];for(const i of s)t(i)}}return t(n),Array.from(e)}function mx(n){return n[dg]||n}function SX(){const n=Nd(),e=Mf(n);return e.getActiveSpan?e.getActiveSpan():lg(Gi())}function xX(){uy||(ax(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),uy=!0)}function Z8(n){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=Md(),t=n||e&&e.getOptions();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}const iv="production",vx="_frozenDsc";function TX(n,e){Fo(n,vx,e)}function bx(n,e){const t=e.getOptions(),{publicKey:r}=e.getDsn()||{},s=qr({environment:t.environment||iv,release:t.release,public_key:r,trace_id:n});return e.emit("createDsc",s),s}function AX(n,e){const t=e.getPropagationContext();return t.dsc||bx(t.traceId,n)}function J8(n){const e=Md();if(!e)return{};const t=mx(n),r=t[vx];if(r)return r;const s=t.spanContext().traceState,i=s&&s.get("sentry.dsc"),a=i&&gx(i);if(a)return a;const o=bx(n.spanContext().traceId,e),l=Lf(t),d=l.data||{},c=d[N8];c!=null&&(o.sample_rate=`${c}`);const u=d[I8],h=l.description;return u!=="url"&&h&&(o.transaction=h),Z8()&&(o.sampled=String(sv(t))),e.emit("createDsc",o,t),o}function Q8(){const n=typeof WeakSet=="function",e=n?new WeakSet:[];function t(s){if(n)return e.has(s)?!0:(e.add(s),!1);for(let i=0;i<e.length;i++)if(e[i]===s)return!0;return e.push(s),!1}function r(s){if(n)e.delete(s);else for(let i=0;i<e.length;i++)if(e[i]===s){e.splice(i,1);break}}return[t,r]}function mi(n,e=100,t=1/0){try{return cg("",n,e,t)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function eV(n,e=3,t=100*1024){const r=mi(n,e);return sV(r)>t?eV(n,e-1,t):r}function cg(n,e,t=1/0,r=1/0,s=Q8()){const[i,a]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const o=tV(n,e);if(!o.startsWith("[object "))return o;if(e.__sentry_skip_normalization__)return e;const l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:t;if(l===0)return o.replace("object ","");if(i(e))return"[Circular ~]";const d=e;if(d&&typeof d.toJSON=="function")try{const p=d.toJSON();return cg("",p,l-1,r,s)}catch{}const c=Array.isArray(e)?[]:{};let u=0;const h=cx(e);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(u>=r){c[p]="[MaxProperties ~]";break}const v=h[p];c[p]=cg(p,v,l-1,r,s),u++}return a(e),c}function tV(n,e){try{if(n==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(n==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(dx(e))return"[VueViewModel]";if(c8(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${s8(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const t=nV(e);return/^HTML(\w*)Element$/.test(t)?`[HTMLElement: ${t}]`:`[object ${t}]`}catch(t){return`**non-serializable** (${t})`}}function nV(n){const e=Object.getPrototypeOf(n);return e?e.constructor.name:"null prototype"}function rV(n){return~-encodeURI(n).split(/%..|./).length}function sV(n){return rV(JSON.stringify(n))}function ug(n,e,t,r=0){return new ks((s,i)=>{const a=n[r];if(e===null||typeof a!="function")s(e);else{const o=a({...e},t);J9&&a.id&&o===null&&ba.log(`Event processor "${a.id}" dropped event`),ev(o)?o.then(l=>ug(n,l,t,r+1).then(s)).then(null,i):ug(n,o,t,r+1).then(s).then(null,i)}})}let cc,py,uc;function iV(n){const e=Lr._sentryDebugIds;if(!e)return{};const t=Object.keys(e);return uc&&t.length===py||(py=t.length,uc=t.reduce((r,s)=>{cc||(cc={});const i=cc[s];if(i)r[i[0]]=i[1];else{const a=n(s);for(let o=a.length-1;o>=0;o--){const l=a[o],d=l&&l.filename,c=e[s];if(d&&c){r[d]=c,cc[s]=[d,c];break}}}return r},{})),uc}function aV(n,e){const{fingerprint:t,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;oV(n,e),r&&cV(n,r),uV(n,t),lV(n,s),dV(n,i)}function gy(n,e){const{extra:t,tags:r,user:s,contexts:i,level:a,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:d,eventProcessors:c,attachments:u,propagationContext:h,transactionName:p,span:v}=e;fc(n,"extra",t),fc(n,"tags",r),fc(n,"user",s),fc(n,"contexts",i),n.sdkProcessingMetadata=Pf(n.sdkProcessingMetadata,o,2),a&&(n.level=a),p&&(n.transactionName=p),v&&(n.span=v),l.length&&(n.breadcrumbs=[...n.breadcrumbs,...l]),d.length&&(n.fingerprint=[...n.fingerprint,...d]),c.length&&(n.eventProcessors=[...n.eventProcessors,...c]),u.length&&(n.attachments=[...n.attachments,...u]),n.propagationContext={...n.propagationContext,...h}}function fc(n,e,t){n[e]=Pf(n[e],t,1)}function oV(n,e){const{extra:t,tags:r,user:s,contexts:i,level:a,transactionName:o}=e,l=qr(t);l&&Object.keys(l).length&&(n.extra={...l,...n.extra});const d=qr(r);d&&Object.keys(d).length&&(n.tags={...d,...n.tags});const c=qr(s);c&&Object.keys(c).length&&(n.user={...c,...n.user});const u=qr(i);u&&Object.keys(u).length&&(n.contexts={...u,...n.contexts}),a&&(n.level=a),o&&n.type!=="transaction"&&(n.transaction=o)}function lV(n,e){const t=[...n.breadcrumbs||[],...e];n.breadcrumbs=t.length?t:void 0}function dV(n,e){n.sdkProcessingMetadata={...n.sdkProcessingMetadata,...e}}function cV(n,e){n.contexts={trace:G8(e),...n.contexts},n.sdkProcessingMetadata={dynamicSamplingContext:J8(e),...n.sdkProcessingMetadata};const t=mx(e),r=Lf(t).description;r&&!n.transaction&&n.type==="transaction"&&(n.transaction=r)}function uV(n,e){n.fingerprint=n.fingerprint?Array.isArray(n.fingerprint)?n.fingerprint:[n.fingerprint]:[],e&&(n.fingerprint=n.fingerprint.concat(e)),n.fingerprint&&!n.fingerprint.length&&delete n.fingerprint}function CX(n,e,t,r,s,i){const{normalizeDepth:a=3,normalizeMaxBreadth:o=1e3}=n,l={...e,event_id:e.event_id||t.event_id||wi(),timestamp:e.timestamp||tv()},d=t.integrations||n.integrations.map(m=>m.name);fV(l,n),gV(l,d),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&hV(l,n.stackParser);const c=vV(r,t.captureContext);t.mechanism&&b8(l,t.mechanism);const u=s?s.getEventProcessors():[],h=D8().getScopeData();if(i){const m=i.getScopeData();gy(h,m)}if(c){const m=c.getScopeData();gy(h,m)}const p=[...t.attachments||[],...h.attachments];p.length&&(t.attachments=p),aV(l,h);const v=[...u,...h.eventProcessors];return ug(v,l,t).then(m=>(m&&pV(m),typeof a=="number"&&a>0?mV(m,a,o):m))}function fV(n,e){const{environment:t,release:r,dist:s,maxValueLength:i=250}=e;n.environment=n.environment||t||iv,!n.release&&r&&(n.release=r),!n.dist&&s&&(n.dist=s),n.message&&(n.message=Gl(n.message,i));const a=n.exception&&n.exception.values&&n.exception.values[0];a&&a.value&&(a.value=Gl(a.value,i));const o=n.request;o&&o.url&&(o.url=Gl(o.url,i))}function hV(n,e){const t=iV(e);try{n.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{t&&s.filename&&(s.debug_id=t[s.filename])})})}catch{}}function pV(n){const e={};try{n.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(e).length===0)return;n.debug_meta=n.debug_meta||{},n.debug_meta.images=n.debug_meta.images||[];const t=n.debug_meta.images;Object.entries(e).forEach(([r,s])=>{t.push({type:"sourcemap",code_file:r,debug_id:s})})}function gV(n,e){e.length>0&&(n.sdk=n.sdk||{},n.sdk.integrations=[...n.sdk.integrations||[],...e])}function mV(n,e,t){if(!n)return null;const r={...n,...n.breadcrumbs&&{breadcrumbs:n.breadcrumbs.map(s=>({...s,...s.data&&{data:mi(s.data,e,t)}}))},...n.user&&{user:mi(n.user,e,t)},...n.contexts&&{contexts:mi(n.contexts,e,t)},...n.extra&&{extra:mi(n.extra,e,t)}};return n.contexts&&n.contexts.trace&&r.contexts&&(r.contexts.trace=n.contexts.trace,n.contexts.trace.data&&(r.contexts.trace.data=mi(n.contexts.trace.data,e,t))),n.spans&&(r.spans=n.spans.map(s=>({...s,...s.data&&{data:mi(s.data,e,t)}}))),n.contexts&&n.contexts.flags&&r.contexts&&(r.contexts.flags=mi(n.contexts.flags,3,t)),r}function vV(n,e){if(!e)return n;const t=n?n.clone():new Ri;return t.update(e),t}function bV(n){if(n)return kV(n)?{captureContext:n}:_V(n)?{captureContext:n}:n}function kV(n){return n instanceof Ri||typeof n=="function"}const yV=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function _V(n){return Object.keys(n).some(e=>yV.includes(e))}function wV(n,e){return Gi().captureException(n,bV(e))}function OX(n,e){const t=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return Gi().captureMessage(n,t,r)}function DX(n,e){return Gi().captureEvent(n,e)}function jX(n,e){Pd().setContext(n,e)}function RX(n){Pd().setUser(n)}function IX(){const n=Md();return!!n&&n.getOptions().enabled!==!1&&!!n.getTransport()}function NX(n){const e=Md(),t=Pd(),r=Gi(),{release:s,environment:i=iv}=e&&e.getOptions()||{},{userAgent:a}=Lr.navigator||{},o=y8({release:s,environment:i,user:r.getUser()||t.getUser(),...a&&{userAgent:a},...n}),l=t.getSession();return l&&l.status==="ok"&&Nf(l,{status:"exited"}),kx(),t.setSession(o),r.setSession(o),o}function kx(){const n=Pd(),e=Gi(),t=e.getSession()||n.getSession();t&&_8(t),yx(),n.setSession(),e.setSession()}function yx(){const n=Pd(),e=Gi(),t=Md(),r=e.getSession()||n.getSession();r&&t&&t.captureSession(r)}function PX(n=!1){if(n){kx();return}yx()}let my=!1;function EV(){const n=W(Xm,Ye),e=W(YS,Ye),t=W(os,Ye),{fnr:r}=Mo();y.useEffect(()=>{WI(r).catch(d=>wV(d))},[]);const{informasjonRoute:s,hovedsideRoute:i}=gn(),{pathname:a}=Va(),o=a===i();return n===ee.OK&&(!e||e.verdi!==ig)&&o&&t&&!my?(my=!0,f.jsx(Ro,{to:s()})):null}const _x=({visible:n})=>n?f.jsx("div",{className:"w-2.5 m-1",children:f.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("title",{children:"Ulest aktivitet"}),f.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#0067c5"})]})}):null,av=n=>n.type===Ae.EKSTERN_AKTIVITET_TYPE?au[n.eksternAktivitet.type]:au[n.type],au={EGEN:"Jobbrettet egenaktivitet",STILLING:"Stilling",TILTAKSAKTIVITET:"Tiltak gjennom Nav",GRUPPEAKTIVITET:"Gruppeaktivitet",UTDANNINGSAKTIVITET:"Utdanning",SOKEAVTALE:"Jobbsking",IJOBB:"Jobb jeg har n",BEHANDLING:"Behandling",MOTE:"Mte med Nav",SAMTALEREFERAT:"Samtalereferat",STILLING_FRA_NAV:"Stilling fra Nav",ARENA_TILTAK:"Tiltak gjennom Nav",MIDLERTIDIG_LONNSTILSKUDD:"Midlertidig lnnstilskudd",VARIG_LONNSTILSKUDD:"Varig lnnstilskudd",ARBEIDSTRENING:"Arbeidstrening",VARIG_TILRETTELAGT_ARBEID_I_ORDINAER_VIRKSOMHET:"Varig tilrettelagt arbeid i ordinr virksomhet",MENTOR:"Mentor",INDOPPFAG:"Oppflging",ARBFORB:"Arbeidsforberedende trening",AVKLARAG:"Avklaring",VASV:"Varig tilrettelagt arbeid i skjermet virksomhet",ARBRRHDAG:"Arbeidsrettet rehabilitering",DIGIOPPARB:"Digitalt jobbskerkurs",JOBBK:"Jobbklubb",GRUPPEAMO:"Arbeidsmarkedsopplring (Gruppe)",GRUFAGYRKE:"Fag- og yrkesopplring (Gruppe)",REKRUTTERINGSTREFF:"Rekrutteringstreff",ENKELAMO:"Arbeidsmarkedsopplring (enkeltplass)",ENKFAGYRKE:"Fag- og yrkesopplring (enkeltplass)",HOYEREUTD:"Hyere utdanning"},ov={PLANLAGT:"Planlegger",BRUKER_ER_INTERESSERT:"Forslag",GJENNOMFORES:"Gjennomfrer",FULLFORT:"Fullfrt",AVBRUTT:"Avbrutt"},SV={DELTID:"Deltid",HELTID:"Heltid"},wx={INTERNETT:"Videomte",OPPMOTE:"Oppmte",TELEFON:"Telefonmte"},Ex={AVTALT_MED_NAV:"Avtalt med Nav",IKKE_AVTALT_MED_NAV:"Ikke avtalt med Nav"},xV={INGEN_VALGT:"Ingen",SOKNAD_SENDT:"Sknaden er sendt",INNKALT_TIL_INTERVJU:"Skal p intervju",AVSLAG:"Ikke ftt jobben",JOBBTILBUD:"Ftt jobbtilbud"},TV={VENTER:"Venter p  bli kontaktet",CV_DELT:"CV er delt med arbeidsgiver",SKAL_PAA_INTERVJU:"Skal p intervju",JOBBTILBUD:"Ftt jobbtilbud",AVSLAG:"Ikke ftt jobben",IKKE_FATT_JOBBEN:"Ikke ftt jobben",FATT_JOBBEN:"Ftt jobben"},Sx={...xV,...TV},xx={[yn.AKTUELL]:"Skt inn p tiltaket",[yn.AVSLAG]:"Ftt avslag",[yn.IKKAKTUELL]:"Ikke aktuell for tiltaket",[yn.IKKEM]:"Ikke mtt p tiltaket",[yn.INFOMOETE]:"Infomte fr tiltaket",[yn.JATAKK]:"Takket ja til tilbud",[yn.NEITAKK]:"Takket nei til tilbud",[yn.TILBUD]:"Ftt plass p tiltaket",[yn.VENTELISTE]:"P venteliste"},AV={SOKT_INN:"Skt inn p tiltaket",AVSLAG:"Ftt avslag",IKKE_AKTUELL:"Ikke aktuell for tiltaket",IKKE_MOETT:"Ikke mtt p tiltaket",INFOMOETE:"Infomte fr tiltaket",TAKKET_JA:"Takket ja til tilbud",TAKKET_NEI:"Takket nei til tilbud",FATT_PLASS:"Ftt plass p tiltaket",VENTELISTE:"P venteliste"},Tx={...xx,...AV};function Sr(n){return Od(n).status}function lv(n){return Sr(n)!==ee.OK}const Ax=pt(Sr,Hn,(n,e)=>n===ee.ERROR?hn(e,sd.rejected.type):[]),CV=pt(Hn,n=>{const e=hn(n,xm.rejected.type),t=hn(n,xd.rejected.type),r=hn(n,Ad.rejected.type),s=hn(n,Is.rejected.type);return[...e,...t,...r,...s]}),OV=pt([x5,(n,e)=>e],(n,e)=>{if(e)return n.historikk}),Cx=n=>n.data.arenaAktiviteter,Ox=n=>Cx(n).data||[],Ld=n=>Cx(n).status,DV=pt(Ld,Hn,(n,e)=>n===ee.ERROR?hn(e,ji.rejected.type):[]),jV=pt([bE,Ox],(n,e)=>n.concat(e)),Yi=pt(Ox,nl,T5,(n,e,t)=>[...t.find(r=>r.id===e)?.aktiviteter||[],...n.filter(r=>r.oppfolgingsperiodeId===e)]),dv=n=>Yi(n).filter(e=>JV(e,n)),Ff=(n,e)=>jV(n).find(t=>t.id===e),RV=n=>({status:aI(sl(n),qm(n),Sr(n)),data:dv(n)}),Vf=n=>RV(n).status,Dx=(n,e)=>{if(!n)return!1;const{historisk:t,status:r,type:s}=n;return!t&&s!==Ae.EKSTERN_AKTIVITET_TYPE&&(e||s!==ir)&&r!==Re.AVBRUTT&&r!==Re.FULLFOERT},IV=(n,e)=>{if(!n)return!1;const{historisk:t,type:r}=n;return!t&&(e||r!==ir)},NV=(n,e)=>{if(!n||Yn(n))return!1;const{avtalt:t,type:r}=n;return Dx(n,e)&&(e||r!==Fr)&&r!==Kg&&(!t||e||r===bd)};function PV(n){return typeof n=="function"?n:()=>n}function MV(n){Object.getOwnPropertyNames(n.constructor.prototype).filter(e=>typeof n[e]=="function").forEach(e=>{n[e]=n[e].bind(n)})}function LV(n){return class extends w.Component{render(){const{visible:t,...r}=this.props,s=PV(t)(r);return s||s===void 0?w.createElement(n,r):null}}}function jx(n){const{children:e}=n;return f.jsx("div",{...n,children:e})}jx.propTypes={children:Q.node.isRequired};const Ta=LV(jx);function ll(n){return n.data.filter}function Rx(n){return ll(n).aktivitetTyper}function Ix(n){return ll(n).aktivitetEtiketter}function Nx(n){return ll(n).arenaAktivitetEtiketter}function Px(n){return ll(n).aktivitetAvtaltMedNav}const FV=n=>{const{filterTekst:e,nokkel:t,metrikkNavn:r,filter:s,doToggle:i}=n,[a,o]=y.useState(!1);y.useEffect(()=>{o(!!s[t])},[s,t]);const l=()=>{!s[t]&&r&&Nt(r,{filter:t}),i(t)};return f.jsx(Pu,{onChange:l,checked:a,onClick:()=>Yp(e),children:e})},VV={avtalt:Px,aktivitet:Rx,tiltakstatus:Nx,etikett:Ix},BV={avtalt:jE,aktivitet:DE,tiltakstatus:OE,etikett:CE},HV=n=>{const e=W(VV[n]),t=kt(),r=BV[n];return{filterState:e,toggle:i=>t(r(i))}};function Bf(n){const{tekst:e,metrikkNavn:t,className:r,textMapper:s,filterKategori:i,filters:a}=n,{toggle:o,filterState:l}=HV(i),d=(a||[]).length>0,c=(a||[]).map((u,h)=>f.jsx(FV,{filterTekst:s[u],filter:l,nokkel:u,metrikkNavn:t,doToggle:o},h));return f.jsx(Ta,{visible:d,className:sr(r,"filter"),children:f.jsxs("form",{children:[f.jsx(Ve,{level:"2",size:"small",className:"filter__tittel",children:e}),c]})})}const Mx=n=>n.type===Ae.EKSTERN_AKTIVITET_TYPE?n.eksternAktivitet.type:n.type,UV=n=>[Mx(n)];function $V(){const n=W(Yi),e=Array.from(new Set(n.flatMap(UV)));return f.jsx(Bf,{filterKategori:"aktivitet",filters:e,tekst:"Aktivitetstype",metrikkNavn:K7,textMapper:au})}const KV=n=>n.type===Ae.EKSTERN_AKTIVITET_TYPE,Lx=n=>n.eksternAktivitet?.etiketter?.map(e=>e.kode)||[],Fx=n=>[n.etikett].filter(e=>!!e),zV=n=>n.flatMap(e=>e.eksternAktivitet.etiketter).filter(e=>!!e).reduce((e,t)=>t?.tekst?{[t.kode]:t.tekst,...e}:e,{}),WV=()=>{const n=W(Yi),e=n.filter(KV),t=e.flatMap(Lx),r=n.filter(Yn).flatMap(Fx),s=new Set([...t,...r]),a={...zV(e),...Tx};return f.jsx(Bf,{filters:Array.from(s),filterKategori:"tiltakstatus",tekst:"Tiltaksstatus",metrikkNavn:G7,textMapper:a})};function vy(n){return!!n}const Vx=n=>n.type===Ae.STILLING_FRA_NAV_TYPE?[n.stillingFraNavData.soknadsstatus].map(e=>e===Es.AVSLAG?Es.IKKE_FATT_JOBBEN:e).filter(vy):[n.etikett].filter(vy),GV=()=>{const n=W(Yi),e=Array.from(new Set(n.filter(Zo).flatMap(Vx)));return f.jsx(Bf,{filters:e,filterKategori:"etikett",tekst:"Stillingsstatus",metrikkNavn:W7,textMapper:Sx})},YV=n=>la(n.aktivitetEtiketter)||la(n.aktivitetTyper)||la(n.arenaAktivitetEtiketter)||la(n.aktivitetAvtaltMedNav);function la(n){return Object.values(n).indexOf(!0)>=0}function qV(n,e){const t=rx(e);if(!t)return!1;const r={start:new Date(t.start),end:t.slutt?new Date(t.slutt):new Date};return IO(n,r)}const by=(n,e)=>n.every(t=>!e.includes(t)),XV=n=>Object.entries(n).filter(([e,t])=>t).map(([e,t])=>e),ZV=n=>Yn(n)?Fx(n):Xg(n)?Lx(n):[];function JV(n,e){const t=Rx(e),r=Mx(n);if(la(t)&&!t[r])return!1;const s=Ix(e);if(la(s))return!(!Zo(n)||by(Vx(n),XV(s)));const i=Nx(e);if(la(i)){const h=Object.entries(i).filter(([v,g])=>!!g).map(([v,g])=>v),p=ZV(n);if(by(p,h))return!1}const a=Px(e),o=a.AVTALT_MED_NAV,l=a.IKKE_AVTALT_MED_NAV,{avtalt:d}=n;return!([o,l].filter(h=>h).length===1&&(o&&!d||l&&d))}function QV(n){return n.data.malListe}function eB(n){return QV(n).data}function Hf(n){return eB(n)?.filter(e=>e.dato?qV(e.dato,n):!0)||[]}const Bx=n=>n.data.mal,tB=n=>Bx(n).data,cv=n=>Bx(n).status;function uv(n){return sx(n)?tB(n):Hf(n)[0]}const nB=n=>y.createElement("svg",{width:96,height:96,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},y.createElement("g",{clipPath:"url(#clip0_5085_99244)"},y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 0H50V12H46V0ZM46 84H50V96H46V84ZM12 50V46H0V50H12ZM96 46V50H84V46H96ZM35.1846 81.7012L31.5304 80.0742L26.6496 91.0368L30.3037 92.6637L35.1846 81.7012ZM65.6963 3.33643L69.3505 4.96337L64.4696 15.9259L60.8154 14.299L65.6963 3.33643ZM23.4931 74.4462L20.7145 71.5688L12.0824 79.9047L14.861 82.7821L23.4931 74.4462ZM81.139 13.2178L83.9177 16.0951L75.2856 24.431L72.507 21.5537L81.139 13.2178ZM15.3706 63.3401L13.8722 59.6313L2.74599 64.1266L4.24441 67.8354L15.3706 63.3401ZM91.7556 28.1646L93.254 31.8733L82.1278 36.3686L80.6294 32.6598L91.7556 28.1646ZM13.9625 35.1845L15.5895 31.5303L4.62693 26.6494L2.99999 30.3036L13.9625 35.1845ZM92.3273 65.6963L90.7003 69.3505L79.7378 64.4696L81.3647 60.8154L92.3273 65.6963ZM21.2174 23.4935L24.0947 20.7148L15.7588 12.0828L12.8815 14.8614L21.2174 23.4935ZM82.446 81.1392L79.5687 83.9178L71.2328 75.2857L74.1101 72.5071L82.446 81.1392ZM32.3236 15.371L36.0323 13.8726L31.5371 2.74635L27.8283 4.24478L32.3236 15.371ZM67.4994 91.7559L63.7907 93.2543L59.2954 82.1281L63.0041 80.6297L67.4994 91.7559ZM47 73C61.3594 73 73 61.3594 73 47C73 32.6406 61.3594 21 47 21C32.6406 21 21 32.6406 21 47C21 61.3594 32.6406 73 47 73Z",fill:"#CCF1D6"}),y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 53V59.1307H39.7392C40.4227 59.1307 41.061 59.4725 41.4399 60.0414L49 71.3916L41.4399 82.7418C41.061 83.3107 40.4227 83.6524 39.7392 83.6524H26V100H23V83.6524H1.90822C1.09235 83.6524 0.605567 82.7433 1.05785 82.0643L8.16669 71.3916L1.05785 60.7188C0.605567 60.0398 1.09235 59.1307 1.90822 59.1307H23V53C23 52.1716 23.6716 51.5 24.5 51.5C25.3284 51.5 26 52.1716 26 53ZM5.60282 62.1307L11.7713 71.3916L5.60282 80.6524H39.227L45.3955 71.3916L39.227 62.1307H5.60282Z",fill:"#262626"}),y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 3H63C62.4477 3 62 3.44772 62 4V9H74V4C74 3.44772 73.5523 3 73 3ZM59 4V9H42C40.8954 9 40 9.89543 40 11V26C40 27.6569 41.3431 29 43 29L43 43C43 44.6569 44.3431 46 46 46H90C91.6569 46 93 44.6569 93 43V29C94.6569 29 96 27.6569 96 26V11C96 9.89543 95.1046 9 94 9H77V4C77 1.79086 75.2091 0 73 0H63C60.7909 0 59 1.79086 59 4ZM59 12H77H93V26H92H69.5V23C69.5 22.1716 68.8284 21.5 68 21.5C67.1716 21.5 66.5 22.1716 66.5 23V26H44H43L43 12H59ZM66.5 29H46V43H90V29H69.5V31C69.5 31.8284 68.8284 32.5 68 32.5C67.1716 32.5 66.5 31.8284 66.5 31V29Z",fill:"#262626"})),y.createElement("defs",null,y.createElement("clipPath",{id:"clip0_5085_99244"},y.createElement("rect",{width:96,height:96,fill:"white"})))),rB=/((?:[\w-]+:\/\/?|www(?:-\w+)?\.)[^\s()<>]+)/g,Ho=n=>{const{children:e,className:t,size:r="medium",formatLinks:s=!1,formatLinebreaks:i=!1}=n;if(!e)return null;let a=[e];s&&(a=a.flatMap(l=>typeof l=="string"?sB(l,rB,(d,c)=>{const u=d.toLowerCase().startsWith("www.")?`https://${d}`:d;return f.jsx(tn,{target:"_blank",href:u,children:`${d} (pnes i ny fane)`},`link-${c}`)}):l));const o=sr(t,i&&"whitespace-pre-wrap");return f.jsx(br,{className:o,size:r,children:a})},sB=(n,e,t)=>{const r=n.match(e),s=n.split(e);return r!==null?s.map((i,a)=>r.includes(i)?t(i,a):i):[n]};function iB(n){return n.disabled?f.jsx(f.Fragment,{children:"Trykk her for  se dine tidligere ml"}):n.mal?f.jsx(Ho,{formatLinebreaks:!0,children:n.mal}):f.jsx(f.Fragment,{children:"Du har ikke skrevet hva mlet ditt er. Beskriv mlet ditt, gjerne bde kortsiktige og langsiktige ml og hva slags arbeidsoppgaver du nsker deg."})}function aB(n){const{disabled:e,mal:t}=n,r=yt(),s=pn(),{malRoute:i}=gn(),a=l=>{s(i()),r9(r),Di(l)},o=W(sx,Ye);return!t&&!e?f.jsxs("div",{children:[f.jsx(ie,{children:"Skriv litt om hva som er mlet ditt slik at vi kan hjelpe deg bedre."}),f.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[f.jsx("li",{children:f.jsx(ie,{children:"Hva er mlet p kort og p lang sikt?"})}),f.jsx("li",{children:f.jsx(ie,{children:"Hva slags jobb nsker du deg?"})})]}),f.jsx(Ze,{onClick:()=>a("Sett et ml"),variant:"secondary",size:"small",children:"Sett et ml"})]}):f.jsxs("div",{className:"flex flex-col items-start gap-4",children:[f.jsx(iB,{disabled:e,mal:t}),f.jsx(Ze,{onClick:()=>a("Endre mlet"),variant:"secondary",size:"small",children:o?"Endre mlet":"Se tidligere ml"})]})}function oB(){const n=W(cv,Ye),e=W(uv,Ye),t=e&&e.mal,r=W(Dn,Ye),s=W(al,Ye),i=W(Df,Ye),a=!r||s||!i,o=dB(e,W(qS),W(xf))&&i,l=n==="ERROR",{mal:d,oppfolging:c}=Uu("root");return l?f.jsx(bt,{variant:"error",children:"Kunne ikke hente ml"}):f.jsx(f.Fragment,{children:f.jsx("div",{className:sr("border-border-default flex rounded-md p-4",{"border-2 border-dashed ":!t&&!a,border:t||a}),children:f.jsxs("div",{className:"flex sm:flex-row items-center gap-6",children:[f.jsx(nB,{"aria-hidden":!0,role:"img",className:"hidden sm:block mx-4 min-w-fit"}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex mb-2 items-center",children:[f.jsx(_x,{visible:o}),f.jsx(Ve,{level:"2",size:"medium",className:"flex",children:"Mitt ml"})]}),f.jsx(y.Suspense,{fallback:f.jsx(lB,{}),children:f.jsx($u,{resolve:Promise.all([c,d]),children:f.jsx(aB,{disabled:a,mal:t})})})]})]})})})}const lB=()=>f.jsxs("div",{className:"flex flex-col items-start gap-4",children:[f.jsx(rg,{variant:"text",className:"-mb-1",width:"100%"}),f.jsx(Ze,{size:"small",variant:"secondary",disabled:!0,children:"Endre mlet"})]});function dB(n,e,t){if(!n?.mal||!n.dato)return!1;const r=!e,s=n.endretAv==="BRUKER"&&t.erBruker||n.endretAv==="VEILEDER"&&t.erVeileder;if(r)return!s;const i=is(Bn(n.dato),Bn(e.tidspunkt));return!s&&!n.lest&&i}const Hx=({event:n,aktivitetId:e,dialogId:t})=>{n.preventDefault(),window.history.pushState("","Dialog",fv({erVeileder:!0,aktivitetId:e,dialogId:t})),window.dispatchEvent(new CustomEvent("visDialog",{detail:{dialogId:t,aktivitetId:e}}))},fv=({dialogId:n,aktivitetId:e,erVeileder:t})=>t?n?`/dialog/${n}`:e?`/dialog/ny?aktivitetId=${e}`:"/dialog":n?`${xc}/${n}`:e?`${xc}/ny?aktivitetId=${e}`:`${xc}`,Ux=n=>{const{className:e,dialogId:t,aktivitetId:r,hidden:s,children:i}=n,a=pn(),o=yt(),{hovedsideRoute:l}=gn(),d=c=>{o&&(a(l(),{replace:!0}),Hx({event:c,aktivitetId:r,dialogId:t}))};return s?null:f.jsx(tn,{href:fv({erVeileder:o,aktivitetId:r,dialogId:t}),onClick:d,className:e,children:i})},cB=n=>{const{lenkeTekst:e,tekst:t,hidden:r,dialogId:s}=n;return r?null:f.jsx(bt,{variant:"warning",className:"mb-5 mt-4",children:f.jsxs(ie,{children:[t,"",f.jsx(Ux,{dialogId:s,children:e})]})})},ky=n=>{const{hidden:e,tekst:t,lenkeTekst:r,href:s}=n;return e?null:f.jsxs(bt,{variant:"warning",className:"mb-5 mt-4",children:[t,"",f.jsx(tn,{href:s,children:r})]})},uB=n=>{if(!n)return'Du er ikke lenger registrert hos Nav og din tidligere aktivitetsplan er lagt under "Tidligere plan". Hvis du fortsatt skal motta ytelser og f oppflging fra Nav m du vre registrert.';const e=n<=28&&n>=10,t=n<10&&n>=1;return e?"Du er ikke lenger registrert hos Nav. Hvis du fortsatt skal motta ytelser, f oppflging fra Nav og bruke aktivitetsplanen m du vre registrert.":t?`Du er ikke lenger registrert hos Nav. Hvis du fortsatt skal motta ytelser, f oppflging fra Nav og bruke aktivitetsplanen m du vre registrert. Om ${n} dager vil denne aktivitetsplanen bli avsluttet.`:'Du er ikke lenger registrert hos Nav og din tidligere aktivitetsplan er lagt under "Tidligere plan". Hvis du fortsatt skal motta ytelser og f oppflging fra Nav m du vre registrert.'},fB=n=>{const{tilhorendeDialogId:e,erEskalert:t}=n,r=W(H9,Ye),s=W(Dn),i=W(B9),a=wn(new Date),o=r?x_(La(Bn(r),28),a):void 0,{oppfolging:l}=Uu("root");return f.jsx(y.Suspense,{fallback:null,children:f.jsx($u,{resolve:l,children:f.jsxs("div",{className:"container",children:[f.jsx(cB,{lenkeTekst:"Les hva du m gjre.",tekst:"Du har ftt en viktig melding fra Nav.",dialogId:e,hidden:!t}),f.jsx(ky,{hidden:!i,tekst:uB(o),lenkeTekst:"G til registrering",href:vp}),f.jsx(ky,{hidden:s,tekst:'Du er ikke lenger registrert hos Nav og din tidligere aktivitetsplan er lagt under "Tidligere planer". Hvis du fortsatt skal motta ytelser, f oppflging fra Nav og bruke aktivitetsplanen m du vre registrert.',lenkeTekst:"Register deg hos Nav",href:vp})]})})})},hB=n=>n.data.eskaleringsvarsel,$x=n=>hB(n).data,pB=n=>!!$x(n)?.id,gB=n=>!!(n&&mr(Bn(n)));function Uf(n,e){if(n){const t=typeof n=="string"?Bn(n):n;return mr(t)?rr(t,e,{locale:Gg}):void 0}}function Ei(n){return Uf(n,"PPP")}function vr(n){return Uf(n,"PP")}function Kx(n){return Uf(n,"PP 'kl' HH.mm")}function fg(n){return Uf(n,"HH.mm")}function mB(n){const e=Bn(n);return mr(e)?IC(e,new Date,{addSuffix:!0,locale:Gg}):void 0}function vB(n){const e=Bn(n),t=qg(O_(),2);return mr(e)?Vi(e,t):!1}function hv(n){const e=Bn(n);return mr(e)?is(e,wn(La(new Date,7))):!1}function zx(n){if(!n)return;const e=Bn(n);if(mr(e))return vB(n)?Kx(n):mB(n)}const bB=n=>em(new Date,Bn(n));function kB(n){return x_(wn(Bn(n)),wn(new Date))}const ya=n=>!!(n&&!Number.isNaN(n.getTime())&&n.getFullYear()>999),yB=n=>{const{tilhorendeDialogId:e,opprettetDato:t,erEskalert:r}=n;if(!r)return null;const s=vr(t);return f.jsx("div",{className:"container",children:f.jsx(bt,{variant:"warning",className:"my-4",children:f.jsxs(ie,{children:["Nav har sendt varsel ",s,"."," ",f.jsx(Ux,{dialogId:e,children:"Les meldingen."})]})})})},_B=()=>{const n=W(os),e=W($x,Ye),t=W(pB);return n?f.jsx(fB,{tilhorendeDialogId:e?.tilhorendeDialogId,erEskalert:t}):f.jsx(yB,{tilhorendeDialogId:e?.tilhorendeDialogId,opprettetDato:e?.opprettetDato,erEskalert:t})},wB=()=>{const n=ns(rs.FNR);return On(`${nI}/dialog/sistOppdatert`,{fnr:n})},$f=n=>n.data.dialog,pv=n=>$f(n).status,Wx=n=>$f(n).data,EB=n=>$f(n).sistOppdatert;pt([Wx,nl],(n,e)=>n.filter(t=>t.oppfolgingsperiode===e));const gv=n=>e=>Wx(e).find(t=>t.aktivitetId===n),SB=pt($f,Hn,(n,e)=>n.status===ee.ERROR?hn(e,Os.rejected.type):[]);function xB(){const n=yt(),e=W(EB,Ye),t=W(nl),r=kt();y.useEffect(()=>{const o=()=>r(Os());if(!n){let l;return l=setInterval(()=>wB().then(c=>{const u=new Date(e),h=c.sistOppdatert;c.sistOppdatert&&is(h,u)&&o()}).catch(()=>clearInterval(l)),1e4),()=>clearInterval(l)}},[r,n,e]);const s=W(DM),i=F5("aktivitetsplan.journalforing");function a(){Nt(H7),Di("Hva er aktivitetsplanen?")}return f.jsxs("div",{className:"flex flex-col gap-y-2",children:[f.jsxs("div",{className:"flex gap-y-2 gap-x-8 flex-col sm:flex-row mt-8 mb-4",children:[n?null:f.jsxs(f.Fragment,{children:[f.jsx(tn,{href:jA,children:"Min side"}),f.jsx(tn,{href:xc,children:f.jsx("span",{children:"Min dialog med veileder"})})]}),f.jsx(pa,{to:"informasjon",className:"text-text-action underline hover:no-underline",onClick:a,children:"Hva er aktivitetsplanen?"}),s&&f.jsx(pa,{to:`utskrift/${t}`,className:"text-text-action underline hover:no-underline",onClick:()=>_k("Skriv ut"),children:"Skriv ut"}),i?n&&f.jsx(pa,{to:`journalforing/${t}`,className:"text-text-action underline hover:no-underline",onClick:()=>_k("Journalfring"),children:"Journalfring"}):null]}),f.jsx(Ve,{level:"1",size:"xlarge",children:"Aktivitetsplan"})]})}function ao(n){return e=>{n.filter(t=>t).forEach(t=>t(e))}}const hg=n=>{if(!(n===void 0||n===""||n===null))return typeof n=="string"?new Date(n):n},mv=(n,e)=>{y.useEffect(()=>(n&&window.addEventListener("click",e),()=>window.removeEventListener("click",e)),[e])},vv=n=>{n.stopPropagation()};function TB(){const n=W(Yi),r=n.filter(s=>s.avtalt).length>0&&n.filter(s=>!s.avtalt).length>0?["AVTALT_MED_NAV","IKKE_AVTALT_MED_NAV"]:[];return f.jsx(Bf,{filterKategori:"avtalt",filters:r,tekst:"Avtalt aktivitet",metrikkNavn:z7,textMapper:Ex})}const Gx=()=>{const[n,e]=y.useState(!1),r=W(Yi).length>1,s=[W(Vf)],i=QS(s),a=JS(i);return mv(n,()=>e(!1)),r?f.jsxs("div",{onClick:vv,className:"self-stretch sm:self-auto",children:[f.jsx(Ze,{disabled:!a,variant:"secondary",name:"filter",className:"relative w-full",onClick:()=>{e(!n),Nt($7)},children:"Filtrer"}),n?f.jsxs("div",{className:"scroll-auto max-h-screen-h-1/2 rounded-md absolute p-4 bg-white border z-10 w-96 max-h-screen-h-1/2 overflow-auto flex flex-col gap-y-4",children:[f.jsx(TB,{}),f.jsx(GV,{}),f.jsx(WV,{}),f.jsx($V,{})]}):null]}):null},AB=()=>{const n=W(L9),t=n.filter(o=>!!o.slutt).length>0,r=kt(),s=n.length>0?n[0]:null,i=W(nl);if(y.useEffect(()=>{s&&!i&&r(Ek(s.id))},[n]),!t)return null;const a=o=>{const l=o.target.value;r(Ek(l))};return f.jsx("div",{className:"flex items-start",children:f.jsx(Zs,{className:"w-full sm:w-64",hideLabel:!0,autoComplete:"on",defaultValue:s?.id,label:"Periode",value:i||void 0,onChange:a,children:n.map(({start:o,slutt:l,id:d})=>{const c=rr(new Date(o),"dd. MMM yyyy"),u=l==null?"Nvrende periode":`${c} - ${rr(new Date(l),"dd. MMM yyyy")}`;return f.jsx("option",{value:d,children:u},d)})})})},CB=({label:n,slettFilter:e})=>f.jsx(_f.Removable,{variant:"neutral","aria-label":"slett-filter",onClick:e,children:n}),Yx=()=>{const n=W(ll),e=kt(),t=l=>e(CE(l)),r=l=>e(OE(l)),s=l=>e(DE(l)),i=l=>e(jE(l)),a=(l,d)=>{switch(l){case"aktivitetTyper":return{tekst:au[d],func:s};case"aktivitetEtiketter":return{tekst:Sx[d],func:t};case"arenaAktivitetEtiketter":return{tekst:Tx[d],func:r};case"aktivitetAvtaltMedNav":return{tekst:Ex[d],func:i};default:return l}};return Object.values(n).some(l=>l?Object.values(l).some(d=>d===!0):!1)?f.jsxs("div",{className:"flex flex-wrap flex-col",children:[f.jsx(Xo,{className:"mb-2",children:"Valgte filter"}),f.jsx(_f,{children:Object.entries(n).map(([l,d])=>d===null?null:Object.entries(d).filter(([c,u])=>u).map(([c,u])=>{const h=a(l,c);return typeof h=="string"?null:f.jsx(CB,{label:h.tekst,slettFilter:()=>{h.func(c)}},c)}))})]}):null},OB=n=>[{groupTittel:"For NAV-ansatt",groupedItems:[{tittle:"Avtale om  ske jobber",link:`${n}/sokeavtale`},{tittle:"Mte med NAV",link:`${n}/mote`},{tittle:"Samtalereferat",link:`${n}/samtalereferat`}]},{groupTittel:"For bruker og NAV-ansatt",groupedItems:[{tittle:" En jobb jeg vil ske p",link:`${n}/stilling`},{tittle:" En jobb jeg har n",link:`${n}/ijobb`},{tittle:"Jobbrettet egenaktivitet ",link:`${n}/egen`},{tittle:" Medisinsk behandling",link:`${n}/behandling`}]}],DB=n=>[{groupTittel:"Velg type aktivitet",groupedItems:[{tittle:" En jobb jeg vil ske p",link:`${n}/stilling`},{tittle:" En jobb jeg har n",link:`${n}/ijobb`},{tittle:"Jobbrettet egenaktivitet ",link:`${n}/egen`},{tittle:" Medisinsk behandling",link:`${n}/behandling`}]}],qx=()=>{const n=W(al),e=W(Sr),{nyAktivitetRoute:t}=gn(),r=t(),i=yt()?OB(r):DB(r);return f.jsx("div",{className:"self-stretch sm:self-auto",children:f.jsxs(dn,{children:[f.jsx(dn.Trigger,{children:f.jsx(Ze,{loading:[ee.RELOADING,ee.PENDING].includes(e),className:"relative w-full",icon:f.jsx(b3,{role:"img","aria-hidden":!0,fontSize:"1.5rem"}),disabled:e!==ee.OK||n,children:"Legg til aktivitet"})}),f.jsx(dn.Content,{children:i.map((a,o)=>f.jsxs(dn.Group,{label:a.groupTittel,children:[a.groupedItems.map(l=>f.jsx(dn.Item,{as:pa,to:l.link,children:l.tittle},l.tittle)),o!=i.length-1?f.jsx(dn.Divider,{}):null]},a.groupTittel))})]})})},jB=()=>{const e=W(Yi).length>1;return f.jsxs("div",{className:"flex flex-col gap-y-6",children:[f.jsxs("div",{className:"flex gap-y-4 sm:flex-row flex-col-reverse ",children:[f.jsxs("div",{className:"flex gap-4 items-start flex-col sm:flex-row w-full",children:[f.jsx(qx,{}),e&&f.jsx(Gx,{})]}),f.jsx(AB,{})]}),f.jsx(Yx,{})]})},RB=n=>{const{to:e,children:t,id:r,className:s,ariaLabel:i,onClick:a}=n,o=pn();return f.jsx("div",{role:"link","aria-label":i,id:r,className:s,tabIndex:0,onClick:()=>{o(e),a()},onKeyPress:l=>{l.key==="Enter"&&(o(e),a())},children:t})};function IB(n,e){return n!=null&&e==null?-1:n==null&&e!=null?1:0}function NB(n,e){return!n||!e?IB(n,e):e.localeCompare(n)}function PB(n,e){const t=Yn(n)?n.fraDato:n.endretDato,r=Yn(e)?e.fraDato:e.endretDato;return NB(t,r)}function MB(n){const e=n.type===Ae.STILLING_FRA_NAV_TYPE,t=!n.stillingFraNavData?.cvKanDelesData,r=n.status,s=n.historisk,i=r===Re.FULLFOERT||r===Re.AVBRUTT||s;return e&&t&&!i}function LB(n,e,t){if(n.endretAvType==="BRUKER"&&t.erBruker||n.endretAvType==="NAV"&&t.erVeileder&&n.endretAv===t.id)return!1;if(!e)return!0;const s=Bn(n.endretDato||n.opprettetDato),i=Bn(e.tidspunkt);return mr(s)&&mr(i)?is(s,i)&&Vi(s,__(new Date,5)):!1}function Xx(n){const{fraDato:e,tilDato:t}=n;if(e&&t){const r=new Date(e),s=new Date(t),i=cC(s,r),a=rr(r,"HH.mm");return{dato:wn(r),klokkeslett:a,varighet:i}}}const FB=n=>Qg(n)?n:new Date(n),Zx=n=>{const e=n.replace(".",":").split(":");if(e.length!=2)return!1;const[t,r]=e,s=parseInt(t),i=parseInt(r);return!isNaN(s)&&!isNaN(i)&&i<60&&s<24&&i>-1&&s>-1},bv=n=>{if(typeof n!="number"){const[e,t]=n.replace(".",":").split(":").map(r=>parseInt(r));return{hour:e,minute:t}}else{const e=parseInt(n.toString()),t=NO(e),r=e-60*t;return{hour:t,minute:r}}};function VB(n){const{dato:e,klokkeslett:t,varighet:r}=n;if(e&&t&&Zx(t)&&r!==void 0&&r!==null){const{hour:s,minute:i}=bv(t),a=ZO(XO(wn(FB(e)),s),i),o=__(a,r);return{fraDato:a.toISOString(),tilDato:o.toISOString()}}return{}}function BB(n){if(n)if(typeof n=="number"||!isNaN(parseInt(n))){const{hour:e,minute:t}=bv(n);return e>0?t>0?`${e.toString()} ${e===1?"time":"timer"}, ${ou(t.toString())} minutter`:`${e.toString()} ${e===1?"time":"timer"}`:`${ou(t.toString())} minutter`}else return n}const ou=n=>n.length===1?"0"+n:n;function HB(n){if(!n||!Zx(n))return;const{hour:e,minute:t}=bv(n);return`${ou(e.toString())}.${ou(t.toString())}`}function UB(n,e){return n===Ae.MOTE_TYPE&&!e}function $B(n,e){return n===Ae.SAMTALEREFERAT_TYPE&&!e}function Jx(n,e){const{type:t,erReferatPublisert:r}=n;return UB(t,r)&&e!==Re.AVBRUTT||$B(t,r)}function KB(n,e){return n===Re.AVBRUTT&&e===ir}function zB(n,e){return n&&e===Re.AVBRUTT}function WB(n,e,t){return n&&e===Re.FULLFOERT&&t!==Fr&&t!==ir}function kv(n,e,t){return zB(n,e)||WB(n,e,t)||KB(e,t)}function Qx(n,e){return n.filter(t=>t.nesteStatus?t.nesteStatus===e:t.status===e).sort(PB)}function GB(n){const e=[n.endretDato,n.tilDato,n.fraDato].filter(r=>r!=null).find(r=>r&&mr(Bn(r))),t=e?Bn(e):void 0;return t===void 0||is(t,H_(wn(new Date),1))}const YB=n=>n.reduce((e,t)=>GB(t)?{...e,nyereAktiviteter:[...e.nyereAktiviteter,t]}:{...e,eldreAktiviteter:[...e.eldreAktiviteter,t]},{nyereAktiviteter:[],eldreAktiviteter:[]}),e1=n=>n.view.visteAktiviteterMedEndringer.data,t1=n=>{const e=e1(n);return e.length===0?e[e.length-1]:void 0},qB="_aktivitetskort_pnkum_1",XB="_sistVist_pnkum_23",ZB="_type_pnkum_27",JB="_drag_pnkum_30",QB="_frist_pnkum_37",eH="_fristUtgaat_pnkum_41",tH="_flyttbar_pnkum_48",nH="_dialogIkonUtenUleste_pnkum_52",rH="_dialogIkonMedUleste_pnkum_58",ei={aktivitetskort:qB,sistVist:XB,type:ZB,drag:JB,frist:QB,fristUtgaat:eH,flyttbar:tH,dialogIkonUtenUleste:nH,dialogIkonMedUleste:rH};function sH(n){return n<0?ei.fristUtgaat:n<14?ei.frist:""}function iH(n,e){return n===0?"Sknadsfristen gr ut i dag":n===1?"Sknadsfristen gr ut i morgen":n>14?`Sknadsfrist: ${vr(e)}`:n<0?"Sknadsfristen har gtt ut":`Sknadsfristen gr ut om ${n} dager`}function aH({aktivitet:n}){const{tilDato:e,etikett:t}=n;if(t||!e)return null;const r=kB(e);return f.jsx(ie,{className:sH(r),children:iH(r,e)})}function oH({aktivitet:n,id:e}){const{type:t,fraDato:r,tilDato:s}=n;if(t===Ae.STILLING_FRA_NAV_TYPE)return null;if(t===Ae.STILLING_AKTIVITET_TYPE)return f.jsx(aH,{aktivitet:n});const i=vr(r),a=vr(s);function o(){return t===ir||t===Fr||t===Du&&a&&i===a?i:!r&&s?`Til: ${a}`:!s&&r?`Fra: ${i}`:[i,a].filter(l=>l).join(" - ")}return f.jsx(ie,{id:e,children:o()})}const lH=n=>({hidden:e,children:t,...r})=>(typeof e=="function"?e():e)?null:w.createElement(n,{...r},t);function n1(n){return({hidden:e,children:t,...r})=>(typeof e=="function"?e():e)?null:f.jsx(n,{...r,children:t})}const lu=lH("div"),r1=n=>f.jsx(bt,{variant:"warning",inline:!0,className:"gap-x-2",children:n.tekst}),dH=n=>{const e=W(os),t=MB(n);return e&&t},cH=()=>f.jsx(r1,{tekst:"Venter p svar fra deg"}),uH={SOKT_INN:{tekst:"Skt inn p tiltaket",variant:"info"},AVSLAG:{tekst:"Ftt avslag",variant:"info"},IKKE_AKTUELL:{tekst:"Ikke aktuell for tiltaket",variant:"neutral"},IKKE_MOETT:{tekst:"Ikke mtt p tiltaket",variant:"warning"},INFOMOETE:{tekst:"Infomte fr tiltaket",variant:"info"},TAKKET_JA:{tekst:"Takket ja til tilbud",variant:"info"},TAKKET_NEI:{tekst:"Takket nei til tilbud",variant:"warning"},FATT_PLASS:{tekst:"Ftt plass p tiltaket",variant:"info"},VENTELISTE:{tekst:"P venteliste",variant:"info"}},fH=(n,e)=>{if(n===Qi.ARENA_TILTAK_TYPE)return uH[e]},s1=({aktivitet:n})=>{const{etiketter:e,type:t}=n.eksternAktivitet;return!e||e.length==0?null:f.jsx(f.Fragment,{children:e.map(r=>r.tekst&&r.sentiment?{variant:r.sentiment==="POSITIVE"?"success":"neutral",tekst:r.tekst}:fH(t,r.kode)).map((r,s)=>r?f.jsx($a,{variant:r.variant,size:"small",children:r.tekst},s):null)})},hH={SOKNAD_SENDT:{text:"Sendt sknad",variant:"success"},INNKALT_TIL_INTERVJU:{text:"Skal p intervju",variant:"info"},JOBBTILBUD:{text:"Ftt jobbtilbud ",variant:"warning"},AVSLAG:{text:"Ikke ftt jobben",variant:"neutral"},INGEN_VALGT:{text:"Ikke ftt jobben",variant:"neutral"}},i1=n=>{const{aktivitet:e}=n,t=e.etikett;if(!t)return null;const{text:r,variant:s}=hH[t];return f.jsx($a,{className:"mr-2",variant:s,size:"small",children:r})},pH={VENTER:{text:"Venter p  bli kontaktet",variant:"success"},CV_DELT:{text:"CV er delt med arbeidsgiver",variant:"info"},SKAL_PAA_INTERVJU:{text:"Skal p intervju",variant:"info"},JOBBTILBUD:{text:"Ftt jobbtilbud ",variant:"neutral"},AVSLAG:{text:"Ikke ftt jobben",variant:"neutral"},IKKE_FATT_JOBBEN:{text:"Ikke ftt jobben",variant:"neutral"},FATT_JOBBEN:{text:"Ftt jobben ",variant:"neutral"}},a1=n=>{const{soknadsstatus:e}=n;if(!e)return null;const{text:t,variant:r}=pH[e];return f.jsx($a,{variant:r,size:"small",children:t})},gH=n=>{switch(n){case yn.JATAKK:case yn.AKTUELL:case yn.TILBUD:case yn.VENTELISTE:case yn.INFOMOETE:return"info";case yn.AVSLAG:case yn.IKKAKTUELL:return"neutral";case yn.IKKEM:case yn.NEITAKK:return"warning"}},mH=n=>xx[n],vH=n=>{const{aktivitet:e}=n,t=e.etikett;if(!t)return null;const r=gH(t),s=mH(t);return f.jsx($a,{className:"mr-2",variant:r,size:"small",children:s})},o1=n=>{const{type:e,referat:t,erReferatPublisert:r}=n;return e===Fr&&!r||e===ir&&!!t&&!r},l1=()=>{const e=W(os)?"Samtalereferatet er ikke ferdig":"Samtalereferatet er ikke delt";return f.jsx($a,{variant:"warning",size:"small",className:"mt-0.5",children:e})};function bH(n){const{className:e}=n;return f.jsx("svg",{"aria-label":"Ingen uleste meldinger",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false",role:"img",children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 13.518L4.602 12H6v-1a4 4 0 014-4h6V4a2 2 0 00-2-2H4a2 2 0 00-2 2v9.518zM5.143 14H6v3a4 4 0 004 4h8.857L24 24V11a4 4 0 00-4-4h-2V4a4 4 0 00-4-4H4a4 4 0 00-4 4v13l5.143-3zm14.255 5L22 20.518V11a2 2 0 00-2-2H10a2 2 0 00-2 2v6a2 2 0 002 2h9.398zM11 15a1 1 0 100-2 1 1 0 000 2zm5-1a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2z",fill:"#0067C5"})})}function kH(n){const{antallUleste:e,className:t}=n,r=e>9?23:26.8;return f.jsxs("div",{children:[f.jsxs("svg",{"aria-label":"Aktiviteten har uleste meldinger",className:t,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"32",focusable:"false",role:"img",children:[f.jsx("svg",{y:"8",children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 13.518L4.602 12H6v-1a4 4 0 014-4h6V4a2 2 0 00-2-2H4a2 2 0 00-2 2v9.518zM5.143 14H6v3a4 4 0 004 4h8.857L24 24V11a4 4 0 00-4-4h-2V4a4 4 0 00-4-4H4a4 4 0 00-4 4v13l5.143-3zm14.255 5L22 20.518V11a2 2 0 00-2-2H10a2 2 0 00-2 2v6a2 2 0 002 2h9.398zM11 15a1 1 0 100-2 1 1 0 000 2zm5-1a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2z",fill:"#0067C5"})}),f.jsx("circle",{opacity:"1",fill:"#c30000",cx:"30",cy:"10",r:"10"}),f.jsx("text",{x:r,y:"14.4",fill:"#fff",opacity:"1",children:e})]}),f.jsx("div",{className:"sr-only",children:"Aktiviteten har en dialog"})]})}function yH(n){const{antallUleste:e,classNameUtenUleste:t,classNameMedUleste:r}=n;return e===0?f.jsx(bH,{className:t}):f.jsx(kH,{antallUleste:e,className:r})}const d1=n=>{const{hidden:e}=n;return e?null:f.jsx($a,{variant:"alt3-filled",size:"small",children:"Avtalt med Nav"})},_H=n=>{const{hidden:e}=n;return e?null:f.jsx(r1,{tekst:"Ulest"})};var Tt=(n=>(n.SEND_STANDARD="SEND_FORHAANDSORIENTERING",n.SEND_PARAGRAF_11_9="SEND_PARAGRAF_11_9",n.IKKE_SEND="IKKE_SEND_FORHAANDSORIENTERING",n))(Tt||{});const wH=n=>{switch(n.forhaandsorienteringType){case Tt.SEND_STANDARD:return n.avtaltText;case Tt.SEND_PARAGRAF_11_9:return n.avtaltText119;case Tt.IKKE_SEND:return"";default:throw new Error("Ukjent avtalttype")}},Fd="Det er viktig at du gjennomfrer denne aktiviteten med Nav. Gjr du ikke det, kan det medfre at stnaden du mottar fra Nav bortfaller for en periode eller stanses. Hvis du ikke kan gjennomfre aktiviteten, ber vi deg ta kontakt med veilederen din s snart som mulig.",c1="Du kan f redusert utbetaling av arbeidsavklaringspenger med n stnadsdag hvis du lar vre  [komme p mtet vi har innkalt deg til [dato]/ mte p  /levere ... innen [dato]] uten rimelig grunn. Dette gr fram av folketrygdloven  11-9.",Kf=(n,e)=>{if(e===void 0)return!1;const t=e?.forhaandsorientering,r=Zo(e)?!e.historisk:!0;return!!t?.type&&!t.lestDato&&t.type!==Tt.IKKE_SEND&&n&&r&&e?.status!==Re.FULLFOERT&&e?.status!==Re.AVBRUTT},EH=n=>{const{aktivitet:e}=n,t=W(os),r=Kf(t,e);return!r&&!e.avtalt?null:f.jsxs(f.Fragment,{children:[f.jsx(_H,{hidden:!r}),f.jsx(d1,{hidden:!e.avtalt})]})},SH=({aktivitet:n})=>{const{avtalt:e,etikett:t}=n,r=W(gv(n.id),Ye),s=r?r.henvendelser:[],i=s.filter(v=>!v.lest).length,o=n.type===Ae.SAMTALEREFERAT_TYPE||n.type===Ae.MOTE_TYPE?o1(n):!1,l=n.type===Ae.STILLING_FRA_NAV_TYPE,d=l?dH(n):!1,c=l?n.stillingFraNavData.soknadsstatus:void 0,u=Zo(n)&&n.transaksjonsType==="KASSERT",p=n.type===Ae.EKSTERN_AKTIVITET_TYPE?n.eksternAktivitet.etiketter:void 0;return e||t||r||o||d||c||p?f.jsxs("div",{className:"flex justify-between mt-2 w-full",children:[f.jsxs("div",{children:[d?f.jsx(cH,{}):null,f.jsxs("div",{className:"flex flex-col gap-y-1 items-start",children:[f.jsx(EH,{aktivitet:n}),o?f.jsx(l1,{}):null,n.type===vd?f.jsx(i1,{aktivitet:n}):null,Yn(n)?f.jsx(vH,{aktivitet:n}):null,c?f.jsx(a1,{soknadsstatus:c}):null,n.type===Ae.EKSTERN_AKTIVITET_TYPE?f.jsx(s1,{aktivitet:n}):null,u&&f.jsx($a,{size:"small",variant:"neutral-filled",children:"Slettet"})]})]}),f.jsx(lu,{hidden:!r&&s.length<=0,className:"h-0 self-end",children:f.jsx(yH,{antallUleste:i,classNameMedUleste:ei.dialogIkonMedUleste,classNameUtenUleste:ei.dialogIkonUtenUleste})})]}):null};function xH({aktivitet:n,harEndring:e,id:t}){return f.jsxs("div",{className:"flex items-baseline",children:[f.jsx(_x,{visible:e}),f.jsx(Ve,{level:"3",id:t,size:"xsmall",children:n.tittel})]})}const TH=({aktivitet:n})=>f.jsx(Go,{as:"p",className:ei.type,"data-testid":n.type,children:av(n)});function AH({aktivitet:n}){const{arbeidsgiver:e}=n;return e?f.jsx(ie,{children:e}):null}function CH({aktivitet:n}){const{antallStillingerSokes:e,antallStillingerIUken:t}=n;return f.jsxs("div",{children:[f.jsxs(Ta,{visible:!!e&&e>0,children:["Antall sknader i perioden ",e]}),f.jsxs(Ta,{visible:!!t&&t>0,children:["Antall sknader i uken ",t]})]})}const yv=n=>`aktivitetskort-${n.id}`,OH=n=>{const{aktivitet:e,className:t}=n,{id:r,type:s}=e,i=kt(),a=W(qS,Ye),o=W(Xm),d=!W(e1,Ye).find(b=>e.id===b.id),c=e.id===W(t1)?.id,u=W(xf,Ye),h=o===ee.OK&&Zo(e)&&LB(e,a,u)&&d,{aktivitetRoute:p}=gn(),v=`aktivitetskort__header__${r}`,g=`aktivitetskort__dato__${r}`,m=`${av(e)}: ${e.tittel}`;return f.jsx(RB,{id:yv(e),className:sr("rounded-md",ei.aktivitetskort,t,{[ei.sistVist]:c,"border-gray-400 border":!c}),to:p(r),ariaLabel:m,onClick:()=>i(j5(e)),children:f.jsxs("article",{children:[f.jsx(TH,{aktivitet:e}),f.jsx(xH,{id:v,aktivitet:e,harEndring:h}),s===Ae.STILLING_AKTIVITET_TYPE?f.jsx(AH,{aktivitet:e}):null,f.jsx(oH,{id:g,aktivitet:e}),s===Ae.SOKEAVTALE_AKTIVITET_TYPE?f.jsx(CH,{aktivitet:e}):null,f.jsx(SH,{aktivitet:e})]})})},DH=n=>{const[e,t]=y.useState(!1),r=new IntersectionObserver(([s])=>t(s.isIntersecting));return y.useEffect(()=>{if(n)return r.observe(n),()=>{r.disconnect()}},[]),e};function u1(n,e,t){const{type:r,status:s,nesteStatus:i}=n,a=Yn(n),o=r===Ae.EKSTERN_AKTIVITET_TYPE,l=a?!1:n.historisk,d=[Re.FULLFOERT,Re.AVBRUTT].includes(s),c=[Fr,ir].includes(r)&&e;return t&&!i&&!l&&!d&&!a&&!c&&!o}const pg="AktivitetsKort";function f1({status:n,children:e}){const t=kt(),r=pn(),s=W(os,Ye),i=W(Dn,Ye),a=W(gE,Ye),{avbrytAktivitetRoute:o,fullforAktivitetRoute:l}=gn(),[d,c]=WP({accept:pg,canDrop:({aktivitet:p})=>n!==p.status&&u1(p,s,i),drop:({aktivitet:p})=>{$S("dragAndDrop",p,n),n===Re.FULLFOERT?r(l(p.id)):n===Re.AVBRUTT?r(o(p.id)):t(Is({aktivitet:p,status:n}))},collect:p=>({canDrop:p.canDrop(),isOver:p.isOver()})}),u=!!a,h=d.canDrop&&d.isOver;return f.jsx("div",{ref:c,className:"z-50 h-full",children:f.jsx("div",{className:sr("bg-bg-subtle border-t border-border-divider rounded-none p-4 sm:p-4 lg:p-2 m-0 sm:border-t-0 sm:rounded-md aktivitetstavle__kolonne",{"opacity-50":u&&!h,"bg-surface-action-subtle-hover ":h}),children:e})})}function _v(n){const{aktivitet:e}=n,t=kt(),[r,s]=FP({type:pg,item:()=>(setTimeout(()=>t(c5(e))),{aktivitet:e,type:pg}),end:()=>t(u5()),collect:a=>({isDragging:a.isDragging()})}),i=sr(r.isDragging&&ei.drag,ei.flyttbar);return f.jsx("div",{ref:s,children:f.jsx(OH,{aktivitet:e,className:i})})}const jH={BRUKER_ER_INTERESSERT:{tittel:"Informasjon om statusen Forslag",innhold:'Her kan du legge til en aktivitet du tror du kommer til  gjre. Dra aktiviteten til "Planlegger" nr du bestemmer deg for  gjre aktiviteten.'},PLANLAGT:{tittel:"Informasjon om statusen Planlegger",innhold:"Her kan du legge aktiviteter som du har bestemt deg for  gjre, men ikke har begynt p enda."},GJENNOMFORES:{tittel:"Informasjon om statusen Gjennomfrer",innhold:'Aktiviteter som du holder p med, kan du sette til "Gjennomfrer".'},FULLFORT:{tittel:"Informasjon om statusen Fullfrt",innhold:'Dra aktiviteter hit som du er ferdig med. Flytter du en aktivitet til "Fullfrt", blir den lst og kan ikke redigeres. Hvis du angrer, kan du legge til en ny aktivitet.'},AVBRUTT:{tittel:"Informasjon om statusen Avbrutt",innhold:'Dra aktiviteter hit som du avslutter eller ikke begynner p. Flytter du en aktivitet til "Avbrutt", blir den lst og kan ikke redigeres. Hvis du angrer, kan du legge til en ny aktivitet.'}},RH=({status:n})=>{const e=jH[n],{tittel:t,innhold:r}=e;return f.jsx(NS,{placement:"bottom-end",id:n,"aria-label":t,title:t,onClick:()=>Di("Klikket hjelpeikon i kolonne "+n),children:f.jsx("div",{className:"w-80",children:r})})},h1=n=>{const{status:e}=n;return f.jsxs("div",{className:"flex justify-between pb-2",children:[f.jsx(Ve,{className:"text-left",level:"2",size:"small",children:ov[e]}),f.jsx(RH,{status:e})]})},Eo=({status:n})=>{const e=W(dv,Ye),r=Qx(e,n).map(s=>f.jsx(_v,{aktivitet:s},s.id));return f.jsxs(f1,{status:n,children:[f.jsx(h1,{status:n}),r]})};var wl={},yy;function p1(){if(yy)return wl;yy=1;function n(g){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(b){return typeof b}:n=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},n(g)}Object.defineProperty(wl,"__esModule",{value:!0}),wl.Collapse=void 0;var e=t(md());function t(g){return g&&g.__esModule?g:{default:g}}function r(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function s(g,m){for(var b=0;b<m.length;b++){var k=m[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}function i(g,m,b){return m&&s(g.prototype,m),g}function a(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),m&&o(g,m)}function o(g,m){return o=Object.setPrototypeOf||function(k,_){return k.__proto__=_,k},o(g,m)}function l(g){var m=u();return function(){var k=h(g),_;if(m){var E=h(this).constructor;_=Reflect.construct(k,arguments,E)}else _=k.apply(this,arguments);return d(this,_)}}function d(g,m){if(m&&(n(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(g)}function c(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(g){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},h(g)}function p(g,m,b){return m in g?Object.defineProperty(g,m,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[m]=b,g}var v=(function(g){a(b,g);var m=l(b);function b(k){var _;return r(this,b),_=m.call(this,k),p(c(_),"timeout",void 0),p(c(_),"container",void 0),p(c(_),"content",void 0),p(c(_),"onResize",function(){if(clearTimeout(_.timeout),!(!_.container||!_.content)){var E=_.props,S=E.isOpened,T=E.checkTimeout,x=Math.floor(_.container.clientHeight),A=Math.floor(_.content.clientHeight),O=S&&Math.abs(A-x)<=1,C=!S&&Math.abs(x)<=1;O||C?_.onRest({isFullyOpened:O,isFullyClosed:C,isOpened:S,containerHeight:x,contentHeight:A}):(_.onWork({isFullyOpened:O,isFullyClosed:C,isOpened:S,containerHeight:x,contentHeight:A}),_.timeout=setTimeout(function(){return _.onResize()},T))}}),p(c(_),"onRest",function(E){var S=E.isFullyOpened,T=E.isFullyClosed,x=E.isOpened,A=E.containerHeight,O=E.contentHeight;if(!(!_.container||!_.content)){var C=x&&_.container.style.height==="".concat(O,"px"),D=!x&&_.container.style.height==="0px";if(C||D){_.container.style.overflow=x?"initial":"hidden",_.container.style.height=x?"auto":"0px";var I=_.props.onRest;I&&I({isFullyOpened:S,isFullyClosed:T,isOpened:x,containerHeight:A,contentHeight:O})}}}),p(c(_),"onWork",function(E){var S=E.isFullyOpened,T=E.isFullyClosed,x=E.isOpened,A=E.containerHeight,O=E.contentHeight;if(!(!_.container||!_.content)){var C=x&&_.container.style.height==="".concat(O,"px"),D=!x&&_.container.style.height==="0px";if(!(C||D)){_.container.style.overflow="hidden",_.container.style.height=x?"".concat(O,"px"):"0px";var I=_.props.onWork;I&&I({isFullyOpened:S,isFullyClosed:T,isOpened:x,containerHeight:A,contentHeight:O})}}}),p(c(_),"onRefContainer",function(E){_.container=E}),p(c(_),"onRefContent",function(E){_.content=E}),k.initialStyle?_.initialStyle=k.initialStyle:_.initialStyle=k.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},_}return i(b,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(_){var E=this.props,S=E.theme,T=E.isOpened,x=E.children;return x!==_.children||T!==_.isOpened||Object.keys(S).some(function(A){return S[A]!==_.theme[A]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var _=this.content.clientHeight;this.container.style.height="".concat(_,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var _=this.props,E=_.theme,S=_.children,T=_.isOpened;return e.default.createElement("div",{ref:this.onRefContainer,className:E.collapse,style:this.initialStyle,"aria-hidden":!T},e.default.createElement("div",{ref:this.onRefContent,className:E.content},S))}}]),b})(e.default.Component);return wl.Collapse=v,p(v,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50}),wl}var El={},_y;function IH(){if(_y)return El;_y=1;function n(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(O){return typeof O}:n=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},n(x)}Object.defineProperty(El,"__esModule",{value:!0}),El.UnmountClosed=void 0;var e=i(md()),t=p1(),r=["isOpened"],s=["isOpened"];function i(x){return x&&x.__esModule?x:{default:x}}function a(){return a=Object.assign||function(x){for(var A=1;A<arguments.length;A++){var O=arguments[A];for(var C in O)Object.prototype.hasOwnProperty.call(O,C)&&(x[C]=O[C])}return x},a.apply(this,arguments)}function o(x,A){var O=Object.keys(x);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(x);A&&(C=C.filter(function(D){return Object.getOwnPropertyDescriptor(x,D).enumerable})),O.push.apply(O,C)}return O}function l(x){for(var A=1;A<arguments.length;A++){var O=arguments[A]!=null?arguments[A]:{};A%2?o(Object(O),!0).forEach(function(C){S(x,C,O[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(O)):o(Object(O)).forEach(function(C){Object.defineProperty(x,C,Object.getOwnPropertyDescriptor(O,C))})}return x}function d(x,A){if(x==null)return{};var O=c(x,A),C,D;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(x);for(D=0;D<I.length;D++)C=I[D],!(A.indexOf(C)>=0)&&Object.prototype.propertyIsEnumerable.call(x,C)&&(O[C]=x[C])}return O}function c(x,A){if(x==null)return{};var O={},C=Object.keys(x),D,I;for(I=0;I<C.length;I++)D=C[I],!(A.indexOf(D)>=0)&&(O[D]=x[D]);return O}function u(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function h(x,A){for(var O=0;O<A.length;O++){var C=A[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}function p(x,A,O){return A&&h(x.prototype,A),x}function v(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),A&&g(x,A)}function g(x,A){return g=Object.setPrototypeOf||function(C,D){return C.__proto__=D,C},g(x,A)}function m(x){var A=_();return function(){var C=E(x),D;if(A){var I=E(this).constructor;D=Reflect.construct(C,arguments,I)}else D=C.apply(this,arguments);return b(this,D)}}function b(x,A){if(A&&(n(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(x)}function k(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(x){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},E(x)}function S(x,A,O){return A in x?Object.defineProperty(x,A,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[A]=O,x}var T=(function(x){v(O,x);var A=m(O);function O(C){var D;return u(this,O),D=A.call(this,C),S(k(D),"onWork",function(I){var U=I.isOpened,H=d(I,r);D.setState({isResting:!1,isOpened:U});var j=D.props.onWork;j&&j(l({isOpened:U},H))}),S(k(D),"onRest",function(I){var U=I.isOpened,H=d(I,s);D.setState({isResting:!0,isOpened:U,isInitialRender:!1});var j=D.props.onRest;j&&j(l({isOpened:U},H))}),S(k(D),"getInitialStyle",function(){var I=D.state,U=I.isOpened,H=I.isInitialRender;return H?U?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),D.state={isResting:!0,isOpened:C.isOpened,isInitialRender:!0},D}return p(O,[{key:"componentDidUpdate",value:function(D){var I=this.props.isOpened;D.isOpened!==I&&this.setState({isResting:!1,isOpened:I,isInitialRender:!1})}},{key:"render",value:function(){var D=this.state,I=D.isResting,U=D.isOpened;return I&&!U?null:e.default.createElement(t.Collapse,a({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),O})(e.default.PureComponent);return El.UnmountClosed=T,S(T,"defaultProps",{onWork:void 0,onRest:void 0}),El}var Hh,wy;function NH(){if(wy)return Hh;wy=1;var n=p1(),e=n.Collapse,t=IH(),r=t.UnmountClosed;return Hh=r,r.Collapse=e,r.UnmountClosed=r,Hh}var PH=NH();const MH="_invertedLesMer_1ppb9_1",LH={invertedLesMer:MH},FH=n=>{const[e,t]=y.useState(!1),r=()=>{e?n.onClose&&n.onClose():n.onOpen&&n.onOpen(),t(!e)},{apneTekst:s,lukkTekst:i,hidden:a,children:o}=n;return a?null:f.jsxs("div",{className:LH.invertedLesMer,children:[f.jsx("div",{children:f.jsx(Pr,{open:e,onClick:r,header:e?i:s,children:null})}),f.jsx(PH.Collapse,{isOpened:e,children:e?o:null})]})},VH="aktivitetsplan.viseldreaktiviter",BH="aktivitetsplan.skjuleldreaktiviter",HH=n=>{const e=yt(),t=n.aktiviteteterTilDatoMerEnnToManederSiden,r=t.length===0,{aktivitetTekst:s}=n,i=t.map(a=>f.jsx(_v,{aktivitet:a},a.id));return f.jsx(FH,{hidden:r,onOpen:()=>Nt(VH,{erVeileder:e}),onClose:()=>Nt(BH,{erVeileder:e}),apneTekst:`Vis ${s}`,lukkTekst:`Skjul ${s}`,children:i})},du=({status:n})=>{const e=W(dv,Ye),t=Qx(e,n),{nyereAktiviteter:r,eldreAktiviteter:s}=YB(t),i=r.map(o=>f.jsx(_v,{aktivitet:o},o.id)),a=n===Re.FULLFOERT?"eldre fullfrte aktiviteter":"eldre avbrutte aktiviteter";return f.jsxs(f1,{status:n,children:[f.jsx(h1,{status:n}),f.jsxs("div",{children:[i,f.jsx(HH,{aktivitetTekst:a,aktiviteteterTilDatoMerEnnToManederSiden:s})]})]})};var Uh={},$h={},Sl={exports:{}},na={exports:{}},UH=na.exports,Ey;function $H(){return Ey||(Ey=1,(function(){var n,e,t,r,s,i;typeof performance<"u"&&performance!==null&&performance.now?na.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(na.exports=function(){return(n()-s)/1e6},e=process.hrtime,n=function(){var a;return a=e(),a[0]*1e9+a[1]},r=n(),i=process.uptime()*1e9,s=r-i):Date.now?(na.exports=function(){return Date.now()-t},t=Date.now()):(na.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(UH)),na.exports}var Sy;function KH(){if(Sy)return Sl.exports;Sy=1;for(var n=$H(),e=typeof window>"u"?eC:window,t=["moz","webkit"],r="AnimationFrame",s=e["request"+r],i=e["cancel"+r]||e["cancelRequest"+r],a=0;!s&&a<t.length;a++)s=e[t[a]+"Request"+r],i=e[t[a]+"Cancel"+r]||e[t[a]+"CancelRequest"+r];if(!s||!i){var o=0,l=0,d=[],c=1e3/60;s=function(u){if(d.length===0){var h=n(),p=Math.max(0,c-(h-o));o=p+h,setTimeout(function(){var v=d.slice(0);d.length=0;for(var g=0;g<v.length;g++)if(!v[g].cancelled)try{v[g].callback(o)}catch(m){setTimeout(function(){throw m},0)}},Math.round(p))}return d.push({handle:++l,callback:u,cancelled:!1}),l},i=function(u){for(var h=0;h<d.length;h++)d[h].handle===u&&(d[h].cancelled=!0)}}return Sl.exports=function(u){return s.call(e,u)},Sl.exports.cancel=function(){i.apply(e,arguments)},Sl.exports.polyfill=function(u){u||(u=e),u.requestAnimationFrame=s,u.cancelAnimationFrame=i},Sl.exports}var xl={exports:{}},Kh,xy;function zH(){if(xy)return Kh;xy=1;var n=null,e=["Webkit","Moz","O","ms"];return Kh=function(r){n||(n=document.createElement("div"));var s=n.style;if(r in s)return r;for(var i=r.charAt(0).toUpperCase()+r.slice(1),a=e.length;a>=0;a--){var o=e[a]+i;if(o in s)return o}return!1},Kh}var zh,Ty;function WH(){if(Ty)return zh;Ty=1,zh=r;var n=/\s/,e=/(_|-|\.|:)/,t=/([a-z][A-Z]|[A-Z][a-z])/;function r(l){return n.test(l)?l.toLowerCase():e.test(l)?(i(l)||l).toLowerCase():t.test(l)?o(l).toLowerCase():l.toLowerCase()}var s=/[\W_]+(.|$)/g;function i(l){return l.replace(s,function(d,c){return c?" "+c:""})}var a=/(.)([A-Z]+)/g;function o(l){return l.replace(a,function(d,c,u){return c+" "+u.toLowerCase().split("").join(" ")})}return zh}var Wh,Ay;function GH(){if(Ay)return Wh;Ay=1;var n=WH();Wh=e;function e(t){return n(t).replace(/[\W_]+(.|$)/g,function(r,s){return s?" "+s:""}).trim()}return Wh}var Gh,Cy;function YH(){if(Cy)return Gh;Cy=1;var n=GH();Gh=e;function e(t){return n(t).replace(/\s(\w)/g,function(r,s){return s.toUpperCase()})}return Gh}var Yh,Oy;function qH(){if(Oy)return Yh;Oy=1;var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};return Yh=function(e,t){return typeof t=="number"&&!n[e]?t+"px":t},Yh}var Dy;function g1(){if(Dy)return xl.exports;Dy=1;var n=zH(),e=YH(),t={float:"cssFloat"},r=qH();function s(l,d,c){var u=t[d];if(typeof u>"u"&&(u=a(d)),u){if(c===void 0)return l.style[u];l.style[u]=r(u,c)}}function i(l,d){for(var c in d)d.hasOwnProperty(c)&&s(l,c,d[c])}function a(l){var d=e(l),c=n(d);return t[d]=t[l]=t[c]=c,c}function o(){arguments.length===2?typeof arguments[1]=="string"?arguments[0].style.cssText=arguments[1]:i(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}return xl.exports=o,xl.exports.set=o,xl.exports.get=function(l,d){return Array.isArray(d)?d.reduce(function(c,u){return c[u]=s(l,u||""),c},{}):s(l,d||"")},xl.exports}var qh={},jy;function XH(){return jy||(jy=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e;function e(t){return typeof t=="string"}})(qh)),qh}var Xh={},Ry;function ZH(){return Ry||(Ry=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var e=g1(),t=r(e);function r(a){return a&&a.__esModule?a:{default:a}}var s=!1;function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(a&&s!==!1)return s;if(typeof document<"u"){var o=document.createElement("div");(0,t.default)(o,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(o),s=o.offsetWidth-o.clientWidth,document.body.removeChild(o)}else s=0;return s||0}})(Xh)),Xh}var Zh={},Iy;function JH(){return Iy||(Iy=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e;function e(){return!1}})(Zh)),Zh}var Jh={},Ny;function QH(){return Ny||(Ny=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e;function e(t){var r=t.clientWidth,s=getComputedStyle(t),i=s.paddingLeft,a=s.paddingRight;return r-parseFloat(i)-parseFloat(a)}})(Jh)),Jh}var Qh={},Py;function eU(){return Py||(Py=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=e;function e(t){var r=t.clientHeight,s=getComputedStyle(t),i=s.paddingTop,a=s.paddingBottom;return r-parseFloat(i)-parseFloat(a)}})(Qh)),Qh}var Jn={},My;function tU(){return My||(My=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},Jn.containerStyleAutoHeight={height:"auto"},Jn.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},Jn.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},Jn.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},Jn.trackHorizontalStyleDefault={position:"absolute",height:6},Jn.trackVerticalStyleDefault={position:"absolute",width:6},Jn.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},Jn.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},Jn.disableSelectStyle={userSelect:"none"},Jn.disableSelectStyleReset={userSelect:""}),Jn}var hi={},Ly;function nU(){if(Ly)return hi;Ly=1,Object.defineProperty(hi,"__esModule",{value:!0});var n=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var h=arguments[u];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c};hi.renderViewDefault=i,hi.renderTrackHorizontalDefault=a,hi.renderTrackVerticalDefault=o,hi.renderThumbHorizontalDefault=l,hi.renderThumbVerticalDefault=d;var e=md(),t=r(e);function r(c){return c&&c.__esModule?c:{default:c}}function s(c,u){var h={};for(var p in c)u.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(h[p]=c[p]);return h}function i(c){return t.default.createElement("div",c)}function a(c){var u=c.style,h=s(c,["style"]),p=n({},u,{right:2,bottom:2,left:2,borderRadius:3});return t.default.createElement("div",n({style:p},h))}function o(c){var u=c.style,h=s(c,["style"]),p=n({},u,{right:2,bottom:2,top:2,borderRadius:3});return t.default.createElement("div",n({style:p},h))}function l(c){var u=c.style,h=s(c,["style"]),p=n({},u,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return t.default.createElement("div",n({style:p},h))}function d(c){var u=c.style,h=s(c,["style"]),p=n({},u,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return t.default.createElement("div",n({style:p},h))}return hi}var Fy;function rU(){return Fy||(Fy=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Object.assign||function(I){for(var U=1;U<arguments.length;U++){var H=arguments[U];for(var j in H)Object.prototype.hasOwnProperty.call(H,j)&&(I[j]=H[j])}return I},t=(function(){function I(U,H){for(var j=0;j<H.length;j++){var V=H[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}}return function(U,H,j){return H&&I(U.prototype,H),j&&I(U,j),U}})(),r=KH(),s=T(r),i=g1(),a=T(i),o=md(),l=XS(),d=T(l),c=XH(),u=T(c),h=ZH(),p=T(h),v=JH(),g=T(v),m=QH(),b=T(m),k=eU(),_=T(k),E=tU(),S=nU();function T(I){return I&&I.__esModule?I:{default:I}}function x(I,U){var H={};for(var j in I)U.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(I,j)&&(H[j]=I[j]);return H}function A(I,U){if(!(I instanceof U))throw new TypeError("Cannot call a class as a function")}function O(I,U){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:I}function C(I,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);I.prototype=Object.create(U&&U.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(I,U):I.__proto__=U)}var D=(function(I){C(U,I);function U(H){var j;A(this,U);for(var V=arguments.length,F=Array(V>1?V-1:0),G=1;G<V;G++)F[G-1]=arguments[G];var B=O(this,(j=U.__proto__||Object.getPrototypeOf(U)).call.apply(j,[this,H].concat(F)));return B.getScrollLeft=B.getScrollLeft.bind(B),B.getScrollTop=B.getScrollTop.bind(B),B.getScrollWidth=B.getScrollWidth.bind(B),B.getScrollHeight=B.getScrollHeight.bind(B),B.getClientWidth=B.getClientWidth.bind(B),B.getClientHeight=B.getClientHeight.bind(B),B.getValues=B.getValues.bind(B),B.getThumbHorizontalWidth=B.getThumbHorizontalWidth.bind(B),B.getThumbVerticalHeight=B.getThumbVerticalHeight.bind(B),B.getScrollLeftForOffset=B.getScrollLeftForOffset.bind(B),B.getScrollTopForOffset=B.getScrollTopForOffset.bind(B),B.scrollLeft=B.scrollLeft.bind(B),B.scrollTop=B.scrollTop.bind(B),B.scrollToLeft=B.scrollToLeft.bind(B),B.scrollToTop=B.scrollToTop.bind(B),B.scrollToRight=B.scrollToRight.bind(B),B.scrollToBottom=B.scrollToBottom.bind(B),B.handleTrackMouseEnter=B.handleTrackMouseEnter.bind(B),B.handleTrackMouseLeave=B.handleTrackMouseLeave.bind(B),B.handleHorizontalTrackMouseDown=B.handleHorizontalTrackMouseDown.bind(B),B.handleVerticalTrackMouseDown=B.handleVerticalTrackMouseDown.bind(B),B.handleHorizontalThumbMouseDown=B.handleHorizontalThumbMouseDown.bind(B),B.handleVerticalThumbMouseDown=B.handleVerticalThumbMouseDown.bind(B),B.handleWindowResize=B.handleWindowResize.bind(B),B.handleScroll=B.handleScroll.bind(B),B.handleDrag=B.handleDrag.bind(B),B.handleDragEnd=B.handleDragEnd.bind(B),B.state={didMountUniversal:!1},B}return t(U,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){var j=this.props.universal;j&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,r.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var j=this.view||{},V=j.scrollLeft,F=V===void 0?0:V,G=j.scrollTop,B=G===void 0?0:G,ce=j.scrollWidth,L=ce===void 0?0:ce,$=j.scrollHeight,M=$===void 0?0:$,Y=j.clientWidth,J=Y===void 0?0:Y,ae=j.clientHeight,ne=ae===void 0?0:ae;return{left:F/(L-J)||0,top:B/(M-ne)||0,scrollLeft:F,scrollTop:B,scrollWidth:L,scrollHeight:M,clientWidth:J,clientHeight:ne}}},{key:"getThumbHorizontalWidth",value:function(){var j=this.props,V=j.thumbSize,F=j.thumbMinSize,G=this.view,B=G.scrollWidth,ce=G.clientWidth,L=(0,b.default)(this.trackHorizontal),$=Math.ceil(ce/B*L);return L<=$?0:V||Math.max($,F)}},{key:"getThumbVerticalHeight",value:function(){var j=this.props,V=j.thumbSize,F=j.thumbMinSize,G=this.view,B=G.scrollHeight,ce=G.clientHeight,L=(0,_.default)(this.trackVertical),$=Math.ceil(ce/B*L);return L<=$?0:V||Math.max($,F)}},{key:"getScrollLeftForOffset",value:function(j){var V=this.view,F=V.scrollWidth,G=V.clientWidth,B=(0,b.default)(this.trackHorizontal),ce=this.getThumbHorizontalWidth();return j/(B-ce)*(F-G)}},{key:"getScrollTopForOffset",value:function(j){var V=this.view,F=V.scrollHeight,G=V.clientHeight,B=(0,_.default)(this.trackVertical),ce=this.getThumbVerticalHeight();return j/(B-ce)*(F-G)}},{key:"scrollLeft",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.view&&(this.view.scrollLeft=j)}},{key:"scrollTop",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.view&&(this.view.scrollTop=j)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if(!(typeof document>"u"||!this.view)){var j=this.view,V=this.trackHorizontal,F=this.trackVertical,G=this.thumbHorizontal,B=this.thumbVertical;j.addEventListener("scroll",this.handleScroll),(0,p.default)()&&(V.addEventListener("mouseenter",this.handleTrackMouseEnter),V.addEventListener("mouseleave",this.handleTrackMouseLeave),V.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),F.addEventListener("mouseenter",this.handleTrackMouseEnter),F.addEventListener("mouseleave",this.handleTrackMouseLeave),F.addEventListener("mousedown",this.handleVerticalTrackMouseDown),G.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),B.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if(!(typeof document>"u"||!this.view)){var j=this.view,V=this.trackHorizontal,F=this.trackVertical,G=this.thumbHorizontal,B=this.thumbVertical;j.removeEventListener("scroll",this.handleScroll),(0,p.default)()&&(V.removeEventListener("mouseenter",this.handleTrackMouseEnter),V.removeEventListener("mouseleave",this.handleTrackMouseLeave),V.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),F.removeEventListener("mouseenter",this.handleTrackMouseEnter),F.removeEventListener("mouseleave",this.handleTrackMouseLeave),F.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),G.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),B.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(j){var V=this,F=this.props,G=F.onScroll,B=F.onScrollFrame;G&&G(j),this.update(function(ce){var L=ce.scrollLeft,$=ce.scrollTop;V.viewScrollLeft=L,V.viewScrollTop=$,B&&B(ce)}),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var j=this.props.onScrollStart;j&&j(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){var j=this.props.autoHide;j&&this.showTracks()}},{key:"handleScrollStop",value:function(){var j=this.props.onScrollStop;j&&j(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){var j=this.props.autoHide;j&&this.hideTracks()}},{key:"handleWindowResize",value:function(){(0,p.default)(!1),this.forceUpdate()}},{key:"handleHorizontalTrackMouseDown",value:function(j){j.preventDefault();var V=j.target,F=j.clientX,G=V.getBoundingClientRect(),B=G.left,ce=this.getThumbHorizontalWidth(),L=Math.abs(B-F)-ce/2;this.view.scrollLeft=this.getScrollLeftForOffset(L)}},{key:"handleVerticalTrackMouseDown",value:function(j){j.preventDefault();var V=j.target,F=j.clientY,G=V.getBoundingClientRect(),B=G.top,ce=this.getThumbVerticalHeight(),L=Math.abs(B-F)-ce/2;this.view.scrollTop=this.getScrollTopForOffset(L)}},{key:"handleHorizontalThumbMouseDown",value:function(j){j.preventDefault(),this.handleDragStart(j);var V=j.target,F=j.clientX,G=V.offsetWidth,B=V.getBoundingClientRect(),ce=B.left;this.prevPageX=G-(F-ce)}},{key:"handleVerticalThumbMouseDown",value:function(j){j.preventDefault(),this.handleDragStart(j);var V=j.target,F=j.clientY,G=V.offsetHeight,B=V.getBoundingClientRect(),ce=B.top;this.prevPageY=G-(F-ce)}},{key:"setupDragging",value:function(){(0,a.default)(document.body,E.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=g.default}},{key:"teardownDragging",value:function(){(0,a.default)(document.body,E.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(j){this.dragging=!0,j.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(j){if(this.prevPageX){var V=j.clientX,F=this.trackHorizontal.getBoundingClientRect(),G=F.left,B=this.getThumbHorizontalWidth(),ce=B-this.prevPageX,L=-G+V-ce;this.view.scrollLeft=this.getScrollLeftForOffset(L)}if(this.prevPageY){var $=j.clientY,M=this.trackVertical.getBoundingClientRect(),Y=M.top,J=this.getThumbVerticalHeight(),ae=J-this.prevPageY,ne=-Y+$-ae;this.view.scrollTop=this.getScrollTopForOffset(ne)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){var j=this.props.autoHide;j&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){var j=this.props.autoHide;j&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){var j=this.props.autoHide;j&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,a.default)(this.trackHorizontal,{opacity:1}),(0,a.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var j=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var V=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,a.default)(j.trackHorizontal,{opacity:0}),(0,a.default)(j.trackVertical,{opacity:0})},V)}}},{key:"detectScrolling",value:function(){var j=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){j.lastViewScrollLeft===j.viewScrollLeft&&j.lastViewScrollTop===j.viewScrollTop&&(clearInterval(j.detectScrollingInterval),j.scrolling=!1,j.handleScrollStop()),j.lastViewScrollLeft=j.viewScrollLeft,j.lastViewScrollTop=j.viewScrollTop},100))}},{key:"raf",value:function(j){var V=this;this.requestFrame&&s.default.cancel(this.requestFrame),this.requestFrame=(0,s.default)(function(){V.requestFrame=void 0,j()})}},{key:"update",value:function(j){var V=this;this.raf(function(){return V._update(j)})}},{key:"_update",value:function(j){var V=this.props,F=V.onUpdate,G=V.hideTracksWhenNotNeeded,B=this.getValues();if((0,p.default)()){var ce=B.scrollLeft,L=B.clientWidth,$=B.scrollWidth,M=(0,b.default)(this.trackHorizontal),Y=this.getThumbHorizontalWidth(),J=ce/($-L)*(M-Y),ae={width:Y,transform:"translateX("+J+"px)"},ne=B.scrollTop,Ce=B.clientHeight,Z=B.scrollHeight,pe=(0,_.default)(this.trackVertical),de=this.getThumbVerticalHeight(),ge=ne/(Z-Ce)*(pe-de),we={height:de,transform:"translateY("+ge+"px)"};if(G){var Pe={visibility:$>L?"visible":"hidden"},Je={visibility:Z>Ce?"visible":"hidden"};(0,a.default)(this.trackHorizontal,Pe),(0,a.default)(this.trackVertical,Je)}(0,a.default)(this.thumbHorizontal,ae),(0,a.default)(this.thumbVertical,we)}F&&F(B),typeof j=="function"&&j(B)}},{key:"render",value:function(){var j=this,V=(0,p.default)(),F=this.props;F.onScroll,F.onScrollFrame,F.onScrollStart,F.onScrollStop,F.onUpdate;var G=F.renderView,B=F.renderTrackHorizontal,ce=F.renderTrackVertical,L=F.renderThumbHorizontal,$=F.renderThumbVertical,M=F.tagName;F.hideTracksWhenNotNeeded;var Y=F.autoHide;F.autoHideTimeout;var J=F.autoHideDuration;F.thumbSize,F.thumbMinSize;var ae=F.universal,ne=F.autoHeight,Ce=F.autoHeightMin,Z=F.autoHeightMax,pe=F.style,de=F.children,ge=x(F,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),we=this.state.didMountUniversal,Pe=e({},E.containerStyleDefault,ne&&e({},E.containerStyleAutoHeight,{minHeight:Ce,maxHeight:Z}),pe),Je=e({},E.viewStyleDefault,{marginRight:V?-V:0,marginBottom:V?-V:0},ne&&e({},E.viewStyleAutoHeight,{minHeight:(0,u.default)(Ce)?"calc("+Ce+" + "+V+"px)":Ce+V,maxHeight:(0,u.default)(Z)?"calc("+Z+" + "+V+"px)":Z+V}),ne&&ae&&!we&&{minHeight:Ce,maxHeight:Z},ae&&!we&&E.viewStyleUniversalInitial),tt={transition:"opacity "+J+"ms",opacity:0},ct=e({},E.trackHorizontalStyleDefault,Y&&tt,(!V||ae&&!we)&&{display:"none"}),Un=e({},E.trackVerticalStyleDefault,Y&&tt,(!V||ae&&!we)&&{display:"none"});return(0,o.createElement)(M,e({},ge,{style:Pe,ref:function(vt){j.container=vt}}),[(0,o.cloneElement)(G({style:Je}),{key:"view",ref:function(vt){j.view=vt}},de),(0,o.cloneElement)(B({style:ct}),{key:"trackHorizontal",ref:function(vt){j.trackHorizontal=vt}},(0,o.cloneElement)(L({style:E.thumbHorizontalStyleDefault}),{ref:function(vt){j.thumbHorizontal=vt}})),(0,o.cloneElement)(ce({style:Un}),{key:"trackVertical",ref:function(vt){j.trackVertical=vt}},(0,o.cloneElement)($({style:E.thumbVerticalStyleDefault}),{ref:function(vt){j.thumbVertical=vt}}))])}}]),U})(o.Component);n.default=D,D.propTypes={onScroll:d.default.func,onScrollFrame:d.default.func,onScrollStart:d.default.func,onScrollStop:d.default.func,onUpdate:d.default.func,renderView:d.default.func,renderTrackHorizontal:d.default.func,renderTrackVertical:d.default.func,renderThumbHorizontal:d.default.func,renderThumbVertical:d.default.func,tagName:d.default.string,thumbSize:d.default.number,thumbMinSize:d.default.number,hideTracksWhenNotNeeded:d.default.bool,autoHide:d.default.bool,autoHideTimeout:d.default.number,autoHideDuration:d.default.number,autoHeight:d.default.bool,autoHeightMin:d.default.oneOfType([d.default.number,d.default.string]),autoHeightMax:d.default.oneOfType([d.default.number,d.default.string]),universal:d.default.bool,style:d.default.object,children:d.default.node},D.defaultProps={renderView:S.renderViewDefault,renderTrackHorizontal:S.renderTrackHorizontalDefault,renderTrackVertical:S.renderTrackVerticalDefault,renderThumbHorizontal:S.renderThumbHorizontalDefault,renderThumbVertical:S.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}})($h)),$h}var Vy;function sU(){return Vy||(Vy=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Scrollbars=void 0;var e=rU(),t=r(e);function r(s){return s&&s.__esModule?s:{default:s}}n.default=t.default,n.Scrollbars=t.default})(Uh)),Uh}var iU=sU(),Vc={exports:{}},aU=Vc.exports,By;function oU(){return By||(By=1,(function(n,e){(function(t,r){n.exports=r()})(aU,(function(){var t=void 0;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),!t&&typeof process<"u"&&process.title==="node"&&(t=setImmediate),t=t||function(L){window.setTimeout(L,1e3/60)};var r=t,s=Array.prototype.concat,i=Array.prototype.slice;function a(L,$){for(var M=arguments.length,Y=Array(M>2?M-2:0),J=2;J<M;J++)Y[J-2]=arguments[J];return function(){for(var ae=arguments.length,ne=Array(ae),Ce=0;Ce<ae;Ce++)ne[Ce]=arguments[Ce];L.apply($,s.call(Y,i.call(ne)))}}function o(L,$){for(var M in $)$.hasOwnProperty(M)&&(L[M]=$[M])}function l(L){return r(L)}function d(L,$){var M=L.indexOf($);M!==-1&&L.splice(M,1)}var c={};function u(L){if(c[L])return c[L];var $=L.replace("#","");$.length===3&&($=$[0]+$[0]+$[1]+$[1]+$[2]+$[2]);var M=$.match(/.{2}/g);if(!M||M.length<3)throw new Error("Expected a color string of format #rrggbb");var Y={r:parseInt(M[0],16),g:parseInt(M[1],16),b:parseInt(M[2],16)};return c[L]=Y,Y}function h(L,$,M){var Y=L.toString(16),J=$.toString(16),ae=M.toString(16);return Y=Y.length<2?"0"+Y:Y,J=J.length<2?"0"+J:J,ae=ae.length<2?"0"+ae:ae,"#"+Y+J+ae}var p=Object.freeze({bind:a,extend:o,onFrame:l,removeFirst:d,hexToRGB:u,rgbToHex:h});function v(L,$,M,Y,J){var ae=M-$,ne=J-Y,Ce=(L-$)/ae;return Y+Ce*ne}function g(L,$,M){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,ae=arguments[5],ne=u($),Ce=u(M),Z=Math.floor(v(L,Y,J,ne.r,Ce.r)),pe=Math.floor(v(L,Y,J,ne.g,Ce.g)),de=Math.floor(v(L,Y,J,ne.b,Ce.b));return ae?"rgb("+Z+","+pe+","+de+")":h(Z,pe,de)}function m(L){return L*Math.PI/180}function b(L){return L*180/Math.PI}var k=Object.freeze({mapValueInRange:v,interpolateColor:g,degreesToRadians:m,radiansToDegrees:b});function _(L){return(L-30)*3.62+194}function E(L){return(L-194)/3.62+30}function S(L){return(L-8)*3+25}function T(L){return(L-25)/3+8}var x=Object.freeze({tensionFromOrigamiValue:_,origamiValueFromTension:E,frictionFromOrigamiValue:S,origamiFromFriction:T}),A=function(L,$){if(!(L instanceof $))throw new TypeError("Cannot call a class as a function")},O=Object.assign||function(L){for(var $=1;$<arguments.length;$++){var M=arguments[$];for(var Y in M)Object.prototype.hasOwnProperty.call(M,Y)&&(L[Y]=M[Y])}return L},C=(function(){function L(){A(this,L),this.springSystem=null}return L.prototype.run=function(){var M=U.call(this);l(function(){M.loop(Date.now())})},L})(),D=(function(){function L($){A(this,L),this.springSystem=null,this.time=0,this.running=!1,this.timestep=$||16.667}return L.prototype.run=function(){var M=U.call(this);if(!this.running){for(this.running=!0;!M.getIsIdle();)M.loop(this.time+=this.timestep);this.running=!1}},L})(),I=(function(){function L(){A(this,L),this.springSystem=null,this.time=0,this.running=!1}return L.prototype.run=function(){},L.prototype.step=function(M){var Y=U.call(this);Y.loop(this.time+=M)},L})();function U(){if(this.springSystem==null)throw new Error("cannot run looper without a springSystem");return this.springSystem}var H=Object.freeze({AnimationLooper:C,SimulationLooper:D,SteppingSimulationLooper:I}),j=(function(){function L($,M){A(this,L),this.bounciness=$,this.speed=M;var Y=this.normalize($/1.7,0,20);Y=this.projectNormal(Y,0,.8);var J=this.normalize(M/1.7,0,20);this.bouncyTension=this.projectNormal(J,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(Y,this.b3Nobounce(this.bouncyTension),.01)}return L.prototype.normalize=function(M,Y,J){return(M-Y)/(J-Y)},L.prototype.projectNormal=function(M,Y,J){return Y+M*(J-Y)},L.prototype.linearInterpolation=function(M,Y,J){return M*J+(1-M)*Y},L.prototype.quadraticOutInterpolation=function(M,Y,J){return this.linearInterpolation(2*M-M*M,Y,J)},L.prototype.b3Friction1=function(M){return 7e-4*Math.pow(M,3)-.031*Math.pow(M,2)+.64*M+1.28},L.prototype.b3Friction2=function(M){return 44e-6*Math.pow(M,3)-.006*Math.pow(M,2)+.36*M+2},L.prototype.b3Friction3=function(M){return 45e-8*Math.pow(M,3)-332e-6*Math.pow(M,2)+.1078*M+5.84},L.prototype.b3Nobounce=function(M){var Y=0;return M<=18?Y=this.b3Friction1(M):M>18&&M<=44?Y=this.b3Friction2(M):Y=this.b3Friction3(M),Y},L})(),V=(function(){L.fromOrigamiTensionAndFriction=function(M,Y){return new L(_(M),S(Y))},L.fromBouncinessAndSpeed=function(M,Y){var J=new j(M,Y);return L.fromOrigamiTensionAndFriction(J.bouncyTension,J.bouncyFriction)},L.coastingConfigWithOrigamiFriction=function(M){return new L(0,S(M))};function L($,M){A(this,L),this.tension=$,this.friction=M}return L})();V.DEFAULT_ORIGAMI_SPRING_CONFIG=V.fromOrigamiTensionAndFriction(40,7);var F=function L(){A(this,L),this.position=0,this.velocity=0},G=(function(){function L($){A(this,L),this.listeners=[],this._startValue=0,this._currentState=new F,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new F,this._restSpeedThreshold=.001,this._tempState=new F,this._timeAccumulator=0,this._wasAtRest=!0,this._id="s"+L._ID++,this._springSystem=$}return L.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},L.prototype.getId=function(){return this._id},L.prototype.setSpringConfig=function(M){return this._springConfig=M,this},L.prototype.getSpringConfig=function(){return this._springConfig},L.prototype.setCurrentValue=function(M,Y){return this._startValue=M,this._currentState.position=M,Y||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},L.prototype.getStartValue=function(){return this._startValue},L.prototype.getCurrentValue=function(){return this._currentState.position},L.prototype.getCurrentDisplacementDistance=function(){return this.getDisplacementDistanceForState(this._currentState)},L.prototype.getDisplacementDistanceForState=function(M){return Math.abs(this._endValue-M.position)},L.prototype.setEndValue=function(M){if(this._endValue===M&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=M,this._springSystem.activateSpring(this.getId());for(var Y=0,J=this.listeners.length;Y<J;Y++){var ae=this.listeners[Y],ne=ae.onSpringEndStateChange;ne&&ne(this)}return this},L.prototype.getEndValue=function(){return this._endValue},L.prototype.setVelocity=function(M){return M===this._currentState.velocity?this:(this._currentState.velocity=M,this._springSystem.activateSpring(this.getId()),this)},L.prototype.getVelocity=function(){return this._currentState.velocity},L.prototype.setRestSpeedThreshold=function(M){return this._restSpeedThreshold=M,this},L.prototype.getRestSpeedThreshold=function(){return this._restSpeedThreshold},L.prototype.setRestDisplacementThreshold=function(M){this._displacementFromRestThreshold=M},L.prototype.getRestDisplacementThreshold=function(){return this._displacementFromRestThreshold},L.prototype.setOvershootClampingEnabled=function(M){return this._overshootClampingEnabled=M,this},L.prototype.isOvershootClampingEnabled=function(){return this._overshootClampingEnabled},L.prototype.isOvershooting=function(){var M=this._startValue,Y=this._endValue;return this._springConfig.tension>0&&(M<Y&&this.getCurrentValue()>Y||M>Y&&this.getCurrentValue()<Y)},L.prototype.advance=function(M,Y){var J=this.isAtRest();if(!(J&&this._wasAtRest)){var ae=Y;Y>L.MAX_DELTA_TIME_SEC&&(ae=L.MAX_DELTA_TIME_SEC),this._timeAccumulator+=ae;for(var ne=this._springConfig.tension,Ce=this._springConfig.friction,Z=this._currentState.position,pe=this._currentState.velocity,de=this._tempState.position,ge=this._tempState.velocity,we=void 0,Pe=void 0,Je=void 0,tt=void 0,ct=void 0,Un=void 0,mn=void 0,vt=void 0,R=void 0,z=void 0;this._timeAccumulator>=L.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=L.SOLVER_TIMESTEP_SEC,this._timeAccumulator<L.SOLVER_TIMESTEP_SEC&&(this._previousState.position=Z,this._previousState.velocity=pe),we=pe,Pe=ne*(this._endValue-de)-Ce*pe,de=Z+we*L.SOLVER_TIMESTEP_SEC*.5,ge=pe+Pe*L.SOLVER_TIMESTEP_SEC*.5,Je=ge,tt=ne*(this._endValue-de)-Ce*ge,de=Z+Je*L.SOLVER_TIMESTEP_SEC*.5,ge=pe+tt*L.SOLVER_TIMESTEP_SEC*.5,ct=ge,Un=ne*(this._endValue-de)-Ce*ge,de=Z+ct*L.SOLVER_TIMESTEP_SEC,ge=pe+Un*L.SOLVER_TIMESTEP_SEC,mn=ge,vt=ne*(this._endValue-de)-Ce*ge,R=1/6*(we+2*(Je+ct)+mn),z=1/6*(Pe+2*(tt+Un)+vt),Z+=R*L.SOLVER_TIMESTEP_SEC,pe+=z*L.SOLVER_TIMESTEP_SEC;this._tempState.position=de,this._tempState.velocity=ge,this._currentState.position=Z,this._currentState.velocity=pe,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/L.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),J=!0);var X=!1;this._wasAtRest&&(this._wasAtRest=!1,X=!0);var le=!1;J&&(this._wasAtRest=!0,le=!0),this.notifyPositionUpdated(X,le)}},L.prototype.notifyPositionUpdated=function(M,Y){for(var J=0,ae=this.listeners.length;J<ae;J++){var ne=this.listeners[J];M&&ne.onSpringActivate&&ne.onSpringActivate(this),ne.onSpringUpdate&&ne.onSpringUpdate(this),Y&&ne.onSpringAtRest&&ne.onSpringAtRest(this)}},L.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},L.prototype.wasAtRest=function(){return this._wasAtRest},L.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||this._springConfig.tension===0)},L.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},L.prototype._interpolate=function(M){this._currentState.position=this._currentState.position*M+this._previousState.position*(1-M),this._currentState.velocity=this._currentState.velocity*M+this._previousState.velocity*(1-M)},L.prototype.getListeners=function(){return this.listeners},L.prototype.addListener=function(M){return this.listeners.push(M),this},L.prototype.removeListener=function(M){return d(this.listeners,M),this},L.prototype.removeAllListeners=function(){return this.listeners=[],this},L.prototype.currentValueIsApproximately=function(M){return Math.abs(this.getCurrentValue()-M)<=this.getRestDisplacementThreshold()},L})();G._ID=0,G.MAX_DELTA_TIME_SEC=.064,G.SOLVER_TIMESTEP_SEC=.001;var B=(function(){function L($){A(this,L),this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={},this.looper=$||new C,this.looper.springSystem=this}return L.prototype.setLooper=function(M){this.looper=M,M.springSystem=this},L.prototype.createSpring=function(M,Y){var J=void 0;return M===void 0||Y===void 0?J=V.DEFAULT_ORIGAMI_SPRING_CONFIG:J=V.fromOrigamiTensionAndFriction(M,Y),this.createSpringWithConfig(J)},L.prototype.createSpringWithBouncinessAndSpeed=function(M,Y){var J=void 0;return M===void 0||Y===void 0?J=V.DEFAULT_ORIGAMI_SPRING_CONFIG:J=V.fromBouncinessAndSpeed(M,Y),this.createSpringWithConfig(J)},L.prototype.createSpringWithConfig=function(M){var Y=new G(this);return this.registerSpring(Y),Y.setSpringConfig(M),Y},L.prototype.getIsIdle=function(){return this._isIdle},L.prototype.getSpringById=function(M){return this._springRegistry[M]},L.prototype.getAllSprings=function(){var M=[];for(var Y in this._springRegistry)this._springRegistry.hasOwnProperty(Y)&&M.push(this._springRegistry[Y]);return M},L.prototype.registerSpring=function(M){this._springRegistry[M.getId()]=M},L.prototype.deregisterSpring=function(M){d(this._activeSprings,M),delete this._springRegistry[M.getId()]},L.prototype.advance=function(M,Y){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var J=0,ae=this._activeSprings.length;J<ae;J++){var ne=this._activeSprings[J];ne.systemShouldAdvance()?ne.advance(M/1e3,Y/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(ne))}for(;this._idleSpringIndices.length>0;){var Ce=this._idleSpringIndices.pop();Ce>=0&&this._activeSprings.splice(Ce,1)}},L.prototype.loop=function(M){var Y=void 0;this._lastTimeMillis===-1&&(this._lastTimeMillis=M-1);var J=M-this._lastTimeMillis;this._lastTimeMillis=M;var ae=0,ne=this.listeners.length;for(ae=0;ae<ne;ae++)Y=this.listeners[ae],Y.onBeforeIntegrate&&Y.onBeforeIntegrate(this);for(this.advance(M,J),this._activeSprings.length===0&&(this._isIdle=!0,this._lastTimeMillis=-1),ae=0;ae<ne;ae++)Y=this.listeners[ae],Y.onAfterIntegrate&&Y.onAfterIntegrate(this);this._isIdle||this.looper.run()},L.prototype.activateSpring=function(M){var Y=this._springRegistry[M];this._activeSprings.indexOf(Y)===-1&&this._activeSprings.push(Y),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},L.prototype.addListener=function(M){this.listeners.push(M)},L.prototype.removeListener=function(M){d(this.listeners,M)},L.prototype.removeAllListeners=function(){this.listeners=[]},L})(),ce=O({},H,{OrigamiValueConverter:x,MathUtil:k,Spring:G,SpringConfig:V,SpringSystem:B,util:O({},p,k)});return ce}))})(Vc)),Vc.exports}var lU=oU();class dU extends y.Component{constructor(e){super(e),MV(this)}springSystem;spring;scrollbars;componentDidMount(){this.springSystem=new lU.SpringSystem,this.spring=this.springSystem.createSpring(),this.spring.addListener({onSpringUpdate:this.handleSpringUpdate})}componentWillUnmount(){this.springSystem?.deregisterSpring(this.spring),this.springSystem?.removeAllListeners(),this.springSystem=void 0,this.spring?.destroy(),this.spring=void 0}getScrollLeft(){return this.scrollbars?.getScrollLeft()}getClientWidth(){return this.scrollbars?.getClientWidth()}scrollLeft(e){const t=this.scrollbars?.getScrollLeft();this.spring?.setCurrentValue(t).setAtRest(),this.spring?.setEndValue(e)}handleSpringUpdate(e){const t=e.getCurrentValue();this.scrollbars?.scrollLeft(t)}render(){const{autoHeightMax:e,autoHeight:t,onScrollFrame:r}=this.props;return f.jsx(iU.Scrollbars,{renderTrackHorizontal:()=>f.jsx("div",{}),renderTrackVertical:()=>f.jsx("div",{}),hidden:!1,autoHeight:t,autoHeightMax:e,onScrollFrame:r,children:this.props.children,ref:s=>{this.scrollbars=s}})}}const hc=325,cU=10,m1=n=>{const{children:e,dragging:t}=n,[r,s]=y.useState(0),[i,a]=y.useState(0),[o,l]=y.useState(!0),[d,c]=y.useState(!1),u=y.useRef(null),h=()=>{const k=Math.min(r,i)-1,_=k*hc;u.current?.scrollLeft(_),a(k)},p=()=>{if(u.current){const k=u.current.getClientWidth(),_=u.current.getScrollLeft(),E=k+cU,S=Math.floor((E+_)/hc),T=Math.max(S,i)+1,x=T*hc-E;u.current?.scrollLeft(x),a(T)}else return},v=k=>{s(Math.ceil(k.scrollLeft/hc)),l(k.left===0),c(k.left>=.99)},g=e.map((k,_)=>f.jsx("section",{className:"min-w-[300px] w-full lg:max-w-[300px]","data-testid":`aktivitetstavle.${k.props.status}`,children:k},k.key||_)),m=f.jsx("button",{type:"button",className:sr("tavle__scrollknapp knapp-forrige border",{invisible:o}),onClick:h,disabled:o,"aria-label":"Flytt visning en kolonne til venstre",children:f.jsx(GE,{titleId:"flytt-venstre",title:"Forrige kolonne","aria-hidden":!0,fontSize:"4rem"})}),b=f.jsx("button",{type:"button",className:sr("tavle__scrollknapp knapp-neste border",{invisible:d}),onClick:p,hidden:d,"aria-label":"Flytt visning en kolonne til hyre",children:f.jsx(bf,{titleId:"flytt-hoyre",title:"Neste kolonne","aria-hidden":!0,fontSize:"4rem"})});return f.jsxs("section",{className:sr("tavle aktivitetstavle w-full"),tabIndex:-1,children:[m,f.jsx(dU,{autoHeight:!0,autoHeightMax:9999,onScrollFrame:v,ref:u,children:f.jsx("div",{className:`kolonner flex flex-col sm:gap-y-6 sm:mx-8 sm:max-w-[624px] sm:mx-auto md:max-w-[720px]
                                lg:flex-row lg:gap-x-5 lg:mx-4 lg:max-w-full tavle-max-width:justify-center`,children:g})}),b]})},uU=n=>y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"25 10 47 85",...n},y.createElement("path",{fill:"#515658",d:"M68.609 25.398H30.507c-1.573 0-2.845 1.284-2.845 2.871v48.488a2.88 2.88 0 0 0 1.038 2.214 2.815 2.815 0 0 0 1.807.656h38.102c1.572 0 2.846-1.286 2.846-2.87V28.269c0-1.587-1.274-2.871-2.846-2.871"}),y.createElement("path",{fill:"#FFF",d:"M31.186 35.997v37.305a2.397 2.397 0 0 0 2.388 2.408h31.968a2.397 2.397 0 0 0 2.388-2.408V30.47c0-1.33-1.07-2.408-2.388-2.408H39.497l-8.311 7.935z"}),y.createElement("path",{fill:"#C0C0BE",d:"M39.497 28.063v5.524a2.399 2.399 0 0 1-2.387 2.41h-5.924l8.311-7.934z"}),y.createElement("path",{fill:"#2F3237",d:"M49.56 26.746a.923.923 0 0 1-.922-.927c0-.514.412-.93.921-.93.507 0 .92.416.92.93a.924.924 0 0 1-.92.927m5.688-3.796h-3.428v-.639a2.27 2.27 0 0 0-2.26-2.279 2.27 2.27 0 0 0-2.262 2.28v.638H43.87c-1.69 0-3.06 1.382-3.06 3.086v3.712h17.497v-3.712c0-1.704-1.371-3.086-3.06-3.086"}),y.createElement("path",{d:"M53.634 52.768v2.898H45.35V38.007h8.284v2.898zM49.601 68.83c2.763 0 5.003-2.257 5.003-5.042 0-2.786-2.24-5.044-5.003-5.044s-5.003 2.258-5.003 5.044c0 2.785 2.24 5.043 5.003 5.043",fill:"#515658"})),fU=(n,e)=>{if(n.status===Re.FULLFOERT)return"Aktiviteten er fullfrt og kan ikke endres.";if(n.status===Re.AVBRUTT)return"Aktiviteten er avbrutt og kan ikke endres.";if(n.type===ir)return"Du kan ikke endre status p mtet. Ta kontakt med veilederen din for  endre mtet.";if(n.type===Fr)return"Du kan ikke endre status p samtalereferatet. Ta kontakt med veilederen din for  endre dette.";if([$g,Du,Ug].includes(n.type))return e?"For  endre aktiviteten m du g til Arena.":"Du kan ikke endre denne aktiviteten selv. Send en melding til veilederen din hvis aktiviteten skal endres.";if(n.type===Ae.EKSTERN_AKTIVITET_TYPE){if(e){switch(n.eksternAktivitet.type){case Qi.ARENA_TILTAK_TYPE:return"For  endre aktiviteten m du g til Arena.";case Qi.MIDL_LONNSTILSKUDD_TYPE:case Qi.VARIG_LONNSTILSKUDD_TYPE:case Qi.ARBEIDSTRENING:case Qi.VARIG_TILRETTELAGT_ARBEID_I_ORDINAER_VIRKSOMHET:return"Denne aktiviteten kan ikke endres fra aktivitetsplanen. G til avtalen for  endre status.";case Qi.REKRUTTERINGSTREFF:return"Denne aktiviteten kan ikke endres fra aktivitetsplanen. G til rekrutteringsbistand for  endre status."}return"Denne aktiviteten kan ikke endres fra aktivitetsplanen. G til det aktuelle fagsystemet for  endre aktiviteten."}return"Du kan ikke endre denne aktiviteten selv. Send en melding til veilederen din hvis aktiviteten skal endres."}return"Du kan ikke endre status p denne aktiviteten. Ta kontakt med veilederen din for  gjre endringer."},hU=n=>{const{hidden:e,draggingAktivitet:t,erVeileder:r}=n;return e||!t?null:f.jsx("div",{className:"fixed z-50 left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 max-w-lg",children:f.jsx(IS,{illustration:f.jsx(uU,{}),poster:!0,children:f.jsx(ie,{children:fU(t,r)})})})};function pU(n){return y.useEffect(()=>{Z7(n.erVeileder)},[n.erVeileder]),null}const gU=()=>{const{fnr:n}=Mo(),e=W(Sr),t=W(Ld),r=yt(),s=W(gE,Ye),i=W(Dn),a=e===ee.NOT_STARTED&&t===ee.NOT_STARTED;y.useEffect(()=>{a&&r&&n&&GI(n)},[a,r,n]);const o=!!s,l=!!s&&u1(s,!r,i),d=!o||l,c=W(g=>{const m=t1(g);return m?yv(m):"no-element"}),u=DH(document.getElementById(l_)),[h,p]=y.useState(!1);mm("veilarbpersonflatefs.tab-clicked",g=>{RA.AKTIVITETSPLAN===g.detail?.tabId&&p(!0)}),y.useEffect(()=>{const g=document.getElementById(c);g&&h&&u&&(g.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),p(!1))},[c,h,u]);const{oppfolging:v}=Uu("root");return f.jsx(y.Suspense,{fallback:f.jsx(mU,{}),children:f.jsx($u,{resolve:v,children:f.jsxs("div",{className:"flex w-full m-auto mt-8",children:[f.jsx(hU,{hidden:d,draggingAktivitet:s,erVeileder:r}),f.jsx(pU,{erVeileder:r}),f.jsxs(m1,{dragging:o,children:[f.jsx(Eo,{status:Re.BRUKER_ER_INTRESSERT}),f.jsx(Eo,{status:Re.PLANLAGT}),f.jsx(Eo,{status:Re.GJENNOMFOERT}),f.jsx(du,{status:Re.FULLFOERT}),f.jsx(du,{status:Re.AVBRUTT})]})]})})})},mU=()=>f.jsxs("div",{className:"flex m-auto w-full mt-8 flex-col",children:[f.jsxs(m1,{dragging:!1,children:[f.jsx(Eo,{status:Re.BRUKER_ER_INTRESSERT}),f.jsx(Eo,{status:Re.PLANLAGT}),f.jsx(Eo,{status:Re.GJENNOMFOERT}),f.jsx(du,{status:Re.FULLFOERT}),f.jsx(du,{status:Re.AVBRUTT})]}),f.jsx(qo,{size:"large",className:"self-center mb-32"})]}),vU=()=>{const n=pn(),{aktivitetRoute:e}=gn();return mm("visAktivitetsplan",t=>{const r=t.detail;r&&n(e(r))}),f.jsx("main",{id:"main",className:"hovedside",children:f.jsxs("div",{className:"flex items-center flex-col w-full h-full",children:[f.jsx(d9,{}),f.jsx(EV,{}),f.jsx(_B,{}),f.jsxs("div",{className:"container flex flex-col gap-y-6",children:[f.jsx(xB,{}),f.jsx(oB,{}),f.jsx(jB,{})]}),f.jsx(gU,{}),f.jsx(cw,{})]})})},v1=n=>n.data.veileder,ep=n=>v1(n).data,bU=n=>ep(n)?.fornavn&&`${ep(n)?.fornavn} ${ep(n)?.etternavn}`,b1=n=>v1(n).status,Zi=n=>dt("initialPageLoad/"+n.key,async(e,t)=>{const{getState:r,dispatch:s}=t;return yU(n)(r(),s,e)}),kU={oppfolging:Zi({fetchAction:of,statusSelector:sl,key:"oppfolging"}),identitet:Zi({fetchAction:Lm,statusSelector:qm,key:"identitet"}),veileder:Zi({fetchAction:eM,statusSelector:b1,veilederOnly:!0,key:"veileder"}),mal:Zi({fetchAction:ga,statusSelector:cv,key:"mal"}),aktiviteter:Zi({fetchAction:Oi,statusSelector:Sr,key:"aktiviteter"}),arenaAktiviteter:Zi({fetchAction:ji,statusSelector:Ld,key:"arenaAktiviteter"}),lest:Zi({fetchAction:NE,statusSelector:Xm,key:"lest"}),dialoger:Os,innsynsrett:uM},yU=({statusSelector:n,fetchAction:e,veilederOnly:t})=>(r,s,i)=>n(r)===ee.NOT_STARTED&&(!t||i)?s(e()):Promise.resolve(null),_U=(n,e)=>async()=>{const t=kU;return wd({oppfolging:n(t.oppfolging(e)),identitet:n(t.identitet(e)),veileder:n(t.veileder(e)),mal:n(t.mal(e)),dialoger:n(t.dialoger()),aktiviteter:n(t.aktiviteter(e)),arenaAktiviteter:n(t.arenaAktiviteter(e)),lest:n(t.lest(e)),innsynsrett:n(t.innsynsrett())})},wU=n=>()=>wd({data:Promise.all([n(ga()),n(mf())])}),EU=n=>({params:e})=>{if(!e.id)return{};const t=Pm(e.id);return wd({aktivitet:n(t?ji():sd(e.id))})},SU=()=>Uu("aktivitetsVisning"),id="Alle endringer blir borte hvis du ikke lagrer. Er du sikker p at du vil lukke siden?",k1=n=>y.useEffect(()=>(window.onbeforeunload=e=>{if(n.current)return e.returnValue=id,id},()=>{window.onbeforeunload=null}),[n]),y1=n=>Object.entries(n).reduce((e,[t,r])=>(r!==null&&typeof r=="string"&&r.length<=0||r===void 0?e[t]=null:e[t]=r,e),{});var Vd=n=>n.type==="checkbox",da=n=>n instanceof Date,nr=n=>n==null;const _1=n=>typeof n=="object";var cn=n=>!nr(n)&&!Array.isArray(n)&&_1(n)&&!da(n),w1=n=>cn(n)&&n.target?Vd(n.target)?n.target.checked:n.target.value:n,xU=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,E1=(n,e)=>n.has(xU(e)),TU=n=>{const e=n.constructor&&n.constructor.prototype;return cn(e)&&e.hasOwnProperty("isPrototypeOf")},wv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function an(n){if(n instanceof Date)return new Date(n);const e=typeof FileList<"u"&&n instanceof FileList;if(wv&&(n instanceof Blob||e))return n;const t=Array.isArray(n);if(!t&&!(cn(n)&&TU(n)))return n;const r=t?[]:Object.create(Object.getPrototypeOf(n));for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=an(n[s]));return r}var zf=n=>/^\w*$/.test(n),Ft=n=>n===void 0,Ev=n=>Array.isArray(n)?n.filter(Boolean):[],Sv=n=>Ev(n.replace(/["|']|\]/g,"").split(/\.|\[/)),fe=(n,e,t)=>{if(!e||!cn(n))return t;const r=(zf(e)?[e]:Sv(e)).reduce((s,i)=>nr(s)?s:s[i],n);return Ft(r)||r===n?Ft(n[e])?t:n[e]:r},fr=n=>typeof n=="boolean",Wn=n=>typeof n=="function",Et=(n,e,t)=>{let r=-1;const s=zf(e)?[e]:Sv(e),i=s.length,a=i-1;for(;++r<i;){const o=s[r];let l=t;if(r!==a){const d=n[o];l=cn(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;n[o]=l,n=n[o]}};const cu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Wr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xv=w.createContext(null);xv.displayName="HookFormControlContext";const Tv=()=>w.useContext(xv);var S1=(n,e,t,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in n)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Wr.all&&(e._proxyFormState[a]=!r||Wr.all),t&&(t[a]=!0),n[a]}});return s};const Av=typeof window<"u"?w.useLayoutEffect:w.useEffect;function AU(n){const e=Tv(),{control:t=e,disabled:r,name:s,exact:i}=n||{},[a,o]=w.useState(t._formState),l=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Av(()=>t._subscribe({name:s,formState:l.current,exact:i,callback:d=>{!r&&o({...t._formState,...d})}}),[s,r,i]),w.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),w.useMemo(()=>S1(a,t,l.current,!1),[a,t])}var pr=n=>typeof n=="string",gg=(n,e,t,r,s)=>pr(n)?(r&&e.watch.add(n),fe(t,n,s)):Array.isArray(n)?n.map(i=>(r&&e.watch.add(i),fe(t,i))):(r&&(e.watchAll=!0),t),mg=n=>nr(n)||!_1(n);function Gr(n,e,t=new WeakSet){if(mg(n)||mg(e))return Object.is(n,e);if(da(n)&&da(e))return Object.is(n.getTime(),e.getTime());const r=Object.keys(n),s=Object.keys(e);if(r.length!==s.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const i of r){const a=n[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=e[i];if(da(a)&&da(o)||cn(a)&&cn(o)||Array.isArray(a)&&Array.isArray(o)?!Gr(a,o,t):!Object.is(a,o))return!1}}return!0}function CU(n){const e=Tv(),{control:t=e,name:r,defaultValue:s,disabled:i,exact:a,compute:o}=n||{},l=w.useRef(s),d=w.useRef(o),c=w.useRef(void 0),u=w.useRef(t),h=w.useRef(r);d.current=o;const[p,v]=w.useState(()=>{const E=t._getWatch(r,l.current);return d.current?d.current(E):E}),g=w.useCallback(E=>{const S=gg(r,t._names,E||t._formValues,!1,l.current);return d.current?d.current(S):S},[t._formValues,t._names,r]),m=w.useCallback(E=>{if(!i){const S=gg(r,t._names,E||t._formValues,!1,l.current);if(d.current){const T=d.current(S);Gr(T,c.current)||(v(T),c.current=T)}else v(S)}},[t._formValues,t._names,i,r]);Av(()=>((u.current!==t||!Gr(h.current,r))&&(u.current=t,h.current=r,m()),t._subscribe({name:r,formState:{values:!0},exact:a,callback:E=>{m(E.values)}})),[t,a,r,m]),w.useEffect(()=>t._removeUnmounted());const b=u.current!==t,k=h.current,_=w.useMemo(()=>{if(i)return null;const E=!b&&!Gr(k,r);return b||E?g():null},[i,b,r,k,g]);return _!==null?_:p}function ad(n){const e=Tv(),{name:t,disabled:r,control:s=e,shouldUnregister:i,defaultValue:a,exact:o=!0}=n,l=E1(s._names.array,t),d=w.useMemo(()=>fe(s._formValues,t,fe(s._defaultValues,t,a)),[s,t,a]),c=CU({control:s,name:t,defaultValue:d,exact:o}),u=AU({control:s,name:t,exact:o}),h=w.useRef(n),p=w.useRef(void 0),v=w.useRef(s.register(t,{...n.rules,value:c,...fr(n.disabled)?{disabled:n.disabled}:{}}));h.current=n;const g=w.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!fe(u.errors,t)},isDirty:{enumerable:!0,get:()=>!!fe(u.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!fe(u.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!fe(u.validatingFields,t)},error:{enumerable:!0,get:()=>fe(u.errors,t)}}),[u,t]),m=w.useCallback(E=>v.current.onChange({target:{value:w1(E),name:t},type:cu.CHANGE}),[t]),b=w.useCallback(()=>v.current.onBlur({target:{value:fe(s._formValues,t),name:t},type:cu.BLUR}),[t,s._formValues]),k=w.useCallback(E=>{const S=fe(s._fields,t);S&&S._f&&E&&(S._f.ref={focus:()=>Wn(E.focus)&&E.focus(),select:()=>Wn(E.select)&&E.select(),setCustomValidity:T=>Wn(E.setCustomValidity)&&E.setCustomValidity(T),reportValidity:()=>Wn(E.reportValidity)&&E.reportValidity()})},[s._fields,t]),_=w.useMemo(()=>({name:t,value:c,...fr(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:m,onBlur:b,ref:k}),[t,r,u.disabled,m,b,k,c]);return w.useEffect(()=>{const E=s._options.shouldUnregister||i,S=p.current;S&&S!==t&&!l&&s.unregister(S),s.register(t,{...h.current.rules,...fr(h.current.disabled)?{disabled:h.current.disabled}:{}});const T=(x,A)=>{const O=fe(s._fields,x);O&&O._f&&(O._f.mount=A)};if(T(t,!0),E){const x=an(fe(s._options.defaultValues,t,h.current.defaultValue));Et(s._defaultValues,t,x),Ft(fe(s._formValues,t))&&Et(s._formValues,t,x)}return!l&&s.register(t),p.current=t,()=>{(l?E&&!s._state.action:E)?s.unregister(t):T(t,!1)}},[t,s,l,i]),w.useEffect(()=>{s._setDisabledField({disabled:r,name:t})},[r,t,s]),w.useMemo(()=>({field:_,formState:u,fieldState:g}),[_,u,g])}const OU=n=>n.render(ad(n)),Cv=w.createContext(null);Cv.displayName="HookFormContext";const Wf=()=>w.useContext(Cv),Ps=n=>{const{children:e,watch:t,getValues:r,getFieldState:s,setError:i,clearErrors:a,setValue:o,trigger:l,formState:d,resetField:c,reset:u,handleSubmit:h,unregister:p,control:v,register:g,setFocus:m,subscribe:b}=n;return w.createElement(Cv.Provider,{value:w.useMemo(()=>({watch:t,getValues:r,getFieldState:s,setError:i,clearErrors:a,setValue:o,trigger:l,formState:d,resetField:c,reset:u,handleSubmit:h,unregister:p,control:v,register:g,setFocus:m,subscribe:b}),[a,v,d,s,r,h,g,u,c,i,m,o,b,l,p,t])},w.createElement(xv.Provider,{value:v},e))};var x1=(n,e,t,r,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:s||!0}}:{},Yl=n=>Array.isArray(n)?n:[n],Hy=()=>{let n=[];return{get observers(){return n},next:s=>{for(const i of n)i.next&&i.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(i=>i!==s)}}),unsubscribe:()=>{n=[]}}};function T1(n,e){const t={};for(const r in n)if(n.hasOwnProperty(r)){const s=n[r],i=e[r];if(s&&cn(s)&&i){const a=T1(s,i);cn(a)&&(t[r]=a)}else n[r]&&(t[r]=i)}return t}var Kn=n=>cn(n)&&!Object.keys(n).length,Ov=n=>n.type==="file",uu=n=>{if(!wv)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},A1=n=>n.type==="select-multiple",Dv=n=>n.type==="radio",DU=n=>Dv(n)||Vd(n),tp=n=>uu(n)&&n.isConnected;function jU(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Ft(n)?r++:n[e[r++]];return n}function RU(n){for(const e in n)if(n.hasOwnProperty(e)&&!Ft(n[e]))return!1;return!0}function on(n,e){const t=Array.isArray(e)?e:zf(e)?[e]:Sv(e),r=t.length===1?n:jU(n,t),s=t.length-1,i=t[s];return r&&delete r[i],s!==0&&(cn(r)&&Kn(r)||Array.isArray(r)&&RU(r))&&on(n,t.slice(0,-1)),n}var IU=n=>{for(const e in n)if(Wn(n[e]))return!0;return!1};function C1(n){return Array.isArray(n)||cn(n)&&!IU(n)}function vg(n,e={}){for(const t in n){const r=n[t];C1(r)?(e[t]=Array.isArray(r)?[]:{},vg(r,e[t])):Ft(r)||(e[t]=!0)}return e}function uo(n,e,t){t||(t=vg(e));for(const r in n){const s=n[r];if(C1(s))Ft(e)||mg(t[r])?t[r]=vg(s,Array.isArray(s)?[]:{}):uo(s,nr(e)?{}:e[r],t[r]);else{const i=e[r];t[r]=!Gr(s,i)}}return t}const Uy={value:!1,isValid:!1},$y={value:!0,isValid:!0};var O1=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Ft(n[0].attributes.value)?Ft(n[0].value)||n[0].value===""?$y:{value:n[0].value,isValid:!0}:$y:Uy}return Uy},D1=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Ft(n)?n:e?n===""?NaN:n&&+n:t&&pr(n)?new Date(n):r?r(n):n;const Ky={isValid:!1,value:null};var j1=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Ky):Ky;function zy(n){const e=n.ref;return Ov(e)?e.files:Dv(e)?j1(n.refs).value:A1(e)?[...e.selectedOptions].map(({value:t})=>t):Vd(e)?O1(n.refs).value:D1(Ft(e.value)?n.ref.value:e.value,n)}var NU=(n,e,t,r)=>{const s={};for(const i of n){const a=fe(e,i);a&&Et(s,i,a._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:r}},fu=n=>n instanceof RegExp,Tl=n=>Ft(n)?n:fu(n)?n.source:cn(n)?fu(n.value)?n.value.source:n.value:n,Wy=n=>({isOnSubmit:!n||n===Wr.onSubmit,isOnBlur:n===Wr.onBlur,isOnChange:n===Wr.onChange,isOnAll:n===Wr.all,isOnTouch:n===Wr.onTouched});const Gy="AsyncFunction";var PU=n=>!!n&&!!n.validate&&!!(Wn(n.validate)&&n.validate.constructor.name===Gy||cn(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Gy)),MU=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),Yy=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const ql=(n,e,t,r)=>{for(const s of t||Object.keys(n)){const i=fe(n,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(ql(o,e))break}else if(cn(o)&&ql(o,e))break}}};function qy(n,e,t){const r=fe(n,t);if(r||zf(t))return{error:r,name:t};const s=t.split(".");for(;s.length;){const i=s.join("."),a=fe(e,i),o=fe(n,i);if(a&&!Array.isArray(a)&&t!==i)return{name:t};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:t}}var LU=(n,e,t,r)=>{t(n);const{name:s,...i}=n;return Kn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Wr.all))},FU=(n,e,t)=>!n||!e||n===e||Yl(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),VU=(n,e,t,r,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?r.isOnBlur:s.isOnBlur)?!n:(t?r.isOnChange:s.isOnChange)?n:!0,BU=(n,e)=>!Ev(fe(n,e)).length&&on(n,e),HU=(n,e,t)=>{const r=Yl(fe(n,t));return Et(r,"root",e[t]),Et(n,t,r),n};function Xy(n,e,t="validate"){if(pr(n)||Array.isArray(n)&&n.every(pr)||fr(n)&&!n)return{type:t,message:pr(n)?n:"",ref:e}}var oo=n=>cn(n)&&!fu(n)?n:{value:n,message:""},Zy=async(n,e,t,r,s,i)=>{const{ref:a,refs:o,required:l,maxLength:d,minLength:c,min:u,max:h,pattern:p,validate:v,name:g,valueAsNumber:m,mount:b}=n._f,k=fe(t,g);if(!b||e.has(g))return{};const _=o?o[0]:a,E=I=>{s&&_.reportValidity&&(_.setCustomValidity(fr(I)?"":I||""),_.reportValidity())},S={},T=Dv(a),x=Vd(a),A=T||x,O=(m||Ov(a))&&Ft(a.value)&&Ft(k)||uu(a)&&a.value===""||k===""||Array.isArray(k)&&!k.length,C=x1.bind(null,g,r,S),D=(I,U,H,j=Vs.maxLength,V=Vs.minLength)=>{const F=I?U:H;S[g]={type:I?j:V,message:F,ref:a,...C(I?j:V,F)}};if(i?!Array.isArray(k)||!k.length:l&&(!A&&(O||nr(k))||fr(k)&&!k||x&&!O1(o).isValid||T&&!j1(o).isValid)){const{value:I,message:U}=pr(l)?{value:!!l,message:l}:oo(l);if(I&&(S[g]={type:Vs.required,message:U,ref:_,...C(Vs.required,U)},!r))return E(U),S}if(!O&&(!nr(u)||!nr(h))){let I,U;const H=oo(h),j=oo(u);if(!nr(k)&&!isNaN(k)){const V=a.valueAsNumber||k&&+k;nr(H.value)||(I=V>H.value),nr(j.value)||(U=V<j.value)}else{const V=a.valueAsDate||new Date(k),F=ce=>new Date(new Date().toDateString()+" "+ce),G=a.type=="time",B=a.type=="week";pr(H.value)&&k&&(I=G?F(k)>F(H.value):B?k>H.value:V>new Date(H.value)),pr(j.value)&&k&&(U=G?F(k)<F(j.value):B?k<j.value:V<new Date(j.value))}if((I||U)&&(D(!!I,H.message,j.message,Vs.max,Vs.min),!r))return E(S[g].message),S}if((d||c)&&!O&&(pr(k)||i&&Array.isArray(k))){const I=oo(d),U=oo(c),H=!nr(I.value)&&k.length>+I.value,j=!nr(U.value)&&k.length<+U.value;if((H||j)&&(D(H,I.message,U.message),!r))return E(S[g].message),S}if(p&&!O&&pr(k)){const{value:I,message:U}=oo(p);if(fu(I)&&!k.match(I)&&(S[g]={type:Vs.pattern,message:U,ref:a,...C(Vs.pattern,U)},!r))return E(U),S}if(v){if(Wn(v)){const I=await v(k,t),U=Xy(I,_);if(U&&(S[g]={...U,...C(Vs.validate,U.message)},!r))return E(U.message),S}else if(cn(v)){let I={};for(const U in v){if(!Kn(I)&&!r)break;const H=Xy(await v[U](k,t),_,U);H&&(I={...H,...C(U,H.message)},E(H.message),r&&(S[g]=I))}if(!Kn(I)&&(S[g]={ref:_,...I},!r))return S}}return E(!0),S};const UU={mode:Wr.onSubmit,reValidateMode:Wr.onChange,shouldFocusError:!0};function $U(n={}){let e={...UU,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=cn(e.defaultValues)||cn(e.values)?an(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:an(s),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},u={...c};let h={...u};const p={array:Hy(),state:Hy()},v=e.criteriaMode===Wr.all,g=R=>z=>{clearTimeout(d),d=setTimeout(R,z)},m=async R=>{if(!a.keepIsValid&&!e.disabled&&(u.isValid||h.isValid||R)){let z;e.resolver?(z=Kn((await A()).errors),b()):z=await C(r,!0),z!==t.isValid&&p.state.next({isValid:z})}},b=(R,z)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((R||Array.from(o.mount)).forEach(X=>{X&&(z?Et(t.validatingFields,X,z):on(t.validatingFields,X))}),p.state.next({validatingFields:t.validatingFields,isValidating:!Kn(t.validatingFields)}))},k=(R,z=[],X,le,oe=!0,se=!0)=>{if(le&&X&&!e.disabled){if(a.action=!0,se&&Array.isArray(fe(r,R))){const Ee=X(fe(r,R),le.argA,le.argB);oe&&Et(r,R,Ee)}if(se&&Array.isArray(fe(t.errors,R))){const Ee=X(fe(t.errors,R),le.argA,le.argB);oe&&Et(t.errors,R,Ee),BU(t.errors,R)}if((u.touchedFields||h.touchedFields)&&se&&Array.isArray(fe(t.touchedFields,R))){const Ee=X(fe(t.touchedFields,R),le.argA,le.argB);oe&&Et(t.touchedFields,R,Ee)}(u.dirtyFields||h.dirtyFields)&&(t.dirtyFields=uo(s,i)),p.state.next({name:R,isDirty:I(R,z),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Et(i,R,z)},_=(R,z)=>{Et(t.errors,R,z),p.state.next({errors:t.errors})},E=R=>{t.errors=R,p.state.next({errors:t.errors,isValid:!1})},S=(R,z,X,le)=>{const oe=fe(r,R);if(oe){const se=fe(i,R,Ft(X)?fe(s,R):X);Ft(se)||le&&le.defaultChecked||z?Et(i,R,z?se:zy(oe._f)):j(R,se),a.mount&&!a.action&&m()}},T=(R,z,X,le,oe)=>{let se=!1,Ee=!1;const Le={name:R};if(!e.disabled){if(!X||le){(u.isDirty||h.isDirty)&&(Ee=t.isDirty,t.isDirty=Le.isDirty=I(),se=Ee!==Le.isDirty);const Fe=Gr(fe(s,R),z);Ee=!!fe(t.dirtyFields,R),Fe?on(t.dirtyFields,R):Et(t.dirtyFields,R,!0),Le.dirtyFields=t.dirtyFields,se=se||(u.dirtyFields||h.dirtyFields)&&Ee!==!Fe}if(X){const Fe=fe(t.touchedFields,R);Fe||(Et(t.touchedFields,R,X),Le.touchedFields=t.touchedFields,se=se||(u.touchedFields||h.touchedFields)&&Fe!==X)}se&&oe&&p.state.next(Le)}return se?Le:{}},x=(R,z,X,le)=>{const oe=fe(t.errors,R),se=(u.isValid||h.isValid)&&fr(z)&&t.isValid!==z;if(e.delayError&&X?(l=g(()=>_(R,X)),l(e.delayError)):(clearTimeout(d),l=null,X?Et(t.errors,R,X):on(t.errors,R)),(X?!Gr(oe,X):oe)||!Kn(le)||se){const Ee={...le,...se&&fr(z)?{isValid:z}:{},errors:t.errors,name:R};t={...t,...Ee},p.state.next(Ee)}},A=async R=>(b(R,!0),await e.resolver(i,e.context,NU(R||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation))),O=async R=>{const{errors:z}=await A(R);if(b(R),R)for(const X of R){const le=fe(z,X);le?Et(t.errors,X,le):on(t.errors,X)}else t.errors=z;return z},C=async(R,z,X={valid:!0})=>{for(const le in R){const oe=R[le];if(oe){const{_f:se,...Ee}=oe;if(se){const Le=o.array.has(se.name),Fe=oe._f&&PU(oe._f);Fe&&u.validatingFields&&b([se.name],!0);const _t=await Zy(oe,o.disabled,i,v,e.shouldUseNativeValidation&&!z,Le);if(Fe&&u.validatingFields&&b([se.name]),_t[se.name]&&(X.valid=!1,z||n.shouldUseNativeValidation))break;!z&&(fe(_t,se.name)?Le?HU(t.errors,_t,se.name):Et(t.errors,se.name,_t[se.name]):on(t.errors,se.name))}!Kn(Ee)&&await C(Ee,z,X)}}return X.valid},D=()=>{for(const R of o.unMount){const z=fe(r,R);z&&(z._f.refs?z._f.refs.every(X=>!tp(X)):!tp(z._f.ref))&&Ce(R)}o.unMount=new Set},I=(R,z)=>!e.disabled&&(R&&z&&Et(i,R,z),!Gr(L(),s)),U=(R,z,X)=>gg(R,o,{...a.mount?i:Ft(z)?s:pr(R)?{[R]:z}:z},X,z),H=R=>Ev(fe(a.mount?i:s,R,e.shouldUnregister?fe(s,R,[]):[])),j=(R,z,X={})=>{const le=fe(r,R);let oe=z;if(le){const se=le._f;se&&(!se.disabled&&Et(i,R,D1(z,se)),oe=uu(se.ref)&&nr(z)?"":z,A1(se.ref)?[...se.ref.options].forEach(Ee=>Ee.selected=oe.includes(Ee.value)):se.refs?Vd(se.ref)?se.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(oe)?Ee.checked=!!oe.find(Le=>Le===Ee.value):Ee.checked=oe===Ee.value||!!oe)}):se.refs.forEach(Ee=>Ee.checked=Ee.value===oe):Ov(se.ref)?se.ref.value="":(se.ref.value=oe,se.ref.type||p.state.next({name:R,values:an(i)})))}(X.shouldDirty||X.shouldTouch)&&T(R,oe,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&ce(R)},V=(R,z,X)=>{for(const le in z){if(!z.hasOwnProperty(le))return;const oe=z[le],se=R+"."+le,Ee=fe(r,se);(o.array.has(R)||cn(oe)||Ee&&!Ee._f)&&!da(oe)?V(se,oe,X):j(se,oe,X)}},F=(R,z,X={})=>{const le=fe(r,R),oe=o.array.has(R),se=an(z);Et(i,R,se),oe?(p.array.next({name:R,values:an(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&X.shouldDirty&&p.state.next({name:R,dirtyFields:uo(s,i),isDirty:I(R,se)})):le&&!le._f&&!nr(se)?V(R,se,X):j(R,se,X),Yy(R,o)?p.state.next({...t,name:R,values:an(i)}):p.state.next({name:a.mount?R:void 0,values:an(i)})},G=async R=>{a.mount=!0;const z=R.target;let X=z.name,le=!0;const oe=fe(r,X),se=Fe=>{le=Number.isNaN(Fe)||da(Fe)&&isNaN(Fe.getTime())||Gr(Fe,fe(i,X,Fe))},Ee=Wy(e.mode),Le=Wy(e.reValidateMode);if(oe){let Fe,_t;const vn=z.type?zy(oe._f):w1(R),xr=R.type===cu.BLUR||R.type===cu.FOCUS_OUT,Tr=!MU(oe._f)&&!e.resolver&&!fe(t.errors,X)&&!oe._f.deps||VU(xr,fe(t.touchedFields,X),t.isSubmitted,Le,Ee),ci=Yy(X,o,xr);Et(i,X,vn),xr?(!z||!z.readOnly)&&(oe._f.onBlur&&oe._f.onBlur(R),l&&l(0)):oe._f.onChange&&oe._f.onChange(R);const ui=T(X,vn,xr),qi=!Kn(ui)||ci;if(!xr&&p.state.next({name:X,type:R.type,values:an(i)}),Tr)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?xr&&m():xr||m()),qi&&p.state.next({name:X,...ci?{}:ui});if(!xr&&ci&&p.state.next({...t}),e.resolver){const{errors:Ya}=await A([X]);if(b([X]),se(vn),le){const We=qy(t.errors,r,X),ut=qy(Ya,r,We.name||X);Fe=ut.error,X=ut.name,_t=Kn(Ya)}}else b([X],!0),Fe=(await Zy(oe,o.disabled,i,v,e.shouldUseNativeValidation))[X],b([X]),se(vn),le&&(Fe?_t=!1:(u.isValid||h.isValid)&&(_t=await C(r,!0)));le&&(oe._f.deps&&(!Array.isArray(oe._f.deps)||oe._f.deps.length>0)&&ce(oe._f.deps),x(X,_t,Fe,ui))}},B=(R,z)=>{if(fe(t.errors,z)&&R.focus)return R.focus(),1},ce=async(R,z={})=>{let X,le;const oe=Yl(R);if(e.resolver){const se=await O(Ft(R)?R:oe);X=Kn(se),le=R?!oe.some(Ee=>fe(se,Ee)):X}else R?(le=(await Promise.all(oe.map(async se=>{const Ee=fe(r,se);return await C(Ee&&Ee._f?{[se]:Ee}:Ee)}))).every(Boolean),!(!le&&!t.isValid)&&m()):le=X=await C(r);return p.state.next({...!pr(R)||(u.isValid||h.isValid)&&X!==t.isValid?{}:{name:R},...e.resolver||!R?{isValid:X}:{},errors:t.errors}),z.shouldFocus&&!le&&ql(r,B,R?oe:o.mount),le},L=(R,z)=>{let X={...a.mount?i:s};return z&&(X=T1(z.dirtyFields?t.dirtyFields:t.touchedFields,X)),Ft(R)?X:pr(R)?fe(X,R):R.map(le=>fe(X,le))},$=(R,z)=>({invalid:!!fe((z||t).errors,R),isDirty:!!fe((z||t).dirtyFields,R),error:fe((z||t).errors,R),isValidating:!!fe(t.validatingFields,R),isTouched:!!fe((z||t).touchedFields,R)}),M=R=>{R&&Yl(R).forEach(z=>on(t.errors,z)),p.state.next({errors:R?t.errors:{}})},Y=(R,z,X)=>{const le=(fe(r,R,{_f:{}})._f||{}).ref,oe=fe(t.errors,R)||{},{ref:se,message:Ee,type:Le,...Fe}=oe;Et(t.errors,R,{...Fe,...z,ref:le}),p.state.next({name:R,errors:t.errors,isValid:!1}),X&&X.shouldFocus&&le&&le.focus&&le.focus()},J=(R,z)=>Wn(R)?p.state.subscribe({next:X=>"values"in X&&R(U(void 0,z),X)}):U(R,z,!0),ae=R=>p.state.subscribe({next:z=>{FU(R.name,z.name,R.exact)&&LU(z,R.formState||u,Un,R.reRenderRoot)&&R.callback({values:{...i},...t,...z,defaultValues:s})}}).unsubscribe,ne=R=>(a.mount=!0,h={...h,...R.formState},ae({...R,formState:{...c,...R.formState}})),Ce=(R,z={})=>{for(const X of R?Yl(R):o.mount)o.mount.delete(X),o.array.delete(X),z.keepValue||(on(r,X),on(i,X)),!z.keepError&&on(t.errors,X),!z.keepDirty&&on(t.dirtyFields,X),!z.keepTouched&&on(t.touchedFields,X),!z.keepIsValidating&&on(t.validatingFields,X),!e.shouldUnregister&&!z.keepDefaultValue&&on(s,X);p.state.next({values:an(i)}),p.state.next({...t,...z.keepDirty?{isDirty:I()}:{}}),!z.keepIsValid&&m()},Z=({disabled:R,name:z})=>{if(fr(R)&&a.mount||R||o.disabled.has(z)){const oe=o.disabled.has(z)!==!!R;R?o.disabled.add(z):o.disabled.delete(z),oe&&a.mount&&!a.action&&m()}},pe=(R,z={})=>{let X=fe(r,R);const le=fr(z.disabled)||fr(e.disabled);return Et(r,R,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:R}},name:R,mount:!0,...z}}),o.mount.add(R),X?Z({disabled:fr(z.disabled)?z.disabled:e.disabled,name:R}):S(R,!0,z.value),{...le?{disabled:z.disabled||e.disabled}:{},...e.progressive?{required:!!z.required,min:Tl(z.min),max:Tl(z.max),minLength:Tl(z.minLength),maxLength:Tl(z.maxLength),pattern:Tl(z.pattern)}:{},name:R,onChange:G,onBlur:G,ref:oe=>{if(oe){pe(R,z),X=fe(r,R);const se=Ft(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,Ee=DU(se),Le=X._f.refs||[];if(Ee?Le.find(Fe=>Fe===se):se===X._f.ref)return;Et(r,R,{_f:{...X._f,...Ee?{refs:[...Le.filter(tp),se,...Array.isArray(fe(s,R))?[{}]:[]],ref:{type:se.type,name:R}}:{ref:se}}}),S(R,!1,void 0,se)}else X=fe(r,R,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||z.shouldUnregister)&&!(E1(o.array,R)&&a.action)&&o.unMount.add(R)}}},de=()=>e.shouldFocusError&&ql(r,B,o.mount),ge=R=>{fr(R)&&(p.state.next({disabled:R}),ql(r,(z,X)=>{const le=fe(r,X);le&&(z.disabled=le._f.disabled||R,Array.isArray(le._f.refs)&&le._f.refs.forEach(oe=>{oe.disabled=le._f.disabled||R}))},0,!1))},we=(R,z)=>async X=>{let le;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let oe=an(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:Ee}=await A();b(),t.errors=se,oe=an(Ee)}else await C(r);if(o.disabled.size)for(const se of o.disabled)on(oe,se);if(on(t.errors,"root"),Kn(t.errors)){p.state.next({errors:{}});try{await R(oe,X)}catch(se){le=se}}else z&&await z({...t.errors},X),de(),setTimeout(de);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kn(t.errors)&&!le,submitCount:t.submitCount+1,errors:t.errors}),le)throw le},Pe=(R,z={})=>{fe(r,R)&&(Ft(z.defaultValue)?F(R,an(fe(s,R))):(F(R,z.defaultValue),Et(s,R,an(z.defaultValue))),z.keepTouched||on(t.touchedFields,R),z.keepDirty||(on(t.dirtyFields,R),t.isDirty=z.defaultValue?I(R,an(fe(s,R))):I()),z.keepError||(on(t.errors,R),u.isValid&&m()),p.state.next({...t}))},Je=(R,z={})=>{const X=R?an(R):s,le=an(X),oe=Kn(R),se=oe?s:le;if(z.keepDefaultValues||(s=X),!z.keepValues){if(z.keepDirtyValues){const Ee=new Set([...o.mount,...Object.keys(uo(s,i))]);for(const Le of Array.from(Ee)){const Fe=fe(t.dirtyFields,Le),_t=fe(i,Le),vn=fe(se,Le);Fe&&!Ft(_t)?Et(se,Le,_t):!Fe&&!Ft(vn)&&F(Le,vn)}}else{if(wv&&Ft(R))for(const Ee of o.mount){const Le=fe(r,Ee);if(Le&&Le._f){const Fe=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(uu(Fe)){const _t=Fe.closest("form");if(_t){_t.reset();break}}}}if(z.keepFieldsRef)for(const Ee of o.mount)F(Ee,fe(se,Ee));else r={}}i=e.shouldUnregister?z.keepDefaultValues?an(s):{}:an(se),p.array.next({values:{...se}}),p.state.next({values:{...se}})}o={mount:z.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!z.keepIsValid||!!z.keepDirtyValues||!e.shouldUnregister&&!Kn(se),a.watch=!!e.shouldUnregister,a.keepIsValid=!!z.keepIsValid,a.action=!1,z.keepErrors||(t.errors={}),p.state.next({submitCount:z.keepSubmitCount?t.submitCount:0,isDirty:oe?!1:z.keepDirty?t.isDirty:!!(z.keepDefaultValues&&!Gr(R,s)),isSubmitted:z.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:oe?{}:z.keepDirtyValues?z.keepDefaultValues&&i?uo(s,i):t.dirtyFields:z.keepDefaultValues&&R?uo(s,R):z.keepDirty?t.dirtyFields:{},touchedFields:z.keepTouched?t.touchedFields:{},errors:z.keepErrors?t.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},tt=(R,z)=>Je(Wn(R)?R(i):R,{...e.resetOptions,...z}),ct=(R,z={})=>{const X=fe(r,R),le=X&&X._f;if(le){const oe=le.refs?le.refs[0]:le.ref;oe.focus&&setTimeout(()=>{oe.focus(),z.shouldSelect&&Wn(oe.select)&&oe.select()})}},Un=R=>{t={...t,...R}},vt={control:{register:pe,unregister:Ce,getFieldState:$,handleSubmit:we,setError:Y,_subscribe:ae,_runSchema:A,_updateIsValidating:b,_focusError:de,_getWatch:U,_getDirty:I,_setValid:m,_setFieldArray:k,_setDisabledField:Z,_setErrors:E,_getFieldArray:H,_reset:Je,_resetDefaultValues:()=>Wn(e.defaultValues)&&e.defaultValues().then(R=>{tt(R,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:ge,_subjects:p,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(R){a=R},get _defaultValues(){return s},get _names(){return o},set _names(R){o=R},get _formState(){return t},get _options(){return e},set _options(R){e={...e,...R}}},subscribe:ne,trigger:ce,register:pe,handleSubmit:we,watch:J,setValue:F,getValues:L,reset:tt,resetField:Pe,clearErrors:M,unregister:Ce,setError:Y,setFocus:ct,getFieldState:$};return{...vt,formControl:vt}}function jn(n={}){const e=w.useRef(void 0),t=w.useRef(void 0),[r,s]=w.useState({isDirty:!1,isValidating:!1,isLoading:Wn(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Wn(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!Wn(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:a,...o}=$U(n);e.current={...o,formState:r}}const i=e.current.control;return i._options=n,Av(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),w.useEffect(()=>i._disableForm(n.disabled),[i,n.disabled]),w.useEffect(()=>{n.mode&&(i._options.mode=n.mode),n.reValidateMode&&(i._options.reValidateMode=n.reValidateMode)},[i,n.mode,n.reValidateMode]),w.useEffect(()=>{n.errors&&(i._setErrors(n.errors),i._focusError())},[i,n.errors]),w.useEffect(()=>{n.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,n.shouldUnregister]),w.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),w.useEffect(()=>{var a;n.values&&!Gr(n.values,t.current)?(i._reset(n.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),t.current=n.values,s(o=>({...o}))):i._resetDefaultValues()},[i,n.values]),w.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=w.useMemo(()=>S1(r,i),[i,r]),e.current}const Jy=(n,e,t)=>{if(n&&"reportValidity"in n){const r=fe(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},R1=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?Jy(r.ref,t,n):r.refs&&r.refs.forEach(s=>Jy(s,t,n))}},KU=(n,e)=>{e.shouldUseNativeValidation&&R1(n,e);const t={};for(const r in n){const s=fe(e.fields,r),i=Object.assign(n[r]||{},{ref:s&&s.ref});if(zU(e.names||Object.keys(n),r)){const a=Object.assign({},fe(t,r));Et(a,"root",i),Et(t,r,a)}else Et(t,r,i)}return t},zU=(n,e)=>n.some(t=>t.startsWith(e+"."));var WU=function(n,e){for(var t={};n.length;){var r=n[0],s=r.code,i=r.message,a=r.path.join(".");if(!t[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];t[a]={message:o.message,type:o.code}}else t[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(c){return c.errors.forEach(function(u){return n.push(u)})}),e){var l=t[a].types,d=l&&l[r.code];t[a]=x1(a,e,t,s,d?[].concat(d,r.message):r.message)}n.shift()}return t},Rn=function(n,e,t){return t===void 0&&(t={}),function(r,s,i){try{return Promise.resolve((function(a,o){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&R1({},i),{errors:{},values:t.raw?r:d}})}catch(d){return o(d)}return l&&l.then?l.then(void 0,o):l})(0,function(a){if((function(o){return Array.isArray(o?.errors)})(a))return{values:{},errors:KU(WU(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},lt;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},n.getValidEnumValues=s=>{const i=n.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return n.objectValues(a)},n.objectValues=s=>n.objectKeys(s).map(function(i){return s[i]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},n.find=(s,i)=>{for(const a of s)if(i(a))return a},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}n.joinValues=r,n.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(lt||(lt={}));var Qy;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Qy||(Qy={}));const ye=lt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vi=n=>{switch(typeof n){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return Number.isNaN(n)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(n)?ye.array:n===null?ye.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ye.promise:typeof Map<"u"&&n instanceof Map?ye.map:typeof Set<"u"&&n instanceof Set?ye.set:typeof Date<"u"&&n instanceof Date?ye.date:ye.object;default:return ye.unknown}},re=lt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ti extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(t(a));else{let o=r,l=0;for(;l<a.path.length;){const d=a.path[l];l===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(a))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return s(this),r}static assert(e){if(!(e instanceof ti))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];t[i]=t[i]||[],t[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}ti.create=n=>new ti(n);const bg=(n,e)=>{let t;switch(n.code){case re.invalid_type:n.received===ye.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case re.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,lt.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:t=`Unrecognized key(s) in object: ${lt.joinValues(n.keys,", ")}`;break;case re.invalid_union:t="Invalid input";break;case re.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${lt.joinValues(n.options)}`;break;case re.invalid_enum_value:t=`Invalid enum value. Expected ${lt.joinValues(n.options)}, received '${n.received}'`;break;case re.invalid_arguments:t="Invalid function arguments";break;case re.invalid_return_type:t="Invalid function return type";break;case re.invalid_date:t="Invalid date";break;case re.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:lt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case re.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case re.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case re.custom:t="Invalid input";break;case re.invalid_intersection_types:t="Intersection results could not be merged";break;case re.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case re.not_finite:t="Number must be finite";break;default:t=e.defaultError,lt.assertNever(n)}return{message:t}};let GU=bg;function YU(){return GU}const qU=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,i=[...t,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const l=r.filter(d=>!!d).slice().reverse();for(const d of l)o=d(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}};function me(n,e){const t=YU(),r=qU({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===bg?void 0:bg].filter(s=>!!s)});n.common.issues.push(r)}class kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return He;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return kr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return He;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const He=Object.freeze({status:"aborted"}),Ll=n=>({status:"dirty",value:n}),Ur=n=>({status:"valid",value:n}),e0=n=>n.status==="aborted",t0=n=>n.status==="dirty",Uo=n=>n.status==="valid",hu=n=>typeof Promise<"u"&&n instanceof Promise;var Te;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e?.message})(Te||(Te={}));class Ii{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const n0=(n,e)=>{if(Uo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ti(n.common.issues);return this._error=t,this._error}}};function Qe(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{const{message:l}=n;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??t??o.defaultError}},description:s}}class at{get description(){return this._def.description}_getType(e){return vi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new kr,ctx:{common:e.parent.common,data:e.data,parsedType:vi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(hu(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)},s=this._parseSync({data:e,path:r.path,parent:r});return n0(r,s)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return Uo(r)?{value:r.value}:{issues:t.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(r=>Uo(r)?{value:r.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(hu(s)?s:Promise.resolve(s));return n0(r,i)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:re.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Oa({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Xs.create(this,this._def)}nullable(){return Da.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Cs.create(this)}promise(){return bu.create(this,this._def)}or(e){return pu.create([this,e],this._def)}and(e){return gu.create(this,e,this._def)}transform(e){return new Oa({...Qe(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ku({...Qe(this._def),innerType:this,defaultValue:t,typeName:Ue.ZodDefault})}brand(){return new M1({typeName:Ue.ZodBranded,type:this,...Qe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new yu({...Qe(this._def),innerType:this,catchValue:t,typeName:Ue.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Rv.create(this,e)}readonly(){return _u.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const XU=/^c[^\s-]{8,}$/i,ZU=/^[0-9a-z]+$/,JU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,QU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,e$=/^[a-z0-9_-]{21}$/i,t$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,n$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,r$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,s$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let np;const i$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,a$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,o$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,l$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,d$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,c$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,I1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",u$=new RegExp(`^${I1}$`);function N1(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function f$(n){return new RegExp(`^${N1(n)}$`)}function h$(n){let e=`${I1}T${N1(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function p$(n,e){return!!((e==="v4"||!e)&&i$.test(n)||(e==="v6"||!e)&&o$.test(n))}function g$(n,e){if(!t$.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function m$(n,e){return!!((e==="v4"||!e)&&a$.test(n)||(e==="v6"||!e)&&l$.test(n))}class _i extends at{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const i=this._getOrReturnCtx(e);return me(i,{code:re.invalid_type,expected:ye.string,received:i.parsedType}),He}const r=new kr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?me(s,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&me(s,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")r$.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"email",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")np||(np=new RegExp(s$,"u")),np.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"emoji",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")QU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"uuid",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")e$.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"nanoid",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")XU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")ZU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid2",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")JU.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ulid",code:re.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),me(s,{validation:"url",code:re.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"regex",code:re.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),me(s,{code:re.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:re.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:re.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?h$(i).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:re.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?u$.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:re.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?f$(i).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:re.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?n$.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"duration",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?p$(e.data,i.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ip",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?g$(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"jwt",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?m$(e.data,i.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cidr",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?d$.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"base64",code:re.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?c$.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"base64url",code:re.invalid_string,message:i.message}),r.dirty()):lt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:re.invalid_string,...Te.errToObj(r)})}_addCheck(e){return new _i({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Te.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Te.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Te.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Te.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Te.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Te.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Te.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Te.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Te.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Te.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Te.errToObj(t)})}nonempty(e){return this.min(1,Te.errToObj(e))}trim(){return new _i({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _i({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _i({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}_i.create=n=>new _i({checks:[],typeName:Ue.ZodString,coerce:n?.coerce??!1,...Qe(n)});function v$(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,i=Number.parseInt(n.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class $o extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const i=this._getOrReturnCtx(e);return me(i,{code:re.invalid_type,expected:ye.number,received:i.parsedType}),He}let r;const s=new kr;for(const i of this._def.checks)i.kind==="int"?lt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:re.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:re.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:re.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?v$(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),me(r,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:re.not_finite,message:i.message}),s.dirty()):lt.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Te.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Te.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Te.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Te.toString(t))}setLimit(e,t,r,s){return new $o({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Te.toString(s)}]})}_addCheck(e){return new $o({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Te.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Te.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&lt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}$o.create=n=>new $o({checks:[],typeName:Ue.ZodNumber,coerce:n?.coerce||!1,...Qe(n)});class od extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let r;const s=new kr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:re.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:re.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),me(r,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):lt.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return me(t,{code:re.invalid_type,expected:ye.bigint,received:t.parsedType}),He}gte(e,t){return this.setLimit("min",e,!0,Te.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Te.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Te.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Te.toString(t))}setLimit(e,t,r,s){return new od({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Te.toString(s)}]})}_addCheck(e){return new od({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Te.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Te.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}od.create=n=>new od({checks:[],typeName:Ue.ZodBigInt,coerce:n?.coerce??!1,...Qe(n)});class r0 extends at{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return me(r,{code:re.invalid_type,expected:ye.boolean,received:r.parsedType}),He}return Ur(e.data)}}r0.create=n=>new r0({typeName:Ue.ZodBoolean,coerce:n?.coerce||!1,...Qe(n)});class ld extends at{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const i=this._getOrReturnCtx(e);return me(i,{code:re.invalid_type,expected:ye.date,received:i.parsedType}),He}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return me(i,{code:re.invalid_date}),He}const r=new kr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:re.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:re.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):lt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ld({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Te.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Te.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ld.create=n=>new ld({checks:[],coerce:n?.coerce||!1,typeName:Ue.ZodDate,...Qe(n)});class s0 extends at{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return me(r,{code:re.invalid_type,expected:ye.symbol,received:r.parsedType}),He}return Ur(e.data)}}s0.create=n=>new s0({typeName:Ue.ZodSymbol,...Qe(n)});class kg extends at{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:re.invalid_type,expected:ye.undefined,received:r.parsedType}),He}return Ur(e.data)}}kg.create=n=>new kg({typeName:Ue.ZodUndefined,...Qe(n)});class yg extends at{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return me(r,{code:re.invalid_type,expected:ye.null,received:r.parsedType}),He}return Ur(e.data)}}yg.create=n=>new yg({typeName:Ue.ZodNull,...Qe(n)});class _g extends at{constructor(){super(...arguments),this._any=!0}_parse(e){return Ur(e.data)}}_g.create=n=>new _g({typeName:Ue.ZodAny,...Qe(n)});class i0 extends at{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ur(e.data)}}i0.create=n=>new i0({typeName:Ue.ZodUnknown,...Qe(n)});class Ni extends at{_parse(e){const t=this._getOrReturnCtx(e);return me(t,{code:re.invalid_type,expected:ye.never,received:t.parsedType}),He}}Ni.create=n=>new Ni({typeName:Ue.ZodNever,...Qe(n)});class a0 extends at{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:re.invalid_type,expected:ye.void,received:r.parsedType}),He}return Ur(e.data)}}a0.create=n=>new a0({typeName:Ue.ZodVoid,...Qe(n)});class Cs extends at{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==ye.array)return me(t,{code:re.invalid_type,expected:ye.array,received:t.parsedType}),He;if(s.exactLength!==null){const a=t.data.length>s.exactLength.value,o=t.data.length<s.exactLength.value;(a||o)&&(me(t,{code:a?re.too_big:re.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(me(t,{code:re.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(me(t,{code:re.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>s.type._parseAsync(new Ii(t,a,t.path,o)))).then(a=>kr.mergeArray(r,a));const i=[...t.data].map((a,o)=>s.type._parseSync(new Ii(t,a,t.path,o)));return kr.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new Cs({...this._def,minLength:{value:e,message:Te.toString(t)}})}max(e,t){return new Cs({...this._def,maxLength:{value:e,message:Te.toString(t)}})}length(e,t){return new Cs({...this._def,exactLength:{value:e,message:Te.toString(t)}})}nonempty(e){return this.min(1,e)}}Cs.create=(n,e)=>new Cs({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...Qe(e)});function fo(n){if(n instanceof ln){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Xs.create(fo(r))}return new ln({...n._def,shape:()=>e})}else return n instanceof Cs?new Cs({...n._def,type:fo(n.element)}):n instanceof Xs?Xs.create(fo(n.unwrap())):n instanceof Da?Da.create(fo(n.unwrap())):n instanceof Aa?Aa.create(n.items.map(e=>fo(e))):n}class ln extends at{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=lt.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ye.object){const d=this._getOrReturnCtx(e);return me(d,{code:re.invalid_type,expected:ye.object,received:d.parsedType}),He}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ni&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||o.push(d);const l=[];for(const d of a){const c=i[d],u=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Ii(s,u,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Ni){const d=this._def.unknownKeys;if(d==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(d==="strict")o.length>0&&(me(s,{code:re.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const c of o){const u=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Ii(s,u,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const c of l){const u=await c.key,h=await c.value;d.push({key:u,value:h,alwaysSet:c.alwaysSet})}return d}).then(d=>kr.mergeObjectSync(r,d)):kr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Te.errToObj,new ln({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{const s=this._def.errorMap?.(t,r).message??r.defaultError;return t.code==="unrecognized_keys"?{message:Te.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new ln({...this._def,unknownKeys:"strip"})}passthrough(){return new ln({...this._def,unknownKeys:"passthrough"})}extend(e){return new ln({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ln({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ue.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ln({...this._def,catchall:e})}pick(e){const t={};for(const r of lt.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ln({...this._def,shape:()=>t})}omit(e){const t={};for(const r of lt.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ln({...this._def,shape:()=>t})}deepPartial(){return fo(this)}partial(e){const t={};for(const r of lt.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}return new ln({...this._def,shape:()=>t})}required(e){const t={};for(const r of lt.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Xs;)i=i._def.innerType;t[r]=i}return new ln({...this._def,shape:()=>t})}keyof(){return P1(lt.objectKeys(this.shape))}}ln.create=(n,e)=>new ln({shape:()=>n,unknownKeys:"strip",catchall:Ni.create(),typeName:Ue.ZodObject,...Qe(e)});ln.strictCreate=(n,e)=>new ln({shape:()=>n,unknownKeys:"strict",catchall:Ni.create(),typeName:Ue.ZodObject,...Qe(e)});ln.lazycreate=(n,e)=>new ln({shape:n,unknownKeys:"strip",catchall:Ni.create(),typeName:Ue.ZodObject,...Qe(e)});class pu extends at{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new ti(o.ctx.common.issues));return me(t,{code:re.invalid_union,unionErrors:a}),He}if(t.common.async)return Promise.all(r.map(async i=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of r){const d={...t,common:{...t.common,issues:[]},parent:null},c=l._parseSync({data:t.data,path:t.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new ti(l));return me(t,{code:re.invalid_union,unionErrors:o}),He}}get options(){return this._def.options}}pu.create=(n,e)=>new pu({options:n,typeName:Ue.ZodUnion,...Qe(e)});const Bs=n=>n instanceof Eg?Bs(n.schema):n instanceof Oa?Bs(n.innerType()):n instanceof mu?[n.value]:n instanceof Ca?n.options:n instanceof vu?lt.objectValues(n.enum):n instanceof ku?Bs(n._def.innerType):n instanceof kg?[void 0]:n instanceof yg?[null]:n instanceof Xs?[void 0,...Bs(n.unwrap())]:n instanceof Da?[null,...Bs(n.unwrap())]:n instanceof M1||n instanceof _u?Bs(n.unwrap()):n instanceof yu?Bs(n._def.innerType):[];class jv extends at{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ye.object)return me(t,{code:re.invalid_type,expected:ye.object,received:t.parsedType}),He;const r=this.discriminator,s=t.data[r],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(me(t,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),He)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const i of t){const a=Bs(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new jv({typeName:Ue.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...Qe(r)})}}function wg(n,e){const t=vi(n),r=vi(e);if(n===e)return{valid:!0,data:n};if(t===ye.object&&r===ye.object){const s=lt.objectKeys(e),i=lt.objectKeys(n).filter(o=>s.indexOf(o)!==-1),a={...n,...e};for(const o of i){const l=wg(n[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(t===ye.array&&r===ye.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<n.length;i++){const a=n[i],o=e[i],l=wg(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return t===ye.date&&r===ye.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class gu extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(e0(i)||e0(a))return He;const o=wg(i.value,a.value);return o.valid?((t0(i)||t0(a))&&t.dirty(),{status:t.value,value:o.data}):(me(r,{code:re.invalid_intersection_types}),He)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gu.create=(n,e,t)=>new gu({left:n,right:e,typeName:Ue.ZodIntersection,...Qe(t)});class Aa extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return me(r,{code:re.invalid_type,expected:ye.array,received:r.parsedType}),He;if(r.data.length<this._def.items.length)return me(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&r.data.length>this._def.items.length&&(me(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Ii(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>kr.mergeArray(t,a)):kr.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Aa({...this._def,rest:e})}}Aa.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Aa({items:n,typeName:Ue.ZodTuple,rest:null,...Qe(e)})};class o0 extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return me(r,{code:re.invalid_type,expected:ye.map,received:r.parsedType}),He;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,l],d)=>({key:s._parse(new Ii(r,o,r.path,[d,"key"])),value:i._parse(new Ii(r,l,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const d=await l.key,c=await l.value;if(d.status==="aborted"||c.status==="aborted")return He;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(d.value,c.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of a){const d=l.key,c=l.value;if(d.status==="aborted"||c.status==="aborted")return He;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(d.value,c.value)}return{status:t.value,value:o}}}}o0.create=(n,e,t)=>new o0({valueType:e,keyType:n,typeName:Ue.ZodMap,...Qe(t)});class dd extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return me(r,{code:re.invalid_type,expected:ye.set,received:r.parsedType}),He;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(me(r,{code:re.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(me(r,{code:re.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const i=this._def.valueType;function a(l){const d=new Set;for(const c of l){if(c.status==="aborted")return He;c.status==="dirty"&&t.dirty(),d.add(c.value)}return{status:t.value,value:d}}const o=[...r.data.values()].map((l,d)=>i._parse(new Ii(r,l,r.path,d)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,t){return new dd({...this._def,minSize:{value:e,message:Te.toString(t)}})}max(e,t){return new dd({...this._def,maxSize:{value:e,message:Te.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}dd.create=(n,e)=>new dd({valueType:n,minSize:null,maxSize:null,typeName:Ue.ZodSet,...Qe(e)});class Eg extends at{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Eg.create=(n,e)=>new Eg({getter:n,typeName:Ue.ZodLazy,...Qe(e)});class mu extends at{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return me(t,{received:t.data,code:re.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:e.data}}get value(){return this._def.value}}mu.create=(n,e)=>new mu({value:n,typeName:Ue.ZodLiteral,...Qe(e)});function P1(n,e){return new Ca({values:n,typeName:Ue.ZodEnum,...Qe(e)})}class Ca extends at{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return me(t,{expected:lt.joinValues(r),received:t.parsedType,code:re.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return me(t,{received:t.data,code:re.invalid_enum_value,options:r}),He}return Ur(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ca.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ca.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Ca.create=P1;class vu extends at{_parse(e){const t=lt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const s=lt.objectValues(t);return me(r,{expected:lt.joinValues(s),received:r.parsedType,code:re.invalid_type}),He}if(this._cache||(this._cache=new Set(lt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=lt.objectValues(t);return me(r,{received:r.data,code:re.invalid_enum_value,options:s}),He}return Ur(e.data)}get enum(){return this._def.values}}vu.create=(n,e)=>new vu({values:n,typeName:Ue.ZodNativeEnum,...Qe(e)});class bu extends at{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ye.promise&&t.common.async===!1)return me(t,{code:re.invalid_type,expected:ye.promise,received:t.parsedType}),He;const r=t.parsedType===ye.promise?t.data:Promise.resolve(t.data);return Ur(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}bu.create=(n,e)=>new bu({type:n,typeName:Ue.ZodPromise,...Qe(e)});class Oa extends at{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{me(r,a),a.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return He;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?He:l.status==="dirty"||t.value==="dirty"?Ll(l.value):l});{if(t.value==="aborted")return He;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?He:o.status==="dirty"||t.value==="dirty"?Ll(o.value):o}}if(s.type==="refinement"){const a=o=>{const l=s.refinement(o,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?He:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?He:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Uo(a))return He;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Uo(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:t.value,value:o})):He);lt.assertNever(s)}}Oa.create=(n,e,t)=>new Oa({schema:n,typeName:Ue.ZodEffects,effect:e,...Qe(t)});Oa.createWithPreprocess=(n,e,t)=>new Oa({schema:e,effect:{type:"preprocess",transform:n},typeName:Ue.ZodEffects,...Qe(t)});class Xs extends at{_parse(e){return this._getType(e)===ye.undefined?Ur(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xs.create=(n,e)=>new Xs({innerType:n,typeName:Ue.ZodOptional,...Qe(e)});class Da extends at{_parse(e){return this._getType(e)===ye.null?Ur(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Da.create=(n,e)=>new Da({innerType:n,typeName:Ue.ZodNullable,...Qe(e)});class ku extends at{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ku.create=(n,e)=>new ku({innerType:n,typeName:Ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qe(e)});class yu extends at{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return hu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ti(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ti(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}yu.create=(n,e)=>new yu({innerType:n,typeName:Ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qe(e)});class l0 extends at{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return me(r,{code:re.invalid_type,expected:ye.nan,received:r.parsedType}),He}return{status:"valid",value:e.data}}}l0.create=n=>new l0({typeName:Ue.ZodNaN,...Qe(n)});class M1 extends at{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Rv extends at{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?He:i.status==="dirty"?(t.dirty(),Ll(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?He:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new Rv({in:e,out:t,typeName:Ue.ZodPipeline})}}class _u extends at{_parse(e){const t=this._def.innerType._parse(e),r=s=>(Uo(s)&&(s.value=Object.freeze(s.value)),s);return hu(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}_u.create=(n,e)=>new _u({innerType:n,typeName:Ue.ZodReadonly,...Qe(e)});var Ue;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const et=_i.create,Iv=$o.create,yr=ld.create,d0=_g.create;Ni.create;Cs.create;const $t=ln.create;pu.create;const Gf=jv.create;gu.create;Aa.create;const As=mu.create,b$=Ca.create,ja=vu.create;bu.create;Xs.create;Da.create;const k$="dd.MM.yyyy",y$="MMMM yyyy",L1=[k$,"ddMMyyyy","dd/MM/yyyy","dd-MM-yyyy"];[...L1];const _$=(n,e,t,r)=>{const s=Gg;let i;const a=L1;{for(const o of a)if(i=Xr(n,o,e,{locale:s}),ya(i)&&!c0(n,e,s,a))return i;for(const o of[...a.map(l=>l.replace("yyyy","yy"))])if(i=Xr(n,o,e,{locale:s}),ya(i)&&c0(n,e,s,a)){const l=w$(n,o,e,s);return ya(new Date(l))?new Date(l):new Date("Invalid date")}return new Date("Invalid date")}};function c0(n,e,t,r){let s;const i=r.map(a=>a.replace("yyyy","yy"));for(const a of i)if(s=Xr(n,a,e,{locale:t}),ya(s))return!0;return!1}function w$(n,e,t,r){const s=Xr(u0(n,"19"),e.replace("yy","yyyy"),t,{locale:r}),i=Xr(u0(n,"20"),e.replace("yy","yyyy"),t,{locale:r});return ya(s)&&ya(i)?Vi(s,U_(new Date,{years:80}))?i:s:new Date("Invalid date")}function u0(n,e){const t=n.slice(-2);return`${n.slice(0,n.length-2)}${e}${t}`}const Ra=({field:{disabled:n,name:e,defaultValue:t,required:r=!1,label:s},disabledDays:i})=>{const[a,o]=y.useState(!1),l=()=>o(!1);mv(a,l);const{trigger:d,control:c,setValue:u,clearErrors:h,watch:p}=Wf(),{field:v,fieldState:{error:g}}=ad({control:c,defaultValue:t,name:e}),m=p(e),[b,k]=y.useState(t?rr(t,"dd.M.y"):""),_=x=>{const A=_$(x.target.value,new Date);ya(A)?u(e,A):x.target.value===""?u(e,void 0):u(e,x.target.value),k(x.target.value),(mr(A)||x.target.value==="")&&(l(),h(e))},E=x=>{u(e,x,{shouldDirty:!0}),k(x?rr(x,"dd.M.y"):""),x&&(l(),h(e))},S=()=>{v.onBlur(),d(e),!(!mr(m)||m==="")&&k(rr(m,"dd.M.y"))},T=()=>{o(!a)};return f.jsx("div",{className:"flex",children:f.jsx("div",{onClick:vv,children:f.jsx(ma,{onClose:()=>{o(!1)},onSelect:E,selected:mr(m)?m:void 0,disabled:i,onOpenToggle:T,open:a,children:f.jsx(ma.Input,{disabled:n,className:"flex-1",error:g?.message,label:s??"Dato"+(r?" (obligatorisk)":""),name:e,value:b,onBlur:S,onChange:_,ref:v.ref})})})})},F1=({from:n,to:e,disabledDays:t})=>{const[r,s]=y.useState(!1),i=()=>s(!1);mv(r,i);const{setError:a,clearErrors:o,control:l,setValue:d}=Wf(),{field:c,fieldState:u}=ad({control:l,name:n.name,defaultValue:n.defaultValue??void 0}),{field:h,fieldState:p}=ad({control:l,name:e.name,defaultValue:e.defaultValue??void 0}),[v,g]=y.useState(void 0),m=C=>{C&&((C.from.isValidDate||!n.required&&C.from.isEmpty)&&o([n.name]),(C.to.isValidDate||!e.required&&C.to.isEmpty)&&o(e.name))},b=()=>{v&&(u.isTouched&&!v.from.isEmpty&&v.from.isInvalid&&a(n.name,{message:"Ikke en gyldig dato"}),p.isTouched&&!v.to.isEmpty&&v.to.isInvalid&&a(e.name,{message:"Ikke en gyldig dato"}),m(v))},{datepickerProps:k,toInputProps:_,fromInputProps:E,reset:S,setSelected:T}=k6({defaultSelected:{from:n.defaultValue,to:e.defaultValue},disabled:t,onValidate:C=>{g(C),m(C)},onRangeChange:C=>{C?.to&&d(e.name,hg(C?.to),{shouldDirty:!0}),C?.from&&d(n.name,hg(C?.from),{shouldDirty:!0})}}),x=y.useMemo(()=>(n?.defaultValue?.getTime()||0)+(e?.defaultValue?.getTime()||0),[n.defaultValue,e.defaultValue]);y.useEffect(()=>{S(),T({from:n.defaultValue,to:e.defaultValue})},[x]);const A=C=>{d(n.name,C.target.value)},O=C=>{d(e.name,C.target.value)};return f.jsx("div",{className:"flex",onClick:vv,children:f.jsx(ma,{...k,open:r,onOpenToggle:()=>s(!r),onClose:i,wrapperClassName:"flex flex-1",children:f.jsxs("div",{className:"flex sm:flex-row flex-col gap-4 items-start",children:[f.jsx(ma.Input,{disabled:n.disabled,error:u.error?.message,label:n?.label??`Fra dato ${n.required?"(obligatorisk)":"(valgfri)"}`,...E,name:c.name,onFocus:ao([E.onFocus]),onBlur:ao([c.onBlur,E.onBlur,b,i]),onChange:ao([A,E.onChange]),ref:C=>{c.ref(C)}}),f.jsx(ma.Input,{error:p.error?.message,label:e?.label??`Til dato ${e.required?"(obligatorisk)":"(valgfri)"}`,..._,name:h.name,onFocus:ao([_.onFocus]),onBlur:ao([h.onBlur,_.onBlur,b,i]),onChange:ao([O,_.onChange]),ref:C=>{h.ref(C)}})]})})})};function Nv({aktivitet:n,from:e,to:t}){const r=n?.tilDato?new Date(n.tilDato):t.defaultValue,s=n?.fraDato?new Date(n.fraDato):e.defaultValue;return n&&n.avtalt&&n.fraDato?f.jsxs("div",{className:"flex gap-4",children:[f.jsx(Ra,{field:{...e,disabled:!0,defaultValue:s}}),f.jsx(Ra,{field:{...t,defaultValue:r},disabledDays:[{before:s}]})]}):f.jsx(F1,{from:{defaultValue:s,...e},to:{defaultValue:r,...t}})}function E$(n,e,t){return async(r,s,i)=>{const a=await t(r,s,i);if(!n)return a;const o=Object.entries(a.errors).filter(([d,c])=>e.includes(d)).reduce((d,[c,u])=>({...d,[c]:u}),{});return{values:Object.keys(o).length>0?{}:r,errors:o}}}const S$={BEHANDLING:f.jsxs("div",{className:"mt-4 space-y-4",children:[f.jsx(ie,{children:"Her kan du legge inn medisinsk behandling som pvirker muligheten din til  jobbe eller vre p kurs og tiltak."}),f.jsx(ie,{children:"Eksempler:"}),f.jsxs("ul",{className:"list-disc ml-4",children:[f.jsx("li",{children:"Oppflging hos fastlege"}),f.jsx("li",{children:"Behandling og veiledning hos fysioterapeut"}),f.jsx("li",{children:"Behandling hos psykolog"}),f.jsx("li",{children:" Behandling hos spesialist"})]})]}),EGEN:"Her kan du eller veilederen din legge inn aktiviteter som hjelper deg nr du skal komme i arbeid. Eksempler kan vre  registrere deg hos bemannings- og rekrutteringsbyrer, jobbe godt med CV-en, eller lage oversikt over personer som kan vre nyttig  kontakte nr du er p jakt etter jobb.",GRUPPEAKTIVITET:"Her ser du informasjon om en gruppeaktivitet Nav har meldt deg p",IJOBB:"Her kan du informere om der du jobber n, for eksempel en deltidsjobb eller en midlertidig stilling. Hvis du sender inn meldekort, s m du ogs huske  fre opp de timene du har jobbet p meldekortet.",MOTE:"Nav nsker et mte med deg. Du m gi beskjed s raskt som mulig hvis tidspunktet ikke passer.",SAMTALEREFERAT:"Her finner du referat fra en samtale du har hatt med Nav.",SOKEAVTALE:'Her ser du hvor mange jobber Nav forventer at du sker. Legg inn stillinger du sker p i aktivitetsplanen ved  klikke p "Legg til aktivitet".	',STILLING:"Her kan du legge til informasjon om en stilling du har lyst  ske p. Du kan ogs legge til en stilling du allerede har skt p.",TILTAKSAKTIVITET:"Her finner du informasjon om et tiltak Nav har skt deg inn p. ",UTDANNINGSAKTIVITET:"Her ser du informasjon om en utdanningsaktivitet eller et kurs Nav har registrert at du skal gjennomfre.",STILLING_FRA_NAV:"Nav hjelper en arbeidsgiver med  finne kandidater til en stilling, og tror den kan passe for deg.",EKSTERNAKTIVITET:void 0},V1=({aktivitetstype:n})=>{const e=S$[n];return e?typeof e=="string"?f.jsx("section",{className:"aktivitetingress mt-4",children:f.jsx(Ho,{className:"aktivitetingress__tekst",children:e})}):f.jsx("section",{children:e}):null},za=({aktivitetstype:n})=>f.jsx("div",{className:"mb-8 mt-4",children:f.jsx(V1,{aktivitetstype:n})}),Ms=n=>{const{heading:e,errors:t}=n,r=y.useRef(null);return y.useEffect(()=>{r?.current&&r.current?.focus()},[t]),Object.keys(t).length===0?null:f.jsx(Lc,{ref:r,heading:e||"For  g videre m du rette opp flgende:",children:Object.entries(t).map(([s,i],a)=>{if(i.type===re.custom)return f.jsx(Lc.Item,{children:i.message},a);const o=i.ref?.id??i.ref?.name;return f.jsx(Lc.Item,{href:`#${o}`,children:i.message},a)})})},dl=n=>{const{disabled:e,loading:t=!1}=n,r=W(Dn);return f.jsx(f.Fragment,{children:f.jsx(Ze,{className:"mt-4",loading:t,disabled:e||!r||t,children:"Lagre"})})},x$=n=>n.data.innsynsrett.data,Yf=()=>{const n=W(x$);return!n||!n.foresatteHarInnsynsrett?null:f.jsx(IS,{className:"guidepanel-innsynsrett",poster:!0,children:"Husk at dine foresatte kan be om  f lese det du skriver her."})},T$=$t({tittel:et().min(1,"Du m fylle ut stillingstittel").max(100,"Du m korte ned teksten til 100 tegn"),fraDato:yr({required_error:"Fra dato m vre en gyldig dato",invalid_type_error:"Ikke en gyldig dato"}),tilDato:yr({invalid_type_error:"Ikke en gyldig dato"}).optional().nullable(),jobbStatus:ja(yp,{required_error:"Du m velge heltid eller deltid"}),ansettelsesforhold:et().max(255,"Du m korte ned teksten til 255 tegn").optional().nullable(),arbeidstid:et().max(255,"Du m korte ned teksten til 255 tegn").optional().nullable(),beskrivelse:et().max(5e3,"Du m korte ned teksten til 5000 tegn").optional().nullable()}).superRefine((n,e)=>{n.tilDato&&is(n.fraDato,n.tilDato)&&e.addIssue({path:["tilDato"],code:re.custom,message:"Til dato kan ikke vre fr fra dato"})}),es=n=>{if(n!=null)return new Date(n)},B1=n=>{const{onSubmit:e,dirtyRef:t,aktivitet:r}=n,s=y.useMemo(()=>({tittel:r?.tittel,fraDato:es(r?.fraDato),tilDato:es(r?.tilDato),jobbStatus:r?.jobbStatus,ansettelsesforhold:r?.ansettelsesforhold,arbeidstid:r?.arbeidstid,beskrivelse:r?.beskrivelse}),[r]),i=r?.avtalt||!1,a=jn({defaultValues:s,resolver:Rn(T$),shouldFocusError:!1}),{register:o,setValue:l,handleSubmit:d,watch:c,control:u,formState:{errors:h,isDirty:p,isSubmitting:v}}=a;t&&(t.current=p);const g=c("beskrivelse"),m=c("fraDato"),b=k=>{l("jobbStatus",k,{shouldValidate:!0})};return f.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:d(k=>e(k)),children:f.jsx(Ps,{...a,children:f.jsxs("div",{className:"space-y-8",children:[f.jsx(za,{aktivitetstype:Ae.IJOBB_AKTIVITET_TYPE}),f.jsx(Yf,{}),f.jsx(Gt,{disabled:i,label:"Stillingstittel (obligatorisk)",id:"tittel",...o("tittel"),error:h.tittel&&h.tittel.message}),f.jsxs("div",{className:"grid grid-cols-2",children:[f.jsx(Ra,{field:{disabled:r?.avtalt||!1,name:"fraDato",defaultValue:s.fraDato,label:"Fra dato (obligatorisk)"}}),f.jsx(Ra,{field:{name:"tilDato",defaultValue:s.tilDato||void 0,label:"Til dato (valgfri)"},disabledDays:[{before:m}]})]}),f.jsx(OU,{name:"jobbStatus",control:u,render:()=>f.jsxs(Fi,{defaultValue:s.jobbStatus,disabled:i,id:"jobbStatus",legend:"Stillingsandel (obligatorisk)",onChange:b,error:h.jobbStatus&&h.jobbStatus.message,children:[f.jsx(Vn,{value:yp.HELTID,children:"Heltid"}),f.jsx(Vn,{value:yp.DELTID,children:"Deltid"})]})}),f.jsx(Gt,{disabled:i,label:"Arbeidsgiver (valgfri)",id:"ansettelsesforhold",...o("ansettelsesforhold"),error:h.ansettelsesforhold&&h.ansettelsesforhold.message}),f.jsx(Gt,{disabled:i,label:"Ansettelsesforhold (valgfri)",description:"For eksempel fast, midlertidig, vikariat",id:"arbeidstid",...o("arbeidstid"),error:h.arbeidstid&&h.arbeidstid.message}),f.jsx(Xn,{disabled:i,label:"Kort beskrivelse av stillingen (valgfri)",description:"For eksempel dag, kveld, helg, stillingsprosent eller oppgaver",maxLength:5e3,...o("beskrivelse"),error:h.beskrivelse&&h.beskrivelse.message,value:g||""}),f.jsx(Ms,{errors:h}),f.jsx(dl,{loading:v})]})})})},A$=$t({tittel:et(),fraDato:yr({required_error:"Fra dato m fylles ut",invalid_type_error:"Ikke en gyldig dato"}),tilDato:yr({required_error:"Til dato m fylles ut",invalid_type_error:"Ikke en gyldig dato"}),behandlingType:et().min(1,"Du m fylle ut type behandling").max(100,"Du m korte ned teksten til 100 tegn"),behandlingSted:et().min(1,"Du m fylle ut behandlingssted").max(255,"Du m korte ned teksten til 100 tegn"),effekt:et().max(255,"Du m korte ned teksten til 255 tegn").optional(),behandlingOppfolging:et().max(255,"Du m korte ned teksten til 255 tegn").optional(),beskrivelse:et().max(400,"Du m korte ned teksten til 400 tegn").optional()}).superRefine((n,e)=>{is(n.fraDato,n.tilDato)&&e.addIssue({path:["tilDato"],code:re.custom,message:"Til dato kan ikke vre fr fra dato"})}),C$=Rn(A$),H1=n=>{const{onSubmit:e,dirtyRef:t,aktivitet:r}=n,s={tittel:r?.tittel||"Medisinsk behandling",behandlingType:r?.behandlingType||"",behandlingSted:r?.behandlingSted||"",fraDato:es(r?.fraDato),tilDato:es(r?.tilDato),effekt:r?.effekt||"",beskrivelse:r?.beskrivelse||"",behandlingOppfolging:r?.behandlingOppfolging||""},i=r?.avtalt||!1,a=jn({defaultValues:s,resolver:E$(i,["tilDato"],C$),shouldFocusError:!1}),{register:o,handleSubmit:l,watch:d,formState:{errors:c,isDirty:u,isSubmitting:h}}=a;t&&(t.current=u);const p=d("beskrivelse");return f.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:l(v=>e(v)),children:f.jsx(Ps,{...a,children:f.jsxs("div",{className:"space-y-8",children:[f.jsx(za,{aktivitetstype:Ae.BEHANDLING_AKTIVITET_TYPE}),f.jsx(Yf,{}),f.jsx(Gt,{disabled:i,label:"Type behandling (obligatorisk)",id:"behandlingstype",...o("behandlingType"),error:c.behandlingType&&c.behandlingType.message}),f.jsx(Gt,{disabled:i,label:"Behandlingssted (obligatorisk)",id:"behandlingssted",...o("behandlingSted"),error:c.behandlingSted&&c.behandlingSted.message}),f.jsx(Nv,{aktivitet:r,from:{name:"fraDato",required:!0,label:"Fra dato (obligatorisk)"},to:{name:"tilDato",required:!0,label:"Til dato (obligatorisk)"}}),f.jsx(Gt,{disabled:i,label:"Ml for behandlingen (valgfri)",id:"effekt",...o("effekt"),error:c.effekt&&c.effekt.message}),f.jsx(Gt,{disabled:i,label:"Oppflging fra Nav (valgfri)",id:"behandlingoppfolging",...o("behandlingOppfolging"),error:c.behandlingOppfolging&&c.behandlingOppfolging.message}),f.jsx(Xn,{disabled:i,label:"Kort beskrivelse av behandlingen (valgfri)",maxLength:400,...o("beskrivelse"),error:c.beskrivelse&&c.beskrivelse.message,value:p}),f.jsx(Ms,{errors:c}),f.jsx(dl,{loading:h})]})})})},O$=$t({tittel:et().min(1,"Du m fylle ut navn p aktiviteten").max(100,"Du m korte ned teksten til 100 tegn"),fraDato:yr({required_error:"Fra dato m fylles ut",invalid_type_error:"Ikke en gyldig dato"}),tilDato:yr({required_error:"Til dato m fylles ut",invalid_type_error:"Ikke en gyldig dato"}),hensikt:et().max(255,"Du m korte ned teksten til 255 tegn").optional(),beskrivelse:et().max(5e3,"Du m korte ned teksten til 5000 tegn").optional(),oppfolging:et().max(255,"Du m korte ned teksten til 255 tegn").optional(),lenke:et().max(2e3,"Du m korte ned lenken til 2000 tegn").optional()}).superRefine((n,e)=>{is(n.fraDato,n.tilDato)&&e.addIssue({path:["tilDato"],code:re.custom,message:"Til dato kan ikke vre fr fra dato"})}),f0=(n,e)=>{if(n)return{tittel:n?.tittel||"",fraDato:es(n?.fraDato),tilDato:es(n?.tilDato),hensikt:n?.hensikt||"",beskrivelse:n?.beskrivelse||"",oppfolging:n?.oppfolging||"",lenke:n?.lenke||""};if(e=="ingen")return{tittel:"",fraDato:void 0,tilDato:void 0,hensikt:"",beskrivelse:"",oppfolging:"",lenke:""};{const t=new Date,r=wn(t),s=La(t,8);return{...Sg,fraDato:r,tilDato:s}}},U1=n=>{const{onSubmit:e,dirtyRef:t,aktivitet:r}=n,[s,i]=y.useState("ingen"),a=y.useMemo(()=>f0(r,s),[s,r]),o=r?.avtalt===!0,l=jn({defaultValues:a,resolver:Rn(O$),shouldFocusError:!1}),{register:d,handleSubmit:c,reset:u,watch:h,formState:{errors:p,isDirty:v,isSubmitting:g}}=l;t&&(t.current=v);const m=h("beskrivelse");y.useEffect(()=>{const k=f0(r,s);u(k)},[s]);const b=k=>{i(k.target.value)};return f.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:c(k=>e(k)),children:f.jsx(Ps,{...l,children:f.jsxs("div",{className:"space-y-8",children:[f.jsx(za,{aktivitetstype:Ae.EGEN_AKTIVITET_TYPE}),f.jsx(Yf,{}),r?null:f.jsxs(Zs,{id:"malverk",name:"malverk",label:"Ferdig utfylt aktivitet",value:s,onChange:b,children:[f.jsx("option",{value:"ingen",children:"Ingen ferdig utfylt aktivitet valgt"}),f.jsx("option",{value:Sg.tittel,children:Sg.tittel})]}),f.jsx(Gt,{disabled:o,label:"Navn p aktiviteten (obligatorisk)",id:"tittel",...d("tittel"),error:p.tittel&&p.tittel.message}),f.jsx(F1,{from:{name:"fraDato",required:!0,defaultValue:a.fraDato},to:{name:"tilDato",required:!0,defaultValue:a.tilDato}}),f.jsx(Gt,{disabled:o,label:"Ml med aktiviteten (valgfri)",id:"hensikt",...d("hensikt"),error:p.hensikt&&p.hensikt.message}),f.jsx(Xn,{disabled:o,label:"Kort beskrivelse av aktiviteten (valgfri)",maxLength:5e3,...d("beskrivelse"),error:p.beskrivelse&&p.beskrivelse.message,value:m}),f.jsx(Gt,{disabled:o,label:"Min huskeliste for denne aktiviteten (valgfri)",id:"huskeliste",...d("oppfolging"),error:p.oppfolging&&p.oppfolging.message}),f.jsx(Gt,{disabled:o,label:"Lenke til en aktuell nettside (valgfri)",id:"lenke",...d("lenke"),error:p.lenke&&p.lenke.message}),f.jsx(Ms,{errors:p}),f.jsx(dl,{loading:g})]})})})},Sg={tittel:"Oppdater CV-en og jobbnsker",hensikt:"Tydeliggjre arbeidserfaring og jobbnsker slik at Nav kan bidra til  hjelpe deg ut i jobb",beskrivelse:"Nr du registrerer CV-en din og jobbnskene dine, kan Nav flge deg opp p en bedre mte. CV-en gir oss nyttig informasjon om din kompetanse og dine jobbnsker. Etter avtale med deg, videreformidler Nav relevant informasjon til aktuelle arbeidsgivere og bemanningsbransjen for  hjelpe deg ut i jobb.",lenke:"https://www.nav.no/min-cv"},D$=({avtalt:n,endre:e})=>!n||!e?null:f.jsx(bt,{variant:"warning",className:"mb-8",children:"Husk  sende en dialogmelding til brukeren om endringen du gjr."}),j$=()=>f.jsx("span",{className:"eksternlenkeIkonBoks",children:f.jsx("svg",{className:"EksternLenkeIkon",height:"14px",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",focusable:"false",children:f.jsx("g",{id:"ikon_external_link",fill:"none",fillRule:"evenodd",strokeLinecap:"round",children:f.jsx("g",{id:"LINE/interface/-external-link",transform:"translate(2 2)",stroke:"#0067C5",children:f.jsxs("g",{id:"external-link",children:[f.jsx("path",{d:"M10,7.07712912 L10,8.33333333 C10,9.25380792 9.25380792,10 8.33333333,10 L1.66666667,10 C0.746192084,10 0,9.25380792 0,8.33333333 L0,1.66666667 C0,0.746192084 0.746192084,0 1.66666667,0 L2.94199316,0",id:"Rectangle-6"}),f.jsxs("g",{id:"Group-7",transform:"translate(4)",children:[f.jsx("path",{d:"M0,6 L6,0",id:"Line-6"}),f.jsx("polyline",{id:"Path-2",points:"2.00719286 0 6 0 6 4.06130668"})]})]})})})})}),R$=({kanal:n})=>n===Ss.INTERNET?f.jsxs(ie,{className:"mote-aktivitet-form__video-info",children:["Les om"," ",f.jsxs(tn,{href:"https://navno.sharepoint.com/sites/intranett-it/SitePages/Videom%C3%B8te-med-brukere.aspx",target:"_blank",rel:"noopener noreferrer",children:["rutiner for videomte her ",f.jsx(j$,{})]})]}):null,I$=$t({tittel:et().min(1,"Du m fylle ut tema for mtet").max(100,"Du m korte ned teksten til 100 tegn"),dato:yr({required_error:"Dato m fylles ut",invalid_type_error:"Ikke en gyldig dato"}).min(tm(qg(new Date,1)),"Dato kan ikke vre tilbake i tid"),klokkeslett:et().min(1,"Du m fylle ut klokkeslett"),varighet:Iv({invalid_type_error:"Du m velge varighet"}),kanal:ja(Ss,{errorMap:n=>n.code==="invalid_enum_value"?{message:"Du m velge mteform"}:{message:"Noe har gtt galt"}}),adresse:et().min(1,"Du m fylle ut mtested eller annen praktisk informasjon").max(255,"Du m korte ned teksten til 255 tegn"),beskrivelse:et().min(1,"Du m fylle ut hensikten med mtet").max(5e3,"Du m korte ned teksten til 5000 tegn"),forberedelser:et().max(500,"Du m korte ned teksten til 500 tegn").optional()}),N$=[{minutter:15,tekst:"15 minutter"},{minutter:30,tekst:"30 minutter"},{minutter:45,tekst:"45 minutter"},{minutter:60,tekst:"1 time"},{minutter:90,tekst:"1 time, 30 minutter"},{minutter:120,tekst:"2 timer"},{minutter:150,tekst:"2 timer, 30 minutter"},{minutter:180,tekst:"3 timer"},{minutter:210,tekst:"3 timer, 30 minutter"},{minutter:240,tekst:"4 timer"},{minutter:270,tekst:"4 timer, 30 minutter"},{minutter:300,tekst:"5 timer"},{minutter:330,tekst:"5 timer, 30 minutter"},{minutter:360,tekst:"6 timer"},{minutter:390,tekst:"6 timer, 30 minutter"},{minutter:420,tekst:"7 timer"},{minutter:450,tekst:"7 timer, 30 minutter"}],$1=n=>{const{aktivitet:e,dirtyRef:t,onSubmit:r}=n,s=e?Xx(e):void 0,i={tittel:e?.tittel,klokkeslett:s?.klokkeslett?.replace(".",":"),varighet:s?.varighet,kanal:e?.kanal,adresse:e?.adresse,beskrivelse:e?.beskrivelse,forberedelser:e?.forberedelser??void 0,dato:hg(e?.fraDato)},a=e?.avtalt||!1,o=jn({defaultValues:i,resolver:Rn(I$),shouldFocusError:!1}),{register:l,handleSubmit:d,watch:c,formState:{errors:u,isDirty:h,isSubmitting:p}}=o;t&&(t.current=h);const v=c("beskrivelse"),g=c("forberedelser");return f.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:d(m=>{const{klokkeslett:b,...k}=m;return r({...k,...VB(m),status:Re.PLANLAGT,avtalt:!1})}),children:f.jsx(Ps,{...o,children:f.jsxs("div",{className:"space-y-8",children:[f.jsx(za,{aktivitetstype:Ae.MOTE_TYPE}),f.jsx(D$,{avtalt:a,endre:!!e}),f.jsx(Gt,{disabled:a,label:"Tema for mtet (obligatorisk)",id:"tittel",...l("tittel"),error:u.tittel&&u.tittel.message}),f.jsxs("div",{className:"flex sm:flex-row flex-col gap-4",children:[f.jsx(Ra,{disabledDays:[{before:new Date}],field:{name:"dato",required:!0,defaultValue:es(e?.fraDato)}}),f.jsx(Gt,{label:"Klokkeslett (obligatorisk)",...l("klokkeslett"),type:"time",error:u.klokkeslett&&u.klokkeslett.message})]}),f.jsxs(Zs,{label:"Varighet (obligatorisk)",...l("varighet",{valueAsNumber:!0}),error:u.varighet&&u.varighet.message,children:[f.jsx("option",{value:"",children:"Velg varighet"}),N$.map(m=>f.jsx("option",{value:m.minutter,children:m.tekst},m.minutter))]}),f.jsxs(Zs,{label:"Mteform (obligatorisk)",...l("kanal"),error:u.kanal&&u.kanal.message,children:[f.jsx("option",{value:"",children:"Velg mteform"}),f.jsx("option",{value:Ss.OPPMOTE,children:"Oppmte"}),f.jsx("option",{value:Ss.TELEFON,children:"Telefonmte"}),f.jsx("option",{value:Ss.INTERNET,children:"Videomte"})]}),f.jsx(R$,{kanal:c("kanal")}),f.jsx(Gt,{label:"Mtested eller annen praktisk informasjon (obligatorisk)",id:"adresse",...l("adresse"),error:u.adresse&&u.adresse.message}),f.jsx(Xn,{disabled:a,label:"Hensikt med mtet (obligatorisk)",maxLength:5e3,...l("beskrivelse"),error:u.beskrivelse&&u.beskrivelse.message,value:v}),f.jsx(Xn,{disabled:a,label:"Forberedelser til mtet (valgfri)",maxLength:500,...l("forberedelser"),error:u.forberedelser&&u.forberedelser.message,value:g}),f.jsx(Ms,{errors:u}),f.jsx(dl,{loading:p})]})})})};var h0={exports:{}},Al={};var p0;function P$(){if(p0)return Al;p0=1;var n=w,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,d){var c,u={},h=null,p=null;d!==void 0&&(h=""+d),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(c in l)r.call(l,c)&&!i.hasOwnProperty(c)&&(u[c]=l[c]);if(o&&o.defaultProps)for(c in l=o.defaultProps,l)u[c]===void 0&&(u[c]=l[c]);return{$$typeof:e,type:o,key:h,ref:p,props:u,_owner:s.current}}return Al.Fragment=t,Al.jsx=a,Al.jsxs=a,Al}var g0;function M$(){return g0||(g0=1,h0.exports=P$()),h0.exports}var N=M$();let m0=0;function L$(n){const[e,t]=y.useState(n),r=n||e;return y.useEffect(()=>{e==null&&(m0+=1,t(`aksel-icon-${m0}`))},[e]),r}const v0=w.useId;function F$(n){var e;return v0!==void 0?v0().replace(/(:)/g,""):(e=L$(n))!==null&&e!==void 0?e:""}var V$=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Pi=y.forwardRef((n,e)=>{var{title:t,titleId:r}=n,s=V$(n,["title","titleId"]);let i=F$();return i=t?r||"title-"+i:void 0,y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":i},s),t?y.createElement("title",{id:i},t):null,y.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.532 3.471A.75.75 0 0 1 20.75 4v7.5a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H12.5a.75.75 0 0 1 0-1.5H20c.206 0 .393.083.529.218l.001.002zM4.75 9A.25.25 0 0 1 5 8.75h7a.75.75 0 0 0 0-1.5H5A1.75 1.75 0 0 0 3.25 9v10c0 .966.784 1.75 1.75 1.75h10A1.75 1.75 0 0 0 16.75 19v-7a.75.75 0 0 0-1.5 0v7a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25z",clipRule:"evenodd"}))}),K1=n=>n.replaceAll("Kopier lenke","").split(`
`).map(e=>e.length>0&&![".",":","!","?"].includes(e.slice(-1))?e+".":e).join(`
`).split(/\n/).sort((e,t)=>t.replace(/([.?!])\s*(?=[A-Z])/g,"$1|").split("|").length-e.replace(/([.?!])\s*(?=[A-Z])/g,"$1|").split("|").length).reduce((e,t)=>t.replace(/([.?!])\s*(?=[A-Z])/g,"$1|").split("|").length>=4?[...e,t]:[...e],[]);function B$({value:n}){const e=K1(n);if(e.length===0)return null;const[t,r]=y.useState(1),s=/^[^.!?]*[.!?]/,i=3,a=t*i,o=a-i,l=Object.entries(e).slice(o,a).map(c=>({index:parseInt(c[0]),paragraph:c[1],firstSentence:c[1].match(s)[0],sentencesInParagraph:c[1].replace(/([.?!])\s*(?=[A-Z])/g,"$1|").split("|").length})),d=Math.ceil(e.length/i);return N.jsx(N.Fragment,{children:N.jsxs(ue.Item,{children:[N.jsxs(ue.Header,{children:[e.length," ",e.length===1?N.jsx(N.Fragment,{children:"langt avsnitt"}):N.jsx(N.Fragment,{children:"lange avsnitt"})]}),N.jsxs(ue.Content,{children:[N.jsx(ie,{spacing:!0,children:"Et avsnitt br ha ett hovedbudskap og ikke ha mer enn to til tre setninger."}),N.jsx(ie,{spacing:!0,children:l.map(c=>{const{paragraph:u,sentencesInParagraph:h,firstSentence:p,index:v}=c,g=p.substring(0,15)+"... ("+h+" setninger)";return N.jsx(Pr,{header:g,children:u},v)})}),N.jsxs(ie,{children:["Kilde:"," ",N.jsxs(tn,{target:"_blank",href:"https://aksel.nav.no/artikkel/sprakarbeid?tema=innholdsarbeid",children:["Aksel",N.jsx(Pi,{})]})]}),e.length>i&&N.jsx(Id,{page:t,onPageChange:r,count:d,size:"small",siblingCount:0,boundaryCount:1})]})]})})}const z1=n=>n.replaceAll("Kopier lenke","").split(`
`).map(e=>e.length>0&&![".",":","!","?","*"].includes(e.slice(-1))?e+".":e).join(`
`).replace(/([.?!":*])\s*(?=[A-Z.*"\-\d\n])/g,"$1|").split("|").sort((e,t)=>t.split(/\s+/).length-e.split(/\s+/).length).reduce((e,t)=>t.split(/\s+/).length>=21?[...e,t]:[...e],[]);function H$({value:n}){const e=z1(n);if(e.length===0)return null;const[t,r]=y.useState(1),s=3,i=t*s,a=i-s,o=Object.entries(e).slice(a,i),l=Math.ceil(e.length/s);return N.jsx(N.Fragment,{children:N.jsxs(ue.Item,{children:[N.jsxs(ue.Header,{children:[e.length," ",e.length===1?N.jsx(N.Fragment,{children:"lang setning"}):N.jsx(N.Fragment,{children:"lange setninger"})]}),N.jsxs(ue.Content,{children:[N.jsx(ie,{spacing:!0,children:"Iflge studier kan setninger med over 20 ord anses som vanskelige  lese."}),N.jsx(ie,{spacing:!0,children:o.map(d=>{const c=d[1].substring(0,15)+"... ("+d[1].split(/\s+/).length+" ord)";return N.jsx(Pr,{header:c,children:d[1]},d[0])})}),N.jsxs(ie,{spacing:!0,children:["Kilde:"," ",N.jsxs(tn,{target:"_blank",href:"https://strainindex.wordpress.com/2012/04/30/longer-the-sentence-greater-the-strain/",children:["Nirmaldasan",N.jsx(Pi,{})]})]}),e.length>s&&N.jsx("div",{children:N.jsx(Id,{page:t,onPageChange:r,count:l,size:"small",siblingCount:0,boundaryCount:1})})]})]})})}const W1=n=>n.replaceAll("Kopier lenke","").replaceAll("/"," / ").replaceAll(/(.*)\.+[A-Za-z]{2,6}/g,"").replaceAll(/http(.*)/g,"").split(`
`).map(e=>e.length>0&&![".",":","!","?"," "].includes(e.slice(-1))?e+".":e).join(`
`).toLowerCase().split(/\s+/).map(e=>e.replace(/[.,:?()!"]+/g,"")).filter(e=>!e.match(/\d/)).filter(e=>!e.match(/[-_>]/)).reduce((e,t)=>e.includes(t)?[...e]:[...e,t],[]).filter(e=>e.length>=7).sort((e,t)=>t.length-e.length);function U$({value:n}){const e=W1(n);if(e.length===0)return null;const[t,r]=y.useState(1),s=10,i=t*s,a=i-s,o=Object.entries(e).slice(a,i),l=Math.ceil(e.length/s);return N.jsxs(ue.Item,{children:[N.jsxs(ue.Header,{children:[e.length===1?N.jsx(N.Fragment,{children:"1 unikt langt"}):N.jsxs(N.Fragment,{children:[e.length," unike lange"]})," ord"]}),N.jsxs(ue.Content,{children:[N.jsx(Ve,{spacing:!0,level:"3",size:"xsmall",children:"Velg korte og enkle ord"}),"Iflge lesbarhetsindeksen Liks anses ord med over seks bokstaver som lange -"," ",N.jsxs(tn,{target:"_blank",href:"https://no.wikipedia.org/wiki/Lesbarhetsindeks",children:["Wikipedia",N.jsx(Pi,{})]}),N.jsx(Ve,{spacing:!0,level:"3",size:"xsmall",children:"Ord med over seks bokstaver"}),N.jsx("div",{children:N.jsxs(It,{zebraStripes:!0,size:"small",children:[N.jsx(It.Header,{children:N.jsxs(It.Row,{children:[N.jsx(It.HeaderCell,{scope:"col",children:"Ord"}),N.jsx(It.HeaderCell,{scope:"col",children:"Bokstaver"})]})}),N.jsx(It.Body,{children:o.map(d=>N.jsxs(It.Row,{children:[N.jsx(It.HeaderCell,{scope:"row",children:d[1]}),N.jsx(It.DataCell,{children:d[1].length})]},d[0]))})]})}),e.length>s&&N.jsx("div",{children:N.jsx(Id,{page:t,onPageChange:r,count:l,size:"small",siblingCount:0,boundaryCount:1})})]})]})}const G1=n=>{var e;return((e=n.replaceAll("Kontakt","").replaceAll(/\d+(?: \d+)/g,"").toLowerCase().match(/\b(\w{2,5})\s+\1\b/g))==null?void 0:e.map(t=>t))??[]};function $$({value:n}){const e=G1(n);return e.length===0?null:N.jsxs(ue.Item,{children:[N.jsx(ue.Header,{children:e.length===1?N.jsx(N.Fragment,{children:"1 gjentakelse av like ord"}):N.jsxs(N.Fragment,{children:[e.length," gjentakelser av like ord"]})}),N.jsxs(ue.Content,{children:[N.jsx(ie,{spacing:!0,children:" Like ord som er gjentatt etter hverandre: "}),N.jsx(Mn,{children:e.map((t,r)=>N.jsxs(Mn.Item,{children:['"',t,'"']},r))})]})]})}const K$=JSON.parse('[{"id":"1","ord":"abnorm","bruk":"1","bokmaal":"Abnorm ble tidligere brukt om mennesker man mente var avvikende fra flertallet. Det ble skilt mellom ndelig abnorme og andre abnorme. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"2","ord":"blindehund","bruk":"1","bokmaal":"Bruk heller frerhund. Hunden er utdannet til  fre en person med synshemminger, derfor er det mer korrekt  bruke betegnelsen frerhund. Blindehund er et ord som ikke skal brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"3","ord":"blindeskrift","bruk":"1","bokmaal":"Bruk heller punktskrift. Punktskrift viser direkte til hvordan skrifttypen er bygget opp, nemlig med opphyde punkter. Blindeskrift skal ikke brukes som begrep. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"4","ord":"blindestokk","bruk":"1","bokmaal":"Bruk heller Hvit stokk eller mobilitetsstokk. Blindestokk skal ikke brukes som begrep. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"6","ord":"brukere","bruk":"2","bokmaal":"Skal bare brukes nr det henvises til hva man er bruker av, ikke som synonym/alternativ til ordet funksjonshemmet. Ordet bruker kan oppleves som stigmatiserende. Bruk gjerne person, menneske, eller navnet p vedkommende. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"7","ord":"bundet til rullestolen","bruk":"1","bokmaal":"Uttrykket bundet/lenket til rullestolen formidler en holdning om bruk av hjelpemidler som noe tragisk. Bruk heller sitter i rullestol, bruker rullestol, fr hjelp av rullestolen eller lignende. Uttrykket bundet/lenket til rullestolen skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"8","ord":"lenket til rullestolen","bruk":"1","bokmaal":"Uttrykket bundet/lenket til rullestolen formidler en holdning om bruk av hjelpemidler som noe tragisk. Bruk heller sitter i rullestol, bruker rullestol, fr hjelp av rullestolen eller lignende. Uttrykket bundet/lenket til rullestolen skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"9","ord":"de funksjonshemmede","bruk":"2","bokmaal":"Funksjonshemmede er en stor og variert gruppe. Det er best  spesifisere hvem man snakker om.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"10","ord":"dverg","bruk":"1","bokmaal":"Tidligere ble betegnelsen dverg brukt om kortvokste, spesielt om mennesker med diagnosen akondroplasi. I dag anses betegnelsen som svrt nedverdigende og skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"11","ord":"dv","bruk":"2","bokmaal":" vre dv vil si at man ikke hrer lyd og tale, eller at man hrer veldig lite. De fleste dve bruker tegnsprk og opplever at de tilhrer en sprklig/kulturell gruppe med liten vekt p selve hrselshemmingen. For mange er dvheten mer en identitetsmarkr.  Dv blir av enkelte brukt som adjektiv eller adverb (dvt) om noe som er kjedelig, tregt eller uattraktivt, og i denne betydningen skal ordet ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"12","ord":"dvesprk","bruk":"1","bokmaal":"Sprket heter tegnsprk. Begrepet dvesprk skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"13","ord":"dvetolk","bruk":"1","bokmaal":"Det heter tegnsprktolk. Begrepet dvetolk skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"14","ord":"dvstum","bruk":"1","bokmaal":"Nesten ingen dve er stumme (uten taleevne). Begrepet oppleves av mange dve som negativt fordi det gir et inntrykk av at dve ikke kan produsere meningsbrende ytringer, noe som er fullt mulig p tegnsprk. Begrepet dvstum skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"15","ord":"evneveik","bruk":"1","bokmaal":"Betegnelsen evneveik ble brukt fram til 1960-tallet om mennesker med kognitiv utviklingshemming. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"16","ord":"funksjonsfrisk","bruk":"2","bokmaal":"Begrepet blir ofte brukt som motpol til funksjonshemmet, men kan bli oppfattet som sttende fordi det motsatte av det  vre frisk, er  vre syk.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"17","ord":"gladjenta","bruk":"1","bokmaal":" Kreative adjektiv blir av og til brukt om utviklingshemmede. Kan oppleves som umyndiggjrende maktsprk. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"18","ord":"gladgutten","bruk":"1","bokmaal":"Kreative adjektiv blir av og til brukt om utviklingshemmede. Kan oppleves som umyndiggjrende maktsprk. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"19","ord":"handikappet","bruk":"2","bokmaal":"Handikappet ble tidligere brukt ved omtale av mennesker med fysisk funksjonshemming. Dette er et begrep som ikke br benyttes om personer, siden det kan bli oppfattet som nedsettende. Ordet blir derimot brukt i ulike sammensetninger som HC-parkering, handikaptoalett, Handikapforbundet osv.    ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"20","ord":"hemma","bruk":"2","bokmaal":"Hemma er en nedsettende betegnelse p det  ha en utviklingshemming eller funksjonsnedsettelse, og ordet br ikke brukes om personer og grupper. Derimot er det greit  bruke begrepet nr det er snakk om  vre hemma/hemmet i betydningene hindret, lagt bnd p i forhold til noe. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"21","ord":"hjelpesls","bruk":"2","bokmaal":"Hjelpels er en nedsettende betegnelse p det  ha en utviklingshemming eller funksjonsnedsettelse, og ordet br ikke brukes om personer og grupper. Derimot er det greit  bruke begrepet ellers. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"22","ord":"hjerneskade","bruk":"2","bokmaal":"En felles betegnelse for skader p hjernen. Man kan vre fdt med en hjerneskade eller f den senere i livet. Ordet hjerneskadet skal ikke brukes som nedsettende adjektiv. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"23","ord":"invalid","bruk":"1","bokmaal":"Invalid er et utdatert ord som signaliserer at personer med nedsatt funksjonsevne har mindre verdi enn andre. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"24","ord":"krpling","bruk":"1","bokmaal":"Krpling er et nedsettende og sttende begrep som blir brukt om personer med nedsatt funksjonsevne. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"25","ord":"mongo","bruk":"1","bokmaal":"Mongo er et slanguttrykk for mongoloid, som tidligere var en betegnelse p personer med Downs syndrom. Betegnelsen oppleves i dag svrt nedsettende. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"26","ord":"mongoloid","bruk":"1","bokmaal":"Mongo er et slanguttrykk for mongoloid, som tidligere var en betegnelse p personer med Downs syndrom. Betegnelsen oppleves i dag svrt nedsettende. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"27","ord":"psykisk utviklingshemming","bruk":"1","bokmaal":"I helseforvaltningen blir begrepet psykisk utviklingshemming fremdeles brukt som en spesifikk diagnoseterm, men det kan vre misvisende, da det ikke er snakk om psykisk helse. Begrepet kan oppleves som krenkende og upresist. Skal ikke brukes. Foresltt alternativ: utviklingshemming / utviklingshemmet.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"28","ord":"psykisk utviklingshemmet","bruk":"1","bokmaal":"I helseforvaltningen blir begrepet psykisk utviklingshemming fremdeles brukt som en spesifikk diagnoseterm, men det kan vre misvisende, da det ikke er snakk om psykisk helse. Begrepet kan oppleves som krenkende og upresist. Skal ikke brukes. Foresltt alternativ: utviklingshemming / utviklingshemmet.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"29","ord":"psykopat","bruk":"1","bokmaal":"En psykopat er en person som lider av varig personlighets- og karakterforstyrrelse, oftest kjennetegnet av mangelfull kontroll av driftsimpulser, flelseskulde og manglende evne til lojalitet og identifikasjon med andre. I allmennsprket er ordet brukt dels som skjellsord og dels i en videre betydning enn den medisinske. Det skal ikke brukes slik i NRK. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"30","ord":"sinnssyk","bruk":"1","bokmaal":"Begrepet ble tidligere brukt om personer med psykiske diagnoser. I dag blir ordet ofte brukt forsterkende. Skal ikke brukes ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"31","ord":"spesielle behov","bruk":"2","bokmaal":"Hvis en person som lever med funksjonsnedsettelse trenger hjelp eller tilrettelegging, sier man ofte at personen har spesielle behov.  Men behovene er som regel ikke s spesielle, som  spise, kle p seg, lese e-post og lignende. Det som varierer, er hvilke verkty, virkemidler og lsninger man benytter for  fylle ulike behov. Det at man stadig understreker at noen har spesielle behov, kan bidra til at personen fler seg utenfor og er en belastning. Beskriv heller det aktuelle behovet.   ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"32","ord":"tilrettelegging","bruk":"2","bokmaal":"Tilrettelegging, det  legge til rette, er  planlegge eller tilpasse produkter og tjenester til en gruppe eller til enkeltpersoner. Hensikten med tilrettelegging er  gjre det mulig for en person eller en gruppe  klare seg selv uten bistand. Tilrettelegging kan vre  kjpe et spesialtastatur til en ansatt eller  tilby bestilling av flybilletter over telefon for dem som ikke klarer  gjre det over nett.  Det er bedre  bruke begrepet tilgjengelighet eller universell utforming der det er mulig.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"33","ord":"tunghrt","bruk":"2","bokmaal":"Dette er en folkelig betegnelse om dem som hrer drlig eller som begynner  hre drlig. Noen oppfatter begrepet nedsettende, og det kan gi assosiasjoner til det  ha kognitive utfordringer. Bruk gjerne begreper som nedsatt hrsel eller liknende.     ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"34","ord":"ufr","bruk":"2","bokmaal":"Ufr ble tidligere brukt for  beskrive personer med nedsatt funksjonsevne. Begrepet brukes i dag i forbindelse med arbeidsevne, for eksempel medisinsk ufrhet, ufrepensjon og ufretrygd. Ufr skal ikke brukes som en generell merkelapp p personer med funksjonsnedsettelse.   ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"35","ord":"vanfr","bruk":"1","bokmaal":"Nedsettende gammelt uttrykk om personer med bevegelseshemming. Skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"36","ord":"vansiret","bruk":"1","bokmaal":"Tidligere brukt om kroppsdel som var skadet, delagt eller ansett som stygg. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"37","ord":"yrkeshemmet","bruk":"1","bokmaal":"Tidligere brukt som et alternativ/synonym til ordet funksjonshemmet. Skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"38","ord":"ndssvak","bruk":"1","bokmaal":"Frem til 1960-tallet brukt om mennesker med utviklingshemming . Skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"39","ord":"mulatt","bruk":"1","bokmaal":"Ordet oppfattes ofte nedsettende og ekskluderende og br unngs.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"40","ord":"muslimsk utseende","bruk":"1","bokmaal":"Muslimer i Norge kommer fra mange forskjellige land og ser svrt forskjellige ut. Vr mer presis.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"41","ord":"neger","bruk":"1","bokmaal":"Ordet oppfattes ofte nedsettende og ekskluderende og br unngs.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"42","ord":"omreisende","bruk":"1","bokmaal":"Br unngs i norsk sammenheng, men i enkelte situasjoner der vi omtaler f.eks. britiske romer (sigynere) som nsker  bli kalt reisende, kan begrepet likevel brukes.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"43","ord":"omstreifer","bruk":"1","bokmaal":"Br unngs i norsk sammenheng, men i enkelte situasjoner der vi omtaler f.eks. britiske romer (sigynere) som nsker  bli kalt reisende, kan begrepet likevel brukes.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"44","ord":"politisk asyl","bruk":"1","bokmaal":"Bruk bare asyl. Juridisk sett er det ingenting som heter politisk asyl. Behovet for vern er det sentrale, ikke grunnlaget for at man risikerer forflgelse.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"45","ord":"romfolk","bruk":"1","bokmaal":"Romfolk er en kunstig konstruksjon, som kan bli oppfattet negativt. Begrepet har oppsttt fordi mange har vrt usikre p hvordan ordet rom skal byes. Det er ikke snakk om en helhetlig gruppe, men ulike folkegrupper. Bruk heller flertallsformen av ordet rom (en rom - romen - romer - romene).","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"46","ord":"utenlandsk bakgrunn","bruk":"1","bokmaal":"Helt upresist. Vr s konkret som mulig.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"47","ord":"utenlandsk opprinnelse","bruk":"1","bokmaal":"Helt upresist. Vr s konkret som mulig.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"48","ord":"utenlandsk utseende","bruk":"1","bokmaal":"Helt upresist. Vr s konkret som mulig.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"49","ord":"vre nye landsmenn","bruk":"1","bokmaal":"Brukes stort sett ironisk og anbefales ikke.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"50","ord":"andregenerasjons innvandrer","bruk":"1","bokmaal":"Den primre identiteten til noen som er fdt og oppvokst i Norge er gjerne norsk, og det blir derfor feil  kalle vedkommende en andregenerasjons innvandrer.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"51","ord":"tredjegenerasjons innvandrer","bruk":"1","bokmaal":"Den primre identiteten til noen som er fdt og oppvokst i Norge er gjerne norsk, og det blir derfor feil  kalle vedkommende en andregenerasjons innvandrer.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"52","ord":"eksotisk","bruk":"1","bokmaal":"Mange forbinder noe positivt med begrepet, men det er subjektivt og upresist. Vr mer konkret.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"53","ord":"etnisk opprinnelse","bruk":"1","bokmaal":"Er et meningslst begrep. Vi har alle etnisk opprinnelse.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"54","ord":"fargerik","bruk":"1","bokmaal":"Er meningslse begreper nr de brukes om mennesker eller en forsamling av individer.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"55","ord":"fremmedkulturell","bruk":"1","bokmaal":"Disse begrepene er i utgangspunktet negative fordi de brukes til  skape distanse eller  ekskludere. Bruken av fremmedsprklig om barn med et annet morsml enn norsk, skal erstattes av flersprklig. I stedet for asiatiske fremmedarbeidere, br man bruke asiatiske arbeidere. Men: Fremmedsprk brukes fortsatt om valg av undervisning i sprk som tysk, spansk, fransk.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"56","ord":"fremmedsprklig","bruk":"1","bokmaal":"Disse begrepene er i utgangspunktet negative fordi de brukes til  skape distanse eller  ekskludere. Bruken av fremmedsprklig om barn med et annet morsml enn norsk, skal erstattes av flersprklig. I stedet for asiatiske fremmedarbeidere, br man bruke asiatiske arbeidere. Men: Fremmedsprk brukes fortsatt om valg av undervisning i sprk som tysk, spansk, fransk.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"57","ord":"fremmedarbeider","bruk":"1","bokmaal":"Disse begrepene er i utgangspunktet negative fordi de brukes til  skape distanse eller  ekskludere. Bruken av fremmedsprklig om barn med et annet morsml enn norsk, skal erstattes av flersprklig. I stedet for asiatiske fremmedarbeidere, br man bruke asiatiske arbeidere. Men: Fremmedsprk brukes fortsatt om valg av undervisning i sprk som tysk, spansk, fransk.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"58","ord":"innvandringsmilj","bruk":"1","bokmaal":"Lite presist, bruk andre begreper. Husk at ogs svenske kvinner bosatt i Norge er innvandrerkvinner.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"59","ord":"innvandringsbefolkning","bruk":"1","bokmaal":"Lite presist, bruk andre begreper. Husk at ogs svenske kvinner bosatt i Norge er innvandrerkvinner.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"60","ord":"innvandringskvinner","bruk":"1","bokmaal":"Lite presist, bruk andre begreper. Husk at ogs svenske kvinner bosatt i Norge er innvandrerkvinner.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"61","ord":"kvoteflykning","bruk":"1","bokmaal":"Er en overfringsflyktning (se egen definisjon). Begrepet kvoteflyktning er utdatert.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"}]'),z$=JSON.parse('[{"kanselliord":"anbringe","alternativ_1":"sette, legge, plassere, feste","alternativ_2":"@"},{"kanselliord":"anbringelse","alternativ_1":"plassering","alternativ_2":"@"},{"kanselliord":"anfre","alternativ_1":"oppgi, fre opp","alternativ_2":"vise til, bemerke, nevne, ppeke; hevde, argumentere med"},{"kanselliord":"anfrsel","alternativ_1":"merknad, opplysning, pstand; innvending, ankepunkt","alternativ_2":"@"},{"kanselliord":"angjeldende","alternativ_1":"vedkommende, den det gjelder, de(n) aktuelle, denne, dette","alternativ_2":"@"},{"kanselliord":"angende","alternativ_1":"om","alternativ_2":"@"},{"kanselliord":"anses som","alternativ_1":"regnes som","alternativ_2":"@"},{"kanselliord":"anvendelse","alternativ_1":"bruk","alternativ_2":"@"},{"kanselliord":"avgi","alternativ_1":"Ofte: gi (fra seg)","alternativ_2":"@"},{"kanselliord":"avhende","alternativ_1":"avst fra, skille seg av med ved salg; selge; overfre, overdra","alternativ_2":"@"},{"kanselliord":"avhending","alternativ_1":"salg (det at noe skifter eier, oftest ved kjp og salg)","alternativ_2":"@"},{"kanselliord":"befatning","alternativ_1":"Ofte: tilknytning, medansvar","alternativ_2":"@"},{"kanselliord":"befordre","alternativ_1":"frakte, transportere","alternativ_2":"@"},{"kanselliord":"befordring","alternativ_1":"frakt, transport","alternativ_2":"@"},{"kanselliord":"befye","alternativ_1":"rde over, ha rderett over, ha fullmakt til","alternativ_2":"@"},{"kanselliord":"befyelse","alternativ_1":"grunn, berettigelse","alternativ_2":"(del av) rettighet, rett til  r over (greie med, gjennomfre. Ofte: fullmakt, mandat, anledning. I noen sammenhenger: kompensasjon"},{"kanselliord":"begjre","alternativ_1":"anmode om, be om; kreve, gjre krav p","alternativ_2":"@"},{"kanselliord":"begjring","alternativ_1":"anmodning; krav","alternativ_2":"@"},{"kanselliord":"begunstige","alternativ_1":"tilgodese, gi fordeler","alternativ_2":"@"},{"kanselliord":"begunstigelse","alternativ_1":"fordel, srrett, velvilje","alternativ_2":"@"},{"kanselliord":"bekjentgjre","alternativ_1":"kunngjre, gjre kjent","alternativ_2":"@"},{"kanselliord":"beliggende","alternativ_1":"som ligger, som holder til","alternativ_2":"@"},{"kanselliord":"besiktige","alternativ_1":"ta i yesyn for  kontrollere, underske","alternativ_2":"@"},{"kanselliord":"besiktigelse","alternativ_1":"ettersyn, underskelse, kontroll","alternativ_2":"@"},{"kanselliord":"besitte","alternativ_1":"ha (til rdighet), sitte inne med. I visse tilfeller: ha p seg eller hos seg.","alternativ_2":"@"},{"kanselliord":"komme i besittelse av","alternativ_1":"blir eier av","alternativ_2":"@"},{"kanselliord":"vre i besittelse av","alternativ_1":"ha, eie","alternativ_2":"@"},{"kanselliord":"ta i besittelse","alternativ_1":"ta, overta","alternativ_2":"@"},{"kanselliord":"for besittelse av","alternativ_1":"Eksempel: Han ble arrestert fordi han hadde narkotika p seg / hos seg.","alternativ_2":"@"},{"kanselliord":"beskaffenhet","alternativ_1":"slag, art, type, karakter","alternativ_2":"@"},{"kanselliord":"beskikke","alternativ_1":"utnevne, oppnevne","alternativ_2":"@"},{"kanselliord":"beskikkelse","alternativ_1":"utnevning, oppnevning","alternativ_2":"@"},{"kanselliord":"besrge","alternativ_1":"srge for  utfre noe, ordne med, ta hnd om, pta seg","alternativ_2":"@"},{"kanselliord":"bevirke","alternativ_1":"fre til, forrsake; f i stand, f til","alternativ_2":"@"},{"kanselliord":"bortta","alternativ_1":"fjerne (urettmessig), ta med seg (uten lov)","alternativ_2":"@"},{"kanselliord":"erlegge","alternativ_1":"betale","alternativ_2":"@"},{"kanselliord":"erleggelse","alternativ_1":"betaling","alternativ_2":"@"},{"kanselliord":"erverv","alternativ_1":"inntektsgivende arbeid; yrke","alternativ_2":"anskaffelse, det  skaffe seg. Ofte: kjpe. "},{"kanselliord":"erverve","alternativ_1":"skaffe (seg), anskaffe, tilegne (seg), f. Ofte: kjpe. I noen sammenhenger: tjene.","alternativ_2":"@"},{"kanselliord":"etterleve","alternativ_1":"flge, rette seg etter, lyde","alternativ_2":"@"},{"kanselliord":"finne  ","alternativ_1":"Ofte: kunne, ville, finne grunnlag for","alternativ_2":"@"},{"kanselliord":"forefinnes","alternativ_1":"finnes, vre","alternativ_2":"@"},{"kanselliord":"foregi","alternativ_1":"opplyse noe usannferdig (som grunn, unnskyldning), pst, hevde (uten grunn), gi seg ut for ( vre), bruke som pskudd, pst","alternativ_2":"@"},{"kanselliord":"forehavende","alternativ_1":"gjreml, handling, forml, oppgave, plan","alternativ_2":"@"},{"kanselliord":"foreholde noen noe","alternativ_1":"gjre noen kjent med noe, ppeke (noe betenkelig, uheldig), fortelle noen noe, gjre oppmerksom p (gjerne med et snev av irettesettelse eller advarsel)","alternativ_2":"@"},{"kanselliord":"foreleggelse","alternativ_1":"Ofte: varsel, orientering","alternativ_2":"@"},{"kanselliord":"foreligge","alternativ_1":"Ofte: finnes, vre, eksistere","alternativ_2":"@"},{"kanselliord":"foreliggende","alternativ_1":"Ofte: den aktuelle, dette, denne, disse, som finnes","alternativ_2":"@"},{"kanselliord":"forest","alternativ_1":"st for; lede; srge for","alternativ_2":"@"},{"kanselliord":"forevise","alternativ_1":"vise (frem)","alternativ_2":"@"},{"kanselliord":"forfye over","alternativ_1":"rde over, disponere over; forvalte, bruke","alternativ_2":"@"},{"kanselliord":"forfyning","alternativ_1":"rderett, rdighet","alternativ_2":"bestemmelse; tiltak; vedtak"},{"kanselliord":"formentlig","alternativ_1":"antatt, psttt","alternativ_2":"antakelig, trolig"},{"kanselliord":"forsendelse","alternativ_1":"sending","alternativ_2":"@"},{"kanselliord":"forsorg","alternativ_1":"hjelp; i visse sammenhenger: det  srge for; bekostning. Merk: Det er bedre  skrive om.","alternativ_2":"@"},{"kanselliord":"for s vidt gjelder","alternativ_1":"nr det gjelder, for","alternativ_2":"@"},{"kanselliord":"for s vidt som","alternativ_1":"i og med (at), fordi, siden","alternativ_2":"@"},{"kanselliord":"fravike","alternativ_1":"I visse sammenhenger: avst fra, gi avkall p, forlate, flytte fra","alternativ_2":"@"},{"kanselliord":"fravikelse","alternativ_1":"I visse sammenhenger: avstelse, det  forlate. Ofte: utkastelse, flytting.","alternativ_2":"@"},{"kanselliord":"fremg","alternativ_1":"Ofte: vre, st (om noe i tekst), omtales","alternativ_2":"@"},{"kanselliord":"fremholde","alternativ_1":"ppeke, fremheve, gjre oppmerksom p","alternativ_2":"@"},{"kanselliord":"fremkomme","alternativ_1":"komme frem, oppst; i visse sammenhenger: vre (med). Merk: Noen ganger kan dette verbet slyfes, jf. to av eksemplene nedenfor.","alternativ_2":"@"},{"kanselliord":"fullbyrde","alternativ_1":"fullfre, sette i verk","alternativ_2":"@"},{"kanselliord":"fullbyrdelse","alternativ_1":"fullfring, iverksetting","alternativ_2":"@"},{"kanselliord":"ha som flge","alternativ_1":"fre til, fre med seg","alternativ_2":"@"},{"kanselliord":"ha til flge","alternativ_1":"fre til, fre med seg","alternativ_2":"@"},{"kanselliord":"som en flge av at","alternativ_1":"i og med at, fordi, siden, p grunn av","alternativ_2":"@"},{"kanselliord":"som flge av at","alternativ_1":"i og med at, fordi, siden, p grunn av","alternativ_2":"@"},{"kanselliord":"gitt","alternativ_1":"p grunn av, i og med, fordi","alternativ_2":"@"},{"kanselliord":"gjre gjeldende","alternativ_1":"vise til, bruke som argument, hevde, pst","alternativ_2":"@"},{"kanselliord":"gjorde gjeldende at","alternativ_1":"viste til / brukte som argument at ...","alternativ_2":"@"},{"kanselliord":"gjenstand","alternativ_1":"Ofte: ting, sak","alternativ_2":"@"},{"kanselliord":"godtgjre","alternativ_1":"betale, dekke, erstatte, refundere, tilbakebetale","alternativ_2":"dokumentere, bevise"},{"kanselliord":"henhre","alternativ_1":"hre inn under, hre (med) til; ha forbindelse med","alternativ_2":"@"},{"kanselliord":"henhrende","alternativ_1":"som hrer til","alternativ_2":"@"},{"kanselliord":"henregne","alternativ_1":"regne for  hre med til","alternativ_2":"@"},{"kanselliord":"hense","alternativ_1":"i betraktning av, med tanke p, p bakgrunn av","alternativ_2":"@"},{"kanselliord":"hensett til","alternativ_1":"i betraktning av, med tanke p, p bakgrunn av","alternativ_2":"@"},{"kanselliord":"se hen til","alternativ_1":"i betraktning av, med tanke p, p bakgrunn av","alternativ_2":"@"},{"kanselliord":"henseende","alternativ_1":"mte, mening, sammenheng","alternativ_2":"@"},{"kanselliord":"hensette","alternativ_1":"sette (fra seg), plassere; parkere (om kjrety)","alternativ_2":"@"},{"kanselliord":"henstand","alternativ_1":"utsettelse","alternativ_2":"@"},{"kanselliord":"henstille til","alternativ_1":"be om, anmode om, oppfordre til","alternativ_2":"@"},{"kanselliord":"henstilling","alternativ_1":"anmodning, oppfordring, pminnelse","alternativ_2":"@"},{"kanselliord":"henst","alternativ_1":"vente, bli forelpig utsatt","alternativ_2":"@"},{"kanselliord":"st hen","alternativ_1":"vente, bli forelpig utsatt","alternativ_2":"@"},{"kanselliord":"hensynta","alternativ_1":"ta hensyn til; ta i betraktning","alternativ_2":"@"},{"kanselliord":"hensyntagen","alternativ_1":"med tanke p","alternativ_2":"@"},{"kanselliord":"herunder","alternativ_1":"under dette, i den forbindelse","alternativ_2":"blant annet, medregnet, inklusive"},{"kanselliord":"hervrende","alternativ_1":"lokal, her p stedet, som er her, denne/dette","alternativ_2":"@"},{"kanselliord":"hitsette","alternativ_1":"gjengi, oppgi, sitere","alternativ_2":"@"},{"kanselliord":"hjemmehrende","alternativ_1":"som hrer hjemme i/p, som ligger i/p, som bor i/p, som kommer fra ","alternativ_2":"@"},{"kanselliord":"hva gjelder","alternativ_1":"nr det gjelder","alternativ_2":"@"},{"kanselliord":"hvoretter","alternativ_1":"og deretter","alternativ_2":"iflge, etter"},{"kanselliord":"imtese","alternativ_1":"se frem til at noe (ventet) vil skje","alternativ_2":"@"},{"kanselliord":"innevrende","alternativ_1":"dette, denne","alternativ_2":"@"},{"kanselliord":"likeledes","alternativ_1":"ogs, likes","alternativ_2":"@"},{"kanselliord":"likevel slik at","alternativ_1":"Merk: Dette kan ofte erstattes med men. En mulighet er  dele setningen i to og eventuelt innlede neste setning med men eller NN skal likevel (ikke) ...","alternativ_2":"@"},{"kanselliord":"likevel ikke slik at","alternativ_1":"Merk: Dette kan ofte erstattes med men. En mulighet er  dele setningen i to og eventuelt innlede neste setning med men eller NN skal likevel (ikke) ...","alternativ_2":"@"},{"kanselliord":"meddele","alternativ_1":"gi","alternativ_2":"@"},{"kanselliord":"medfre","alternativ_1":"innebre; vre; fre med seg, fre til","alternativ_2":"@"},{"kanselliord":"i medhold av","alternativ_1":"i samsvar med, med hjemmel i, etter","alternativ_2":"@"},{"kanselliord":"med videre","alternativ_1":"og s videre","alternativ_2":"@"},{"kanselliord":"medvirke","alternativ_1":"delta, hjelpe til med, bidra til, sttte, gjre sitt","alternativ_2":"@"},{"kanselliord":"nrvrende","alternativ_1":"denne, dette","alternativ_2":"@"},{"kanselliord":"omfattes av","alternativ_1":"faller inn under. Merk: I stedet for X omfattes av Y kan du skrive Y gjelder for X.","alternativ_2":"@"},{"kanselliord":"omfattet av","alternativ_1":"faller inn under. Merk: I stedet for X omfattes av Y kan du skrive Y gjelder for X.","alternativ_2":"@"},{"kanselliord":"oppebre","alternativ_1":"f, ha, motta, innkassere","alternativ_2":"@"},{"kanselliord":"opphold","alternativ_1":"avbrudd, pause, forsinkelse i visse sammenhenger: stans","alternativ_2":"@"},{"kanselliord":"opphr","alternativ_1":"stans, slutt, avbrudd; i visse sammenhenger: nedleggelse","alternativ_2":"@"},{"kanselliord":"opphre","alternativ_1":"ta slutt, slutte, bli nedlagt","alternativ_2":"@"},{"kanselliord":"oppsette","alternativ_1":"I visse sammenhenger: utsette; vente med ( gjre noe)","alternativ_2":"@"},{"kanselliord":"oppstille","alternativ_1":"I visse sammenhenger: sette, stille, etablere","alternativ_2":"@"},{"kanselliord":"ovenfornevnte","alternativ_1":"nevnte, som nevnes / er nevnt ovenfor","alternativ_2":"@"},{"kanselliord":"ovennevnte","alternativ_1":"nevnte, som nevnes / er nevnt ovenfor","alternativ_2":"@"},{"kanselliord":"pberope seg","alternativ_1":"vise til, unnskylde seg med, argumentere med","alternativ_2":"@"},{"kanselliord":"pkrevd","alternativ_1":"ndvendig, om  gjre","alternativ_2":"@"},{"kanselliord":"pkrevet","alternativ_1":"ndvendig, om  gjre","alternativ_2":"@"},{"kanselliord":"pregne","alternativ_1":"regne med, vente seg","alternativ_2":"@"},{"kanselliord":"riket","alternativ_1":"Oftest: landet, Norge","alternativ_2":"@"},{"kanselliord":"samtlige","alternativ_1":"alle","alternativ_2":"@"},{"kanselliord":"s fremt","alternativ_1":"hvis, om, dersom","alternativ_2":"@"},{"kanselliord":"sledes","alternativ_1":"slik; dermed","alternativ_2":"@"},{"kanselliord":"tarv","alternativ_1":"behov, trang, interesse","alternativ_2":"@"},{"kanselliord":"tilflyte","alternativ_1":"komme til, bli til del","alternativ_2":"@"},{"kanselliord":"tilkjenne","alternativ_1":"Oftest: tildele (ved dom)","alternativ_2":"@"},{"kanselliord":"tilkomme","alternativ_1":"I visse sammenhenger: tilfalle (med rett), f, ha rett til, ha krav p; vre (ens) sak/oppgave, vre opp til","alternativ_2":"@"},{"kanselliord":"tillegge","alternativ_1":"gi, tildele, plegge (oftest om ansvar, oppgaver og plikter)","alternativ_2":"@"},{"kanselliord":"tilligge","alternativ_1":"vre ens plikt/oppgave; hre inn under","alternativ_2":"@"},{"kanselliord":"tillike","alternativ_1":"ogs, i tillegg, dessuten","alternativ_2":"@"},{"kanselliord":"tilstille","alternativ_1":"(over)sende, sende til","alternativ_2":"@"},{"kanselliord":"tilst","alternativ_1":"I visse sammenhenger: gi, bevilge","alternativ_2":"@"},{"kanselliord":"ubesrget","alternativ_1":"ikke utfrt, ikke ordnet","alternativ_2":"@"},{"kanselliord":"uleilighet","alternativ_1":"problem, ulempe, besvr","alternativ_2":"@"},{"kanselliord":"undergi","alternativ_1":"innordne under; i visse sammenhenger: gjre til gjenstand for, la gjennomg. Merk: Ofte er dette verbet uten eget innhold: undergi behandling = behandle. Det er bedre  skrive om og bruke konkrete verb.","alternativ_2":"@"},{"kanselliord":"underg","alternativ_1":"gjennomg, oppleve ","alternativ_2":"@"},{"kanselliord":"underrette","alternativ_1":"gi beskjed/informasjon om, informere","alternativ_2":"@"},{"kanselliord":"underretning","alternativ_1":"beskjed, informasjon, melding","alternativ_2":"@"},{"kanselliord":"undertegnede","alternativ_1":"jeg","alternativ_2":"@"},{"kanselliord":"unnlate","alternativ_1":"la vre. Merk: Ofte er det bedre  erstatte unnlate  / unnlatt  + infinitiv med ikke + fortidsformen av det aktuelle verbet, jf. eksempelet nedenfor.","alternativ_2":"@"},{"kanselliord":"unnlatelse","alternativ_1":"Merk: Ofte er det bedre  skrive om. Eksempel: Hvis du ikke...","alternativ_2":"@"},{"kanselliord":"utgjre","alternativ_1":"Ofte: vre","alternativ_2":"@"},{"kanselliord":"utve","alternativ_1":"drive med; praktisere. Ofte: bruke","alternativ_2":"@"},{"kanselliord":"utvelse","alternativ_1":"gjennomfring, iverksetting. Ofte: bruk.","alternativ_2":"@"},{"kanselliord":"vedrre","alternativ_1":"ang, gjelde, ha sammenheng med","alternativ_2":"@"},{"kanselliord":"vedrrende","alternativ_1":"om, i forbindelse med, som gjelder, som henger sammen med","alternativ_2":"@"},{"kanselliord":"vesentlig","alternativ_1":"hovedsakelig, stort sett, for det meste, fortrinnvis","alternativ_2":"@"},{"kanselliord":"vitterlig","alternativ_1":"kjent, penlys(t)","alternativ_2":"@"},{"kanselliord":"yte","alternativ_1":"gi, bidra med. Ofte: betale","alternativ_2":"@"},{"kanselliord":"ytterligere","alternativ_1":"enda (en/mer/flere), nrmere, flere","alternativ_2":"@"}]'),W$=JSON.parse('[{"importord":"abort","avloeserord":"(IKT) programbrot/programbrudd, programavbrot/programavbrudd"},{"importord":"access","avloeserord":"tilgang"},{"importord":"access code","avloeserord":"tilgangskode"},{"importord":"access point","avloeserord":"tilgangspunkt"},{"importord":"account manager","avloeserord":"kundeleiar/kundeleder, kundeansvarleg/kundeansvarlig, kundekontakt, jf. key account manager"},{"importord":"accountability","avloeserord":"ansvarsutkreving, ansvarleggjering/ansvarliggjring"},{"importord":"actionfilm","avloeserord":"spenningsfilm, valdsfilm/voldsfilm"},{"importord":"adde","avloeserord":"(IKT) leggje til, leggje inn / legge til, legge inn"},{"importord":"advocacy campaign","avloeserord":"pverknadskampanje/pvirkningskampanje"},{"importord":"aftershave","avloeserord":"etterbarberingsvatn/etterbarberingsvann"},{"importord":"agenda","avloeserord":"sakliste, dagsorden; (tids)planleggjar/(tids)planlegger, sjuande sans / sjuende sans"},{"importord":"aircondition(ing)","avloeserord":"klimaanlegg, luftkondisjonering"},{"importord":"allround-","avloeserord":"altmogleg-/altmulig-, allsidig, allmenn-, universal-"},{"importord":"allrounder","avloeserord":"allsidig person, altmoglegperson/altmuligperson, mangkunnig person, faktotum, potet"},{"importord":"amplifier","avloeserord":"forsterkar/forsterker"},{"importord":"approach","avloeserord":"tilnrming(smte), framgangsmte, (innfalls)vinkel"},{"importord":"art director (AD)","avloeserord":"kunstnarleg leiar/kunstnerisk leder (teater m.m.); grafisk formgjevar/formgiver (rekl.); reklamesjef (arb.liv)"},{"importord":"artist in residence","avloeserord":"gjestekunstnar/gjestekunstner"},{"importord":"assist","avloeserord":"mlgjevande pasning / mlgivende pasning (fotball)"},{"importord":"att: (av eng. attention)","avloeserord":"ved, v/ (ev. skriv ein berre namnet p ny linje)"},{"importord":"attach","avloeserord":"leggje/legge ved, sende med"},{"importord":"attachment","avloeserord":"vedlegg"},{"importord":"audition","avloeserord":"prvespel/prvespill, rolleprve, opptaksprve"},{"importord":"auditory icon","avloeserord":"lydikon, lydlogo, auditivt ikon, jf. earcon"},{"importord":"babyboom","avloeserord":"babyblgje/babyblge, fdselsblgje/fdselsblge, jf. boom"},{"importord":"backbone","avloeserord":"stamnett (IKT)"},{"importord":"backing","avloeserord":"sttte, hjelp, oppflging (allment); komp, akkompagnement, sttte (mus.); jf. oppbacking, backup"},{"importord":"backlash","avloeserord":"tilbakeslag, motreaksjon"},{"importord":"backlist","avloeserord":"porteflje"},{"importord":"backlog","avloeserord":"restanse, etterslep"},{"importord":"back-office","avloeserord":"kontortenar(program)/kontortjener(program) (IKT); kontorsttte (adm.); jf. front-office"},{"importord":"backpacker","avloeserord":"ryggsekkturist"},{"importord":"backslash","avloeserord":"omvend skrstrek / omvendt skrstrek"},{"importord":"backstage","avloeserord":"bak scenen, bakscenes"},{"importord":"backtracking","avloeserord":"tilbakesporing (IKT)"},{"importord":"backup","avloeserord":"reservekopi, tryggingskopi/sikkerhetskopi (IKT); sttte, hjelp, oppflging (allment); jf. backing"},{"importord":"bake-off","avloeserord":"ferdigheva/ferdighevet, halvsteikt/halvstekt (bakverk som er klargjord for heving og steiking); ferdigsteikt/ferdigstekt; bakekonkurranse (tv-program)"},{"importord":"balanced scorecard (BSC)","avloeserord":"balansert mlstyring (BMS)"},{"importord":"barbecue","avloeserord":"(hage)grill; grillmat; grillfest"},{"importord":"base camp","avloeserord":"baseleir"},{"importord":"beacon","avloeserord":"mobilfyr"},{"importord":"beacon technology","avloeserord":"mobilfyrteknologi, nettvardeteknologi"},{"importord":"bear market","avloeserord":"bjrnemarknad/bjrnemarked "},{"importord":"benchmark","avloeserord":"referanseniv, -norm, -verdi, styringsml, (allment/nr.liv); fastmerke (landmling)"},{"importord":"benchmark test","avloeserord":"yteprve (IKT)"},{"importord":"benchmarking","avloeserord":"referansemling, referansenormering, styringsnormering"},{"importord":"best practice","avloeserord":"mnsterpraksis, bestepraksis, beste praksis"},{"importord":"bias","avloeserord":"slagside"},{"importord":"binge watching","avloeserord":"seriemaraton, seriefrtsing, tv-frtsing"},{"importord":"blackout","avloeserord":"jernteppe, minnesvinn (allment); mellombels medvitstap / midlertidig bevissthetstap (med.); stort straumbrot / stort strmbrudd (tekn.)"},{"importord":"blame game","avloeserord":"skuldspel/skyldspill, syndebukkspel/syndebukkspill"},{"importord":"board(s) (reklame)","avloeserord":"(reklame)tavle, reklame(skilt)"},{"importord":"bodybuilder","avloeserord":"kroppsbyggjar/kroppsbygger"},{"importord":"bodybuilding","avloeserord":"kroppsbygging"},{"importord":"bodyguard","avloeserord":"livvakt"},{"importord":"booke (inn)","avloeserord":"bestille, tinge; reservere; skrive seg inn"},{"importord":"booking","avloeserord":"bestilling, tinging; reservasjon"},{"importord":"bookmark","avloeserord":"bokmerke, favoritt"},{"importord":"boom","avloeserord":"hgkonjunktur/hykonjunktur (kon.), br oppgang, br oppsving (allment); i ordsammensetninger gjerne -blgje/-blge, jf. babyboom"},{"importord":"booster","avloeserord":"forsterkar/forsterker, effektforsterkar/effektforsterker, sluttforsterkar/sluttforsterker"},{"importord":"boote","avloeserord":"starte (datamaskin), kaldstarte, jf. restart"},{"importord":"brain drain","avloeserord":"hjerneflukt"},{"importord":"brainstorming","avloeserord":"iddugnad, idmyldring"},{"importord":"branding","avloeserord":"merkevarebygging (nr.liv); brennemerking (tatoveringsteknikk)"},{"importord":"breakdown","avloeserord":"samanbrot/sammenbrudd, havari, driftsfeil, oppdeling, spesifikasjon"},{"importord":"breaking news","avloeserord":"siste nytt, nyhendevarsel/nyhetsvarsel, akkurat no / akkurat n, no:/n, siste"},{"importord":"browse","avloeserord":"bla, bla igjennom, lese"},{"importord":"browse path","avloeserord":"katalogstig/katalogsti, filstig/filsti (IKT), jf. search path"},{"importord":"browser / web browser","avloeserord":"nettlesar/nettleser"},{"importord":"bucket list","avloeserord":"kisteliste"},{"importord":"bug","avloeserord":"programfeil, jf. debug"},{"importord":"bull market","avloeserord":"oksemarknad/oksemarked "},{"importord":"business-to-government (B2G)/ business-to-administration (B2A)","avloeserord":"handel med offentleg sektor / handel med offentlig sektor"},{"importord":"business-to-business (B2B)","avloeserord":"handel mellom nringsdrivande / handel mellom nringsdrivende, handel mellom bedrifter"},{"importord":"business-to-consumer (B2C)","avloeserord":"detaljhandel"},{"importord":"business-to-government (B2G)","avloeserord":"sal til det offentlege / salg til det offentlige (= business-to-administration (B2A))"},{"importord":"business case","avloeserord":"prosjektgrunngjeving/prosjektbegrunnelse, verksemdsscenario/virksomhetsscenario, forretningsgrunnlag, konseptgrunnlag"},{"importord":"button","avloeserord":"(jakke)merke (allment); knapp (IKT)"},{"importord":"by-line (byline)","avloeserord":"signatur"},{"importord":"byline picture","avloeserord":"signaturbilete/signaturbilde"},{"importord":"cageball","avloeserord":"burball, burfotball"},{"importord":"call center (call centre)","avloeserord":"kundesenter, kundetelefon, jf. help desk"},{"importord":"calling","avloeserord":"drtelefon (p hus)"},{"importord":"canyon","avloeserord":"gjel, klft, juv"},{"importord":"canyoning","avloeserord":"juving, juvvandring"},{"importord":"cap","avloeserord":"skyggelue, kaps"},{"importord":"carjacking","avloeserord":"bilkapring"},{"importord":"carport","avloeserord":"open garasje / pen garasje, bilbs"},{"importord":"case","avloeserord":"(jf. case study:) kasus, tilfelle, sak, emne, eksempeltilfelle (-person osv.), dme(tilfelle), typeeksempel, typedme; underskelsesobjekt, granskingsemne"},{"importord":"case study","avloeserord":"kasusstudie, tilfellestudie, eksempelstudie, dmestudie"},{"importord":"cash management","avloeserord":"likviditetsstyring"},{"importord":"catering","avloeserord":"matlevering; selskapsmat"},{"importord":"catwalk","avloeserord":"motemolo"},{"importord":"chat","avloeserord":"nettprat"},{"importord":"chatbot","avloeserord":"samtalerobot, praterobot"},{"importord":"chatte","avloeserord":"prate p nettet, nettprate, (humor.:) tjatte, tjatre"},{"importord":"child grooming","avloeserord":"barnelokking"},{"importord":"chip","avloeserord":"(data)brikke, integrert krins / integrert krets, jf. integrated circuit, microchip"},{"importord":"chips","avloeserord":"potetgull, potetlauv/potetlv; (mer allment:) flak, spon"},{"importord":"chunk","avloeserord":"klump, bit"},{"importord":"citizen science","avloeserord":"folkeforsking, grasrotforsking"},{"importord":"clickbait","avloeserord":"klikkagn, klikkfang"},{"importord":"clou (fr fransk)","avloeserord":"hgdepunkt/hydepunkt, glansnummer"},{"importord":"cloud computing","avloeserord":"nettsky (IKT)"},{"importord":"clue","avloeserord":"nkkel, kjerne, poeng"},{"importord":"clutch","avloeserord":"koplingspedal, kltsj"},{"importord":"coach","avloeserord":"trenar/trener, rettleiar/veileder, leiar/leder, rdgjevar/rdgiver"},{"importord":"coache","avloeserord":"trene, rettleie/veilede"},{"importord":"co-branded","avloeserord":"samprodukt"},{"importord":"co-branding","avloeserord":"merkevaresamarbeid, merkesamarbeid"},{"importord":"cole slaw","avloeserord":"klsalat"},{"importord":"comeback","avloeserord":"tilbakekomst"},{"importord":"common sense","avloeserord":"sunn fornuft, folkevett/folkevit"},{"importord":"community","avloeserord":"lokalsamfunn, nettgruppe, nettsamfunn"},{"importord":"community-ansvarleg","avloeserord":"nettvert, redaktr, nettstammeansvarleg/-ansvarlig, nettgruppe-, nettsamfunn- (p Internett)"},{"importord":"competitive edge","avloeserord":"konkurransefordel, konkurranseforsprang"},{"importord":"compliance","avloeserord":"etterleving, regeletterleving/regeletterlevelse, regeloppfylling/regeloppfyllelse, samsvar"},{"importord":"compliance auditing","avloeserord":"etterlevingsrevisjon/etterlevelsesrevisjon, samsvarsrevisjon"},{"importord":"connector","avloeserord":"port, utgang, kontakt, koplingspunkt (maskinvare); portnar/portner, bindeledd (programvare)"},{"importord":"content management","avloeserord":"innhaldsstyring/innholdsstyring"},{"importord":"content marketing","avloeserord":"innhaldsmarknadsfring/innholdsmarkedsfring"},{"importord":"controller","avloeserord":"rekneskapsleiar/regnskapsleder, konomioppflgjar/konomioppflger, kontrollar/kontroller"},{"importord":"cookie","avloeserord":"informasjonskapsel, infokapsel, kjeks (IKT)"},{"importord":"copyright","avloeserord":"opphavsrett"},{"importord":"corner","avloeserord":"hjrnespark, hjrnekast (idr.)"},{"importord":"corporate governance","avloeserord":"eigarstyring og selskapsleiing / eierstyring og selskapsledelse"},{"importord":"corporate social responsibility (CSR)","avloeserord":"samfunnsansvaret til bedrifta / bedriftens samfunnsansvar"},{"importord":"cottage cheese","avloeserord":"hytteost"},{"importord":"cover charge","avloeserord":"inngangspengar/inngangspenger, kuvertavgift, entr"},{"importord":"crabsticks","avloeserord":"krabbepinnar/krabbepinner"},{"importord":"cracker","avloeserord":"datapirat"},{"importord":"crew","avloeserord":"stab, arbeidslag, gruppe, besetning, mannskap"},{"importord":"cross media publishing","avloeserord":"tverrpublisering, tverrmedial publisering"},{"importord":"crowd funding","avloeserord":"kronerulling (p nett), pengeinnsamling, folkefinansiering"},{"importord":"crowdsourcing","avloeserord":"(nett)dugnad"},{"importord":"cruise control","avloeserord":"fartshaldar/fartsholder"},{"importord":"cyber-","avloeserord":"kyber- (brukt om datamaskiner og Internett-universet)"},{"importord":"cyberstalking","avloeserord":"nettforflging/nettforflgelse, nett-elting, nettsjikane, netterror"},{"importord":"data mart","avloeserord":"datatorg, datamarknad/datamarked"},{"importord":"data warehouse","avloeserord":"datavarehus"},{"importord":"deadline","avloeserord":"leveringsfrist, tidsfrist, frist"},{"importord":"debug","avloeserord":"avluse; feilskje/feilske; rette programfeil, fjerne programlus; jf. bug"},{"importord":"dedicated","avloeserord":"engasjert, ihuga, heilhjarta/helhjertet (allment); dedisert (litt.); dedikert, (srskilt) tilordna/tilordnet og tilpassa/tilpasset (IKT), laga/laget for"},{"importord":"default","avloeserord":"standard(verdi), standardinnstilling (grunn-, forhnds-, normal-, leverandr-, produsent-)"},{"importord":"degrowth","avloeserord":"nedvekst"},{"importord":"desktop publishing (DTP)","avloeserord":"skrivebordssetjing/skrivebordssetting"},{"importord":"direct mail","avloeserord":"direktereklame"},{"importord":"disc-at-once","avloeserord":"heilbrenning/helbrenning, einktsbrenning/enktsbrenning, jf. session-at-once"},{"importord":"disc-jockey (DJ)","avloeserord":"plateprater, platesnurrer, platekusk, plateryttar/platerytter, diskjockey"},{"importord":"disclaimer","avloeserord":"ansvarsfrskriving, atterhald / ansvarsfraskrivelse, forbehold"},{"importord":"display","avloeserord":"skjerm, teiknrute/tegnrute, (tekst)vindauge/(tekst)vindu (t.d. p telefonen)"},{"importord":"disruptive technology","avloeserord":"brytningsteknologi"},{"importord":"docu-soap","avloeserord":"dokumentarspe, dokuspe"},{"importord":"dot (uttalt dtt etter eng.)","avloeserord":"punktum (i Internett- og e-postadresser)"},{"importord":"dotcom-selskap","avloeserord":"nettselskap"},{"importord":"double backslash","avloeserord":"dobbel omvend skrstrek / dobbelt omvendt skrstrek, jf. backslash"},{"importord":"double slash","avloeserord":"dobbel skrstrek / dobbelt skrstrek, jf. slash"},{"importord":"doughnut","avloeserord":"(amerikansk) smultring"},{"importord":"downlight","avloeserord":"(innfelt) nedlys"},{"importord":"drawback","avloeserord":"ulempe, bakdel, mangel"},{"importord":"driver","avloeserord":"drivar/driver (norsk uttale), styreprogram"},{"importord":"dummy","avloeserord":"modell, prototyp, falsk, uekte, skinn-"},{"importord":"earcon","avloeserord":"lydikon, lydlogo, jf. auditory icon"},{"importord":"e-book reader, e-book device","avloeserord":"lesebrett"},{"importord":"e-business","avloeserord":"e-forretningar/e-forretninger, e-forretningsdrift; e-forretning (om det enkelte firmaet)"},{"importord":"e-commerce","avloeserord":"e-handel, netthandel"},{"importord":"economies of agglomeration","avloeserord":"samlokaliseringsfordelar/samlokaliseringsfordeler"},{"importord":"editor","avloeserord":"redigeringsprogram (IKT)"},{"importord":"e-mail","avloeserord":"jf. mail"},{"importord":"embed","avloeserord":"bygge inn / byggje inn, setje/sette, felle"},{"importord":"employer branding","avloeserord":"arbeidsgjevarprofilering/arbeidsgiverprofilering"},{"importord":"empower","avloeserord":"myndiggjere/myndiggjre, styrke, gje/gi styrke, setje i stand / sette i stand"},{"importord":"empowerment","avloeserord":"myndiggjering/myndiggjring, styrking (f.eks. pasientstyrking)"},{"importord":"enter(tast)","avloeserord":"linjeskift(tast), retur(tast)"},{"importord":"entertainer","avloeserord":"underhaldar/underholder, underhaldningsartist/underholdningsartist, enterteinar/enterteiner"},{"importord":"equalizer","avloeserord":"tonekontroll; utjamnar/utjevner, utjamningsfilter/utjevningsfilter, jf. graphic equalizer"},{"importord":"e-reader","avloeserord":"lesebrett"},{"importord":"establishment, the","avloeserord":"det bestande / det bestende (samfunnet), etablissementet"},{"importord":"e-tailer","avloeserord":"e-taljist, nettkjpmann"},{"importord":"eyeliner","avloeserord":"kajal, augeblyant/yeblyant, jf. lipliner"},{"importord":"facility management","avloeserord":"nringsforvaltning, eigedomsforvaltning/eiendomsforvaltning, bygningsforvaltning"},{"importord":"faction","avloeserord":"faksjon (fakta + fiksjon)"},{"importord":"factoring","avloeserord":"faktoring, fakturakreditt"},{"importord":"fair","avloeserord":"rimeleg/rimelig, rettferdig, real, rleg/rlig"},{"importord":"fair play","avloeserord":"rleg spel /rlig spill, rettferdig behandling"},{"importord":"fan","avloeserord":"tilhengjar/tilhenger, beundrar/beundrer"},{"importord":"fanklubb","avloeserord":"beundrarklubb/beundrerklubb, venelag"},{"importord":"fast food","avloeserord":"kjappmat, hurtigmat, snggmat, gatekjkkenmat, jf. junk food"},{"importord":"fatbike","avloeserord":"tjukksykkel"},{"importord":"feature","avloeserord":"preg-, bakgrunns-, dokumentar-, interesse-, tema- (i ymse samansetjingar, t.d. med -artikkel , -journalistikk)"},{"importord":"feed","avloeserord":"straum/strm (i sosiale medium/sosiale medier)"},{"importord":"feedback","avloeserord":"tilbakemelding, respons, reaksjon, tilbakekopling, svar"},{"importord":"fight","avloeserord":"(hard eller intens) kamp, hardt oppgjer / hardt oppgjr, fait"},{"importord":"fighte","avloeserord":"slss/slst, kjempe, konkurrere, faite"},{"importord":"fighter","avloeserord":"kjempar/kjemper, faitar/faiter"},{"importord":"fighting spirit","avloeserord":"kampnd, kampgld, g-p-humr"},{"importord":"file server","avloeserord":"filtenar/filtjener"},{"importord":"finish","avloeserord":"sluttspurt; finpuss; finisj"},{"importord":"fintech","avloeserord":"finansteknologi"},{"importord":"flight","avloeserord":"(fly)avgang, (fly)rute, flyging/flygning, flytur"},{"importord":"flight recorder","avloeserord":"ferd(s)skrivar/ferd(s)skriver"},{"importord":"flip-over","avloeserord":"arktavle, papirtavle, stativblokk, flippover"},{"importord":"flop","avloeserord":"fiasko, flopp"},{"importord":"flow","avloeserord":"strm; (psyk.:) flyt"},{"importord":"flow chart","avloeserord":"flytskjema, flytdiagram"},{"importord":"food processor","avloeserord":"kjkkenmaskin, matmlle, matprosessor, matkvern"},{"importord":"food truck","avloeserord":"matvogn, matbil"},{"importord":"footer","avloeserord":"botntekst/bunntekst, jf. header (IKT)"},{"importord":"franchise","avloeserord":"forhandlarrett/forhandlerrett, agentur"},{"importord":"franchising","avloeserord":"forhandlarrettssamarbeid/forhandlerrettssamarbeid, forhandlaravtale/forhandleravtale"},{"importord":"freelance","avloeserord":"frilans (adj.); frilansar/frilanser (subst.)"},{"importord":"frisbee","avloeserord":"disk, skjenebrett, sendeplate"},{"importord":"front-office","avloeserord":"kontorklient(program), jf. backoffice"},{"importord":"frozen shoulder","avloeserord":"frosen skulder / frossen skulder (med.)"},{"importord":"fun fact","avloeserord":"morofakta"},{"importord":"fund raising","avloeserord":"pengeinnsamling, innsamlingsaksjon"},{"importord":"fuzzy logic","avloeserord":"ullen logikk, flytande / flytende logikk, lodden logikk, linn logikk"},{"importord":"gadget","avloeserord":"dings"},{"importord":"gate","avloeserord":"utgang (p flyplass)"},{"importord":"geek","avloeserord":"fagidiot; srling; dust"},{"importord":"General Data Protection Regulation (GDPR)","avloeserord":"personvernforordningen (PVF)"},{"importord":"ghost writer","avloeserord":"skyggeforfatter / skuggeforfattar"},{"importord":"Global Positioning System (GPS)","avloeserord":"globalt posisjonsystem (GPS)"},{"importord":"golden goal","avloeserord":"frstemlssiger/frstemlsseier, frste mlet vinn / frste mlet vinner"},{"importord":"goodwill","avloeserord":"velvilje, godvilje"},{"importord":"governance","avloeserord":"styring (og ettersyn); delaktighetsstyring; styresett"},{"importord":"graphic equalizer","avloeserord":"grafisk tonekontroll, jf. equalizer"},{"importord":"grnder","avloeserord":"grunnleggjar/grunnlegger (nytralt); jobbar/jobber (negativt); jobbskapar/jobbskaper (positivt)"},{"importord":"guide","avloeserord":"omvisar/omviser, turleder/turleiar, reiseleiar/reiseleder, gaid"},{"importord":"guts","avloeserord":"(ha) mot, pgangsmot, vgemot, karakter(styrke), tl, nerk; (vre/vere) modig, djerv, uredd, ikke/ikkje skvetten"},{"importord":"hacker","avloeserord":"datasnok"},{"importord":"handout","avloeserord":"sttteark"},{"importord":"handsfree","avloeserord":"handfri/hndfri (mobiltelefon)"},{"importord":"hanggliding","avloeserord":"hengeflyging, hengegliding"},{"importord":"hangover","avloeserord":"fyllesjuke, tmmermenn, bakrus"},{"importord":"hard disk","avloeserord":"platelager, harddisk"},{"importord":"hardware","avloeserord":"maskinvare"},{"importord":"hashtag","avloeserord":"emneknagg"},{"importord":"heade","avloeserord":"nikke, skalle, stange, hedde"},{"importord":"header","avloeserord":"topptekst, jf. footer (IKT)"},{"importord":"heading","avloeserord":"(fotball) hovudstyt/hodestt"},{"importord":"headhunte","avloeserord":"handplukke/hndplukke, drive hovudjakt / drive hodejakt"},{"importord":"headhunting","avloeserord":"handplukking/hndplukking, hovudjakt/hodejakt, utveljing/utvelging"},{"importord":"heading","avloeserord":"overskrift, tittel (media); nikking, hedding (idr.)"},{"importord":"heavy rock","avloeserord":"tungrock"},{"importord":"help desk","avloeserord":"hjelpesentral, hjelpeteneste/hjelpetjeneste, kundehjelp, svarteneste/svartjeneste, jf. call center og support"},{"importord":"hibernation mode","avloeserord":"dvalemodus (IKT)"},{"importord":"highlight","avloeserord":"hgdepunkt/hydepunkt"},{"importord":"hi-tech","avloeserord":"hgteknologisk/hyteknologisk"},{"importord":"holding company","avloeserord":"eigarselskap/eierselskap, holdingselskap"},{"importord":"horrorfilm","avloeserord":"grssar/grsser, skrekkfilm"},{"importord":"host (med eng. uttale)","avloeserord":"(web)hotell, vert, vertsteneste/vertstjeneste (IKT)"},{"importord":"hoste (med eng. uttale)","avloeserord":"drifte, leige ut / leie ut [plass til] programvare og bruk av programvare p datamaskiner over Internett, jf. web hotel"},{"importord":"hosted (med eng. uttale)","avloeserord":"utleigd/utleid"},{"importord":"hosting (med eng. uttale)","avloeserord":"netthotell, utleige/utleie"},{"importord":"hostmaster","avloeserord":"namnemeister/navnemester, namneforvaltar/navneforvalter (for srskilde Internett-tenester)"},{"importord":"hotlist","avloeserord":"favorittliste, yndlingsbokmerke/yndlingsbokmerker (IKT)"},{"importord":"house","avloeserord":"huse (andres operative maskinvare i eigne lokale mot betaling), jf. hoste"},{"importord":"housed","avloeserord":"husa/huset"},{"importord":"housing","avloeserord":"husing"},{"importord":"human resource (HR)","avloeserord":"personalressurs"},{"importord":"human resource management (HRM)","avloeserord":"leiing av personalressursar  / ledelse av personalressurser, leiing av menneskelege ressursar (LMR) / Ledelse av menneskelige ressurser (LMR)"},{"importord":"human resource manager","avloeserord":"personalsjef"},{"importord":"image","avloeserord":"uttrykk, (personleg/personlig) stil, profil, omdmme, ry"},{"importord":"impact","avloeserord":"samfunnsbidrag"},{"importord":"implementere","avloeserord":"setje i verk/iverksette, setje ut i livet / sette ut i livet, gjennomfre"},{"importord":"India pale ale","avloeserord":"indial"},{"importord":"influencer","avloeserord":"pverkar/pvirker"},{"importord":"infotainment","avloeserord":"nyheitsunderhaldning/nyhetsunderholdning, tabloid-"},{"importord":"in-house","avloeserord":"intern-, firma- (i samansetjingar), sjlv/selv, p huset"},{"importord":"inline skates","avloeserord":"(linjeskyter, dvs. rulleskyter med hjulene p rekke:) rulleskyter"},{"importord":"inside trading","avloeserord":"innsidehandel"},{"importord":"insider","avloeserord":"innsidar/innsider"},{"importord":"instant coffee","avloeserord":"pulverkaffi/pulverkaffe"},{"importord":"instant message","avloeserord":"direktemelding, hurtigmelding, snggmelding"},{"importord":"instant messaging (IM)","avloeserord":"direktemeldingst(j)eneste, snggmeldingsteneste/hurtigmeldingstjeneste"},{"importord":"integrated circuit","avloeserord":"integrert krins / integrert krets, (data)brikke, jf. chip"},{"importord":"interface","avloeserord":"grensesnitt"},{"importord":"Internet service provider (ISP)","avloeserord":"internettilbydar/internettilbyder"},{"importord":"jetlag","avloeserord":"jet(t)sjuke/jet(t)syke, dgnville/dgnvillhet"},{"importord":"jingle","avloeserord":"lydvignett, lydlogo"},{"importord":"joint venture","avloeserord":"samfretak/samforetak, fellesfretak/fellesforetak, samarbeidsprosjekt"},{"importord":"joystick","avloeserord":"styrespak, kontrollspak"},{"importord":"junk food","avloeserord":"sppelmat, usunn mat, gatekjkkenmat, jf. fast food"},{"importord":"just-in-time-prinsippet","avloeserord":"i-rett(e)-tid-prinsippet, der-og-da-prinsippet"},{"importord":"keeper","avloeserord":"mlvakt"},{"importord":"key account manager","avloeserord":"hovudkundeansvarleg/hovedkundeansvarlig, nkkelkundeleiar/nkkelkundeleder, nkkelkundekonsulent"},{"importord":"keyboard","avloeserord":"tangentbrett (mus.); tastatur (IKT)"},{"importord":"kick-off","avloeserord":"avspark (idr.); oppstart, start (allment)"},{"importord":"killer application (killer app)","avloeserord":"tetprogram, vinnarprogram/vinnerprogram (IKT)"},{"importord":"knowhow","avloeserord":"fagkunnskap, faginnsikt, ekspertise"},{"importord":"knowledge management","avloeserord":"kunnskapsleiing/kunnskapsledelse, kompetanseleiing/kompetanseledelse"},{"importord":"laptop","avloeserord":"berbar (datamaskin, pc) / brbar (datamaskin, pc) (IKT)"},{"importord":"layout","avloeserord":"grafisk utforming, oppsett, bladbunad, jf. design"},{"importord":"leading zero","avloeserord":"leiande null / ledende null, frestilt null / foranstilt null"},{"importord":"leasing","avloeserord":"leigefinansiering/leiefinansiering"},{"importord":"leisure wear","avloeserord":"fritidsklede/fritidsklr"},{"importord":"lighter","avloeserord":"(sigarett-)tennar/(sigarett-)tenner"},{"importord":"link","avloeserord":"lenkje/lenke, peikar/peker, kopling (IKT)"},{"importord":"lipgloss","avloeserord":"leppeglans"},{"importord":"lipliner","avloeserord":"leppeblyant, leppekajal, jf. eyeliner"},{"importord":"literacy","avloeserord":"skriftkultur, skriftkunne/skriftkyndighet, tekstkompetanse, litterasitet"},{"importord":"literature review","avloeserord":"litteraturgjennomgang"},{"importord":"live","avloeserord":"direktesend/direktesendt, direkte"},{"importord":"loin","avloeserord":"(om fisk:) rygg (f.eks. torskerygg), ryggstykke, ryggfilet (uten halestykket)"},{"importord":"mail","avloeserord":"e-post, e-brev, e-melding, jf. e-mail"},{"importord":"maile","avloeserord":"sende e-post, e-poste"},{"importord":"mailing list","avloeserord":"e-postliste"},{"importord":"mainstream-","avloeserord":"hovudstraums-/hovedstrms-, midtstims-, midtstraums-/midtstrms-"},{"importord":"makerspace","avloeserord":"folkeverkstad/folkeverksted"},{"importord":"makeup","avloeserord":"sminke"},{"importord":"management","avloeserord":"leiing/ledelse (bedrifts-), styring"},{"importord":"management consultant","avloeserord":"bedriftsrdgjevar/bedriftsrdgiver, strategirdgjevar/strategirdgiver"},{"importord":"manager","avloeserord":"leiar/leder, sjef, forretningsfrar/forretningsfrer, impresario, arrangr"},{"importord":"manual","avloeserord":"handbok/hndbok, bruksrettleiing/bruksanvisning"},{"importord":"marketing","avloeserord":"marknadsfring/markedsfring"},{"importord":"mashup","avloeserord":"nettfletting (IKT)"},{"importord":"match","avloeserord":"kamp (idr.); jambyrdig motstandar / jevnbyrdig motstander, make; (full) klaff"},{"importord":"matche","avloeserord":"passe saman med / passe sammen med, st til; komme opp mot, mle seg med"},{"importord":"m-commerce (mobile commerce)","avloeserord":"m-handel, mobilhandel"},{"importord":"memory card","avloeserord":"minnekort"},{"importord":"memory stick","avloeserord":"minnepinne"},{"importord":"metallic","avloeserord":"(med) metallglans"},{"importord":"microchip","avloeserord":"(data)brikke, mikrobrikke, integrert krins / integrert krets, jf. chip, integrated circuit"},{"importord":"mindfulness","avloeserord":"oppmerksomt nrvr / merksamt nrvr, ans"},{"importord":"mnemonic","avloeserord":"hugsesymbol/huskesymbol, hugseregel/huskeregel"},{"importord":"mnemonics","avloeserord":"hugsekunst/huskekunst, hugseteknikk/husketeknikk"},{"importord":"moderator","avloeserord":"debattleder, ordstyrer"},{"importord":"mountain bike","avloeserord":"terrengsykkel, jf. offroad-sykkel"},{"importord":"mountain biking","avloeserord":"terrengsykling, jf. offroad-sykkel"},{"importord":"multiple choice (question)","avloeserord":"fleirvalsoppgve/flervalgsoppgave"},{"importord":"multitasking","avloeserord":"fleiroppgvekjring/fleroppgavekjring (IKT)"},{"importord":"multi touch-screen","avloeserord":"fleirtrykksskjerm/flertrykksskjerm (IKT)"},{"importord":"musical","avloeserord":"musikkspel/musikkspill, musikal"},{"importord":"must","avloeserord":"ndvendigheit/ndvendighet"},{"importord":"mute","avloeserord":"dempar/demper"},{"importord":"network governance","avloeserord":"nettverksstyring"},{"importord":"news on demand","avloeserord":"nyheiter etter (ved) behov, p bestilling / nyheter etter (ved) behov, p bestilling, jf. on demand"},{"importord":"newsfeed","avloeserord":"nyheitsvarsling/nyhetsvarsling, -mating, -straum/strm"},{"importord":"newsgroup","avloeserord":"temagruppe, nyheitsgruppe/nyhetsgruppe, diskusjonsgruppe (IKT)"},{"importord":"no-platform","avloeserord":"scenenekt"},{"importord":"notebook","avloeserord":"berbar (datamaskin) / brbar (datamaskin) (IKT)"},{"importord":"offline (off-line)","avloeserord":"nedkopla/nedkoplet, frkopla/frakoplet, jf. online"},{"importord":"off-piste","avloeserord":"laussnkjring/lssnkjring, frikjring"},{"importord":"offroad-sykkel","avloeserord":"terrengsykkel, jf. mountain bike"},{"importord":"on demand","avloeserord":"etter behov, behovs-, -bestillings-, tingings-, p frespurnad / p foresprsel, jf. news, print, publishing og video on demand"},{"importord":"on-hook dialing","avloeserord":"rrlaus oppringing / rrls oppringing"},{"importord":"online (on-line)","avloeserord":"oppkopla/oppkoplet, tilkopla/tilkoplet, p nettet (IKT); tilgjengeleg/tilgjengelig eller med (sjargong), jf. offline"},{"importord":"open access","avloeserord":"open/pen tilgang"},{"importord":"oppbacking","avloeserord":"oppbakking, jf. backing"},{"importord":"option","avloeserord":"val/valg, alternativ, moglegheit/mulighet (allment); opsjon (kon./pol.); funksjonsval/funksjonsvalg (IKT)"},{"importord":"outlet","avloeserord":"fabrikkutsalg, merkevareutsalg"},{"importord":"outsider","avloeserord":"utsidar/utsider"},{"importord":"out-of-office message","avloeserord":"frvrsmelding/fravrsmelding"},{"importord":"outsourcing","avloeserord":"utkontraktering, tenesteutsetjing/tjenesteutsetting "},{"importord":"overhead","avloeserord":"skriftprosjektr, lysarkvisar/lysarkviser (tekn.); lysark, transparent (tekn.); administrasjonskostnader, felleskostnader (kon.)"},{"importord":"overheadprojektor","avloeserord":"skriftprosjektr, lysarkvisar/lysarkviser"},{"importord":"pager","avloeserord":"personskjar/personsker"},{"importord":"paper","avloeserord":"forskingsartikkel/forskningsartikkel, vitskapleg innlegg/vitenskapelig innlegg"},{"importord":"paramedic","avloeserord":"paramedisinar/paramedisiner (person)"},{"importord":"paring","avloeserord":"(mobil) parkopling, paring"},{"importord":"patch","avloeserord":"reparasjonsfil, programfiks, feilfiks (IKT)"},{"importord":"patchwork","avloeserord":"lappeteknikk, jf. quilt"},{"importord":"patient (care) pathway","avloeserord":"pasientforlp/pasientlype"},{"importord":"peer review","avloeserord":"fagfellevurdering, kollegavurdering"},{"importord":"peer-to-peer (P2P) network","avloeserord":"likenett, jambyrdsnett/jevnbyrdsnett"},{"importord":"peptalk","avloeserord":"peppreik, pepprat, kveikpreik, piffprat"},{"importord":"performance-kunst","avloeserord":"framfringskunst"},{"importord":"phishing","avloeserord":"nettfisking"},{"importord":"pink","avloeserord":"rosa, lyseraud/lyserd"},{"importord":"pitch","avloeserord":"innsal/innsalg"},{"importord":"plug-in","avloeserord":"programtillegg"},{"importord":"podcast","avloeserord":"podkast, poddkast"},{"importord":"pole position","avloeserord":"beste startspor"},{"importord":"policy","avloeserord":"politikk, taktikk, retningslinjer"},{"importord":"polish","avloeserord":"poler(ings)middel, pussemiddel, polisj"},{"importord":"pop-up menu","avloeserord":"oppsprettsmeny, sprettoppmeny, hurtigmeny, snggmeny"},{"importord":"poster","avloeserord":"plakat"},{"importord":"preset","avloeserord":"frehandssetje/forhndssette, frehandsinnstille/forhndsinnstille"},{"importord":"prime time","avloeserord":"beste sendetid"},{"importord":"print on demand (POD)","avloeserord":"trykk etter behov (TEB), bestillingstrykk, tingingstrykk, jf. publishing on demand"},{"importord":"printe (ut)","avloeserord":"skrive ut"},{"importord":"printer","avloeserord":"skrivar/skriver"},{"importord":"process flow","avloeserord":"prosessflyt"},{"importord":"producer","avloeserord":"produsent, produksjonsleiar/produksjonsleder, produksjonsansvarleg/produksjonsansvarlig"},{"importord":"promotion","avloeserord":"salsframstyt/salgsframstt; (fram)hjelp, fremming, promotering"},{"importord":"proof of concept (POC)","avloeserord":"konseptprov/konseptbevis"},{"importord":"proxy server","avloeserord":"mellom(ledds)tenar/mellom(ledds)tjener"},{"importord":"public service (broadcasting)","avloeserord":"allmennkringkasting"},{"importord":"publishing on demand","avloeserord":"medieuavhengig publisering, medienytral publisering, jf. print on demand og on demand"},{"importord":"pulled pork","avloeserord":"plukksvin"},{"importord":"push-up","avloeserord":"armheving"},{"importord":"quilt","avloeserord":"(vattert) lappeteppe, jf. patchwork"},{"importord":"quilte","avloeserord":"sy (vattert) lappeteppe, jf. patchwork"},{"importord":"rack","avloeserord":"reol (mus., IKT, allment)"},{"importord":"rail","avloeserord":"takreling, takhaldar/takholder (tekn.); reling (allment)"},{"importord":"ransomware","avloeserord":"lysepengevirus/lsepengevirus, utpressingsvirus, gisselskadevare"},{"importord":"raw food","avloeserord":"rmat"},{"importord":"reality-TV","avloeserord":"ryndoms-TV/virkelighets-TV, dokuspe"},{"importord":"recovery","avloeserord":"(helse) tilfrisking/tilfriskning"},{"importord":"referee","avloeserord":"fagkonsulent (i tidsskrift)"},{"importord":"refill","avloeserord":"pfyll"},{"importord":"release","avloeserord":"plateslepp/plateslipp"},{"importord":"release notes","avloeserord":"produktmerknader, versjonsmerknader (IKT)"},{"importord":"release party","avloeserord":"(plate)sleppfest/(plate)slippfest"},{"importord":"research","avloeserord":"(for)undersking/(for)underskelse, kjeldearbeid/kildearbeid"},{"importord":"reset","avloeserord":"tilbakestille, nullstille"},{"importord":"restart","avloeserord":"omstart, varmstart, jf. boote (IKT)"},{"importord":"retail version","avloeserord":"forhandlarversjon/forhandlerversjon, salsversjon/salgsversjon (IKT)"},{"importord":"retweet","avloeserord":"gjentvitre/oppattvitre, retvitre"},{"importord":"reverse engineering","avloeserord":"omvend/omvendt utvikling, tilbakevikling, inversutvikling"},{"importord":"road-movie","avloeserord":"landevegsfilm/landeveisfilm"},{"importord":"roaming","avloeserord":"nettveksling, nett(om)streifing, nettgjesting"},{"importord":"rockhopping","avloeserord":"(i havpadling:) brot(t)leik, brot(t)padling"},{"importord":"roller blades","avloeserord":"(eg. inline skates linjeskyter) rulleskyter"},{"importord":"roll-on","avloeserord":"(kule)deodorant, (uformelt:) rulledeo"},{"importord":"roll-up","avloeserord":"rullebanner, rulleplakat"},{"importord":"RSS feed","avloeserord":"nyheitsvarsling/nyhetsvarsling, -mating"},{"importord":"sample","avloeserord":"punktprve (tekn.); lydsnutt, videosnutt (mus., media); utval/utvalg (samf.vit.)"},{"importord":"sampling","avloeserord":"punktprving (tekn.); digitalisering (mus., media); direkte utdeling av vareprver (nr.liv)"},{"importord":"scanne","avloeserord":"skanne, avlese"},{"importord":"scanner","avloeserord":"skannar/skanner, avlesar/avleser"},{"importord":"scoop","avloeserord":"varp, nyheitskupp/nyhetskupp, skup"},{"importord":"scrapie","avloeserord":"skrapesjuke/skrapesyke (hos sau)"},{"importord":"screen dump","avloeserord":"skjermdump, skjermbiletkopi/skjermbildekopi"},{"importord":"screen shot","avloeserord":"skjermdump, skjermbiletkopi/skjermbildekopi"},{"importord":"screening","avloeserord":"masseundersking"},{"importord":"scroll bar","avloeserord":"rullefelt, rullesjakt (IKT)"},{"importord":"search path","avloeserord":"skjebane/skebane, skjeveg/skevei (i operativsystem), jf. browse path"},{"importord":"segway","avloeserord":"sthjuling"},{"importord":"selfie","avloeserord":"sjlis, selvis / sjlvis, selvportrett, sjlportrett / sjlvportrett"},{"importord":"server","avloeserord":"tenar/tjener, jf. webserver"},{"importord":"session-at-once","avloeserord":"delbrenning, ktbrenning, fleirktsbrenning/flerktsbrenning, jf. disc-at-once"},{"importord":"shoppe","avloeserord":"handle, g p handletur, g i butikkar / g i butikker"},{"importord":"shoppingsenter","avloeserord":"kjpesenter, butikksenter"},{"importord":"short message system (SMS)","avloeserord":"kortmeldingsteneste/kortmeldingstjeneste (for SMS-meldingar, dss. tekstmeldingar)"},{"importord":"sidebar","avloeserord":"sidestolpe, infostolpe (IKT)"},{"importord":"single touch-screen","avloeserord":"enkelttrykksskjerm/eittrykksskjerm (IKT)"},{"importord":"site (web -)","avloeserord":"vevstad/vevsted, nettstad/nettsted"},{"importord":"skateboard","avloeserord":"rullebrett"},{"importord":"skins","avloeserord":"drakt, tema, ham (IKT), jf. themes"},{"importord":"skippe","avloeserord":"late vere / la vre, hoppe over, slyfe, kutte ut"},{"importord":"slash (/)","avloeserord":"skrstrek"},{"importord":"slippery slope","avloeserord":"(overfrt:) skrplan"},{"importord":"slow motion","avloeserord":"sakte film, langsam kino / langsom kino"},{"importord":"smoothie","avloeserord":"smudi"},{"importord":"snowboard","avloeserord":"snbrett"},{"importord":"software","avloeserord":"programvare"},{"importord":"sound","avloeserord":"klangfarge, lydstil"},{"importord":"soundtrack","avloeserord":"lydspor"},{"importord":"sous vide","avloeserord":"vakuumlaga mat / vakuumlaget mat, vakuumtilverka mat / vakuumtilberedt mat, vakuumtrekt mat / vakuumtrukket mat, vakuumtilverking / vakuumtilberedelse"},{"importord":"space management","avloeserord":"varestyring"},{"importord":"space manager","avloeserord":"vareansvarleg/vareansvarlig"},{"importord":"spam","avloeserord":"sppelpost"},{"importord":"speaking notes","avloeserord":"handnotat/hndnotat, foredragsmanus, talemanus, talenotat/talenotater"},{"importord":"spin-off","avloeserord":"avspinn, sideverknad/sidevirkning, sideeffekt"},{"importord":"spoiler alert","avloeserord":"plottblottar/plottblotter, rpealarm, rpevarsel"},{"importord":"spotlight","avloeserord":"punktlys, punktlampe, spotlys, rampelys"},{"importord":"stakeholder","avloeserord":"interessent"},{"importord":"stalker","avloeserord":"forflger/forflgjar, (nyno. g:) eltar"},{"importord":"standby","avloeserord":"klar, parat, i beredskap (allment); beredskaps- (-farty, -troppar o.a.) (mil.)"},{"importord":"standbybillett","avloeserord":"sjansebillett"},{"importord":"standbymodus","avloeserord":"ventemodus, kvilemodus/hvilemodus (tekn., IKT)"},{"importord":"stand-in","avloeserord":"reserve"},{"importord":"stand-up-komikar/stand-up-komiker","avloeserord":"spontankomikar/spontankomiker, stoppkomikar/stoppkomiker"},{"importord":"stashe (seg opp)","avloeserord":"stase (seg opp), pynte (seg)"},{"importord":"storyboard","avloeserord":"dreiebok"},{"importord":"stout","avloeserord":"stautl"},{"importord":"streaming","avloeserord":"stryming/strmming (direkteavspeling/direkteavspilling av video og lyd over Internett) (IKT)"},{"importord":"street credibility","avloeserord":"gatetruverd/gatetroverdighet"},{"importord":"stretchlaken","avloeserord":"strekklaken"},{"importord":"sub-woofer","avloeserord":"sub-bass(hgtalar)/sub-bass(hyttaler)"},{"importord":"sudden death","avloeserord":"frstemlsspel/frstemlsspill"},{"importord":"sunk cost","avloeserord":"tapt kostnad, irreversibel kostnad"},{"importord":"supply-bt","avloeserord":"forsyningsbt"},{"importord":"support","avloeserord":"brukarsttte/brukersttte (IKT); sttte (allment); jf. help desk"},{"importord":"supporter","avloeserord":"tilhengjar/tilhenger, stttemedlem"},{"importord":"supporterklubb","avloeserord":"sttteklubb, tilhengjarklubb/tilhengerklubb, jf. fanklubb"},{"importord":"surround sound","avloeserord":"kringlyd"},{"importord":"swimming pool","avloeserord":"symjebasseng/svmmebasseng"},{"importord":"system(s) engineering","avloeserord":"systemutvikling"},{"importord":"tab","avloeserord":"arkfane, fane, flik; etikett, merkelapp; tabb"},{"importord":"tablet (PC)","avloeserord":"nettbrett"},{"importord":"take-away-food","avloeserord":"hentemat, ta-med-mat"},{"importord":"talkshow","avloeserord":"prateprogram"},{"importord":"tap screen","avloeserord":"trykkskjerm"},{"importord":"tape (s.)","avloeserord":"limband/limbnd, lydband/lydbnd, videoband/videobnd, teip"},{"importord":"tape (v.)","avloeserord":"ta opp, teipe"},{"importord":"target man","avloeserord":"oppspelspunkt/oppspillspunkt (idr.)"},{"importord":"team","avloeserord":"(arbeids)lag, (samarbeids)gruppe"},{"importord":"teambuilding","avloeserord":"lagutvikling, lagbygging"},{"importord":"teamwork","avloeserord":"lagarbeid, samarbeid"},{"importord":"teaser","avloeserord":"smakebit"},{"importord":"telemarketing","avloeserord":"telefonsal/telefonsalg, marknadsfring/markedsfring (over telefon)"},{"importord":"themes","avloeserord":"tema, drakt, ham (IKT), jf. skins"},{"importord":"think-tank","avloeserord":"tenkjesmie/tenkesmie, tenkjetank/tenketank"},{"importord":"throbber","avloeserord":"puls-ikon (ikon i nettlesarar som er animert under sk el. nedlasting)"},{"importord":"thumbnail","avloeserord":"miniatyrbilete/miniatyrbilde, knttbilete/knttbilde (IKT)"},{"importord":"time manager","avloeserord":"tidsplanleggjar/tidsplanlegger"},{"importord":"time-outtime outtimeout","avloeserord":"det  g i tenkjeboksen / det  g i tenkeboksen, pause (ped.), tidsavbrot / tidsavbrudd (IKT)"},{"importord":"timeshare","avloeserord":"tidspart, deltids(bruks)rett; parts-/andels- (t.d. -bt, -hytte)"},{"importord":"timesharing","avloeserord":"tidsdeling, deltidsbruk; deltids(l)eige/deltids(l)eie"},{"importord":"toastmaster","avloeserord":"visevert, kjkemeister/kjkemester"},{"importord":"to-do-liste","avloeserord":"gjereliste/gjreliste, gjeremlsliste/gjremlsliste"},{"importord":"tooltip","avloeserord":"verktyhjelp (IKT)"},{"importord":"touch screen","avloeserord":"trykkskjerm"},{"importord":"touchpad","avloeserord":"styreplate, peikeplate/pekeplate (IKT)"},{"importord":"trainee","avloeserord":"opplringstilsett/opplringsansatt, opplringskandidat, aspirant, praktikant"},{"importord":"trick or treat","avloeserord":"knask eller knep, godteri eller fanteri, snask eller snusk, grss eller godteri"},{"importord":"trigge","avloeserord":"setje i gang / sette i gang, utlyse/utlse"},{"importord":"trigger","avloeserord":"utlysande faktor / utlsende faktor, inspirasjonskjelde/inspirasjonskilde"},{"importord":"true crime","avloeserord":"krim fr ryndomen / krim fra virkeligheten, ryndomskrim/virkelighetskrim, krimdokumentar, dokukrim"},{"importord":"turnover","avloeserord":"gjennomtrekk, utskifting, gjennomstryming/gjennomstrmming "},{"importord":"tutorial","avloeserord":"rettleiing/veiledning"},{"importord":"tweet","avloeserord":"(verb:) tvitre, kvitre"},{"importord":"tweet","avloeserord":"(substantiv:) tvitring, tvitt, twittermelding, kvitter, kvitring"},{"importord":"twitter","avloeserord":"se tweet"},{"importord":"underscore","avloeserord":"understrek, understreking"},{"importord":"understatement","avloeserord":"underdriving/underdrivelse"},{"importord":"urbanist","avloeserord":"byplanleggjar/byplanlegger"},{"importord":"video on demand","avloeserord":"video p frespurnad / video p foresprsel; videotorg, tingingsvideo/bestillingsvideo"},{"importord":"voice actor","avloeserord":"stemmelegger"},{"importord":"voice mail","avloeserord":"talepost"},{"importord":"voice over","avloeserord":"fortellerstemme, kommentatorstemme"},{"importord":"voice response","avloeserord":"talesvar, innvalssrvis/innvalgssrvis, talerespons"},{"importord":"voucher","avloeserord":"studiebillett, studiesertifikat (utd.); (hotell)kupong"},{"importord":"walkover","avloeserord":"autoopprykk; gratissiger/gratisseier"},{"importord":"weasel","avloeserord":"beltebil"},{"importord":"web designer","avloeserord":"vevutformar/vevutformer, nettskreddar/nettskredder, vevarkitekt, nettsidearkitekt"},{"importord":"web hotel","avloeserord":"vevhotell"},{"importord":"web pad","avloeserord":"nettbrett"},{"importord":"webinar","avloeserord":"nettseminar"},{"importord":"webmaster","avloeserord":"nettredaktr, nettadministrator, nettmeister/nettmester"},{"importord":"webserver","avloeserord":"nettenar/nettjener, vevtenar/vevtjener"},{"importord":"webside","avloeserord":"nettside"},{"importord":"weekend","avloeserord":"helg, vekeslutt/ukeslutt"},{"importord":"whiplash","avloeserord":"nakkesleng"},{"importord":"whistleblower","avloeserord":"varslar/varsler"},{"importord":"whiteboard","avloeserord":"tusjtavle"},{"importord":"whiteboard-tusj","avloeserord":"tavletusj"},{"importord":"wicked problem","avloeserord":"gjenstridig problem"},{"importord":"widescreen","avloeserord":"breiskjerm/bredskjerm"},{"importord":"windsurfing","avloeserord":"brettsegling/brettseiling"},{"importord":"wizard","avloeserord":"vegvisar/veiviser, los (i dataprogram)"},{"importord":"workflow","avloeserord":"arbeidsflyt, arbeidsgang"},{"importord":"workshop","avloeserord":"arbeidsseminar, arbeidsmte, verkstad/verksted (f.eks. idverkstad/idverksted)"},{"importord":"workspace","avloeserord":"arbeidsomrde, arbeidsflate (IKT)"},{"importord":"World Wide Web","avloeserord":"Verdsveven/Verdensveven"},{"importord":"worst case scenario","avloeserord":"i verste fall, verste fall-scenario, verste tilfelle-scenario"},{"importord":"zero waste","avloeserord":"null avfall, nullavfall, null svinn, nullsvinn"}]'),G$=JSON.parse('[{"ord":"antivirus software, antivirus program","bokmaal":"antivirusprogramvare","nynorsk":"antivirusprogramvare","definisjon":"program p en datamaskin som forsker  identifisere, motarbeide og fjerne datavirus og liknende skadevare"},{"ord":"application","bokmaal":"applikasjon","nynorsk":"applikasjon","definisjon":"programvare som benytter datamaskinens ressurser til oppgaver som brukeren nsker utfrt"},{"ord":"CRT monitor, CRT display","bokmaal":"bilderrskjerm","nynorsk":"biletryrskjerm","definisjon":"skjerm med katodestrleryr"},{"ord":"blogosphere","bokmaal":"bloggsfre","nynorsk":"bloggsfre","definisjon":"alle blogger p Internett og koblingene mellom disse"},{"ord":"user interface","bokmaal":"brukergrensesnitt","nynorsk":"brukargrensesnitt","definisjon":"grenseflata eller kommunikasjonen mellom brukar og datamaskin (Kjelde: Norsk dataordbok)"},{"ord":"embed","bokmaal":"bygge inn","nynorsk":"byggje inn","definisjon":"inkorporere et selvstendig element i et system / en struktur slik at det fremstr som en enhet"},{"ord":"laptop, notebook","bokmaal":"brbar datamaskin","nynorsk":"berbar datamaskin","definisjon":"datamaskin som er konstruert for mobil bruk, er liten og lett nok til  ha p fanget, har integrert skjerm og kan ha integrert fysisk eller virtuelt tastatur og pekeenhet"},{"ord":"crowd computing","bokmaal":"datadugnad","nynorsk":"datadugnad","definisjon":"verkty som gjr det mulig  utveksle ideer og ta beslutninger ved hjelp av og via data"},{"ord":"computer monitor, computer screen","bokmaal":"dataskjerm","nynorsk":"dataskjerm","definisjon":"eining som syner den visuelle delen av brukargrensesnittet p ein datamaskin"},{"ord":"digital ink","bokmaal":"digitalt blekk","nynorsk":"digitalt blekk","definisjon":"teknologi som digitalt avbilder hndskrift i dens naturlige form p en LCD-skjerm"},{"ord":"digital paper","bokmaal":"digitalt papir","nynorsk":"digitalt papir","definisjon":"rastra blank side som vert vist p ein skjerm, og som vert nytta saman med ein digital penn til  lage handskrivne, digitale dokument"},{"ord":"swipe","bokmaal":"dra","nynorsk":"dra","definisjon":"rrsle der ein beveger ein finger raskt over ein trykkskjerm"},{"ord":"flick","bokmaal":"dra fort","nynorsk":"dra fort","definisjon":"rask rrsle med in finger for  bla p ein trykkskjerm"},{"ord":"e-book","bokmaal":"e-bok","nynorsk":"e-bok","definisjon":"digital tekst som skal tilsvare en tradisjonell, trykt boktekst"},{"ord":"extranet","bokmaal":"ekstranett","nynorsk":"ekstranett","definisjon":"deler av et intranett som er delvis tilgjengelige for utenforstende med begrenset tilgang"},{"ord":"electronic paper, e-paper","bokmaal":"elektronisk papir","nynorsk":"elektronisk papir","definisjon":"skjermteknologi som er utforma for  likne trykksverte p papir"},{"ord":"hashtag","bokmaal":"emneknagg","nynorsk":"emneknagg","definisjon":"Blir gjerne brukt i sosiale medium for  utheve tema eller gjere det lettare  skje"},{"ord":"single-touch screen","bokmaal":"enkelttrykksskjerm","nynorsk":"enkelttrykksskjerm","definisjon":"trykkskjerm der ein kan nytte berre ein peikereiskap om gongen"},{"ord":"firmware","bokmaal":"fastvare","nynorsk":"fastvare","definisjon":"programvare som er innebygd i ein datamaskin, og som styrer elektriske einingar internt"},{"ord":"multi-touch screen","bokmaal":"flertrykksskjerm","nynorsk":"fleirtrykksskjerm","definisjon":"trykkskjerm der ein kan nytte fleire fingrar eller peikereiskapar p skjermen samtidig"},{"ord":"crowdfunding","bokmaal":"folkefinansiering","nynorsk":"folkefinansiering","definisjon":"den samlede innsatsen til enkeltpersoner som danner et nettverk og bidrar med penger, vanligvis via Internett, for  sttte tiltak som er startet av andre personer eller organisasjoner"},{"ord":"bloatware","bokmaal":"gjkeprogram","nynorsk":"gaukeprogram","definisjon":"program som tek mykje minne p eininga det er installert p"},{"ord":"freeware","bokmaal":"gratisprogramvare","nynorsk":"gratisprogramvare","definisjon":"programvare som kan benyttes uten vederlag, men der utvikleren beholder opphavsretten til programkoden, som ikke kan endres eller brukes i andre sammenhenger"},{"ord":"home page","bokmaal":"hjemmeside","nynorsk":"heimeside","definisjon":"nettside som fungerer som forside for et nettsted"},{"ord":"PDA (Personal Digital Assistent), hand-held computer, palm","bokmaal":"hndholdt datamaskin","nynorsk":"handhalden datamaskin","definisjon":"datamaskin som er liten nok til  holdes i hnden"},{"ord":"Internet","bokmaal":"Internett","nynorsk":"Internett","definisjon":"verdensomspennende nettverk av elektroniske kommunikasjonsnett som er knyttet sammen av et felles sett av grunnleggende kommunikasjonsprotokoller (TCP, UDP, IP mfl.)"},{"ord":"intranet","bokmaal":"intranett","nynorsk":"intranett","definisjon":"et internt datanettverk som bruker IP-teknologi til  dele informasjon, operasjonelle systemer eller datatjenester innenfor en organisasjon og til  hindre tilgang for eksterne"},{"ord":"client","bokmaal":"klient","nynorsk":"klient","definisjon":"maskinvare eller programvare som bruker ei teneste p ein tenar"},{"ord":"front end","bokmaal":"klientdel","nynorsk":"klientdel","definisjon":"delen av eit klient-/tenarprogram som kyrer p klienten"},{"ord":"jailbreaking","bokmaal":"knekking","nynorsk":"knekking","definisjon":"prosedyre for mobiltelefoner o.l. som gir full tilgang til alle egenskaper ved operativsystemet, og som dermed fjerner begrensninger satt av produsenten"},{"ord":"pinch","bokmaal":"knipe","nynorsk":"knipe","definisjon":"rrsle der ein plasserer to fingrar p ein trykkskjerm og drar dei mot kvarandre"},{"ord":"Liquid crystal display","bokmaal":"LCD-skjerm","nynorsk":"LCD-skjerm","definisjon":"tynn skjerm som er samansett av eit panel med flytande krystallar som vert lyste opp av lysryr"},{"ord":"LED display","bokmaal":"LED-skjerm","nynorsk":"LED-skjerm","definisjon":"tynn skjerm som er samansett av eit panel med flytande krystallar som vert lyste opp av lysdiodar"},{"ord":"linked data","bokmaal":"lenkede data","nynorsk":"lenkja data","definisjon":"metode for  offentliggjre, dele og knytte sammen data p vebben ved hjelp av unike URI-er"},{"ord":"e-book reader, e-book device, e-reader","bokmaal":"lesebrett","nynorsk":"lesebrett","definisjon":"elektronisk eining som er utvikla primrt for lesing av digitale tekster, inntil no helst bker og tidsskrift"},{"ord":"hardware","bokmaal":"maskinvare","nynorsk":"maskinvare","definisjon":"dei fysiske delane ein datamaskin eller anna teknologisk innretning bestr av"},{"ord":"big data","bokmaal":"massedata","nynorsk":"massedata","definisjon":"data i s store mengder at tradisjonelle database- og behandlingsteknikker ikke makter  analysere dem p en formlstjenlig mte"},{"ord":"netbook","bokmaal":"minibrbar datamaskin","nynorsk":"miniberbar datamaskin","definisjon":"liten berbar datamaskin som er utforma for trdlaus kommunikasjon og tilgang til Internett, og som nyttar mindre straum og har mindre prosesseringskraft enn ein vanleg berbar datamaskin"},{"ord":"widget, gadget, plugin","bokmaal":"miniprogram","nynorsk":"miniprogram","definisjon":"flyttbar kode som kan installeres og kjres p en eller flere programvareplattformer"},{"ord":"crowdsourcing","bokmaal":"nettdugnad","nynorsk":"nettdugnad","definisjon":"prosess der man fr ndvendige tjenester, ideer eller innhold ved  hente inn bidrag fra en stor gruppe mennesker, srlig fra nettsamfunn"},{"ord":"mashup","bokmaal":"nettfletting","nynorsk":"nettfletting","definisjon":"vebbapplikasjon som sammenstiller data fra flere forskjellige kilder og presenterer disse p en felles side"},{"ord":"web page","bokmaal":"nettside","nynorsk":"nettside","definisjon":"en enkelt ressurs som kan inneholde tekst, lyd, bilde, animasjon, film og annet, som har en unik adresse (URL), og som er tilgjengelig gjennom en nettleser"},{"ord":"cloud computing","bokmaal":"nettsky","nynorsk":"nettsky","definisjon":"samlebetegnelse p datatjenester som ytes over Internett og som er satt opp for  kunne samvirke med andre datatjenester"},{"ord":"web site","bokmaal":"nettsted","nynorsk":"nettstad","definisjon":"samling av relaterte nettsider, bilder, videoer eller andre digitale ressurser som oppfattes som en naturlig enhet"},{"ord":"RSS feed, news feed","bokmaal":"nyhetsvarsling","nynorsk":"nyheitsvarsling","definisjon":"automatisk nettjeneste som overvker forvalgte nettsider og registrerer nytt stoff som blir publisert der, og som varsler om det nye stoffet i en kortform som inneholder noen tekstrader og en tilhrende klikkbar lenke til fullversjonen av det aktuelle stoffet"},{"ord":"OLED display","bokmaal":"OLED-skjerm","nynorsk":"OLED-skjerm","definisjon":"tynn skjerm som bruker organiske lysdiodar som teknologi"},{"ord":"organic light emitting diode (oled)","bokmaal":"organisk lysdiode","nynorsk":"organisk lysdiode","definisjon":"lysdiode der lyskjelda er eit organisk materiale som under pverknad av elektrisk straum sender ut farga lys"},{"ord":"pan","bokmaal":"panorere","nynorsk":"panorere","definisjon":"rrsle der ein drar in finger fr side til side p ein trykkskjerm"},{"ord":"plasma display, plasma screen","bokmaal":"plasmaskjerm","nynorsk":"plasmaskjerm","definisjon":"tynn skjerm der biletelementa er samansette av gassfylte celler belagde med raudt, grnt eller bltt"},{"ord":"native app","bokmaal":"plattformavhengig app","nynorsk":"plattformavhengig app","definisjon":"applikasjon som bare kan kjres p den teknologiske plattformen den ble laget for"},{"ord":"podcast","bokmaal":"poddkast, podkast","nynorsk":"poddkast, podkast","definisjon":"ei multimediefil som blir distribuert over Internett for avspeling p mobile einingar og datamaskiner"},{"ord":"podcasting","bokmaal":"poddkasting, podkasting","nynorsk":"poddkasting, podkasting","definisjon":"distribusjon av podkaster"},{"ord":"software","bokmaal":"programvare","nynorsk":"programvare","definisjon":"dei binre filene med instruksjonar som gjer det mogleg  bruke ein datamaskin eller annan elektronikk"},{"ord":"software-as-a-service","bokmaal":"programvare som tjeneste","nynorsk":"programvare som teneste","definisjon":"programvare som er tilgjengeleg som ei nettbasert teneste"},{"ord":"pull technology","bokmaal":"pullteknologi","nynorsk":"pullteknologi","definisjon":"teknologi for distribusjon av data og program der brukaren sjlv m ta initiativ til levering til eige datautstyr"},{"ord":"push technology","bokmaal":"pushteknologi","nynorsk":"pushteknologi","definisjon":"teknologi for distribusjon av data og program der dei blir leverte automatisk til datautstyret til brukaren i sanntid eller med gitte tidsintervall"},{"ord":"adware","bokmaal":"reklameprogramvare","nynorsk":"reklameprogramvare","definisjon":"programvare med innebygd reklame som gis til brukere"},{"ord":"scroll","bokmaal":"rulle","nynorsk":"rulle","definisjon":"rrsle der ein beveger biletet p ein skjerm i nskt retning med fingrar eller mus"},{"ord":"malware","bokmaal":"skadevare","nynorsk":"skadevare","definisjon":"fellesbetegnelse p programvare som er laget for  delegge eller avbryte datasystemer, hente ut informasjon uten brukers samtykke eller f tilgang til private datasystemer"},{"ord":"wearable technology, computer wearables, wearable computing","bokmaal":"smartklr","nynorsk":"smartklede","definisjon":"datautstyr i form av klesplagg som en bruker kan ha p seg"},{"ord":"interactive whiteboard","bokmaal":"smarttavle","nynorsk":"smarttavle","definisjon":"tavle som kan koplast til ein datamaskin, og som fungerer som ein stor trykkskjerm"},{"ord":"wearable technology, computer wearables, wearable computing","bokmaal":"smarttilbehr","nynorsk":"smarttilbehyr","definisjon":"datautstyr som en bruker kan ha p seg, i form av tilbehr som for eksempel klokker, briller og armbnd"},{"ord":"social medium","bokmaal":"sosialt medium","nynorsk":"sosialt medium","definisjon":"system p vebben som tillater kommunikasjon eller samhandling mellom to eller flere personer"},{"ord":"spyware","bokmaal":"spionprogramvare","nynorsk":"spionprogramvare","definisjon":"skadevare som installeres (ofte skjult) p en datamaskin for  overvke brukerens anvendelse av datamaskinen, uten at det foreligger informert samtykke til dette fra brukerens side"},{"ord":"spread","bokmaal":"spre","nynorsk":"spreie","definisjon":"rrsle der ein plasserer to fingrar p ein trykkskjerm og drar dei fr kvarandre"},{"ord":"solid state drive (SSD)","bokmaal":"SSD-disk","nynorsk":"SSD-disk","definisjon":"datalagringsenhet som bruker integrerte kretskort som minne til varig lagring av data"},{"ord":"start page","bokmaal":"startside","nynorsk":"startside","definisjon":"nettsiden som vises straks en nettleser pnes"},{"ord":"streaming","bokmaal":"strmming","nynorsk":"stryming","definisjon":"overfring av lyd eller video over Internett hvor avspillingen foregr samtidig med nedlastingen uten at mottakeren trenger  vente til hele datamengden er overfrt"},{"ord":"pullprint","bokmaal":"styrt utskrift","nynorsk":"styrt utskrift","definisjon":"skrivarfunksjon der utskriftsjobben til ein brukar blir vrande p skrivaren til brukaren frigir den med kode, kort e.l."},{"ord":"tap","bokmaal":"tappe","nynorsk":"tappe","definisjon":"rrsle der in finger blir pressa lett mot ein trykkskjerm og s blir sloppe raskt opp"},{"ord":"tablet-PC","bokmaal":"tavle-pc","nynorsk":"tavle-pc","definisjon":"brbar datamaskin som betjenes med trykkskjerm eller stylus"},{"ord":"server","bokmaal":"tjener","nynorsk":"tenar","definisjon":"funksjonsenhet som srger for tjenester til arbeidsstasjoner i et datanett"},{"ord":"back end","bokmaal":"tjenerdel","nynorsk":"tenardel","definisjon":"delen av eit klient-/tenarprogram som kyrer p tenaren"},{"ord":"touch screen","bokmaal":"trykkskjerm","nynorsk":"trykkskjerm","definisjon":"skjerm som reagerer p berring, og som fungerer som bde styreeining og visningseining"},{"ord":"tweet (verb)","bokmaal":"tvitre","nynorsk":"tvitre","definisjon":"sende ei twittermelding"},{"ord":"tweet (substantiv)","bokmaal":"twittermelding","nynorsk":"twittermelding","definisjon":"melding skriven p nettenesta Twitter"},{"ord":"subnotebook","bokmaal":"ultrabrbar datamaskin","nynorsk":"ultraberbar datamaskin","definisjon":"svrt liten brbar datamaskin med f porter eller avtakbar diskstasjon"},{"ord":"host (substantiv)","bokmaal":"vert","nynorsk":"vert","definisjon":"datamaskin som er koblet til et nettverk, og som gir et tilgangspunkt til nettverket"},{"ord":"viral","bokmaal":"viral","nynorsk":"viral","definisjon":"som er veldig populr og som spreier seg raskt, srleg p Internett"},{"ord":"World Wide Web","bokmaal":"weben, vebben","nynorsk":"weben, vebben","definisjon":"verdensomspennende informasjonsnett bygget p Internett som bestr av nettsider som bruker versjoner av html for  uttrykke og lenke sammen informasjon"},{"ord":"web host","bokmaal":"webhotell, vebbhotell","nynorsk":"webhotell, vebbhotell","definisjon":"tjeneste hvor tjenestetilbyderen lagrer data (og ev. programvare) p kundens vegne og gjr dette tilgjengelig p Internett"},{"ord":"open access","bokmaal":"pen tilgang","nynorsk":"open tilgang","definisjon":"ubegrenset nettilgang til artikler som er publisert i vitenskapelige tidsskrifte"}]'),Y$=["sosialhjelp"],Y1=n=>n===""?[]:z$.filter(e=>n.toLowerCase().match("\\b"+e.kanselliord.toLowerCase()+"\\b"));function q$({value:n}){const e=Y1(n);return e.length===0?null:N.jsxs(ue.Item,{children:[N.jsx(ue.Header,{children:e.length==1?N.jsx(N.Fragment,{children:"1 ord som kan byttes ut"}):N.jsxs(N.Fragment,{children:[e.length," ord som kan byttes ut"]})}),N.jsxs(ue.Content,{children:[N.jsx(ie,{spacing:!0,children:"Ord og uttrykk som er utdaterte eller sier noe p en vanskeligere mte enn ndvendig."}),N.jsx(ie,{spacing:!0,children:e.length>=1&&e.map(t=>N.jsxs(Pr,{header:t.kanselliord,children:["Forslag til alternativer: ",t.alternativ_1]},t.kanselliord))}),N.jsxs(ie,{children:["Kilde: ",N.jsxs(tn,{target:"_blank",href:"https://www.sprakradet.no/klarsprak/om-skriving/kansellisten/",children:["Sprkrdets kanselliste",N.jsx(Pi,{})]})]})]})]})}const q1=n=>n===""?[]:K$.filter(e=>n.toLowerCase().match("\\b"+e.ord.toLowerCase()+"\\b"));function X$({value:n}){const e=q1(n);if(e.length===0)return null;const t=Array.from(e.reduce((r,s)=>r.set(s.kilde,s),new Map).values());return N.jsxs(ue.Item,{children:[N.jsx(ue.Header,{children:e.length==1?N.jsx(N.Fragment,{children:"1 mulig sttende ord"}):N.jsxs(N.Fragment,{children:[e.length," mulige sttende ord"]})}),N.jsxs(ue.Content,{children:[N.jsx(ie,{spacing:!0,children:"Ord i teksten som kan vre sttende, eller som br brukes med varsomhet."}),N.jsx(ie,{spacing:!0,children:e.map(r=>N.jsx(Pr,{header:r.ord,children:r.bokmaal},r.id))}),t.map(r=>N.jsxs(ie,{children:["Kilde:"," ",N.jsxs(tn,{target:"_blank",href:r.lenke,children:[r.kilde,N.jsx(Pi,{})]})]},r.kilde))]})]})}const X1=n=>{if(n==="")return{avloeserordMatches:[],datatermerMatches:[]};const e=W$.filter(r=>n.toLowerCase().match("\\b"+r.importord.toLowerCase()+"\\b")),t=G$.filter(r=>n.toLowerCase().match("\\b"+r.ord.toLowerCase()+"\\b"));return{avloeserordMatches:e,datatermerMatches:t}};function Z$({value:n}){const{avloeserordMatches:e,datatermerMatches:t}=X1(n);return e.length===0&&t.length===0?null:N.jsx(N.Fragment,{children:N.jsxs(ue.Item,{children:[N.jsx(ue.Header,{children:e.length+t.length==1?N.jsx(N.Fragment,{children:"1 mulig avlserord"}):N.jsx(N.Fragment,{children:`${e.length+t.length} mulige avlserord`})}),N.jsxs(ue.Content,{children:[N.jsx(ie,{spacing:!0,children:"Norske ord som kan brukes i stedet for de tilsvarende engelske:"}),N.jsxs(ie,{spacing:!0,children:[e.length>0&&e.map(r=>N.jsxs(Pr,{header:`"${r.importord}"`,children:["Forslag til alternativer: ",r.avloeserord]},`ordliste-${r.importord}`)),t.length>0&&t.map(r=>N.jsxs(Pr,{header:`"${r.ord}"`,children:["Forslag til alternativer: ",r.bokmaal,N.jsx("p",{children:r.definisjon})]},`dataterm-${r.ord}`))]}),N.jsxs("div",{children:[e.length>0&&N.jsxs(ie,{children:["Kilde:"," ",N.jsxs(tn,{target:"_blank",href:"https://www.sprakradet.no/sprakhjelp/Skriverad/Avloeysarord/",children:["P godt norsk  avlserord",N.jsx(Pi,{})]})]}),t.length>0&&N.jsxs(ie,{children:["Kilde:"," ",N.jsxs(tn,{target:"_blank",href:"https://www.sprakradet.no/sprakhjelp/Skriverad/Ordlister/Datatermar/",children:["Sprkrdets datatermer ",N.jsx(Pi,{})]})]})]})]})]})})}const Z1=n=>{var e;return((e=n.replaceAll("Kontakt","").replaceAll(/\d+(?: \d+)/g,"").toLowerCase().match(/\b( men)\b/g))==null?void 0:e.length)??0};function J$({value:n}){const e=Z1(n);return N.jsx(N.Fragment,{children:e!=0&&N.jsxs(ue.Item,{children:[N.jsx(ue.Header,{children:e==1?N.jsx(N.Fragment,{children:"1 tilfelle av manglende komma"}):N.jsxs(N.Fragment,{children:[e," tilfeller av manglende komma"]})}),N.jsxs(ue.Content,{className:"",children:[N.jsx(Ve,{spacing:!0,level:"3",size:"xsmall",children:'Alltid komma foran "men"'}),"Det er ",e==1?N.jsx(N.Fragment,{children:"ett tilfelle"}):N.jsxs(N.Fragment,{children:[e," tilfeller"]}),' i teksten der det mangler komma foran "men".']})]})})}const J1=n=>{const e=n.replaceAll("Kopier lenke",""),t=i=>i.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi)??[],r=i=>i.match(/(\s*[0-9]+){8,11}/gi)??[],s=i=>{var a;return((a=i.match(/([A-Z][a-z][a-z]*(?: [A-Z][a-z][a-z]*){1,2})/g))==null?void 0:a.filter((o,l)=>i.indexOf(o)===l))??[]};return{emails:t(e),phonenumbers:r(e),names:s(e)}};function Q$({value:n}){const{emails:e,names:t,phonenumbers:r}=J1(n);return e.length===0&&t.length===0&&r.length===0?null:N.jsxs(ue.Item,{children:[N.jsxs(ue.Header,{children:[e.length+r.length+t.length," ",e.length+r.length+t.length===1?N.jsx(N.Fragment,{children:" mulig personopplysning"}):N.jsx(N.Fragment,{children:"mulige personopplysninger"})]}),N.jsxs(ue.Content,{children:[e.length>=1&&N.jsxs(ie,{spacing:!0,children:[N.jsx(Ve,{spacing:!0,level:"3",size:"xsmall",children:"E-postadresser"}),N.jsx(Mn,{children:e.map((s,i)=>N.jsxs(Mn.Item,{children:['"',s,'"']},i))})]}),r.length>=1&&N.jsxs(ie,{spacing:!0,children:[N.jsx(Ve,{spacing:!0,level:"3",size:"xsmall",children:"Telefonnummer"}),N.jsx(Mn,{children:r.map((s,i)=>N.jsxs(Mn.Item,{children:['"',s,'"']},i))})]}),t.length>=1&&N.jsxs(ie,{children:[N.jsx(Ve,{spacing:!0,level:"3",size:"xsmall",children:"Navn"}),N.jsx(Mn,{children:t.map((s,i)=>N.jsxs(Mn.Item,{children:['"',s,'"']},i))})]})]})]})}const Q1=n=>{const e="!;.*?",t=n.split(/\s+/),r=n.split("").reduce((i,a)=>e.includes(a)?i+1:i,0),s=t.reduce((i,a)=>a.length>=7?i+1:i,0);return r===0?void 0:Math.round(t.length/r+s*100/t.length)},eK=n=>n<=33?"Enkel  lese":n>33&&n<44?"Middels  lese":"Vanskelig  lese";function tK({value:n}){const e=Q1(n);if(!e)return N.jsxs(ue.Item,{children:[N.jsx(ue.Header,{children:"Liks: For lite tekst"}),N.jsx(ue.Content,{children:"Sett inn minst n setning for  f opp resultater."})]});const t=eK(e);return N.jsxs(ue.Item,{children:[N.jsxs(ue.Header,{children:["Liks: ",e,". ",t]}),N.jsxs(ue.Content,{children:[N.jsxs(ie,{style:{textTransform:"initial"},children:["Liks: ",e,". Teksten er ",N.jsx("span",{style:{textTransform:"lowercase"},children:t})," iflge"," ",N.jsxs(tn,{target:"_blank",href:"https://no.wikipedia.org/wiki/Lesbarhetsindeks",children:["lesbarhetsindeksen",N.jsx(Pi,{})]}),"."]}),N.jsxs("div",{children:[N.jsx(Ve,{spacing:!0,level:"3",size:"xsmall",children:"Skriverd"}),N.jsxs("ul",{children:[N.jsx("li",{children:"Skriv korte og enkle setninger"}),N.jsx("li",{children:"Velg korte og enkle ord"}),N.jsx("li",{children:"Skriv det viktigste frst"})]})]})]})]})}const eT=n=>{var e;const t=n.split(/\s+/).length,r=n.split(`

`).reduce((l,d)=>d.replace(/\s+/gi,"").length>1?l+1:l,0),s="!.?",i=n.split("").reduce((l,d)=>s.includes(d)?l+1:l,0),a=n.length,o=a-(((e=n.match(/\s/g))==null?void 0:e.length)??0);return{totalWords:t,totalSentences:i,totalParagraphs:r,totalCharacters:a,totalCharactersWithoutSpaces:o}};function nK({value:n}){const{totalWords:e,totalParagraphs:t,totalSentences:r,totalCharacters:s,totalCharactersWithoutSpaces:i}=eT(n);return N.jsxs(ue.Item,{children:[N.jsxs(ue.Header,{children:["Ordtelling: ",e," ord"]}),N.jsx(ue.Content,{children:N.jsxs("ul",{children:[N.jsxs("li",{children:["Ord: ",e]}),N.jsxs("li",{children:["Setninger: ",r]}),N.jsxs("li",{children:["Avsnitt: ",t]}),N.jsxs("li",{children:["Tegn: ",s," ",s!=i&&N.jsxs(N.Fragment,{children:["(",i," uten mellomrom)"]})]})]})})]})}const tT=n=>n.replaceAll(/\<\/(.?)\>/g,"").replaceAll(/\<(.?)\>/g,"").replaceAll(/\s+/g," ").replace(/[^\w\s\/\\-]/g,"").toLowerCase().split(/\s+/).map(e=>e.replace(/[.,:?()!"]+/g,"")).reduce((e,t)=>t===""?e:{...e,[t]:(e[t]??0)+1},{});function rK(n){const e=tT(n.value);if(Object.keys(e).length===0)return null;const[t,r]=y.useState(1),s=10,i=t*10,a=i-10,o=Object.entries(e).sort((d,c)=>c[1]-d[1]).slice(a,i),l=Math.ceil(Object.keys(e).length/s);return N.jsxs(ue.Item,{children:[N.jsx(ue.Header,{children:"Frekvensordliste"}),N.jsxs(ue.Content,{children:[N.jsx("div",{children:N.jsxs(It,{zebraStripes:!0,size:"small",children:[N.jsx(It.Header,{children:N.jsxs(It.Row,{children:[N.jsx(It.HeaderCell,{scope:"col",children:"Ord"}),N.jsx(It.HeaderCell,{scope:"col",children:"Frekvens"})]})}),N.jsx(It.Body,{children:o.map(d=>N.jsxs(It.Row,{children:[N.jsx(It.HeaderCell,{scope:"row",children:d[0]}),N.jsx(It.DataCell,{children:d[1]})]},d[0]))})]})}),l>1&&N.jsx("div",{children:N.jsx(Id,{page:t,onPageChange:r,count:l,size:"small",siblingCount:0,boundaryCount:1})})]})]})}function sK({value:n}){return N.jsxs(ue.Item,{children:[N.jsx(ue.Header,{children:"Liks og ordtelling"}),N.jsx(ue.Content,{children:N.jsxs(ue,{children:[N.jsx(tK,{value:n}),N.jsx(nK,{value:n}),N.jsx(rK,{value:n})]})})]})}const nT=n=>n===""?[]:Y$.filter(e=>n.toLowerCase().match("\\b"+e.toLowerCase()+"\\b")),iK=({userInput:n})=>{const e=nT(n);return e.length===0?null:N.jsxs(ue.Item,{children:[N.jsx(ue.Header,{children:e.length==1?N.jsx(N.Fragment,{children:"1 mulig personvernbrudd"}):N.jsxs(N.Fragment,{children:[e.length," mulige personvernbrudd"]})}),N.jsxs(ue.Content,{children:[N.jsx(ie,{spacing:!0,children:"Dette er ord eller begrep som br unngs i arbeidsrettet oppflging. For eksempel ord rundt kommunale ytelser."}),N.jsx(ie,{spacing:!0,children:N.jsx(Mn,{children:e.map(t=>N.jsxs(Mn.Item,{children:['"',t,'"']},`personvernbrudd-${t}`))})})]})]})},rT=({value:n,open:e,options:t={}})=>{const{longParagraphs:r=!0,longSentences:s=!0,longWords:i=!0,duplicateWords:a=!0,kansellistenDictionary:o=!0,nrkDictionary:l=!0,avloeserordDictionary:d=!0,commaCheck:c=!0,personalData:u=!0,tools:h=!0,personvernbrudd:p=!0}=t;return!n||!e?null:N.jsxs(ue,{children:[r&&N.jsx(B$,{value:n}),s&&N.jsx(H$,{value:n}),i&&N.jsx(U$,{value:n}),a&&N.jsx($$,{value:n}),o&&N.jsx(q$,{value:n}),l&&N.jsx(X$,{value:n}),d&&N.jsx(Z$,{value:n}),c&&N.jsx(J$,{value:n}),u&&N.jsx(Q$,{value:n}),p&&N.jsx(iK,{userInput:n}),h&&N.jsx(sK,{value:n})]})},xg=n=>({longParagraphs:K1(n),longSentences:z1(n),longWords:W1(n),duplicateWords:G1(n),kansellisten:Y1(n),nrkOrd:q1(n),avloeserord:X1(n),comma:Z1(n),personalData:J1(n),personvernbrudd:nT(n),tools:{lix:Q1(n),wordCount:eT(n),wordFrequency:tT(n)}}),sT=()=>{const n=W(bU);return n?`
Hilsen ${n}`:""},aK=n=>n.data.tryggTekst,oK=pt(aK,n=>({status:n.status,data:n.data})),lK=()=>f.jsxs("svg",{width:48,height:48,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("path",{d:"M8 27.2C8 19.2006 8 15.2009 10.0372 12.397C10.6951 11.4914 11.4914 10.6951 12.397 10.0372C15.2009 8 19.2006 8 27.2 8H36.8C44.7994 8 48.7991 8 51.603 10.0372C52.5086 10.6951 53.3049 11.4914 53.9628 12.397C56 15.2009 56 19.2006 56 27.2V36.8C56 44.7994 56 48.7991 53.9628 51.603C53.3049 52.5086 52.5086 53.3049 51.603 53.9628C48.7991 56 44.7994 56 36.8 56H27.2C19.2006 56 15.2009 56 12.397 53.9628C11.4914 53.3049 10.6951 52.5086 10.0372 51.603C8 48.7991 8 44.7994 8 36.8V27.2Z",fill:"#202733"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.9708 5C40.8254 4.99994 43.9605 4.9999 46.473 5.2721C49.0786 5.5544 51.3678 6.15805 53.3664 7.6101C54.5266 8.45306 55.5469 9.47338 56.3899 10.6336C57.842 12.6322 58.4456 14.9214 58.7279 17.527C59.0001 20.0395 59.0001 23.1747 59 27.0293V36.9707C59.0001 40.8253 59.0001 43.9605 58.7279 46.473C58.4456 49.0786 57.842 51.3678 56.3899 53.3664C55.5469 54.5266 54.5266 55.5469 53.3664 56.3899C51.3678 57.842 49.0786 58.4456 46.473 58.7279C43.9605 59.0001 40.8254 59.0001 36.9707 59H27.0293C23.1747 59.0001 20.0395 59.0001 17.527 58.7279C14.9214 58.4456 12.6322 57.842 10.6336 56.3899C9.47338 55.5469 8.45306 54.5266 7.6101 53.3664C6.15805 51.3678 5.5544 49.0786 5.2721 46.473C4.9999 43.9605 4.99994 40.8254 5 36.9708V27.0292C4.99994 23.1746 4.9999 20.0395 5.2721 17.527C5.5544 14.9214 6.15805 12.6322 7.6101 10.6336C8.45306 9.47338 9.47338 8.45306 10.6336 7.6101C12.6322 6.15805 14.9214 5.5544 17.527 5.2721C20.0395 4.9999 23.1746 4.99994 27.0292 5H36.9708ZM10.0372 12.397C8 15.2009 8 19.2006 8 27.2V36.8C8 44.7994 8 48.7991 10.0372 51.603C10.6951 52.5086 11.4914 53.3049 12.397 53.9629C15.2009 56 19.2006 56 27.2 56H36.8C44.7994 56 48.7991 56 51.603 53.9629C52.5086 53.3049 53.3049 52.5086 53.9629 51.603C56 48.7991 56 44.7994 56 36.8V27.2C56 19.2006 56 15.2009 53.9629 12.397C53.3049 11.4914 52.5086 10.6951 51.603 10.0372C48.7991 8 44.7994 8 36.8 8H27.2C19.2006 8 15.2009 8 12.397 10.0372C11.4914 10.6951 10.6951 11.4914 10.0372 12.397Z",fill:"white"}),f.jsx("path",{d:"M40.1877 42.4534V21.3334H46.0677V42.4534H40.1877Z",fill:"white"}),f.jsx("path",{d:"M18.0001 42.4534V21.3334H23.8801V29.0934H24.0401L29.8001 21.3334H36.1601L29.4801 29.9734L37.3601 42.4534H31.0801L26.1201 34.0134L23.8801 36.5734V42.4534H18.0001Z",fill:"white"})]}),dK=({value:n})=>{const e=kt(),{status:t,data:r}=W(oK),{id:s}=ii(),i=y.useRef(s);y.useEffect(()=>{const o=i.current;o&&o!==s&&e(vM()),i.current=s},[s,e]);const a=o=>{o&&e(mM({tekst:n,tryggTekstReferatId:r?.tryggTekstReferatId}))};return f.jsxs(va,{"aria-label":"Sjekk for sensitive personopplysninger",className:"bg-surface-info-subtle",onToggle:a,children:[f.jsx(va.Header,{className:"",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(lK,{}),f.jsx(Ve,{size:"small",children:"Sjekk teksten med TryggTekst"})]})}),f.jsx(va.Content,{children:t===ee.PENDING||t===ee.RELOADING?f.jsxs("div",{className:"flex flex-col space-y-4 mt-4 justify-center items-center",children:[f.jsx(ie,{children:"KI-modellen sjekker for srlige kategorier av personopplysninger"}),f.jsx(qo,{size:"2xlarge"})]}):t===ee.OK?f.jsx(Mn,{children:(r?.kategorier||[]).map(o=>f.jsxs(Mn.Item,{children:[f.jsx(ie,{className:"font-bold",children:cK(o.kategori)}),f.jsx(br,{children:o.trigger})]},o.kategori))}):null})]})},cK=n=>n.charAt(0).toUpperCase()+n.slice(1),iT=({value:n})=>{const e=kt();y.useEffect(()=>{e(xE())},[]);const{status:t,data:r}=W(EE);return t===ee.OK&&r&&r["aktivitetsplan.tryggtekst"]===!0?f.jsx(dK,{value:n}):null},uK=$t({tittel:et().min(1,"Du m fylle ut tema for samtalen").max(100,"Du m korte ned teksten til 100 tegn"),fraDato:yr({required_error:"Fra dato m fylles ut",invalid_type_error:"Ikke en gyldig dato"}).refine(n=>n.getTime()<new Date().getTime(),{message:"Dato kan ikke vre etter dagens dato"}),kanal:ja(Ss),referat:et().min(1,"Du m fylle ut samtalereferat").max(5e3,"Du m korte ned teksten til 5000 tegn")}),fK=n=>{const{onSubmit:e,dirtyRef:t,aktivitet:r}=n,[s,i]=y.useState(!0),a=sT(),o=!r,l=kt(),d={tittel:r?.tittel||"",fraDato:es(r?.fraDato),kanal:r?.kanal||Ss.TELEFON,referat:r?.referat||a},c=jn({defaultValues:d,resolver:Rn(uK),shouldFocusError:!1}),{register:u,handleSubmit:h,watch:p,formState:{errors:v,isSubmitting:g,isDirty:m}}=c;t&&(t.current=m);const b=p("referat"),k=_=>h(E=>e({...E,status:Re.GJENNOMFOERT,avtalt:!1,erReferatPublisert:_}).then(()=>{const S=xg(E.referat);qp(S,_,s),l(Xp(E.referat))}));return f.jsx("form",{autoComplete:"off",noValidate:!0,children:f.jsxs(Ps,{...c,children:[f.jsxs("div",{className:"space-y-8",children:[f.jsx(za,{aktivitetstype:Ae.SAMTALEREFERAT_TYPE}),f.jsx(Gt,{label:"Tema for samtalen (obligatorisk)",id:"tittel",...u("tittel"),error:v.tittel&&v.tittel.message}),f.jsx(Ra,{field:{name:"fraDato",required:!0,defaultValue:es(r?.fraDato)},disabledDays:[{after:new Date}]}),f.jsxs(Zs,{label:"Mteform (obligatorisk)",...u("kanal"),children:[f.jsx("option",{value:Ss.OPPMOTE,children:"Oppmte"}),f.jsx("option",{value:Ss.TELEFON,children:"Telefonmte"}),f.jsx("option",{value:Ss.INTERNET,children:"Videomte"})]}),o&&f.jsxs(f.Fragment,{children:[f.jsx(Xn,{label:"Samtalereferat (obligatorisk)",maxLength:5e3,...u("referat"),error:v.referat&&v.referat.message,value:b}),f.jsx(US,{checked:s,onChange:()=>{i(!s),mE(!s)},children:"Klarsprkhjelpen"}),f.jsx(iT,{value:b}),f.jsx(rT,{value:b,open:s,options:{tools:!1,longWords:!1}})]}),f.jsx(Ms,{errors:v})]}),f.jsx(hK,{isLoading:g,isNy:o,lagreOgDel:k})]})})},hK=n=>{const{isLoading:e,isNy:t,lagreOgDel:r}=n;return t?f.jsxs("div",{className:"mt-4",children:[f.jsx(Ze,{loading:e,className:"mr-4",onClick:r(!0),children:"Del med bruker"}),f.jsx(Ze,{variant:"secondary",loading:e,onClick:r(!1),children:"Lagre utkast"})]}):f.jsx(Ze,{className:"mt-4",loading:e,onClick:r(!1),children:"Lagre"})},aT=n=>{const e=W(b1),[t,r]=y.useState(!1);return y.useEffect(()=>{const s=setTimeout(()=>{e===ee.PENDING&&r(!0)},400);return clearTimeout(s)},[]),e===ee.PENDING&&!t?null:f.jsx(fK,{...n})},oT={required_error:"Antall stillinger m fylles ut",invalid_type_error:"Antall stillinger m fylles ut"},lT={tittel:et(),fraDato:yr({required_error:"Fra dato m fylles ut"}),tilDato:yr({required_error:"Til dato m fylles ut"}),avtaleOppfolging:et().max(255,"Du m korte ned teksten til 255 tegn").optional(),beskrivelse:et().max(5e3,"Du m korte ned teksten til 5000 tegn").optional()},pK=$t({...lT,skjemaVersjon:As("gammel"),antallStillingerSokes:Iv(oT).lt(100,"Antall sknader m ikke vre hyere enn 99")}),gK=$t({...lT,skjemaVersjon:As("ny"),antallStillingerIUken:Iv(oT).lt(100,"Antall sknader m ikke vre hyere enn 99").min(1,"Antall sknader m vre minst 1")}),mK=Gf("skjemaVersjon",[pK,gK]),b0=(n,e)=>{const t=n?!!n.antallStillingerIUken:!0,r={tittel:n?.tittel||"Avtale om  ske jobber",fraDato:n?.fraDato?new Date(n.fraDato):void 0,tilDato:n?.tilDato?new Date(n.tilDato):void 0,avtaleOppfolging:n?.avtaleOppfolging||"",beskrivelse:n?.beskrivelse||""};return!n&&e=="SOKEAVTALE"?{skjemaVersjon:"ny",...r,beskrivelse:vK,fraDato:new Date,tilDato:Lu(new Date,3)}:t?{skjemaVersjon:"ny",...r,antallStillingerIUken:n?.antallStillingerIUken??void 0}:{skjemaVersjon:"gammel",...r,antallStillingerSokes:n?.antallStillingerSokes??void 0}},vK=`Det er viktig at du sker p de jobbene du mener du er kvalifisert for. Det er ogs viktig  ske p mange stillinger, det ker sjansene dine til  finne en jobb.
Her kan du finne ledige stillinger: https://arbeidsplassen.nav.no/stillinger`,dT=n=>{const{aktivitet:e,dirtyRef:t,onSubmit:r}=n,s=e?!!e.antallStillingerIUken:!0,[i,a]=y.useState("INGEN"),o=y.useMemo(()=>b0(e,i),[i,e]),l=e?.avtalt||!1,d=jn({defaultValues:o,resolver:Rn(mK),shouldFocusError:!1}),{register:c,handleSubmit:u,watch:h,setValue:p,reset:v,formState:{errors:g,isDirty:m,isSubmitting:b}}=d;t&&(t.current=m);const k=s?{errors:g,skjemaVersjon:"ny"}:{errors:g,skjemaVersjon:"gammel"},_=h("beskrivelse"),E=h("avtaleOppfolging");y.useEffect(()=>{v(b0(e,i))},[i]);const S=T=>{a(T.target.value)};return f.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:u(T=>r(T)),children:f.jsx(Ps,{...d,children:f.jsxs("div",{className:"space-y-8",children:[f.jsx(za,{aktivitetstype:Ae.SOKEAVTALE_AKTIVITET_TYPE}),e?null:f.jsxs(Zs,{label:"Ferdig utfylt aktivitet",onChange:S,children:[f.jsx("option",{value:"INGEN",children:"Ingen ferdig utfylt aktivitet valgt"}),f.jsx("option",{value:"SOKEAVTALE",children:"Avtale om  ske jobber"})]}),f.jsx("div",{className:"dato-container",children:f.jsx(Nv,{aktivitet:e,from:{name:"fraDato",required:!0,defaultValue:o?.fraDato},to:{name:"tilDato",required:!0,defaultValue:o?.tilDato}})}),k.skjemaVersjon==="ny"?f.jsx(Gt,{disabled:l,type:"number",label:"Antall sknader i uken (obligatorisk)",id:"antallStillingerIUken",...c("antallStillingerIUken",{valueAsNumber:!0}),error:k.errors.antallStillingerIUken&&k.errors.antallStillingerIUken.message}):f.jsx(Gt,{disabled:l,type:"number",label:"Antall sknader i perioden (obligatorisk)",id:"antallStillingerSokes",...c("antallStillingerSokes",{valueAsNumber:!0}),error:k.errors.antallStillingerSokes&&k.errors.antallStillingerSokes.message}),f.jsx(Xn,{disabled:l,label:"Oppflging fra Nav (valgfri)",maxLength:255,...c("avtaleOppfolging"),error:k.errors.avtaleOppfolging&&k.errors.avtaleOppfolging.message,value:E}),f.jsx(Xn,{disabled:l,label:"Beskrivelse (valgfri)",maxLength:5e3,...c("beskrivelse"),error:k.errors.beskrivelse&&k.errors.beskrivelse.message,value:_}),f.jsx(Ms,{errors:k.errors}),f.jsx(dl,{loading:b})]})})})},bK=$t({tittel:et().min(1,"Du m fylle ut stillingstittel").max(100,"Du m korte ned teksten til 100 tegn"),fraDato:yr({required_error:"Fra dato m fylles ut",invalid_type_error:"Ikke en gyldig dato"}),tilDato:yr({invalid_type_error:"Ikke en gyldig dato"}).optional().nullable(),arbeidsgiver:et().max(255,"Du m korte ned teksten til 255 tegn").optional(),kontaktperson:et().max(255,"Du m korte ned teksten til 255 tegn").optional(),arbeidssted:et().max(255,"Du m korte ned teksten til 255 tegn").optional(),beskrivelse:et().max(5e3,"Du m korte ned teksten til 5000 tegn").optional(),lenke:et().max(2e3,"Du m korte ned lenken til 2000 tegn").optional()}),cT=n=>{const{onSubmit:e,dirtyRef:t,aktivitet:r}=n,s={tittel:r?.tittel||"",fraDato:es(r?.fraDato)??wn(new Date),tilDato:es(r?.tilDato),beskrivelse:r?.beskrivelse||"",arbeidssted:r?.arbeidssted||"",arbeidsgiver:r?.arbeidsgiver||"",kontaktperson:r?.kontaktperson||"",lenke:r?.lenke||""},i=r?.avtalt||!1,a=jn({defaultValues:s,resolver:Rn(bK),shouldFocusError:!1}),{register:o,handleSubmit:l,watch:d,formState:{errors:c,isDirty:u,isSubmitting:h}}=a;t&&(t.current=u);const p=d("beskrivelse");return f.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:l(v=>e(v)),children:f.jsx(Ps,{...a,children:f.jsxs("div",{className:"space-y-8",children:[f.jsx(za,{aktivitetstype:Ae.STILLING_AKTIVITET_TYPE}),f.jsx(Yf,{}),f.jsx(Gt,{disabled:i,label:"Stillingstittel (obligatorisk)",id:"tittel",...o("tittel"),error:c.tittel&&c.tittel.message}),f.jsx(Nv,{aktivitet:r,from:{name:"fraDato",required:!0,defaultValue:s.fraDato},to:{name:"tilDato",required:!0,label:"Sknadsfrist (valgfri)"}}),f.jsx(Gt,{disabled:i,label:"Arbeidsgiver (valgfri)",id:"arbeidsgiver",...o("arbeidsgiver"),error:c.arbeidsgiver&&c.arbeidsgiver.message}),f.jsx(Gt,{disabled:i,label:"Kontaktperson hos arbeidsgiver (valgfri)",id:"kontaktperson",...o("kontaktperson"),error:c.kontaktperson&&c.kontaktperson.message}),f.jsx(Gt,{disabled:i,label:"Arbeidssted (valgfri)",id:"arbeidssted",...o("arbeidssted"),error:c.arbeidssted&&c.arbeidssted.message}),f.jsx(Xn,{disabled:i,label:"Kort beskrivelse av stillingen (valgfri)",maxLength:5e3,...o("beskrivelse"),error:c.beskrivelse&&c.beskrivelse.message,value:p}),f.jsx(Gt,{disabled:i,label:"Lenke til stillingsannonse (valgfri)",id:"lenke",...o("lenke"),error:c.lenke&&c.lenke.message}),f.jsx(Ms,{errors:c}),f.jsx(dl,{loading:h})]})})})},kK={mote:"Mte med Nav",samtalereferat:"Samtalereferat",stilling:"En jobb jeg vil ske p",sokeavtale:"Avtale om  ske jobber",behandling:"Medisinsk behandling",egen:"Jobbrettet egenaktivitet",ijobb:"Jobb jeg har n"},yK=()=>{const n=pn(),e=yt(),t=ZD(`${e?"/aktivitetsplan":""}/aktivitet/ny/:aktivitetType`),r=kt(),{aktivitetRoute:s,hovedsideRoute:i}=gn(),a=()=>n(i()),o=W(SM),l=W(Dn),d=W(nx),c=y.useRef(!1);k1(c);function u(){const p=c.current;if(!p||window.confirm(id)){const v=t.params.aktivitetType;return n(i()),vE({isDirty:p,aktivitet:v,modalType:"ny-aktivitet",navType:"onReqClose"}),!0}return!1}if(!l||!d)return null;const h=p=>v=>{const g=y1(v),m={status:Re.PLANLAGT,type:p,...g};return r(af({aktivitet:m,oppfolgingsPeriodeId:d.id})).then(b=>{Sa(b)&&n(s(b.payload.id))})};return f.jsxs(Ka,{heading:t?.params?.aktivitetType?kK[t.params.aktivitetType]:"",onRequestClose:u,onClose:a,lukkPKlikkUtenfor:!1,children:[f.jsx("article",{children:f.jsxs(g2,{children:[f.jsx(gi,{path:"mote",element:f.jsx($1,{onSubmit:h(Ae.MOTE_TYPE),dirtyRef:c})}),f.jsx(gi,{path:"samtalereferat",element:f.jsx(aT,{onSubmit:h(Ae.SAMTALEREFERAT_TYPE),dirtyRef:c})}),f.jsx(gi,{path:"stilling",element:f.jsx(cT,{onSubmit:h(Ae.STILLING_AKTIVITET_TYPE),dirtyRef:c})}),f.jsx(gi,{path:"sokeavtale",element:f.jsx(dT,{onSubmit:h(Ae.SOKEAVTALE_AKTIVITET_TYPE),dirtyRef:c})}),f.jsx(gi,{path:"behandling",element:f.jsx(H1,{onSubmit:h(Ae.BEHANDLING_AKTIVITET_TYPE),dirtyRef:c})}),f.jsx(gi,{path:"egen",element:f.jsx(U1,{onSubmit:h(Ae.EGEN_AKTIVITET_TYPE),dirtyRef:c})}),f.jsx(gi,{path:"ijobb",element:f.jsx(B1,{onSubmit:h(Ae.IJOBB_AKTIVITET_TYPE),dirtyRef:c})})]})}),f.jsx(Hr,{feilmeldinger:o})]})},Ls=w.createContext({isDirty:!1,setFormIsDirty:(n,e)=>{}});function _K(n){return Object.values(n).some(e=>e===!0)}function uT(n){const[e,t]=y.useState(!1),[,r]=y.useState({}),s=y.useCallback((a,o)=>{r(l=>{const d={...l,[a]:o};return t(_K(d)),d})},[r,t]),i=y.useMemo(()=>({isDirty:e,setFormIsDirty:s}),[e,s]);return f.jsx(Ls.Provider,{value:i,children:n.children})}uT.propTypes={children:Q.object.isRequired};const Pv=n=>{const{tittel:e,content:t,subtittel:r,open:s,onClick:i}=n,[a,o]=y.useState(!1);function l(d){i(d),a||Ba(e),o(!a)}return f.jsx(f.Fragment,{children:f.jsxs(ue.Item,{open:s,children:[f.jsx(ue.Header,{onClick:l,className:"items-center",children:f.jsx("div",{className:"flex flex-row gap-4 items-center",children:f.jsxs("div",{children:[f.jsx(Ve,{size:"small",level:"2",children:e}),f.jsx("div",{children:r})]})})}),f.jsx(ue.Content,{children:t})]})})},wK=$t({etikettstatus:ja(Zg)}),EK={INGEN_VALGT:"Ikke startet",SOKNAD_SENDT:"Sendt sknad",INNKALT_TIL_INTERVJU:"Skal p intervju",JOBBTILBUD:"Ftt jobbtilbud",AVSLAG:"Ikke ftt jobben"},SK=n=>{const{aktivitet:e,disabled:t,onSubmit:r}=n,s={etikettstatus:e.etikett||Zg.INGEN_VALGT},{handleSubmit:i,setValue:a,formState:{isDirty:o,isSubmitting:l}}=jn({defaultValues:s,resolver:Rn(wK),shouldFocusError:!0}),{setFormIsDirty:d}=y.useContext(Ls);y.useEffect(()=>{d("etikett",o)},[d,o]);const c=l||t,u=h=>{a("etikettstatus",h)};return f.jsxs("form",{onSubmit:i(h=>r(h)),children:[f.jsx("div",{className:"mb-4",children:f.jsx(Fi,{legend:"Hvor langt har du kommet i sknadsprosessen?",hideLegend:!0,defaultValue:s.etikettstatus,onChange:u,disabled:c,children:Object.entries(EK).map(([h,p])=>f.jsx(Vn,{value:h,children:p},h))})}),f.jsx(Hr,{feilmeldinger:W(TM)}),f.jsx(Ze,{className:"oppdater-status",disabled:c,loading:l,children:"Lagre"})]})},xK=n=>{const{aktivitet:e}=n,t=yt(),r=W(lv,Ye),s=!IV(e,t),i=!W(Dn),[a,o]=y.useState(!1),l=kt(),d=async v=>{const{etikettstatus:g}=v;if(g===e.etikett){o(!1);return}const m=g===Zg.INGEN_VALGT?void 0:g;return l(xd({...e,etikett:m})).then(b=>{Qu(b)||(o(!1),document.querySelector(".aktivitet-modal")?.focus())})},c=v=>(h("etikett",!1),d(v)),u=r||s||i,{setFormIsDirty:h}=y.useContext(Ls),p=f.jsx(SK,{disabled:u,aktivitet:e,onSubmit:c});return f.jsx(Pv,{icon:f.jsx(XM,{fontSize:"1.5rem"}),onClick:()=>{a&&h("etikett",!1),o(!a)},open:a,tittel:"Hvor langt har du kommet i sknadsprosessen?",subtittel:f.jsx(i1,{aktivitet:e}),content:p})},TK={VENTER:"Venter p  bli kontaktet av Nav eller arbeidsgiver",SKAL_PAA_INTERVJU:"Skal p intervju",JOBBTILBUD:"Ftt jobbtilbud",AVSLAG:"Ikke ftt jobben"},AK=$t({soknadsstatus:b$([Es.VENTER,Es.SKAL_PAA_INTERVJU,Es.JOBBTILBUD,Es.AVSLAG])}),CK=n=>{const{soknadsstatus:e,disabled:t,onSubmit:r}=n,s={soknadsstatus:e||Es.VENTER},{handleSubmit:i,setValue:a,formState:{isDirty:o,isSubmitting:l}}=jn({defaultValues:s,resolver:Rn(AK),shouldFocusError:!0}),{setFormIsDirty:d}=y.useContext(Ls);y.useEffect(()=>(d("soknadsstatus",o),()=>{d("soknadsstatus",!1)}),[d,o]);const c=l||t,u=h=>{a("soknadsstatus",h)};return f.jsxs("form",{onSubmit:i(h=>r(h)),children:[f.jsx("div",{className:"pb-4",children:f.jsx(Fi,{legend:"",defaultValue:s.soknadsstatus,onChange:u,disabled:c,children:Object.entries(TK).map(([h,p])=>f.jsx(Vn,{value:h,children:p},h))})}),f.jsx(Hr,{feilmeldinger:W(AM)}),f.jsx(Ze,{className:"oppdater-status",disabled:c,loading:l,children:"Lagre"})]})},OK=n=>{const{historisk:e}=n,t=W(lv),r=W(Dn),s=!e&&n.status!==Re.FULLFOERT&&n.status!==Re.AVBRUTT;return t||!r||!s},DK=(n,e,t)=>{const{soknadsstatus:r}=e;return r===t.stillingFraNavData?.soknadsstatus?Promise.resolve():n(Ad({aktivitetId:t.id,aktivitetVersjon:t.versjon,soknadsstatus:r}))},jK=({stillingFraNavData:n})=>{const{soknadsstatus:e,detaljer:t}=n;return e?e===Es.IKKE_FATT_JOBBEN&&t==="KANDIDATLISTE_LUKKET_NOEN_ANDRE_FIKK_JOBBEN"?"Vi har ftt beskjed om at arbeidsgiver har ansatt en person. Dessverre var det ikke deg denne gangen. Ansettelsesprosessen er ferdig.":e===Es.IKKE_FATT_JOBBEN&&t==="KANDIDATLISTE_LUKKET_INGEN_FIKK_JOBBEN"?"Vi har ftt beskjed om at arbeidsgiveren ikke skal ansatte en person allikevel. Vi beklager at det ikke ble en jobbmulighet denne gangen. Lykke til videre med jobbskingen.":e===Es.FATT_JOBBEN?"Ansettelsesprosessen er ferdig.":null:null},RK=n=>{const{aktivitet:e}=n,t=kt(),[r,s]=y.useState(!1),i=OK(e),a=jK(e),{setFormIsDirty:o}=y.useContext(Ls),l=c=>(o("soknadsstatus",!1),DK(t,c,e).then(()=>{s(!1),document.querySelector(".aktivitet-modal")?.focus()})),d=f.jsxs(f.Fragment,{children:[a?f.jsx(bt,{variant:"info",className:"mt-4",children:a}):null,f.jsx(CK,{disabled:i,soknadsstatus:e.stillingFraNavData.soknadsstatus,onSubmit:l})]});return f.jsx(Pv,{icon:f.jsx(m3,{fontSize:"1.5rem"}),onClick:()=>{r&&o("soknadsstatus",!1),s(!r)},open:r,tittel:"Hvor er du i sknadsprosessen?",subtittel:f.jsx(a1,{soknadsstatus:e.stillingFraNavData?.soknadsstatus}),content:d})},IK=(n,e)=>{const t=[Re.FULLFOERT,Re.AVBRUTT].includes(e);if(w_(n)&&t&&Jx(n,e))return"Samtalereferatet m deles fr du kan sette aktiviteten til denne statusen"},NK=n=>n===Re.FULLFOERT?"Skriv en kort kommentar om hvordan det har gtt med aktiviteten, eller noe Nav br kjenne til.":"Skriv en kort begrunnelse om hvorfor du avbryter aktiviteten.",PK={BRUKER_ER_INTERESSERT:"Forslag",PLANLAGT:"Planlegger",GJENNOMFORES:"Gjennomfrer",FULLFORT:"Fullfrt",AVBRUTT:"Avbrutt"},MK=Gf("should_validate_begrunnelse",[$t({should_validate_begrunnelse:As(!1),aktivitetstatus:ja(Re),aktivitet:d0()}),$t({should_validate_begrunnelse:As(!0),aktivitetstatus:ja(Re),begrunnelse:et().min(1,"Du m fylle ut en begrunnelse").max(255,"Du m korte ned teksten til 255 tegn"),aktivitet:d0()})]).superRefine((n,e)=>{const t=IK(n.aktivitet,n.aktivitetstatus);t&&e.addIssue({code:re.custom,message:t})}),LK=n=>{const{aktivitet:e,onSubmit:t,disabled:r}=n,s={should_validate_begrunnelse:!1,aktivitetstatus:e.status,aktivitet:e},{register:i,handleSubmit:a,setValue:o,watch:l,formState:{errors:d,isDirty:c,isSubmitting:u}}=jn({defaultValues:s,resolver:Rn(MK),shouldFocusError:!0}),{setFormIsDirty:h}=y.useContext(Ls);y.useEffect(()=>{o("aktivitet",e)},[e]),y.useEffect(()=>(h("status",c),()=>{h("status",!1)}),[c]);const p=l("aktivitetstatus"),v=p!==e.status,g=v&&(p===Re.FULLFOERT||p===Re.AVBRUTT),m=kv(e.avtalt,p,e.type);y.useEffect(()=>{v?h("status",!0):h("status",!1)},[v]);const b=_=>{o("aktivitetstatus",_)},k=l("begrunnelse");return y.useEffect(()=>{m?o("should_validate_begrunnelse",!0):o("should_validate_begrunnelse",!1)},[m]),f.jsxs("form",{onSubmit:a(_=>t(_)),className:"space-y-4",children:[f.jsx(Fi,{legend:"Hva er status p aktiviteten?",hideLegend:!0,value:p,onChange:b,disabled:r,children:Object.entries(PK).map(([_,E])=>f.jsx(Vn,{value:_,children:E},_))}),g?f.jsx(bt,{variant:"warning",children:'Hvis du endrer til "Fullfrt" eller "Avbrutt", blir aktiviteten lst og du kan ikke lenger endre innholdet.'}):null,m?f.jsx(Xn,{disabled:r,label:NK(p),maxLength:255,...i("begrunnelse"),error:d.begrunnelse&&d.begrunnelse.message,value:k}):null,f.jsx(Ms,{errors:d}),f.jsx(Hr,{feilmeldinger:W(xM)}),f.jsx(Ze,{loading:u,className:"mt-4",disabled:r,children:"Lagre"})]})},FK=(n,e)=>{const t=W(lv),r=W(Dn),s=Dx(n,e);return t||!r||!s},VK=(n,e,t)=>e.aktivitetstatus===t.status?Promise.resolve():($S("submit",t,e.aktivitetstatus),n(DI(t,e.aktivitetstatus,e.begrunnelse))),pc=n=>{const{aktivitet:e}=n,[t,r]=y.useState(!1),s=kt(),i=yt(),a=FK(e,i),{setFormIsDirty:o}=y.useContext(Ls),l=u=>(o("status",!1),VK(s,u,e).then(h=>{if(Qu(h))return null;r(!1),document.querySelector(".aktivitet-modal")?.focus()})),d=f.jsx(ie,{children:ov[e.status]}),c=f.jsx(LK,{disabled:a,onSubmit:l,aktivitet:e});return f.jsx(Pv,{icon:f.jsx(c3,{"aria-hidden":!0,fontSize:"1.5rem"}),onClick:()=>{t&&o("status",!1),r(!t)},open:t,tittel:"Hva er status p aktiviteten?",subtittel:d,content:c})},BK=n=>{const e=n.split(" ")[0];return[e,n.replace(e,"")]},k0=({endring:n})=>{const t=!yt()?n.beskrivelseForBruker:n.beskrivelseForVeileder,[r,s]=BK(t);return f.jsxs("div",{className:"pb-4",children:[f.jsx("b",{children:r})," ",s,f.jsx(ie,{children:zx(n.tidspunkt)})]})},rp=10,HK=()=>{const n=ii().id,e=W(s=>OV(s,n))||{endringer:[]},t=e.endringer.slice(0,rp).map(s=>f.jsx(k0,{endring:s},s.tidspunkt)),r=f.jsx(Pr,{header:"Vis mer",children:e.endringer.slice(rp).map(s=>f.jsx(k0,{endring:s},s.tidspunkt))});return f.jsxs("section",{children:[t,(e?.endringer?.length||0)>rp?r:null]})},UK=()=>{const{aktivitet:n}=SU();return f.jsx(y.Suspense,{fallback:f.jsx($K,{}),children:f.jsx($u,{resolve:n,children:f.jsx(HK,{})})})},$K=()=>f.jsxs("div",{children:[f.jsx(rg,{variant:"text",width:250}),f.jsx(rg,{variant:"text",width:150})]}),Cl=()=>{const[n,e]=y.useState(!1);function t(){n||Ba("Historikk"),e(!n)}return f.jsxs(ue.Item,{children:[f.jsx(ue.Header,{onClick:t,children:f.jsx("div",{className:"flex gap-4 items-center",children:"Historikk"})}),f.jsx(ue.Content,{children:f.jsx(UK,{})})]})},KK=(n,e)=>{switch(n.type){case Ae.STILLING_AKTIVITET_TYPE:return f.jsxs(f.Fragment,{children:[f.jsx(xK,{aktivitet:n}),f.jsx(pc,{aktivitet:n}),f.jsx(Cl,{})]});case Ae.STILLING_FRA_NAV_TYPE:return f.jsxs(f.Fragment,{children:[n.stillingFraNavData.cvKanDelesData?.kanDeles?f.jsx(RK,{aktivitet:n}):null,f.jsx(pc,{aktivitet:n}),f.jsx(Cl,{})]});case Ae.BEHANDLING_AKTIVITET_TYPE:case Ae.EGEN_AKTIVITET_TYPE:case Ae.IJOBB_AKTIVITET_TYPE:case Ae.SOKEAVTALE_AKTIVITET_TYPE:return f.jsxs(f.Fragment,{children:[f.jsx(pc,{aktivitet:n}),f.jsx(Cl,{})]});case Ae.MOTE_TYPE:case Ae.SAMTALEREFERAT_TYPE:return f.jsxs(f.Fragment,{children:[e?f.jsx(pc,{aktivitet:n}):null,f.jsx(Cl,{})]});case Ae.EKSTERN_AKTIVITET_TYPE:return f.jsx(Cl,{});case _o.GRUPPEAKTIVITET:case _o.TILTAKSAKTIVITET:case _o.UTDANNINGSAKTIVITET:return}},zK=({aktivitet:n})=>{const e=yt(),t=KK(n,e);return t?f.jsx(ue,{children:t}):null},fT="Nei, og jeg vil ikke at Nav skal dele CV-en min med arbeidsgiveren",hT="Ja, og Nav kan dele CV-en min med denne arbeidsgiveren",Tg="Er du interessert i denne stillingen?",WK=(n,e,t,r)=>n===Re.AVBRUTT&&e===sC.AVBRUTT_AV_SYSTEM?`Du kan ikke svare p sprsmlet fordi svarfristen gikk ut ${Ei(r)}`:n===Re.AVBRUTT?"Du kan ikke svare p sprsmlet fordi aktiviteten er avbrutt":n===Re.FULLFOERT?"Du kan ikke svare p sprsmlet fordi aktiviteten er fullfrt":t?"Du kan ikke svare p sprsmlet fordi oppflgingsperioden er avsluttet":"Noe er feil, kontakt brukersttte",GK=n=>{const{status:e,livslopsstatus:t,erHistorisk:r,svarfrist:s}=n,i=WK(e,t,r,s);return f.jsxs("div",{className:"p-4 bg-surface-subtle border-border-default border rounded-md",children:[f.jsx(Ve,{size:"medium",className:"mb-4",children:Tg}),f.jsx(bt,{variant:"info",inline:!0,children:i})]})},pT=()=>f.jsxs(Pr,{header:"Les om deling av CV",children:["Arbeidsgiveren fr tilgang til CV-en dersom du gir samtykke til  dele og Nav deler den til arbeidsgiveren. En delt CV vil opphre  eksistere for arbeidsgiver dersom du ikke lenger flges opp av Nav for  skaffe jobb, eller senest seks mneder etter at Nav sendte CV-en til arbeidsgiver.",f.jsx("br",{}),f.jsx("br",{}),"Hvis du angrer p at du ga samtykke til  dele CV s kan du snakke med din veileder som kan trekke delingen av CV-en, slik at arbeidsgiver ikke lenger har tilgang til den. Hvis du oppdaterer CV-en din s er det alltid den siste versjonen arbeidsgiver vil se."]}),YK=({cvKanDelesData:n})=>{const e=n.kanDeles;let t,r;return n.endretAvType==="BRUKER"?(t=e?hT:fT,r=`Du svarte ${Ei(n.endretTidspunkt)}`):(t=`Nav var i kontakt med deg ${Ei(n.avtaltDato)}. Du sa ${e?"ja":"nei"} til at CV-en din deles med arbeidsgiver.`,r=`Nav svarte p vegne av deg ${Ei(n.endretTidspunkt)}.`),f.jsxs("div",{className:"p-4 bg-surface-subtle border-border-default border rounded-md",children:[f.jsx(Ve,{size:"medium",className:"mb-4",children:e?"Du svarte at du er interessert":"Du svarte at du ikke er interessert"}),f.jsx(ie,{children:t}),f.jsx(ie,{className:"mt-4",children:r}),e?f.jsx(ie,{className:"mt-4",children:"Arbeidsgiveren eller Nav vil kontakte deg hvis du er aktuell for stillingen"}):null,e?f.jsx("div",{className:"mt-4",children:f.jsx(pT,{})}):null]})},qK=({datoBegrensninger:n})=>f.jsxs("div",{className:"mb-4 bg-surface-alt-3-subtle border-border-alt-3 border rounded-md p-4 space-y-4",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx(Ve,{size:"small",level:"3",children:"Svar p vegne av brukeren"}),f.jsx(Go,{children:"FOR NAV-ANSATT"})]}),f.jsx(ie,{children:"Nr var du i dialog med brukeren om  dele CV-en deres med denne arbeidsgiveren"}),f.jsx(Ra,{field:{label:"Dato (obligatorisk)",required:!0,name:"avtaltDato"},disabledDays:[n]})]});var gT=(n=>(n.JA="ja",n.NEI="nei",n))(gT||{});const XK={invalid_type:"Du m fylle ut datoen for nr du var i dialog med brukeren",invalid_date:"Ikke en gyldig dato"},ZK=n=>({message:XK[n.code]}),y0=ja(gT,{required_error:"Du m svare ja eller nei",invalid_type_error:"Ikke en gyldig dato"}),JK=({after:n},e)=>$t(e?{kanDeles:y0,avtaltDato:yr({errorMap:ZK}).max(n,{message:"Dato for dialog kan ikke vre frem i tid"})}:{kanDeles:y0}),QK=({aktivitet:n})=>{const[e,t]=y.useState(void 0),r=kt(),s=yt(),i=n.stillingFraNavData?.svarfrist,a={after:O_()},o=jn({resolver:Rn(JK(a,s)),defaultValues:{kanDeles:void 0}}),{handleSubmit:l,control:d,formState:{errors:c,isSubmitting:u}}=o,{field:h}=ad({name:"kanDeles",control:d});y.useEffect(()=>{h.value==="ja"&&t('Stillingen flyttes til "Gjennomfrer"'),h.value==="nei"&&t('Stillingen flyttes til "Avbrutt"')},[h.value]);const p=g=>(r(sf({aktivitetId:n.id,aktivitetVersjon:n.versjon,kanDeles:g.kanDeles==="ja",avtaltDato:g.avtaltDato})),Promise.resolve()),v=W(CM);return f.jsx("form",{className:"bg-surface-subtle rounded-md border-border-default border p-4 space-y-8",onSubmit:l(p),noValidate:!0,children:f.jsxs(Ps,{...o,children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx(Ve,{size:"medium",level:"2",children:Tg}),f.jsx(ez,{className:"mt-1"}),f.jsxs(ie,{className:"mt-1",children:["Svar fr: ",Ei(i)]})]}),s?f.jsx(qK,{datoBegrensninger:a}):null,f.jsxs(Fi,{legend:Tg,hideLegend:!0,value:h.value??null,name:h.name,onChange:h.onChange,ref:h.ref,role:"radiogroup",error:c.kanDeles?.message,children:[f.jsx(Vn,{id:"kanDeles",value:"ja",children:hT}),f.jsx(Vn,{value:"nei",children:fT})]}),f.jsx(pT,{}),f.jsx(Ms,{errors:c}),f.jsx(Hr,{feilmeldinger:v}),f.jsxs("div",{className:"flex gap-4 items-center mt-8",children:[f.jsx(Ze,{disabled:u,children:"Lagre"}),e&&f.jsx(bt,{variant:"info",inline:!0,children:e})]})]})})},ez=({className:n})=>f.jsx(ie,{className:n,children:"Du bestemmer selv om Nav kan dele CV-en din for denne stillingen."}),tz=({aktivitet:n})=>{const e=n.stillingFraNavData,t=e&&e?.cvKanDelesData,r=n.historisk;return t?f.jsx(YK,{cvKanDelesData:t}):r||n.status===Re.FULLFOERT||n.status===Re.AVBRUTT?f.jsx(GK,{status:n.status,livslopsstatus:e.livslopsstatus,erHistorisk:r,svarfrist:e.svarfrist}):f.jsx(QK,{aktivitet:n})},nz=()=>{const e=W(os)?"Du kan ikke endre denne aktiviteten selv. Send en melding til veilederen din hvis aktiviteten skal endres.":"For  endre aktiviteten m du g til Arena.";return f.jsx(bt,{variant:"info",className:"w-full mt-4",children:e})},rz=({aktivitet:n})=>{const{handlinger:e}=n.eksternAktivitet,t=yt();return e?f.jsx("div",{className:"space-y-4 flex flex-col self-end justify-self-end w-full mb-8",children:e.flatMap((r,s)=>r.lenkeType==="EKSTERN"&&t||r.lenkeType==="INTERN"&&!t?null:f.jsxs(Ym,{href:r.url,children:[f.jsx(Ve,{size:"small",children:r.tekst}),f.jsx(ie,{children:r.subtekst})]},s))}):null},sp=n=>{const{id:e,tillatEndring:t,laster:r,underOppfolging:s}=n,i=pn(),{endreAktivitetRoute:a}=gn();if(!t)return null;const o=()=>{Nt(U7),i(a(e))};return f.jsx(Ze,{disabled:r||!s,onClick:o,variant:"secondary",icon:f.jsx(p3,{"aria-hidden":!0,fontSize:"1.5rem"}),children:"Endre p aktiviteten"})},sz=({aktivitet:n})=>{const e=yt(),t=`${IA}${n.stillingFraNavData.stillingsId}`;return f.jsx(Ze,{variant:"secondary",as:"a",href:t,onClick:()=>i9(e),target:"_blank",children:"Les mer om stillingen"})},Ol=n=>{const{aktivitet:e}=n,t=yt(),r=W(gv(e.id)),s=r?.henvendelser?.reduce((l,d)=>d.lest?l:l+1,0)||0,i=pn(),{hovedsideRoute:a}=gn(),o=l=>{t&&(i(a(),{replace:!0}),Hx({event:l,aktivitetId:e?.id,dialogId:r?.id})),Di("send melding (i aktivitetskort)")};return f.jsxs("div",{className:"relative",children:[f.jsx(Ze,{variant:"secondary",as:"a",href:fv({erVeileder:t,aktivitetId:e.id,dialogId:r?.id}),icon:f.jsx(JM,{"aria-hidden":!0,fontSize:"1.5rem"}),onClick:o,children:s>0?`Du har ${s} ${s===1?"ulest melding":"uleste meldinger"}`:"Send en melding"}),s?f.jsx("div",{className:"absolute bg-red-500 rounded-full flex justify-center items-center w-3 h-3 text-white left-8 top-6"}):null]})},iz=({aktivitet:n,tillatEndring:e,laster:t,underOppfolging:r,erVeileder:s})=>{switch(n.type){case Ae.MOTE_TYPE:case Ae.BEHANDLING_AKTIVITET_TYPE:case Ae.EGEN_AKTIVITET_TYPE:case Ae.IJOBB_AKTIVITET_TYPE:case Ae.STILLING_AKTIVITET_TYPE:case Ae.SOKEAVTALE_AKTIVITET_TYPE:return f.jsxs(f.Fragment,{children:[f.jsx(sp,{id:n.id,tillatEndring:e,laster:t,underOppfolging:r}),f.jsx(Ol,{aktivitet:n})]});case Ae.SAMTALEREFERAT_TYPE:return f.jsxs(f.Fragment,{children:[s?f.jsx(sp,{id:n.id,tillatEndring:e,laster:t,underOppfolging:r}):null,f.jsx(Ol,{aktivitet:n})]});case Ae.STILLING_FRA_NAV_TYPE:return f.jsxs(f.Fragment,{children:[f.jsx(sz,{aktivitet:n}),f.jsx(sp,{id:n.id,tillatEndring:e,laster:t,underOppfolging:r}),f.jsx(Ol,{aktivitet:n})]});case Ae.EKSTERN_AKTIVITET_TYPE:return f.jsxs(f.Fragment,{children:[f.jsx(rz,{aktivitet:n}),f.jsx(Ol,{aktivitet:n})]});case _o.GRUPPEAKTIVITET:case _o.TILTAKSAKTIVITET:case _o.UTDANNINGSAKTIVITET:return f.jsxs(f.Fragment,{children:[f.jsx(Ol,{aktivitet:n}),f.jsx(nz,{})]})}},az=n=>{const e=yt(),t=W(Dn),r=iz({...n,erVeileder:e,underOppfolging:t});return f.jsx("div",{className:"my-4 gap-4 flex flex-wrap",children:r})},oz=n=>{const{lasterData:e,onClick:t}=n;return f.jsx(Ze,{variant:"secondary",onClick:t,className:"mt-5",loading:e,size:"medium",children:"Ok, jeg har lest beskjeden"})},_0="Informasjon om ansvaret ditt",mT=n=>{const{aktivitet:e,startAapen:t=!1}=n,r=Yn(e),s=e.forhaandsorientering,i=s?.tekst,a=s?.lestDato,o=!!a,l=W(os),d=kt(),c=Kf(l,e),[u,h]=y.useState(t),[p,v]=y.useState(!1);if(!i)return null;const g=()=>{v(!0),r?d(wE(e)).then(b=>v(!1)):d(Tm(e)).then(b=>v(!1)),X7(e.type,!0)},m=()=>{g&&g(),h(!1)};return!o&&c?f.jsxs(bt,{variant:"warning",children:[f.jsx(Ve,{size:"xsmall",level:"2",children:_0}),f.jsx(br,{children:i}),f.jsx(oz,{onClick:m,lasterData:p})]}):f.jsxs(Pr,{header:_0,open:u,onClick:()=>h(!u),children:[f.jsx(br,{children:i}),o?f.jsxs(ie,{className:"mt-4",children:["Lest ",Ei(a)]}):null]})},lz=({aktivitet:n,erBruker:e})=>f.jsx(mT,{aktivitet:n,startAapen:Kf(e,n)}),vT=()=>f.jsx(bt,{variant:"info",children:"Du kan ikke legge til forhndsorientering fordi sluttdatoen er frre enn 7 dager frem i tid."}),bT=()=>{const n=W(Of),e=W(Cf);return!(n||e)},qf=()=>{const n=W(ix);return bT()&&!n},dz=()=>{const n=W(bE).filter(r=>r.avtalt).filter(r=>!r.historisk).length!==0,e=W(il).filter(r=>!r.slutt)[0],t=qf();return(r,s,i)=>{n9(!t,i,r,s),!n&&e&&gB(e.start)&&t9(bB(e.start))}},wu=()=>f.jsx("div",{className:"mt-8",children:f.jsxs(Pr,{header:"Brukeren mottar sms eller e-post (se KRR) med en lenke til aktiviteten",children:["P aktiviteten vil bruker se forhndsorienteringen og en knapp for  bekrefte at en har lest. ",f.jsx("br",{}),f.jsx("br",{}),"Hvis ikke brukeren leser beskjeden innen 7 dager, s blir de revarslet."]})}),cz=n=>{const{setValue:e,register:t,watch:r,formState:{errors:s,isSubmitting:i,defaultValues:a}}=Wf(),o=r("avtaltText119"),l=r("forhaandsorienteringType"),d=c=>{c&&e("forhaandsorienteringType",c)};return f.jsxs(f.Fragment,{children:[f.jsxs(Fi,{onChange:d,defaultValue:a?.forhaandsorienteringType,legend:"Velg type forhndsorientering",disabled:i,className:"mt-4",children:[f.jsx(Vn,{value:Tt.SEND_STANDARD,children:"Forhndsorientering (standard melding)"}),f.jsx(Vn,{value:Tt.SEND_PARAGRAF_11_9,children:"Forhndsorientering for 11-9 (AAP)"}),f.jsx(Vn,{value:Tt.IKKE_SEND,children:"Ingen forhndsorientering"})]}),f.jsxs(Ta,{visible:l===Tt.SEND_STANDARD,children:[f.jsx(Xo,{children:"Teksten som blir lagt til aktiviteten"}),f.jsx(ie,{className:"blokk-xs",children:Fd}),f.jsx(wu,{})]}),f.jsxs(Ta,{visible:l===Tt.SEND_PARAGRAF_11_9,children:[f.jsx(Xn,{label:"Teksten som blir lagt til aktiviteten",maxLength:500,value:o,...t("avtaltText119"),error:s.avtaltText119&&s.avtaltText119.message}),f.jsx(wu,{})]})]})},uz=(n,e,t,r,s)=>{if(e)return"Du kan ikke legge til forhndsorientering fordi brukeren deltar i kvalifiseringsprogrammet.";if(t)return"Du kan ikke legge til forhndsorientering fordi brukeren har reservert seg i kontakt- og reservasjonsregisteret. Du skal ha orientert brukeren om mulig konsekvens for ytelse, og dokumentert dette.";if(n)return"Du kan ikke legge til forhndsorientering fordi brukeren har manuell oppflging. Du skal ha orientert brukeren om mulig konsekvens for ytelse, og dokumentert dette.";if(s)return'Du kan ikke sende forhndsorientering fordi aktiviteten ikke har "til dato". Hvis du har hatt muntlig dialog med brukeren om mulige konsekvenser for ytelse og dokumentert dette i et samtalereferat, s kan du sette aktiviteten til "Avtalt med Nav"';if(r)return'Du kan ikke legge til forhndsorientering fordi sluttdatoen er frre enn 7 dager frem i tid. Hvis du har hatt muntlig dialog med brukeren om mulige konsekvenser for ytelse og dokumentert dette i et samtalereferat, s kan du sette aktiviteten til Avtalt med Nav".'},fz=n=>{const e=W(Of),t=W(ix),r=W(Cf),s=uz(e,t,r,n.mindreEnnSyvDagerTil,n.manglerTilDato);return s?f.jsx(bt,{variant:"warning",children:s}):null},hz=Gf("forhaandsorienteringType",[$t({forhaandsorienteringType:As(Tt.SEND_STANDARD),avtaltText:As(Fd)}),$t({forhaandsorienteringType:As(Tt.SEND_PARAGRAF_11_9),avtaltText119:et().min(1,"Tekst til brukeren er pkrevd").max(500,"Du m korte ned teksten til 500 tegn")}),$t({forhaandsorienteringType:As(Tt.IKKE_SEND)})]),pz=n=>{const{aktivitet:e,lasterData:t,mindreEnnSyvDagerTil:r,setSendtAtErAvtaltMedNav:s,setForhandsorienteringType:i}=n,[a,o]=y.useState(!1),l=kt(),d=dz(),c=(E,S)=>l(Td({aktivitet:E,forhaandsorientering:S})),u=E=>{const S=E.forhaandsorienteringType;s();const T=wH(E);return c(e,{type:S,tekst:T}),i(S),d(S,e.type,r),Promise.resolve()},h=qf()&&!r,p={forhaandsorienteringType:h?Tt.SEND_STANDARD:Tt.IKKE_SEND,avtaltText:Fd,avtaltText119:c1},v=jn({defaultValues:p,resolver:Rn(hz)}),{handleSubmit:g,formState:{isDirty:m,isSubmitting:b}}=v,{setFormIsDirty:k}=y.useContext(Ls),_=W(OM);return y.useEffect(()=>(k("avtalt",m),()=>k("avtalt",!1)),[k,m]),f.jsxs("form",{autoComplete:"off",noValidate:!0,onSubmit:g(E=>u(E)),className:"bg-surface-alt-3-subtle py-2 px-4 my-4 border border-border-alt-3 rounded-md",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Pu,{onChange:()=>o(!a),children:"Avtalt med Nav"}),f.jsx(NS,{"aria-label":"Informasjon om avtalt med Nav",title:"Informasjon om avtalt med Nav",id:"hjelp",className:"ml-2 justify-self-start",children:f.jsx("div",{className:"max-w-[300px]",children:'Aktiviteter som oppfyller brukerens aktivitets- og medvirkningsplikt skal settes som "Avtalt med Nav"'})}),f.jsx(Go,{className:"text-right flex-grow",children:"FOR NAV-ANSATT"})]}),a&&f.jsxs("div",{className:"space-y-4 mb-4",children:[f.jsx(fz,{mindreEnnSyvDagerTil:r,manglerTilDato:!e.tilDato}),h?f.jsx(Ps,{...v,children:f.jsx(cz,{})}):null,f.jsx(Hr,{feilmeldinger:_}),f.jsx(Ze,{loading:b,disabled:t,children:"Legg til"})]})]})},gz=n=>{const{setValue:e,register:t,watch:r,formState:{errors:s,isSubmitting:i,defaultValues:a}}=Wf(),o=r("avtaltText119"),l=r("forhaandsorienteringType"),d=c=>{c&&e("forhaandsorienteringType",c)};return f.jsxs("div",{className:"space-y-8 my-4",children:[f.jsxs(Fi,{onChange:d,defaultValue:a?.forhaandsorienteringType,legend:"Velg type forhndsorientering",disabled:i,className:"mt-4",children:[f.jsx(Vn,{value:Tt.SEND_STANDARD,children:"Forhndsorientering (standard melding)"}),f.jsx(Vn,{value:Tt.SEND_PARAGRAF_11_9,children:"Forhndsorientering for 11-9 (AAP)"})]}),f.jsxs(Ta,{visible:l===Tt.SEND_STANDARD,children:[f.jsx(Xo,{children:"Teksten som blir lagt til aktiviteten"}),f.jsx(ie,{className:"blokk-xs",children:Fd}),f.jsx(wu,{})]}),f.jsxs(Ta,{visible:l===Tt.SEND_PARAGRAF_11_9,children:[f.jsx(Xn,{label:"Teksten som blir lagt til aktiviteten",maxLength:500,value:o,...t("avtaltText119"),error:s.avtaltText119&&s.avtaltText119.message}),f.jsx(wu,{})]})]})},mz=Gf("forhaandsorienteringType",[$t({forhaandsorienteringType:As(Tt.SEND_STANDARD)}),$t({forhaandsorienteringType:As(Tt.SEND_PARAGRAF_11_9),avtaltText119:et().min(1,"Du m fylle ut teksten").max(500,"Du m korte ned teksten til 500 tegn")})]),kT=n=>{const{aktivitet:e,setSendtAtErAvtaltMedNav:t,setForhandsorienteringType:r}=n,[s,i]=y.useState(!1),a=W(nx),o=W(pv),l=W(Ld),d=kt(),c={forhaandsorienteringType:Tt.SEND_STANDARD,avtaltText119:c1},u=Yn(e),h=jn({defaultValues:c,resolver:Rn(mz)}),{handleSubmit:p,formState:{isSubmitting:v}}=h,g=k=>{const _=k.forhaandsorienteringType===Tt.SEND_STANDARD?Fd:k.avtaltText119,E={type:k.forhaandsorienteringType,tekst:_};return r(k.forhaandsorienteringType),(u?a?d(_E({arenaAktivitet:e,forhaandsorientering:E,oppfolgingsPeriodeId:a.id})):new Promise(T=>T(void 0)):d(Td({aktivitet:e,forhaandsorientering:E}))).then(()=>{t(),e9(),document.querySelector(".aktivitet-modal")?.focus()})},m=o!==ee.OK||l===ee.RELOADING||l===ee.PENDING,b=Xg(e);return f.jsxs("form",{onSubmit:p(k=>g(k)),className:"bg-surface-alt-3-subtle py-2 px-4 border border-border-alt-3 rounded-md",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Pu,{disabled:m,onChange:()=>i(!s),children:"Legg til forhndsorientering"}),f.jsx(Go,{children:"FOR NAV-ANSATT"})]}),b||u?f.jsx("p",{className:"mt-2",children:'Tiltaket er automatisk merket "Avtalt med Nav"'}):null,s?f.jsxs("div",{children:[f.jsx(Ps,{...h,children:f.jsx(gz,{})}),f.jsx(Ze,{loading:v,disabled:m,children:"Legg til"})]}):null]})},vz=()=>f.jsx(bt,{variant:"info",children:"Du kan ikke legge til forhndsorientering fordi startdato og sluttdato ikke er satt."}),bz=n=>{const{aktivitet:e}=n,t=W(Sr),r=e.tilDato?!hv(e.tilDato):!1,s=Xg(e),i=!e.fraDato&&!e.tilDato;return s?e.avtalt?i?f.jsx(vz,{}):r?f.jsx(vT,{}):f.jsx(kT,{...n,aktivitet:e}):null:f.jsx(pz,{lasterData:t!==ee.OK,mindreEnnSyvDagerTil:r,...n})},kz=n=>{const{aktivitet:e,setSendtAtErAvtaltMedNav:t,setForhandsorienteringType:r}=n,s=e?.tilDato?hv(e.tilDato):!1;return qf()?f.jsx(f.Fragment,{children:f.jsx("div",{className:"my-4",children:s?f.jsx(kT,{aktivitet:e,setSendtAtErAvtaltMedNav:t,setForhandsorienteringType:r}):f.jsx(vT,{})})}):null},yz=n=>{const{aktivitet:e,...t}=n;return Yn(e)?f.jsx(kz,{aktivitet:e,...t}):f.jsx(bz,{aktivitet:e,...t})},_z=(n,e,t,r)=>{if(!n||!t)return'Aktiviteten er merket "Avtalt med Nav". Forhndsorientering er ikke lagt til. Du skal ha informert bruker om mulige konsekvenser for ytelse og dokumentert dette i et samtalereferat.';if(e)return'Aktiviteten er merket "Avtalt med Nav". Forhndsorientering er ikke lagt til fordi sluttdatoen er frre enn 7 dager frem i tid. Du skal ha informert bruker om mulige konsekvenser for ytelse og dokumentert dette i et samtalereferat.';switch(r){case Tt.IKKE_SEND:return'Aktiviteten er merket "Avtalt med Nav" og forhndsorientering om konsekvens for ytelse er ikke lagt til aktiviteten.';case Tt.SEND_STANDARD:return"Forhndsorientering (standard melding) er lagt til aktiviteten. Bruker fr sms eller e-post.";case Tt.SEND_PARAGRAF_11_9:return"Forhndsorientering for 11-9 (AAP) er lagt til aktiviteten. Bruker fr sms eller e-post."}return"Noe er feil, kontakt brukersttte"},wz=n=>{const e=qf(),{mindreEnnSyvDagerTil:t,harTilDato:r,forhaandsorienteringstype:s}=n,i=_z(e,t,r,s);return f.jsx(bt,{variant:"success",children:i})},Ez=({aktivitet:n,forhaandsorienteringstype:e})=>{const t=n.tilDato?!hv(n.tilDato):!1;return e?f.jsxs(f.Fragment,{children:[f.jsx(wz,{mindreEnnSyvDagerTil:t,harTilDato:n.tilDato!=null,forhaandsorienteringstype:e}),f.jsx(mT,{aktivitet:n,startAapen:!0})]}):null},Sz=n=>{const{aktivitet:e}=n,t=W(Dn),{type:r,status:s,avtalt:i}=e,a="historisk"in e?e.historisk:!1,[o,l]=y.useState(!1),[d,c]=y.useState(Tt.IKKE_SEND),u=yt(),h=W(os),p=e.forhaandsorientering&&e.forhaandsorientering.type!==Tt.IKKE_SEND,v=o,g=Yn(e),m=!a&&t&&s!==Re.FULLFOERT&&s!==Re.AVBRUTT,_=!(g||e.type===Ae.EKSTERN_AKTIVITET_TYPE?e.forhaandsorientering:i)&&u&&m&&(r!==Kg&&r!==Fr);return!p&&!_&&!v?null:_?f.jsx(yz,{setSendtAtErAvtaltMedNav:()=>l(!0),aktivitet:e,setForhandsorienteringType:c}):v?f.jsx(Ez,{forhaandsorienteringstype:d,aktivitet:e}):f.jsx(lz,{aktivitet:e,erBruker:h})},yT=n=>{const{tittel:e,children:t,fullbredde:r,beskrivelse:s}=n;return f.jsxs("div",{className:sr("w-1/2 min-w-52 overflow-hidden overflow-ellipsis",{"w-full":r,"flex-auto break-words":s}),children:[f.jsx(Ve,{level:"2",size:"xsmall",children:e}),t]})},xz=n=>{const{children:e,formattertTekst:t}=n;return t?f.jsx(Ho,{formatLinks:!0,formatLinebreaks:!0,children:e}):typeof e!="string"?e:f.jsx(ie,{children:e})},ot=n=>{const{tittel:e,innhold:t,fullbredde:r,formattertTekst:s,beskrivelse:i}=n;return t===null||!t?null:f.jsx(yT,{tittel:e,fullbredde:r,beskrivelse:i,children:f.jsx(xz,{formattertTekst:s,children:t})})},ip=n1(ot),_T=(n,e)=>e&&!n?"Dato ikke satt":Ei(n),oi=({aktivitet:n,tittel:e,visIkkeSatt:t})=>f.jsx(ot,{tittel:e||"Fra dato",innhold:_T(n.fraDato,t)},"fradato"),li=({aktivitet:n,tittel:e,visIkkeSatt:t})=>f.jsx(ot,{tittel:e||"Til dato",innhold:_T(n.tilDato,t)},"tildato"),di=({aktivitet:n})=>f.jsx(ot,{tittel:"Beskrivelse",innhold:n.beskrivelse,beskrivelse:!0,fullbredde:!0,formattertTekst:!0}),Tz=({aktivitet:n})=>n.type!==bd?null:f.jsxs(f.Fragment,{children:[f.jsx(ot,{tittel:"Type behandling",innhold:n.behandlingType},"behandlingtype"),f.jsx(ot,{tittel:"Behandlingssted",innhold:n.behandlingSted},"behandlingsted"),f.jsx(oi,{aktivitet:n}),f.jsx(li,{aktivitet:n}),f.jsx(ot,{tittel:"Ml for behandlingen",innhold:n.effekt,fullbredde:!0},"effekt"),f.jsx(ot,{tittel:"Oppflging fra Nav",innhold:n.behandlingOppfolging,fullbredde:!0},"behandlingOppfolging"),f.jsx(di,{aktivitet:n})]}),Az=/^(https?):\/\/.*$/,Cz=n=>{const e=n?.trim();return e&&e.match(Az)?e:`http://${n}`},wT=n=>{const e=n.lenke?.trim();if(!e)return null;let t;try{const r=new URL(e.startsWith("http")?e:"http://"+e),s=r.hostname,i=r.pathname.split("/").filter(Boolean),a=i.length>0?"/"+i[0]:"";t=s+a}catch{t=e}return f.jsx(yT,{tittel:"Lenke",fullbredde:!0,children:f.jsxs(tn,{target:"_blank",href:Cz(e),className:"block",children:[t," (pnes i ny fane)"]})},"lenke")},Oz=({aktivitet:n})=>n.type!==Ou?null:f.jsxs(f.Fragment,{children:[f.jsx(oi,{aktivitet:n}),f.jsx(li,{aktivitet:n}),f.jsx(ot,{fullbredde:!0,tittel:"Ml med aktiviteten",innhold:n.hensikt},"hensikt"),f.jsx(ot,{fullbredde:!0,tittel:"Min huskeliste",innhold:n.oppfolging},"oppfolging"),f.jsx(di,{aktivitet:n}),f.jsx(wT,{lenke:n.lenke})]}),Dz=({detaljer:n})=>n?f.jsx(f.Fragment,{children:n.map(e=>f.jsx(ot,{tittel:e.label,innhold:e.verdi},"EKSTERN-"+e.label))}):null,jz=({aktivitet:n})=>n.type!==Ae.EKSTERN_AKTIVITET_TYPE?null:f.jsxs(f.Fragment,{children:[f.jsx(oi,{aktivitet:n,visIkkeSatt:!0}),f.jsx(li,{aktivitet:n,visIkkeSatt:!0}),f.jsx(Dz,{detaljer:n.eksternAktivitet.detaljer}),f.jsx(di,{aktivitet:n})]}),Rz=n=>f.jsx("ul",{className:"list-disc list-inside",children:n.map((e,t)=>f.jsx("li",{className:"",children:f.jsxs(ie,{className:"inline",children:[Kx(e.startDato),fg(e.sluttDato)==="00:00"?"":` - ${fg(e.sluttDato)}`,",",` ${e.sted}`]})},t))}),Iz=({aktivitet:n})=>{if(n.type!==Du)return null;const{fraDato:e,tilDato:t,moeteplanListe:r}=n,s=vr(e)===vr(t);return f.jsxs(f.Fragment,{children:[s?f.jsx(ot,{tittel:"Dato",innhold:vr(e)||"Dato ikke satt"}):f.jsxs(f.Fragment,{children:[f.jsx(oi,{aktivitet:n,visIkkeSatt:!0}),f.jsx(li,{aktivitet:n,visIkkeSatt:!0})]}),f.jsx(ot,{fullbredde:!0,tittel:"Tidspunkt og sted",beskrivelse:!0,innhold:Rz(r)},"moteplanutenslutteklokke"),f.jsx(di,{aktivitet:n})]})},Nz=({aktivitet:n})=>n.type!==ju?null:f.jsxs(f.Fragment,{children:[f.jsx(oi,{aktivitet:n}),f.jsx(li,{aktivitet:n,visIkkeSatt:!0}),f.jsx(ot,{tittel:"Stillingsandel",innhold:SV[n.jobbStatus]},"jobbstatus"),f.jsx(ot,{tittel:"Arbeidsgiver",innhold:n.ansettelsesforhold},"ansettelsesforhold"),f.jsx(ot,{tittel:"Ansettelsesforhold",innhold:n.arbeidstid},"arbeidstid"),f.jsx(di,{aktivitet:n})]}),Pz=({aktivitet:n})=>{if(n.type!==ir)return null;const e=Xx(n);return f.jsxs(f.Fragment,{children:[f.jsx(ot,{tittel:"Dato",innhold:Ei(n.fraDato)},"dato"),f.jsx(ot,{tittel:"Klokkeslett",innhold:HB(e?.klokkeslett)},"klokkeslett"),f.jsx(ot,{tittel:"Mteform",innhold:n.kanal&&wx[n.kanal]},"kanal"),f.jsx(ot,{tittel:"Varighet",innhold:BB(e?.varighet)},"varighet"),f.jsx(ot,{tittel:"Mtested eller annen praktisk informasjon",innhold:n.adresse,formattertTekst:!0,fullbredde:!0},"adresse"),f.jsx(ot,{tittel:"Hensikt med mtet",innhold:n.beskrivelse,formattertTekst:!0,fullbredde:!0},"bakgrunn"),f.jsx(ot,{tittel:"Forberedelser til mtet",innhold:n.forberedelser,formattertTekst:!0,fullbredde:!0},"forberedelser")]})},Mz=({aktivitet:n})=>n.type!==Fr?null:f.jsxs(f.Fragment,{children:[f.jsx(ot,{tittel:"Dato",innhold:vr(n.fraDato)},"dato"),f.jsx(ot,{tittel:"Mteform",innhold:n.kanal&&wx[n.kanal]},"kanal")]}),Lz=({aktivitet:n})=>n.type!==Hg?null:f.jsxs(f.Fragment,{children:[f.jsx(oi,{aktivitet:n}),f.jsx(li,{aktivitet:n}),f.jsx(ip,{tittel:"Antall sknader i perioden",innhold:`${n.antallStillingerSokes}`,hidden:!n.antallStillingerSokes||n.antallStillingerSokes<1},"antallStillinger"),f.jsx(ip,{tittel:"Antall sknader i uken",innhold:`${n.antallStillingerIUken}`,hidden:!n.antallStillingerIUken||n.antallStillingerIUken<1},"antallStillingerIUken"),f.jsx(ip,{tittel:"Oppflging fra Nav",beskrivelse:!0,formattertTekst:!0,hidden:!n.avtaleOppfolging,innhold:n.avtaleOppfolging},"avtaleOppfolging"),f.jsx(di,{aktivitet:n})]}),Fz=({aktivitet:n})=>n.type!==vd?null:f.jsxs(f.Fragment,{children:[f.jsx(oi,{aktivitet:n}),f.jsx(li,{tittel:"Frist",aktivitet:n,visIkkeSatt:!0}),f.jsx(ot,{tittel:"Arbeidsgiver",innhold:n.arbeidsgiver},"arbeidsgiver"),f.jsx(ot,{tittel:"Kontaktperson",innhold:n.kontaktperson},"kontaktperson"),f.jsx(ot,{tittel:"Arbeidssted",innhold:n.arbeidssted},"arbeidssted"),f.jsx(di,{aktivitet:n}),f.jsx(wT,{lenke:n.lenke})]}),Vz=({aktivitet:n})=>{if(n.type!==Kg)return null;const e=n.stillingFraNavData;return f.jsxs(f.Fragment,{children:[f.jsx(ot,{tittel:"Arbeidsgiver",innhold:e.arbeidsgiver},"arbeidsgiver"),f.jsx(ot,{tittel:"Arbeidssted",innhold:e.arbeidssted},"arbeidssted")]})},Bz=({aktivitet:n})=>n.type!==Ug?null:f.jsxs(f.Fragment,{children:[f.jsx(oi,{aktivitet:n,visIkkeSatt:!0}),f.jsx(li,{aktivitet:n,visIkkeSatt:!0}),f.jsx(ot,{tittel:"Arrangr",innhold:n.arrangoer},"arrangoer"),f.jsx(ot,{tittel:"Deltakelse",innhold:!!n.deltakelseProsent&&`${n.deltakelseProsent}%`},"deltakelsesprosent"),f.jsx(ot,{tittel:"Antall dager per uke",innhold:!!n.antallDagerPerUke&&`${n.antallDagerPerUke}`},"dagerPerUke"),f.jsx(di,{aktivitet:n})]}),Hz=({aktivitet:n})=>n.type!==$g?null:f.jsxs(f.Fragment,{children:[f.jsx(oi,{aktivitet:n,visIkkeSatt:!0}),f.jsx(li,{aktivitet:n,visIkkeSatt:!0}),f.jsx(di,{aktivitet:n})]}),w0=n=>f.jsxs(bt,{variant:"warning",children:[f.jsx(Ve,{spacing:!0,size:"small",level:"3",children:n.tekst}),n.subtekst,f.jsx(Ze,{variant:"primary",as:"a",href:n.url,className:"flex w-fit mt-4",children:n.knapptekst||"G videre"})]}),Uz=({oppgave:n})=>{const e=yt();return n?e&&n.intern?w0(n.intern):!e&&n.ekstern?w0(n.ekstern):null:null},$z=({valgtAktivitet:n})=>f.jsxs("section",{className:"space-y-4",children:[n.type===Ae.EKSTERN_AKTIVITET_TYPE?f.jsx(Uz,{oppgave:n.eksternAktivitet.oppgave}):null,f.jsxs("div",{className:"flex flex-row flex-wrap w-full gap-y-4",children:[f.jsx(Tz,{aktivitet:n}),f.jsx(Oz,{aktivitet:n}),f.jsx(Iz,{aktivitet:n}),f.jsx(Nz,{aktivitet:n}),f.jsx(Pz,{aktivitet:n}),f.jsx(Mz,{aktivitet:n}),f.jsx(Lz,{aktivitet:n}),f.jsx(Fz,{aktivitet:n}),f.jsx(Bz,{aktivitet:n}),f.jsx(Hz,{aktivitet:n}),f.jsx(Vz,{aktivitet:n}),f.jsx(jz,{aktivitet:n})]})]}),Kz=({aktivitetstype:n})=>[Ou,ju,vd,bd,NA].includes(n)?null:f.jsx(V1,{aktivitetstype:n}),zz=n=>{const{valgtAktivitet:e}=n,{type:t,avtalt:r}=e,s=w_(e)?o1(e):!1;return f.jsxs("div",{className:"space-y-8 mb-8",children:[f.jsxs("div",{className:"space-y-8 space-x-2",children:[f.jsx(Kz,{aktivitetstype:t}),f.jsx(d1,{hidden:!r}),e.type===Ae.EKSTERN_AKTIVITET_TYPE&&f.jsx(s1,{aktivitet:e}),s?f.jsx(l1,{}):null]}),f.jsx(Sz,{aktivitet:e}),f.jsx($z,{valgtAktivitet:e})]})},Wz=({begrunnelse:n})=>f.jsx(bt,{variant:"info",children:f.jsx(ie,{className:"tilDittNavTekst",children:n})}),Gz=({aktivitet:n})=>{const e=W(qm),t=W(pv),r=[e,t],s=yt(),i=W(gv(n.id)),a=bT(),o=n.avtalt&&n.forhaandsorientering&&n.forhaandsorientering.type!==Tt.IKKE_SEND,l=n.type===ir&&s&&!i&&a&&!o;return f.jsx(lu,{hidden:!l,children:f.jsx(Af,{avhengigheter:r,children:f.jsx(lu,{hidden:!l,children:f.jsxs(bt,{variant:"warning",className:"mt-4",children:["Brukeren fr ikke automatisk beskjed om at aktiviteten er opprettet. ",f.jsx("br",{}),"Send en dialogmelding slik at bruker fr informasjon om mtet."]})})})})},ET=n1(Ze),Yz=$t({referat:et().min(0).max(5e3)}),qz=n=>{const{aktivitet:e,onFerdig:t}=n,[r,s]=y.useState(!0),i=sT(),a=kt(),o=W(Sr),l=e.erReferatPublisert,{watch:d,formState:{isDirty:c,isSubmitting:u},register:h,handleSubmit:p}=jn({resolver:Rn(Yz),defaultValues:{referat:e.referat||i}}),v=u||o===ee.PENDING||o===ee.RELOADING,{setFormIsDirty:g}=y.useContext(Ls);y.useEffect(()=>(g("referat",c),()=>g("referat",!1)),[g,c]);const m=(E,S=!0)=>{const T={...e,referat:E.referat};return a(Po(T)).then(x=>{if(S){const A=xg(E.referat);qp(A,e.erReferatPublisert,r)}return Sa(x)&&(a(Xp(E.referat)),t()),x})},b=p(E=>{const S={...Qo(e),erReferatPublisert:!0,referat:E.referat};return a(Po(S)).then(T=>{const x=xg(E.referat);return qp(x,e.erReferatPublisert,r),Sa(T)&&(a(Xp(E.referat)),t()),T})}),k=W(NM),_=d("referat");return f.jsxs("form",{onSubmit:p(E=>m(E)),className:"space-y-4 bg-surface-alt-3-subtle p-4 border border-border-alt-3 rounded-md",children:[f.jsx(Xn,{label:"Samtalereferat",disabled:v,maxLength:5e3,placeholder:"Skriv samtalereferatet her",...h("referat"),value:_}),f.jsxs(f.Fragment,{children:[f.jsx(US,{checked:r,onChange:()=>{s(!r),mE(!r)},children:"Klarsprkhjelpen"}),f.jsx(iT,{value:_}),f.jsx(rT,{value:_,open:r,options:{tools:!1,longWords:!1}})]}),f.jsx(Hr,{feilmeldinger:k}),f.jsxs("div",{className:"space-x-4",children:[f.jsx(ET,{loading:v,disabled:v,hidden:l,onClick:b,children:"Del med bruker"}),f.jsx(Ze,{variant:l?"primary":"secondary",loading:v,disabled:v,children:l?"Del endring":"Lagre utkast"}),e.referat&&f.jsx(Ze,{variant:"tertiary",onClick:t,children:"Avbryt"})]})]})},Xz="_button_1b5vd_1",Zz={button:Xz},Jz=n=>{const{className:e,text:t,maxCharacters:r}=n,s=sr("mb-4",e),[i,a]=y.useState(!0),o=()=>{a(!i)};return t.length>r?f.jsxs("div",{className:s,children:[f.jsx(Ho,{className:"inline",formatLinks:!0,formatLinebreaks:!0,children:i?t.slice(0,r)+" ... ":t+" "}),f.jsxs(Ze,{variant:"tertiary",onClick:o,className:Zz.button,children:[i?"Les mer":"Vis mindre",i?f.jsx(Iu,{fontSize:"1.5rem",className:"inline"}):f.jsx(s3,{fontSize:"1.5rem",className:"inline"})]})]}):f.jsx("div",{className:s,children:f.jsx(Ho,{formatLinks:!0,formatLinebreaks:!0,children:t})})},Qz=n=>{const{className:e,tekst:t,antallTegn:r}=n;return f.jsx(Jz,{className:e,text:t,maxCharacters:r})},eW=n=>{const e=yt(),{erAktivAktivitet:t,referat:r,dispatchPubliserReferat:s,publiserer:i,erReferatPublisert:a,startOppdaterReferat:o}=n,l=W(IM);return f.jsxs("section",{className:"my-4 border-t pt-8",children:[f.jsx(Ve,{level:"2",size:"large",className:"mb-4",children:"Samtalereferat"}),f.jsx(Qz,{tekst:r,antallTegn:275}),f.jsxs(lu,{hidden:!e||!t,className:"flex flex-col mt-8 space-y-4",children:[a?f.jsx(bt,{variant:"success",inline:!0,children:"Delt med bruker"}):null,f.jsx(Hr,{feilmeldinger:l}),f.jsxs("div",{className:"space-x-4",children:[f.jsx(Ze,{hidden:a,onClick:s,loading:i,children:"Del med bruker"}),f.jsx(Ze,{variant:"secondary",onClick:o,children:"Endre referat"})]})]})]})},tW=n=>{const{aktivitet:e}=n,t=kt(),[r,s]=y.useState(!1),i=W(Sr)===(ee.PENDING||ee.RELOADING),a=yt(),o=W(Dn),{referat:l,erReferatPublisert:d,type:c}=e,u=[Re.AVBRUTT,Re.FULLFOERT].includes(e.status),h=c===ir&&(is(new Date,Bn(e.fraDato))||u)||c===Fr,p=!e.historisk&&o&&e.status!==Re.AVBRUTT&&e.status!==Re.FULLFOERT;return h?a&&!l&&p||r?f.jsx(qz,{aktivitet:e,onFerdig:()=>s(!1)}):l?f.jsx(eW,{referat:l,erAktivAktivitet:p,dispatchPubliserReferat:()=>t(el(e)),publiserer:i,erReferatPublisert:d,startOppdaterReferat:()=>s(!0)}):null:null},nW=n=>{const{aktivitet:e,tillatEndring:t,laster:r}=n,i=!Yn(e)&&kv(e.avtalt,e.status,e.type);return f.jsxs("div",{className:" space-y-8",children:[f.jsx(Gz,{aktivitet:e}),i&&e.avsluttetKommentar?f.jsx(Wz,{begrunnelse:e.avsluttetKommentar}):null,f.jsx(zz,{valgtAktivitet:e}),e.type===Ae.STILLING_FRA_NAV_TYPE?f.jsx(tz,{aktivitet:e}):null,f.jsx(az,{aktivitet:e,tillatEndring:t,laster:r}),e.type===Ae.MOTE_TYPE||e.type===Ae.SAMTALEREFERAT_TYPE?f.jsx(tW,{aktivitet:e}):null,f.jsx(zK,{aktivitet:e})]})},rW="Alle endringer blir borte hvis du ikke lagrer. Er du sikker p at du vil lukke siden?",sW=()=>[],iW=n=>{const{aktivitet:e,avhengigheter:t,children:r}=n,s=y.useContext(Ls),i=pn(),{hovedsideRoute:a}=gn(),o=()=>i(a()),d=e===void 0?sW:(m=>Yn(m)?DV:Ax)(e),c=W(d,Ye),u=W(SB,Ye),h=[...c,...u],p=W(os),v=e?.forhaandsorientering,g=Kf(p,e);return f.jsx(Ka,{onClose:o,avhengigheter:t,subHeading:e?`${ov[e.status]} / ${av(e)}`:void 0,heading:e?.tittel||"",onRequestClose:()=>s.isDirty&&!window.confirm(rW)?!1:g&&v?(window.alert("Det er en viktig beskjed om ansvaret ditt som du m lese."),!1):(i(a()),!0),feilmeldinger:h,children:r})},aW=pt(sl,Sr,(n,e)=>[n,e]),oW=()=>{const{id:n}=ii(),e=n,t=yt(),r=W(l=>e?Ff(l,e):void 0),i=W(l=>r?Yn(r)?Ld(l):Sr(l):ee.NOT_STARTED)!==ee.OK,a=W(aW),o=NV(r,t);return y.useEffect(()=>()=>{const l=r&&document.querySelector(`#${yv(r)}`);l&&l?.focus()},[]),f.jsx(uT,{children:f.jsx(iW,{aktivitet:r,avhengigheter:a,children:r?f.jsx(nW,{aktivitet:r,tillatEndring:o,laster:i}):f.jsx(Ro,{replace:!0,to:"/"})})})};function lW(n,e){if(!n)return null;switch(n.type){case vd:return f.jsx(cT,{...e});case Ou:return f.jsx(U1,{...e});case Hg:return f.jsx(dT,{...e});case bd:return f.jsx(H1,{...e});case ir:return f.jsx($1,{...e});case Fr:return f.jsx(aT,{...e});case ju:return f.jsx(B1,{...e});default:return null}}function dW(){const n=kt(),e=k=>n(xm(k)),t=y.useRef(!1);k1(t);const r=pn(),{id:s}=ii(),i=W(k=>s?Ff(k,s):void 0),a=[i?ee.OK:ee.PENDING],o=W(Ax),d=[...W(CV),...o],c=W(k=>Sr(k))!==ee.OK,{aktivitetRoute:u,hovedsideRoute:h}=gn();function p(k){if(!i)return Promise.resolve();const _=y1(k),E={...i,..._};return e(E).then(S=>{Sa(S)&&r(u(i.id))})}const v=()=>{if(!t.current||window.confirm(id)){const k=i?.type;return k&&vE({isDirty:t.current,aktivitet:k,modalType:"endre-aktivitet",navType:"onReqClose"}),!0}return!1},g={onSubmit:p,endre:!0,dirtyRef:t,lagrer:c},m=i&&Zo(i)?lW(i,{...g,aktivitet:i}):null,b=()=>r(h());return f.jsxs(Ka,{lukkPKlikkUtenfor:!1,onClose:b,heading:"Endre aktivitet",onRequestClose:v,children:[f.jsx("article",{children:f.jsx(Af,{avhengigheter:a,children:f.jsx(ex,{children:m})})}),f.jsx(Hr,{feilmeldinger:d})]})}const cW=$t({begrunnelse:et().min(1,"Du m fylle ut tema begrunnelse").max(255,"Du m korte ned teksten til 255 tegn")}),ST=n=>{const{beskrivelseLabel:e,lagrer:t,onSubmit:r}=n,s={begrunnelse:""},{register:i,handleSubmit:a,watch:o,formState:{errors:l}}=jn({defaultValues:s,resolver:Rn(cW),shouldFocusError:!1}),d=o("begrunnelse");return f.jsx("form",{onSubmit:a(r),children:f.jsxs("div",{children:[f.jsx(Xn,{label:"Begrunnelse",description:e,maxLength:255,disabled:t,...i("begrunnelse"),error:l.begrunnelse&&l.begrunnelse.message,value:d}),f.jsx(Ms,{errors:l}),f.jsx(Ze,{className:"mt-4",loading:t,children:"Lagre"})]})})},uW=n=>{switch(n.type){case Ae.SAMTALEREFERAT_TYPE:return"Du m dele referatet med brukeren fr du kan sette aktiviteten til fullfrt eller avbrutt";case Ae.MOTE_TYPE:return"Du m dele referatet med brukeren fr du kan sette aktiviteten til fullfrt"}},xT=({aktivitet:n,nyStatus:e,children:t})=>Jx(n,e)?f.jsx(bt,{variant:"error",inline:!0,children:uW(n)}):t,TT=({onSubmit:n})=>f.jsxs("div",{className:"flex flex-col gap-8",children:[f.jsx(bt,{variant:"warning",inline:!0,children:"Nr du lagrer, blir aktiviteten lst og du kan ikke lenger endre innholdet."}),f.jsx(Ze,{className:"self-baseline",onClick:n,children:"Lagre"})]}),fW="Avbrutt aktivitet",hW="Skriv en kort begrunnelse under om hvorfor du avbrt aktiviteten. Nr du lagrer blir aktiviteten lst, og du kan ikke lenger redigere innholdet.",pW=()=>{const{id:n}=ii(),e=W(u=>n?Ff(u,n):void 0),t=W(Vf),r=pn(),{hovedsideRoute:s}=gn(),i=kt(),a=(u,h)=>i(jI(e,h)),o=t!==ee.OK,l=e?f.jsx(ST,{headerTekst:fW,beskrivelseLabel:hW,lagrer:o,onSubmit:async u=>{a(e,u.begrunnelse),r(s())}}):null,d=e?f.jsx(TT,{onSubmit:()=>{a(e,null),r(s())}}):null,c=e&&kv(e.avtalt,Re.AVBRUTT,e.type);return f.jsx(Ka,{onClose:()=>r(s(),{replace:!0}),heading:"Avbryt aktivitet",children:e?f.jsx(xT,{aktivitet:e,nyStatus:Re.AVBRUTT,children:c?l:d}):f.jsx(qo,{})})},gW="Fullfrt aktivitet",mW="Skriv en kort kommentar om hvordan det har gtt, eller noe Nav br kjenne til. Nr du lagrer, blir aktiviteten lst og du kan ikke lenger endre innholdet.",vW=()=>{const{id:n}=ii(),e=W(d=>n?Ff(d,n):void 0),t=W(d=>Vf(d))!==ee.OK,r=kt(),s=(d,c)=>r(RI(d,c)),i=pn(),{hovedsideRoute:a}=gn();if(!e||Yn(e))return f.jsx(Ro,{to:a()});const o=f.jsx(ST,{headerTekst:gW,beskrivelseLabel:mW,lagrer:t,onSubmit:async d=>{i(a(),{replace:!0}),e&&s(e,d.begrunnelse)}}),l=f.jsx(TT,{onSubmit:()=>{e&&s(e,null),i(a())}});return f.jsx(Ka,{onClose:()=>i(a(),{replace:!0}),heading:"Fullfr aktivitet",children:f.jsx(xT,{aktivitet:e,nyStatus:Re.FULLFOERT,children:e.avtalt&&e.type!==Fr&&e.type!==ir?o:l})})};function bW({tilbakeRoute:n,kanSkriveUt:e,oppdaterForhaandsvistPdf:t,skrivUt:r,kanSendeTilBruker:s,sendTilBruker:i,pdfMOppdateresEtterFilterendring:a,inkluderDialoger:o,setInkluderDialoger:l}){const d=W(FE),c=[ee.PENDING,ee.RELOADING].includes(d);return W(Yi),f.jsxs(f.Fragment,{children:[f.jsx(Ve,{className:"print:hidden",spacing:!0,size:"large",children:"Skriv ut aktivitetsplanen"}),f.jsxs("div",{className:"print:hidden self-start flex flex-row mb-8 items-center gap-x-10",children:[n?f.jsx(pa,{className:"text-text-action underline hover:no-underline",to:n,tabIndex:0,children:"Tilbake"}):null,f.jsxs("div",{className:"self-start flex flex-row gap-4 items-center",children:[f.jsx(Gx,{}),f.jsx(Ze,{icon:f.jsx(UM,{}),onClick:t,children:"Oppdater visning"})]}),f.jsxs("div",{className:"self-start flex flex-row items-center gap-4",children:[e?f.jsx(Ze,{icon:f.jsx(y3,{}),onClick:()=>{r(),Nt(B7),Di("Skriv ut"),Yp(o?"Inkluder dialoger":"Ekskluder dialoger")},disabled:a,children:"Skriv ut"}):null,s&&f.jsx(Ze,{icon:f.jsx(a3,{}),onClick:()=>{i(),Di("Journalfr og send til bruker"),Yp(o?"Inkluder dialoger":"Ekskluder dialoger")},loading:c,disabled:a,children:"Journalfr og send til bruker"})]})]}),f.jsx("div",{children:f.jsx(Pu,{checked:o,onClick:()=>l(!o),children:"Inkluder dialoger"})}),f.jsx("div",{className:"print:hidden mb-8",children:f.jsx(Yx,{})})]})}const Eu=({tittelId:n,tekstId:e})=>f.jsxs("div",{children:[f.jsx(Ve,{level:"2",size:"small",children:n}),f.jsx(ie,{children:e})]}),kW=n=>{const{kvpPerioder:e}=n;return e?e.length===1?f.jsx(yW,{kvpPeriode:e[0]}):f.jsx(_W,{kvpPerioder:e}):null},yW=({kvpPeriode:n})=>f.jsx(Vn,{value:n.opprettetDato,disabled:!n.avsluttetDato,children:f.jsx(Eu,{tittelId:"KVP-perioden",tekstId:"Du skriver ut innholdet i KVP-perioden. Velger du dette kan du ikke sende dokumentet automatisk til bruker."})}),_W=n=>{const{kvpPerioder:e}=n;return f.jsxs("div",{className:"",children:[f.jsx(Eu,{tittelId:"KVP-perioden",tekstId:"Du skriver ut innholdet i KVP-perioden. Velger du dette kan du ikke sende dokumentet automatisk til bruker."}),e&&e.map(t=>f.jsx(Vn,{className:"pt-2",value:t.opprettetDato,disabled:!t.avsluttetDato,children:f.jsx(ie,{children:`${vr(t.opprettetDato)} - ${t.avsluttetDato?vr(t.avsluttetDato):"n"}`})},t.opprettetDato))]})},wW=$t({utskritPlanType:et()}),EW=n=>{const{kvpPerioder:e,onSubmit:t}=n,r={utskritPlanType:"helePlanen"},{handleSubmit:s,setValue:i}=jn({defaultValues:r,resolver:Rn(wW)}),a=o=>{i("utskritPlanType",o)};return f.jsxs("form",{onSubmit:s(o=>t(o)),className:"space-y-8",children:[f.jsxs(Fi,{legend:"Velg hva du nsker  skrive ut",hideLegend:!0,defaultValue:"helePlanen",onChange:a,children:[f.jsx(Vn,{value:"helePlanen",id:"id--helePlanen",children:f.jsx(Eu,{tittelId:"Hele oppflgingsperioden",tekstId:"Du skriver ut alt innholdet du ser i aktivitetsplan, ogs KVP-perioden. Velger du dette kan du ikke sende dokumentet automatisk til bruker."})}),f.jsx(Vn,{value:"aktivitetsplan",id:"id--aktivitetsplan",children:f.jsx(Eu,{tittelId:"Oppflgingsperioden uten KVP-perioden",tekstId:"Du skriver ut alt innholdet du ser i aktivitetsplan, uten om KVP-perioden."})}),f.jsx(kW,{kvpPerioder:e})]}),f.jsx(Ze,{children:"Velg"})]})},zn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ag=[.001,0,0,.001,0,0],ap=1.35,lr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ws={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},cd="pdfjs_internal_editor_",$e={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},AT={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Sn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Xl={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},qt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ho={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Bd={ERRORS:0,WARNINGS:1,INFOS:5},Ko={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},gc={moveTo:0,lineTo:1,curveTo:2,closePath:3},CT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Xf=Bd.WARNINGS;function SW(n){Number.isInteger(n)&&(Xf=n)}function xW(){return Xf}function Zf(n){Xf>=Bd.INFOS&&console.info(`Info: ${n}`)}function Ke(n){Xf>=Bd.WARNINGS&&console.warn(`Warning: ${n}`)}function jt(n){throw new Error(n)}function rt(n,e){n||jt(e)}function TW(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Mv(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=jW(n)}catch{}const r=e?URL.parse(n,e):URL.parse(n);return TW(r)?r:null}function Lv(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&Mv(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Xe(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Wa=(function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class E0 extends Wa{constructor(e,t){super(e,"PasswordException"),this.code=t}}class op extends Wa{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Su extends Wa{constructor(e){super(e,"InvalidPDFException")}}class ud extends Wa{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class AW extends Wa{constructor(e){super(e,"FormatError")}}class ni extends Wa{constructor(e){super(e,"AbortException")}}function OT(n){(typeof n!="object"||n?.length===void 0)&&jt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let s=0;s<e;s+=t){const i=Math.min(s+t,e),a=n.subarray(s,i);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function Hd(n){typeof n!="string"&&jt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function CW(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function OW(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function DW(){try{return new Function(""),!0}catch{return!1}}class _n{static get isLittleEndian(){return Xe(this,"isLittleEndian",OW())}static get isEvalSupported(){return Xe(this,"isEvalSupported",DW())}static get isOffscreenCanvasSupported(){return Xe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Xe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Xe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Xe(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const lp=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class be{static makeHexColor(e,t,r){return`#${lp[e]}${lp[t]}${lp[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const s=e[r],i=e[r+1];e[r]=s*t[0]+i*t[2]+t[4],e[r+1]=s*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const s=t[0],i=t[1],a=t[2],o=t[3],l=t[4],d=t[5];for(let c=0;c<6;c+=2){const u=e[r+c],h=e[r+c+1];e[r+c]=u*s+h*a+l,e[r+c+1]=u*i+h*o+d}}static applyInverseTransform(e,t){const r=e[0],s=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-r*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,r){const s=t[0],i=t[1],a=t[2],o=t[3],l=t[4],d=t[5],c=e[0],u=e[1],h=e[2],p=e[3];let v=s*c+l,g=v,m=s*h+l,b=m,k=o*u+d,_=k,E=o*p+d,S=E;if(i!==0||a!==0){const T=i*c,x=i*h,A=a*u,O=a*p;v+=A,b+=A,m+=O,g+=O,k+=T,S+=T,E+=x,_+=x}r[0]=Math.min(r[0],v,m,g,b),r[1]=Math.min(r[1],k,E,_,S),r[2]=Math.max(r[2],v,m,g,b),r[3]=Math.max(r[3],k,E,_,S)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],s=e[1],i=e[2],a=e[3],o=r**2+s**2,l=r*i+s*a,d=i**2+a**2,c=(o+d)/2,u=Math.sqrt(c**2-(o*d-l**2));t[0]=Math.sqrt(c+u||1),t[1]=Math.sqrt(c-u||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[r,i,s,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,s,i){i[0]=Math.min(i[0],e,r),i[1]=Math.min(i[1],t,s),i[2]=Math.max(i[2],e,r),i[3]=Math.max(i[3],t,s)}static#e(e,t,r,s,i,a,o,l,d,c){if(d<=0||d>=1)return;const u=1-d,h=d*d,p=h*d,v=u*(u*(u*e+3*d*t)+3*h*r)+p*s,g=u*(u*(u*i+3*d*a)+3*h*o)+p*l;c[0]=Math.min(c[0],v),c[1]=Math.min(c[1],g),c[2]=Math.max(c[2],v),c[3]=Math.max(c[3],g)}static#t(e,t,r,s,i,a,o,l,d,c,u,h){if(Math.abs(d)<1e-12){Math.abs(c)>=1e-12&&this.#e(e,t,r,s,i,a,o,l,-u/c,h);return}const p=c**2-4*u*d;if(p<0)return;const v=Math.sqrt(p),g=2*d;this.#e(e,t,r,s,i,a,o,l,(-c+v)/g,h),this.#e(e,t,r,s,i,a,o,l,(-c-v)/g,h)}static bezierBoundingBox(e,t,r,s,i,a,o,l,d){d[0]=Math.min(d[0],e,o),d[1]=Math.min(d[1],t,l),d[2]=Math.max(d[2],e,o),d[3]=Math.max(d[3],t,l),this.#t(e,r,i,o,t,s,a,l,3*(-e+3*(r-i)+o),6*(e-2*r+i),3*(r-e),d),this.#t(e,r,i,o,t,s,a,l,3*(-t+3*(s-a)+l),6*(t-2*s+a),3*(s-t),d)}}function jW(n){return decodeURIComponent(escape(n))}let dp=null,S0=null;function DT(n){return dp||(dp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,S0=new Map([["","t"]])),n.replaceAll(dp,(e,t,r)=>t?t.normalize("NFKC"):S0.get(r))}function Fv(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),OT(n)}const Vv="pdfjs_internal_id_";function RW(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,s,...i]=t;if(!n(r)&&!Number.isInteger(r)||!e(s))return!1;const a=i.length;let o=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of i)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function In(n,e,t){return Math.min(Math.max(n,e),t)}function jT(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(OT(n))}function IW(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Hd(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class fd{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function s(i){if(!i)return;let a=null;const o=i.name;if(o==="#text")a=i.value;else if(fd.shouldBuildText(o))i?.attributes?.textContent?a=i.attributes.textContent:i.value&&(a=i.value);else return;if(a!==null&&t.push({str:a}),!!i.children)for(const l of i.children)s(l)}return s(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class Bv{static setupStorage(e,t,r,s,i){const a=s.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),i==="print")break;e.addEventListener("input",o=>{s.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",o=>{s.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),i==="print")break;e.addEventListener("input",o=>{s.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,d=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:s,linkService:i}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[l,d]of Object.entries(a))if(d!=null)switch(l){case"class":d.length&&e.setAttribute(l,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,d)}o&&i.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){const t=e.annotationStorage,r=e.linkService,s=e.xfaHtml,i=e.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:i,linkService:r});const o=i!=="richText",l=e.div;if(l.append(a),e.viewport){const u=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=u}o&&l.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const u=document.createTextNode(s.value);a.append(u),o&&fd.shouldBuildText(s.name)&&d.push(u)}return{textDivs:d}}const c=[[s,-1,a]];for(;c.length>0;){const[u,h,p]=c.at(-1);if(h+1===u.children.length){c.pop();continue}const v=u.children[++c.at(-1)[1]];if(v===null)continue;const{name:g}=v;if(g==="#text"){const b=document.createTextNode(v.value);d.push(b),p.append(b);continue}const m=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,g):document.createElement(g);if(p.append(m),v.attributes&&this.setAttributes({html:m,element:v,storage:t,intent:i,linkService:r}),v.children?.length>0)c.push([v,-1,m]);else if(v.value){const b=document.createTextNode(v.value);o&&fd.shouldBuildText(g)&&d.push(b),m.append(b)}}for(const u of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Hs="http://www.w3.org/2000/svg";class Ia{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function cl(n,e="text"){if(Fl(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}r(new Error(s.statusText))}},s.send(null)})}class Ud{constructor({viewBox:e,userUnit:t,scale:r,rotation:s,offsetX:i=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=s,this.offsetX=i,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let c,u,h,p;switch(s%=360,s<0&&(s+=360),s){case 180:c=-1,u=0,h=0,p=1;break;case 90:c=0,u=1,h=1,p=0;break;case 270:c=0,u=-1,h=-1,p=0;break;case 0:c=1,u=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p);let v,g,m,b;c===0?(v=Math.abs(d-e[1])*r+i,g=Math.abs(l-e[0])*r+a,m=(e[3]-e[1])*r,b=(e[2]-e[0])*r):(v=Math.abs(l-e[0])*r+i,g=Math.abs(d-e[1])*r+a,m=(e[2]-e[0])*r,b=(e[3]-e[1])*r),this.transform=[c*r,u*r,h*r,p*r,v-c*r*l-h*r*d,g-u*r*l-p*r*d],this.width=m,this.height=b}get rawDims(){const e=this.viewBox;return Xe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new Ud({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){const r=[e,t];return be.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];be.applyTransform(t,this.transform);const r=[e[2],e[3]];return be.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return be.applyInverseTransform(r,this.transform),r}}class Jf extends Wa{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function $d(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Qf(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function RT(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function IT(n,e="document.pdf"){if(typeof n!="string")return e;if($d(n))return Ke('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const s=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},i=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(i.test(a))return s(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const d of o)if(i.test(d))return s(d);const l=Array.from(r.searchParams.keys()).reverse();for(const d of l)if(i.test(d))return s(d)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return s(l[0])}return e}class x0{started=Object.create(null);times=[];time(e){e in this.started&&Ke(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ke(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:s,end:i}of this.times)e.push(`${r.padEnd(t)} ${i-s}ms
`);return e.join("")}}function Fl(n,e){const t=e?URL.parse(n,e):URL.parse(n);return t?.protocol==="http:"||t?.protocol==="https:"}function _r(n){n.preventDefault()}function Ht(n){n.preventDefault(),n.stopPropagation()}function NW(n){console.log("Deprecated API usage: "+n)}class xu{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const r=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const d=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,d==="-"?(a+=c,o+=u):d==="+"&&(a-=c,o-=u),new Date(Date.UTC(r,s,i,a,o,l))}}function NT(n,{scale:e=1,rotation:t=0}){const{width:r,height:s}=n.attributes.style,i=[0,0,parseInt(r),parseInt(s)];return new Ud({viewBox:i,userUnit:1,scale:e,rotation:t})}function ul(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ke(`Not a valid color format: "${n}"`),[0,0,0])}function PW(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,ul(r))}e.remove()}function Vt(n){const{a:e,b:t,c:r,d:s,e:i,f:a}=n.getTransform();return[e,t,r,s,i,a]}function hs(n){const{a:e,b:t,c:r,d:s,e:i,f:a}=n.getTransform().invertSelf();return[e,t,r,s,i,a]}function Mi(n,e,t=!1,r=!0){if(e instanceof Ud){const{pageWidth:s,pageHeight:i}=e.rawDims,{style:a}=n,o=_n.isCSSRoundSupported,l=`var(--total-scale-factor) * ${s}px`,d=`var(--total-scale-factor) * ${i}px`,c=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,u=o?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!t||e.rotation%180===0?(a.width=c,a.height=u):(a.width=u,a.height=c)}r&&n.setAttribute("data-main-rotation",e.rotation)}class ts{constructor(){const{pixelRatio:e}=ts;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,s,i=-1){let a=1/0,o=1/0,l=1/0;r=ts.capPixels(r,i),r>0&&(a=Math.sqrt(r/(e*t))),s!==-1&&(o=s/e,l=s/t);const d=Math.min(a,o,l);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const Tu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class MW{static get isDarkMode(){return Xe(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class PT{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Xe(this,"commentForegroundColor",ul(r))}}function MT(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const s=255*(1-r);return n=Math.round(n*r+s),e=Math.round(e*r+s),t=Math.round(t*r+s),[n,e,t]}function T0(n,e){const t=n[0]/255,r=n[1]/255,s=n[2]/255,i=Math.max(t,r,s),a=Math.min(t,r,s),o=(i+a)/2;if(i===a)e[0]=e[1]=0;else{const l=i-a;switch(e[1]=o<.5?l/(i+a):l/(2-i-a),i){case t:e[0]=((r-s)/l+(r<s?6:0))*60;break;case r:e[0]=((s-t)/l+2)*60;break;case s:e[0]=((t-r)/l+4)*60;break}}e[2]=o}function Cg(n,e){const t=n[0],r=n[1],s=n[2],i=(1-Math.abs(2*s-1))*r,a=i*(1-Math.abs(t/60%2-1)),o=s-i/2;switch(Math.floor(t/60)){case 0:e[0]=i+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=i+o,e[2]=o;break;case 2:e[0]=o,e[1]=i+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=i+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=i+o;break;case 5:case 6:e[0]=i+o,e[1]=o,e[2]=a+o;break}}function A0(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function C0(n,e,t){Cg(n,t),t.map(A0);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];Cg(e,t),t.map(A0);const s=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>s?(r+.05)/(s+.05):(s+.05)/(r+.05)}const O0=new Map;function LT(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=O0.get(t);if(r)return r;const s=new Float32Array(9),i=s.subarray(0,3),a=s.subarray(3,6);T0(n,a);const o=s.subarray(6,9);T0(e,o);const l=o[2]<.5,d=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),C0(a,o,i)<d){let c,u;l?(c=a[2],u=1):(c=0,u=a[2]);const h=.005;for(;u-c>h;){const p=a[2]=(c+u)/2;l===C0(a,o,i)<d?c=p:u=p}a[2]=l?u:c}return Cg(a,i),r=be.makeHexColor(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)),O0.set(t,r),r}function Hv({html:n,dir:e,className:t},r){const s=document.createDocumentFragment();if(typeof n=="string"){const i=document.createElement("p");i.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const d=a[o];i.append(document.createTextNode(d)),o<l-1&&i.append(document.createElement("br"))}s.append(i)}else Bv.render({xfaHtml:n,div:s,intent:"richText"});s.firstChild.classList.add("richText",t),r.append(s)}class Zl{#e=null;#t=null;#r;#n=null;#a=null;#s=null;#i=null;#o=null;static#d=null;constructor(e){this.#r=e,Zl.#d||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#r._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",_r,{signal:t}),e.addEventListener("pointerdown",Zl.#l,{signal:t}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const s=this.#r.toolbarPosition;if(s){const{style:i}=e,a=this.#r._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#f(e){this.#r._focusEventsAllowed=!1,Ht(e)}#u(e){this.#r._focusEventsAllowed=!0,Ht(e)}#h(e){const t=this.#r._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#f.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",_r,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",Zl.#d[e]),this.#h(r)&&r.addEventListener("click",s=>{t.delete()},{signal:t._signal}),this.#n.append(r)}get#m(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#n.append(t,this.#m),this.#a=e}addComment(e,t=null){if(this.#s)return;const r=e.renderForToolbar();if(!r)return;this.#h(r);const s=this.#i=this.#m;t?(this.#n.insertBefore(r,t),this.#n.insertBefore(s,t)):this.#n.append(r,s),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#h(t),this.#n.append(t,this.#m)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#r);this.#h(t),this.#n.append(t,this.#m)}removeButton(e){e==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#i?.remove(),this.#i=null)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,r){const s=this.#n.querySelector(r);s&&e==="comment"&&this.addComment(t,s)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class LW{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#r._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",_r,{signal:t});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#a(e,t){let r=0,s=0;for(const i of e){const a=i.y+i.height;if(a<r)continue;const o=i.x+(t?i.width:0);if(a>r){s=o,r=a;continue}t?o>s&&(s=o):o<s&&(s=o)}return[t?1-s:s,r]}show(e,t,r){const[s,i]=this.#a(t,r),{style:a}=this.#t||=this.#n();e.append(this.#t),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,t,r,s){const i=document.createElement("button");i.classList.add("basic",e),i.tabIndex=0,i.setAttribute("data-l10n-id",t);const a=document.createElement("span");i.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=this.#r._signal;o instanceof AbortSignal&&!o.aborted&&(i.addEventListener("contextmenu",_r,{signal:o}),i.addEventListener("click",s,{signal:o})),this.#e.append(i)}}function FT(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}class FW{#e=0;get id(){return`${cd}${this.#e++}`}}class Uv{#e=Fv();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const i=s.decode().then(()=>(r.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Xe(this,"_isSVGFittingCanvas",i)}async#n(e,t){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let s;if(typeof t=="string"?(r.url=t,s=await cl(t,"blob")):t instanceof File?s=r.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const i=Uv._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((d,c)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,d()},a.onload=async()=>{const u=r.svgUrl=a.result;o.src=await i?`${u}#svgView(preserveAspectRatio(none))`:u},o.onerror=a.onerror=c});a.readAsDataURL(s),await l}else r.bitmap=await createImageBitmap(s);r.refCounter=1}catch(s){Ke(s),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:t,name:r,size:s,type:i}=e;return this.#n(`${t}_${r}_${s}_${i}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const r=await t;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const t=this.#r.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),r={bitmap:s.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const t=this.#r.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#r||=new Map;const t=this.#r.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}r.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class VW{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:t,post:r,mustExec:s,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(s&&e(),this.#t)return;const l={cmd:e,undo:t,post:r,type:i};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(l);return}if(a&&this.#e[this.#n].type===i){o&&(l.undo=this.#e[this.#n].undo),this.#e[this.#n]=l;return}const d=this.#n+1;d===this.#r?this.#e.splice(0,1):(this.#n=d,d<this.#e.length&&this.#e.splice(d)),this.#e.push(l)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Kd{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=_n.platform;for(const[r,s,i={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(this.#e(t));if(!r)return;const{callback:s,options:{bubbles:i=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(s.bind(e,...a,t)(),i||Ht(t))}}class $v{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return PW(e),Xe(this,"_colors",e)}convert(e){const t=ul(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,s]of this._colors)if(s.every((i,a)=>i===t[a]))return $v._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?be.makeHexColor(...t):e}}class ri{#e=new AbortController;#t=null;#r=null;#n=new Map;#a=new Map;#s=null;#i=null;#o=null;#d=new VW;#l=null;#f=null;#u=null;#h=0;#m=new Set;#p=null;#c=null;#g=new Set;_editorUndoBar=null;#v=!1;#k=!1;#b=!1;#x=null;#E=null;#y=null;#A=null;#w=!1;#S=null;#D=new FW;#C=!1;#O=!1;#L=!1;#R=null;#N=null;#F=null;#P=null;#K=null;#T=$e.NONE;#_=new Set;#I=null;#V=null;#H=null;#G=null;#W=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#M=null;#z=null;#J=null;#Q=null;#B=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=ri.prototype,t=a=>a.#z.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Xe(this,"_keyboardManager",new Kd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#z.contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#z.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,r,s,i,a,o,l,d,c,u,h,p,v,g,m){const b=this._signal=this.#e.signal;this.#z=e,this.#J=t,this.#Q=r,this.#s=s,this.#l=i,this.#V=a,this.#W=l,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:b}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),o._on("setpreference",this.onSetPreference.bind(this),{signal:b}),o._on("switchannotationeditorparams",k=>this.updateParams(k.type,k.value),{signal:b}),window.addEventListener("pointerdown",()=>{this.#O=!0},{capture:!0,signal:b}),window.addEventListener("pointerup",()=>{this.#O=!1},{capture:!0,signal:b}),this.#le(),this.#fe(),this.#te(),this.#i=l.annotationStorage,this.#x=l.filterFactory,this.#H=d,this.#A=c||null,this.#v=u,this.#k=h,this.#b=p,this.#K=v||null,this.viewParameters={realScale:Ia.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=m!==!1,i?.setSidebarUiManager(this)}destroy(){this.#B?.resolve(),this.#B=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#g.clear(),this.#P?.clear(),this.#t=null,this.#_.clear(),this.#d.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#V?.destroy(),this.#S?.hide(),this.#S=null,this.#F?.destroy(),this.#F=null,this.#r=null,this.#E&&(clearTimeout(this.#E),this.#E=null),this.#M&&(clearTimeout(this.#M),this.#M=null),this._editorUndoBar?.destroy(),this.#W=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#K}get useNewAltTextFlow(){return this.#k}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return Xe(this,"hcmFilter",this.#H?this.#x.addHCMFilter(this.#H.foreground,this.#H.background):"none")}get direction(){return Xe(this,"direction",getComputedStyle(this.#z).direction)}get _highlightColors(){return Xe(this,"_highlightColors",this.#A?new Map(this.#A.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Xe(this,"highlightColors",null);const t=new Map,r=!!this.#H;for(const[s,i]of e){const a=s.endsWith("_HCM");if(r&&a){t.set(s.replace("_HCM",""),i);continue}!r&&!a&&t.set(s,i)}return Xe(this,"highlightColors",t)}get highlightColorNames(){return Xe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#u=e}setMainHighlightColorPicker(e){this.#F=e}editAltText(e,t=!1){this.#s?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,r,s){this.#l?.showDialog(this,e,t,r,s)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,r=void 0){this.#l?.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),s=i=>{i.pageNumber===e&&(this._eventBus._off("editorsrendered",s),t())};this._eventBus.on("editorsrendered",s),await r}getSignature(e){this.#V?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#V}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){e==="enableNewAltTextWhenAddingImage"&&(this.#b=t)}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#z.focus()}findParent(e,t){for(const r of this.#a.values()){const{x:s,y:i,width:a,height:o}=r.div.getBoundingClientRect();if(e>=s&&e<=s+a&&t>=i&&t<=i+o)return r}return null}disableUserSelect(e=!1){this.#J.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#g.add(e)}removeShouldRescale(e){this.#g.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ia.PDF_TO_CSS_UNITS;for(const t of this.#g)t.onScaleChanging();this.#u?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of this.#a.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:a,focusOffset:o}=r,l=r.toString(),c=this.#Z(r).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;r.empty();const h=this.#ee(c),p=this.#T===$e.NONE,v=()=>{const g=h?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:s,anchorOffset:i,focusNode:a,focusOffset:o,text:l});p&&this.showAllEditors("highlight",!0,!0),t&&g?.editComment()};if(p){this.switchToMode($e.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}#ae(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Z(e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(this.#S||=new LW(this),this.#S.show(r,s,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const t=`${cd}${e}`,r=this.#i.getRawValue(t);return r&&this.#i.remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,t=null){const r=this.#Q;r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}#oe(){const e=document.getSelection();if(!e||e.isCollapsed){this.#I&&(this.#S?.hide(),this.#I=null,this.#j({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#I)return;const s=this.#Z(e).closest(".textLayer");if(!s){this.#I&&(this.#S?.hide(),this.#I=null,this.#j({hasSelectedText:!1}));return}if(this.#S?.hide(),this.#I=t,this.#j({hasSelectedText:!0}),!(this.#T!==$e.HIGHLIGHT&&this.#T!==$e.NONE)&&(this.#T===$e.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const i=this.#T===$e.HIGHLIGHT?this.#ee(s):null;if(i?.toggleDrawing(),this.#O){const a=new AbortController,o=this.combinedSignal(a),l=d=>{d.type==="pointerup"&&d.button!==0||(a.abort(),i?.toggleDrawing(!0),d.type==="pointerup"&&this.#q("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}else i?.toggleDrawing(!0),this.#q("main_toolbar")}}#q(e=""){this.#T===$e.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#ae()}#le(){document.addEventListener("selectionchange",this.#oe.bind(this),{signal:this._signal})}#de(){if(this.#y)return;this.#y=new AbortController;const e=this.combinedSignal(this.#y);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ce(){this.#y?.abort(),this.#y=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#q("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#_)if(t.div.contains(e)){this.#N=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[e,t]=this.#N;this.#N=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#R)return;this.#R=new AbortController;const e=this.combinedSignal(this.#R);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ue(){this.#R?.abort(),this.#R=null}#ne(){if(this.#f)return;this.#f=new AbortController;const e=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#re(){this.#f?.abort(),this.#f=null}#fe(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#ne()}removeEditListeners(){this.#ue(),this.#re()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of this.#_){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const a of this.#c)if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(i){Ke(`paste: "${i.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const l of r){const d=await s.deserialize(l);if(!d)return;i.push(d)}const a=()=>{for(const l of i)this.#se(l);this.#ie(i)},o=()=>{for(const l of i)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(i){Ke(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==$e.NONE&&!this.isEditorHandlingKeyboard&&ri._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#q("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#j(e){Object.entries(e).some(([r,s])=>this.#Y[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,e)}),this.#T===$e.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#$([[nt.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#de(),this.#ne(),this.#j({isEditing:this.#T!==$e.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#d.hasSomethingToUndo(),hasSomethingToRedo:this.#d.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ce(),this.#re(),this.#j({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#c){this.#c=e;for(const t of this.#c)this.#$(t.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#a.get(this.#h)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#a.set(e.pageIndex,e),this.#C?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,r=!1,s=!1,i=!1){if(this.#T!==e&&!(this.#B&&(await this.#B.promise,!this.#B))){if(this.#B=Promise.withResolvers(),this.#u?.commitOrRemove(),this.#T===$e.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#T=e,e===$e.NONE){this.setEditingState(!1),this.#pe();for(const a of this.#n.values())a.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#B.resolve();return}for(const a of this.#n.values())a.addStandaloneCommentButton();e===$e.SIGNATURE&&await this.#V?.loadSignatures(),this.setEditingState(!0),await this.#he(),this.unselectAll();for(const a of this.#a.values())a.updateMode(e);if(e===$e.POPUP){this.#r||=await this.#W.getAnnotationsByType(new Set(this.#c.map(l=>l._editorType)));const a=new Set,o=[];for(const l of this.#n.values()){const{annotationElementId:d,hasComment:c,deleted:u}=l;d&&a.add(d),c&&!u&&o.push(l.getData())}for(const l of this.#r){const{id:d,popupRef:c,contentsObj:u}=l;c&&u?.str&&!a.has(d)&&!this.#m.has(d)&&o.push(l)}this.#l?.showSidebar(o)}if(!t){r&&this.addNewEditorFromKeyboard(),this.#B.resolve();return}for(const a of this.#n.values())a.uid===t?(this.setSelected(a),i?a.editComment():s?a.enterInEditMode():a.focus()):a.unselect();this.#B.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#c){switch(e){case nt.CREATE:this.currentLayer.addNewEditor(t);return;case nt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of this.#_)r.updateParams(e,t);else for(const r of this.#c)r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){for(const i of this.#n.values())i.editorType===e&&i.show(t);(this.#G?.get(nt.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#$([[nt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#he(){if(!this.#C){this.#C=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#C){this.#C=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#E&&clearTimeout(this.#E),this.#E=setTimeout(()=>{this.focusMainContainer(),this.#E=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#P?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#m.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#m.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#m.has(e)}removeDeletedAnnotationElement(e){this.#m.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#se(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#ge(){let e=null;for(e of this.#_);return e}updateUI(e){this.#ge===e&&this.#$(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#$(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#_.has(e)){this.#_.delete(e),e.unselect(),this.#j({hasSelectedEditor:this.hasSelection});return}this.#_.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#j({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#u?.commitOrRemove();for(const t of this.#_)t!==e&&t.unselect();this.#_.clear(),this.#_.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#j({hasSelectedEditor:!0})}isSelected(e){return this.#_.has(e)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(e){e.unselect(),this.#_.delete(e),this.#j({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#d.undo(),this.#j({hasSomethingToUndo:this.#d.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#d.redo(),this.#j({hasSomethingToUndo:!0,hasSomethingToRedo:this.#d.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#d.add(e),this.#j({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#d.cleanType(e)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#_],r=()=>{this._editorUndoBar?.show(s,t.length===1?t[0].editorType:t.length);for(const i of t)i.remove()},s=()=>{for(const i of t)this.#se(i)};this.addCommands({cmd:r,undo:s,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(e){for(const t of this.#_)t.unselect();this.#_.clear();for(const t of e)t.isEmpty()||(this.#_.add(t),t.select());this.#j({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#_)e.commit();this.#ie(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#T!==$e.NONE))&&!this.#u?.commitOrRemove()&&this.hasSelection){for(const e of this.#_)e.unselect();this.#_.clear(),this.#j({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=e,this.#U[1]+=t;const[s,i]=this.#U,a=[...this.#_],o=1e3;this.#M&&clearTimeout(this.#M),this.#M=setTimeout(()=>{this.#M=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(s,i),l.translationDone())},undo:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(-s,-i),l.translationDone())},mustExec:!1})},o);for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#_)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let t=!1;for(const[{x:s,y:i,pageIndex:a},o]of e)o.newX=s,o.newY=i,o.newPageIndex=a,t||=s!==o.savedX||i!==o.savedY||a!==o.savedPageIndex;if(!t)return!1;const r=(s,i,a,o)=>{if(this.#n.has(s.id)){const l=this.#a.get(o);l?s._setParentAndPosition(l,i,a):(s.pageIndex=o,s.x=i,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:a,newPageIndex:o}]of e)r(s,i,a,o)},undo:()=>{for(const[s,{savedX:i,savedY:a,savedPageIndex:o}]of e)r(s,i,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#p)for(const r of this.#p.keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#T}isEditingMode(){return this.#T!==$e.NONE}get imageManager(){return Xe(this,"imageManager",new Uv)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,c=t.rangeCount;d<c;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:r,y:s,width:i,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(d,c,u,h)=>({x:(c-s)/a,y:1-(d+u-r)/i,width:h/a,height:u/i});break;case"180":o=(d,c,u,h)=>({x:1-(d+u-r)/i,y:1-(c+h-s)/a,width:u/i,height:h/a});break;case"270":o=(d,c,u,h)=>({x:1-(c+h-s)/a,y:(d-r)/i,width:h/a,height:u/i});break;default:o=(d,c,u,h)=>({x:(d-r)/i,y:(c-s)/a,width:u/i,height:h/a});break}const l=[];for(let d=0,c=t.rangeCount;d<c;d++){const u=t.getRangeAt(d);if(!u.collapsed)for(const{x:h,y:p,width:v,height:g}of u.getClientRects())v===0||g===0||l.push(o(h,p,v,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const r=this.#i.getRawValue(t);r&&(this.#T===$e.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){const s=this.#P?.get(e);s&&(s.setCanvas(t,r),this.#P.delete(e))}addMissingCanvas(e,t){(this.#P||=new Map).set(e,t)}}class vs{#e=null;#t=!1;#r=null;#n=null;#a=null;#s=null;#i=!1;#o=null;#d=null;#l=null;#f=null;#u=!1;static#h=null;static _l10n=null;constructor(e){this.#d=e,this.#u=e._uiManager.useNewAltTextFlow,vs.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){vs._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",vs.#h.missing),t.setAttribute("data-l10n-id",vs.#h["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#d._uiManager._signal;e.addEventListener("contextmenu",_r,{signal:r}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(this.#i=!0,s(i))},{signal:r}),await this.#p(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#f=await vs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#d.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#f),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:s,cancel:i=!1}){r&&(this.#l=r,this.#f=s),!(this.#e===e&&this.#t===t)&&(i||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#r&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#r;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",vs.#h[this.#m]),this.#n?.setAttribute("data-l10n-id",vs.#h[`${this.#m}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#d.id}`;const s=100,i=this.#d._uiManager._signal;i.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:i}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:i})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#d.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class mc{#e=null;#t=null;#r=!1;#n=null;#a=null;#s=null;#i=null;#o=null;#d=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#f(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const s=this.#n.commentButtonColor;s&&(r.backgroundColor=s)}return this.#f(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:r}=this.#e.getBoundingClientRect(),{x:s,y:i,width:a,height:o}=this.#n.parent.boundingClientRect;return[(e-s)/a,(t+r-i)/o]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#f(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",_r,{signal:r}),t&&(e.addEventListener("focusin",i=>{this.#n._focusEventsAllowed=!1,Ht(i)},{capture:!0,signal:r}),e.addEventListener("focusout",i=>{this.#n._focusEventsAllowed=!0,Ht(i)},{capture:!0,signal:r})),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(this.#r=!0,s(i))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const t=this.commentPopupPositionInLayer;let r,s;if(t)[r,s]=t;else{[r,s]=this.#n.commentButtonPosition;const{width:c,height:u,x:h,y:p}=this.#n;r=h+r*c,s=p+s*u}const i=this.#n.parent.boundingClientRect,{x:a,y:o,width:l,height:d}=i;this.#n._uiManager.editComment(this.#n,a+r*l,o+s*d,{...e,parentDimensions:i})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#d||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#a}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#s=null),e===null){this.#i="",this.#d=!0;return}this.#i=e,this.#o=new Date,this.#d=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#s=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#s=null,this.#o=null,this.#n=null,this.#r=!1,this.#d=!1}}class zd{#e;#t=!1;#r=null;#n;#a;#s;#i;#o=null;#d;#l=null;#f;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:s=null,onPinching:i=null,onPinchEnd:a=null,signal:o}){this.#e=e,this.#r=r,this.#n=t,this.#a=s,this.#s=i,this.#i=a,this.#f=new AbortController,this.#d=AbortSignal.any([o,this.#f.signal]),e.addEventListener("touchstart",this.#h.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ts.pixelRatio}#h(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const s=this.#o=new AbortController,i=AbortSignal.any([this.#d,s.signal]),a=this.#e,o={capture:!0,signal:i,passive:!1},l=d=>{d.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Ht(d),l(d))},o),a.addEventListener("pointerup",l,o),a.addEventListener("pointercancel",l,o);return}if(!this.#u){this.#u=new AbortController;const s=AbortSignal.any([this.#d,this.#u.signal]),i=this.#e,a={signal:s,capture:!1,passive:!1};i.addEventListener("touchmove",this.#m.bind(this),a);const o=this.#p.bind(this);i.addEventListener("touchend",o,a),i.addEventListener("touchcancel",o,a),a.capture=!0,i.addEventListener("pointerdown",Ht,a),i.addEventListener("pointermove",Ht,a),i.addEventListener("pointercancel",Ht,a),i.addEventListener("pointerup",Ht,a),this.#a?.()}if(Ht(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#m(e){if(!this.#l||e.touches.length!==2)return;Ht(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:s,screenY:i}=t,{screenX:a,screenY:o}=r,l=this.#l,{touch0X:d,touch0Y:c,touch1X:u,touch1Y:h}=l,p=u-d,v=h-c,g=a-s,m=o-i,b=Math.hypot(g,m)||1,k=Math.hypot(p,v)||1;if(!this.#t&&Math.abs(k-b)<=zd.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=s,l.touch0Y=i,l.touch1X=a,l.touch1Y=o,!this.#t){this.#t=!0;return}const _=[(s+a)/2,(i+o)/2];this.#s?.(_,k,b)}#p(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#i?.()),this.#l&&(Ht(e),this.#l=null,this.#t=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#o?.abort(),this.#o=null}}class je{#e=null;#t=null;#r=null;#n=null;#a=null;#s=!1;#i=null;#o="";#d=null;#l=null;#f=null;#u=null;#h=null;#m="";#p=!1;#c=null;#g=!1;#v=!1;#k=!1;#b=null;#x=0;#E=0;#y=null;#A=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#S=je._zIndex++;static _borderLineWidth=-1;static _colorManager=new $v;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=je.prototype._resizeWithKeyboard,t=ri.TRANSLATE_SMALL,r=ri.TRANSLATE_BIG;return Xe(this,"_resizerKeyboardManager",new Kd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],je.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,s],this.pageTranslation=[i,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Xe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new BW({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(je._l10n??=e,je._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),je._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);je._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){jt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#S}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#M(),this.#u?.remove(),this.#u=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,s){const[i,a]=this.parentDimensions;[r,s]=this.screenToPageTranslation(r,s),this.x=(e+r)/i,this.y=(t+s)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,s]=this.parentDimensions;this.setAt(e*r,t*s,this.width*r,this.height*s),this._onTranslated()}#D([e,t],r,s){[r,s]=this.screenToPageTranslation(r,s),this.x+=r/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#D(this.parentDimensions,e,t)}translateInPage(e,t){this.#c||=[this.x,this.y,this.width,this.height],this.#D(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#c||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[s,i]}=this;if(this.x+=e/s,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,d]=this.getBaseTranslation();a+=l,o+=d;const{style:c}=r;c.left=`${(100*a).toFixed(2)}%`,c.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#c&&(this.#c[0]!==this.x||this.#c[1]!==this.y)}get _hasBeenResized(){return!!this.#c&&(this.#c[2]!==this.width||this.#c[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=je,s=r/e,i=r/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,s]}=this;let{x:i,y:a,width:o,height:l}=this;if(o*=r,l*=s,i*=r,a*=s,this._mustFixPosition)switch(e){case 0:i=In(i,0,r-o),a=In(a,0,s-l);break;case 90:i=In(i,0,r-l),a=In(a,o,s);break;case 180:i=In(i,o,r),a=In(a,l,s);break;case 270:i=In(i,l,r),a=In(a,0,s-o);break}this.x=i/=r,this.y=a/=s;const[d,c]=this.getBaseTranslation();i+=d,a+=c,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#C(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return je.#C(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return je.#C(e,t,360-this.parentRotation)}#O(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#L(){if(this.#d)return;this.#d=document.createElement("div"),this.#d.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const s=document.createElement("div");this.#d.append(s),s.classList.add("resizer",r),s.setAttribute("data-resizer-name",r),s.addEventListener("pointerdown",this.#R.bind(this,r),{signal:t}),s.addEventListener("contextmenu",_r,{signal:t}),s.tabIndex=-1}this.div.prepend(this.#d)}#R(e,t){t.preventDefault();const{isMac:r}=_n.platform;if(t.button!==0||t.ctrlKey&&r)return;this.#r?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const i=new AbortController,a=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Ht,{passive:!1,signal:a}),window.addEventListener("contextmenu",_r,{signal:a}),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{i.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#F()};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}#N(e,t,r,s){this.width=r,this.height=s,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#f)return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:s}=this.#f;this.#f=null;const i=this.x,a=this.y,o=this.width,l=this.height;i===e&&a===t&&o===r&&l===s||this.addCommands({cmd:this.#N.bind(this,i,a,o,l),undo:this.#N.bind(this,e,t,r,s),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#P(e,t){const[r,s]=this.parentDimensions,i=this.x,a=this.y,o=this.width,l=this.height,d=je.MIN_SIZE/r,c=je.MIN_SIZE/s,u=this.#O(this.rotation),h=(V,F)=>[u[0]*V+u[2]*F,u[1]*V+u[3]*F],p=this.#O(360-this.rotation),v=(V,F)=>[p[0]*V+p[2]*F,p[1]*V+p[3]*F];let g,m,b=!1,k=!1;switch(e){case"topLeft":b=!0,g=(V,F)=>[0,0],m=(V,F)=>[V,F];break;case"topMiddle":g=(V,F)=>[V/2,0],m=(V,F)=>[V/2,F];break;case"topRight":b=!0,g=(V,F)=>[V,0],m=(V,F)=>[0,F];break;case"middleRight":k=!0,g=(V,F)=>[V,F/2],m=(V,F)=>[0,F/2];break;case"bottomRight":b=!0,g=(V,F)=>[V,F],m=(V,F)=>[0,0];break;case"bottomMiddle":g=(V,F)=>[V/2,F],m=(V,F)=>[V/2,0];break;case"bottomLeft":b=!0,g=(V,F)=>[0,F],m=(V,F)=>[V,0];break;case"middleLeft":k=!0,g=(V,F)=>[0,F/2],m=(V,F)=>[V,F/2];break}const _=g(o,l),E=m(o,l);let S=h(...E);const T=je._round(i+S[0]),x=je._round(a+S[1]);let A=1,O=1,C,D;if(t.fromKeyboard)({deltaX:C,deltaY:D}=t);else{const{screenX:V,screenY:F}=t,[G,B]=this.#l;[C,D]=this.screenToPageTranslation(V-G,F-B),this.#l[0]=V,this.#l[1]=F}if([C,D]=v(C/r,D/s),b){const V=Math.hypot(o,l);A=O=Math.max(Math.min(Math.hypot(E[0]-_[0]-C,E[1]-_[1]-D)/V,1/o,1/l),d/o,c/l)}else k?A=In(Math.abs(E[0]-_[0]-C),d,1)/o:O=In(Math.abs(E[1]-_[1]-D),c,1)/l;const I=je._round(o*A),U=je._round(l*O);S=h(...m(I,U));const H=T-S[0],j=x-S[1];this.#c||=[this.x,this.y,this.width,this.height],this.width=I,this.height=U,this.x=H,this.y=j,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new Zl(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(vs.initialize(je._l10n),this.#r=new vs(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new mc(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:s}}=this.#n;return{text:t,richText:e,date:r,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new mc(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(this.#n||=new mc(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new mc(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,s]=e.rect,[i]=this.pageDimensions,[a]=this.pageTranslation,o=a+i+1,l=s-100,d=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,d,s]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#H();const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[s,i]=this.getInitialTranslation();return this.translate(s,i),FT(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#A||=new zd({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#K.bind(this),onPinching:this.#T.bind(this),onPinchEnd:this.#_.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#K(){this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#T(e,t,r){let i=.7*(r/t)+1-.7;if(i===1)return;const a=this.#O(this.rotation),o=(T,x)=>[a[0]*T+a[2]*x,a[1]*T+a[3]*x],[l,d]=this.parentDimensions,c=this.x,u=this.y,h=this.width,p=this.height,v=je.MIN_SIZE/l,g=je.MIN_SIZE/d;i=Math.max(Math.min(i,1/h,1/p),v/h,g/p);const m=je._round(h*i),b=je._round(p*i);if(m===h&&b===p)return;this.#c||=[c,u,h,p];const k=o(h/2,p/2),_=je._round(c+k[0]),E=je._round(u+k[1]),S=o(m/2,b/2);this.x=_-S[0],this.y=E-S[1],this.width=m,this.height=b,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#_(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(e){const{isMac:t}=_n.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#V(e);return}this.#I(e)}#I(e){const{isMac:t}=_n.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#V(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const s=new AbortController,i=this._uiManager.combinedSignal(s),a={capture:!0,passive:!1,signal:i},o=d=>{s.abort(),this.#i=null,this.#p=!1,this._uiManager.endDragSession()||this.#I(d),r&&this._onStopDragging()};t&&(this.#x=e.clientX,this.#E=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",d=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:c,clientY:u,pointerId:h}=d;if(h!==this.#i){Ht(d);return}const[p,v]=this.screenToPageTranslation(c-this.#x,u-this.#E);this.#x=c,this.#E=u,this._uiManager.dragSelectedEditors(p,v)},a),window.addEventListener("touchmove",Ht,a),window.addEventListener("pointerdown",d=>{d.pointerType===this.#o&&(this.#A||d.isPrimary)&&o(d),Ht(d)},a));const l=d=>{if(!this.#i||this.#i===d.pointerId){o(d);return}Ht(d)};window.addEventListener("pointerup",l,{signal:i}),window.addEventListener("blur",l,{signal:i})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const s=this.parentScale,[i,a]=this.pageDimensions,[o,l]=this.pageTranslation,d=e/s,c=t/s,u=this.x*i,h=this.y*a,p=this.width*i,v=this.height*a;switch(r){case 0:return[u+d+o,a-h-c-v+l,u+d+p+o,a-h-c+l];case 90:return[u+c+o,a-h+d+l,u+c+v+o,a-h+d+p+l];case 180:return[u-d-p+o,a-h+c+l,u-d+o,a-h+c+v+l];case 270:return[u-c-v+o,a-h-d-p+l,u-c+o,a-h-d+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,s,i,a]=e,o=i-r,l=a-s;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-s,l,o];case 180:return[i,t-s,o,l];case 270:return[i,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&je._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:s,deleted:i,richText:a},uid:o,pageIndex:l,creationDate:d,modificationDate:c}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:d,modificationDate:r||c,popupRef:!i,color:t,opacity:s}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#k}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:s}=this.getClientDimensions(),{innerHeight:i,innerWidth:a}=window;return t<a&&s>0&&e<i&&r>0}#H(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#H()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,r){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});s.rotation=e.rotation,s.#e=e.accessibilityData,s._isCopy=e.isCopy||!1;const[i,a]=s.pageDimensions,[o,l,d,c]=s.getRectInCurrentCoords(e.rect,a);return s.x=o/i,s.y=l/a,s.width=d/i,s.height=c/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#M(),this.removeEditToolbar(),this.#y){for(const e of this.#y.values())clearTimeout(e);this.#y=null}this.parent=null,this.#A?.destroy(),this.#A=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#L(),this.#d.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,s,i,a]=this.getPDFRect();return[je._round(r+(i-r)*e),je._round(s+(a-s)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#d.children;if(!this.#t){this.#t=Array.from(t);const a=this.#G.bind(this),o=this.#W.bind(this),l=this._uiManager._signal;for(const d of this.#t){const c=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:l}),d.addEventListener("blur",o,{signal:l}),d.addEventListener("focus",this.#Y.bind(this,c),{signal:l}),d.setAttribute("data-l10n-id",je._l10nResizer[c])}}const r=this.#t[0];let s=0;for(const a of t){if(a===r)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(i!==s){if(i<s)for(let o=0;o<s-i;o++)this.#d.append(this.#d.firstChild);else if(i>s)for(let o=0;o<i-s;o++)this.#d.firstChild.before(this.#d.lastChild);let a=0;for(const o of t){const d=this.#t[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",je._l10nResizer[d])}}this.#U(0),this.#k=!0,this.#d.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){je._resizerKeyboardManager.exec(this,e)}#W(e){this.#k&&e.relatedTarget?.parentNode!==this.#d&&this.#M()}#Y(e){this.#m=this.#k?e:""}#U(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#k&&this.#P(this.#m,{deltaX:e,deltaY:t,fromKeyboard:!0})}#M(){this.#k=!1,this.#U(-1),this.#F()}_stopResizingWithKeyboard(){this.#M(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#d?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(e){this.#g=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#y||=new Map;const{action:r}=e;let s=this.#y.get(r);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),this.#y.delete(r),this.#y.size===0&&(this.#y=null)},je._telemetryTimeout),this.#y.set(r,s);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#u&&!this.deleted){this.#u=e.addFakeAnnotation(this);return}if(this.deleted){this.#u.remove(),this.#u=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#u.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class BW extends je{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const D0=3285377520,Dr=4294901760,ps=65535;class VT{constructor(e){this.h1=e?e&4294967295:D0,this.h2=e?e&4294967295:D0}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let g=0,m=e.length;g<m;g++){const b=e.charCodeAt(g);b<=255?t[r++]=b:(t[r++]=b>>>8,t[r++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=r>>2,i=r-s*4,a=new Uint32Array(t.buffer,0,s);let o=0,l=0,d=this.h1,c=this.h2;const u=3432918353,h=461845907,p=u&ps,v=h&ps;for(let g=0;g<s;g++)g&1?(o=a[g],o=o*u&Dr|o*p&ps,o=o<<15|o>>>17,o=o*h&Dr|o*v&ps,d^=o,d=d<<13|d>>>19,d=d*5+3864292196):(l=a[g],l=l*u&Dr|l*p&ps,l=l<<15|l>>>17,l=l*h&Dr|l*v&ps,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,i){case 3:o^=t[s*4+2]<<16;case 2:o^=t[s*4+1]<<8;case 1:o^=t[s*4],o=o*u&Dr|o*p&ps,o=o<<15|o>>>17,o=o*h&Dr|o*v&ps,s&1?d^=o:c^=o}this.h1=d,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Dr|e*36045&ps,t=t*4283543511&Dr|((t<<16|e>>>16)*2950163797&Dr)>>>16,e^=t>>>1,e=e*444984403&Dr|e*60499&ps,t=t*3301882366&Dr|((t<<16|e>>>16)*3120437893&Dr)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Og=Object.freeze({map:null,hash:"",transfer:void 0});class Kv{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=this.#n.get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof je&&this.#r.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof je)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=this.#n.get(e);let s=!1;if(r!==void 0)for(const[i,a]of Object.entries(t))r[i]!==a&&(s=!0,r[i]=a);else s=!0,this.#n.set(e,t);s&&this.#a(),t instanceof je&&((this.#r||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new BT(this)}get serializable(){if(this.#n.size===0)return Og;const e=new Map,t=new VT,r=[],s=Object.create(null);let i=!1;for(const[a,o]of this.#n){const l=o instanceof je?o.serialize(!1,s):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),i||=!!l.bitmap)}if(i)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:Og}get editorStats(){let e=null;const t=new Map;let r=0,s=0;for(const i of this.#n.values()){if(!(i instanceof je)){i.popup&&(i.popup.deleted?s+=1:r+=1);continue}i.isCommentDeleted?s+=1:i.hasEditedComment&&(r+=1);const a=i.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(i).constructor),e||=Object.create(null);const l=e[o]||=new Map;for(const[d,c]of Object.entries(a)){if(d==="type")continue;let u=l.get(d);u||(u=new Map,l.set(d,u));const h=u.get(c)??0;u.set(c,h+1)}}if((s>0||r>0)&&(e||=Object.create(null),e.comments={deleted:s,edited:r}),!e)return null;for(const[i,a]of t)e[i]=a.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const t of this.#r.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class BT extends Kv{#e;constructor(e){super();const{map:t,hash:r,transfer:s}=e.serializable,i=structuredClone(t,s?{transfer:s}:null);this.#e={map:i,hash:r,transfer:s}}get print(){jt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Xe(this,"modifiedIds",{ids:new Set,hash:""})}}class HW{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(rt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:i,style:a}=e,o=new FontFace(s,i,a);this.addNativeFontFace(o);try{await o.load(),this.#e.add(s),r?.(e)}catch{Ke(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}jt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(s){throw Ke(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const s=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Xe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Xe(this,"isSyncFontLoadingSupported",zn||_n.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(rt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;r.length>0&&r[0].done;){const i=r.shift();setTimeout(i.callback,0)}}const{loadingRequests:r}=this,s={done:!1,complete:t,callback:e};return r.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Xe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(E,S){return E.charCodeAt(S)<<24|E.charCodeAt(S+1)<<16|E.charCodeAt(S+2)<<8|E.charCodeAt(S+3)&255}function s(E,S,T,x){const A=E.substring(0,S),O=E.substring(S+T);return A+x+O}let i,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let d=0;function c(E,S){if(++d>30){Ke("Load test font never loaded."),S();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(c.bind(null,E,S))}const u=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=s(h,976,u.length,u);const v=16,g=1482184792;let m=r(h,v);for(i=0,a=u.length-3;i<a;i+=4)m=m-g+r(u,i)|0;i<u.length&&(m=m-g+r(u+"XXX",i)|0),h=s(h,v,4,CW(m));const b=`url(data:font/opentype;base64,${btoa(h)});`,k=`@font-face {font-family:"${u}";src:${b}}`;this.insertRule(k);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const E of[e.loadedName,u]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=E,_.append(S)}this._document.body.append(_),c(u,()=>{_.remove(),t.complete()})}}class UW{#e;constructor(e,t=null,r,s){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,r&&Object.assign(this,r),s&&(this.charProcOperatorList=s)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${jT(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let s;try{s=e.get(r)}catch(a){Ke(`getPathGenerator - ignoring character: "${a}".`)}const i=new Path2D(s||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=i}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function $W(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(zn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function KW(n){if(zn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Hd(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function vc(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const Dg=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,zW=n=>typeof n=="object"&&typeof n?.name=="string",HT=RW.bind(null,Dg,zW);class WW{#e=new Map;#t=Promise.resolve();postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[s]of this.#e)s.call(this,r)})}addEventListener(e,t,r=null){let s=null;if(r?.signal instanceof AbortSignal){const{signal:i}=r;if(i.aborted){Ke("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}this.#e.set(t,s)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const bc={DATA:1,ERROR:2},sn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function j0(){}function Qn(n){if(n instanceof ni||n instanceof Su||n instanceof E0||n instanceof ud||n instanceof op)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||jt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ni(n.message);case"InvalidPDFException":return new Su(n.message);case"PasswordException":return new E0(n.message,n.code);case"ResponseException":return new ud(n.message,n.status,n.missing);case"UnknownErrorException":return new op(n.message,n.details)}return new op(n.message,n.toString())}class Vl{#e=new AbortController;constructor(e,t,r){this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,s=this.callbackCapabilities[r];if(!s)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===bc.DATA)s.resolve(e.data);else if(e.callback===bc.ERROR)s.reject(Qn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,s=e.sourceName,i=this.comObj;Promise.try(t,e.data).then(function(a){i.postMessage({sourceName:r,targetName:s,callback:bc.DATA,callbackId:e.callbackId,data:a})},function(a){i.postMessage({sourceName:r,targetName:s,callback:bc.ERROR,callbackId:e.callbackId,reason:Qn(a)})});return}if(e.streamId){this.#r(e);return}t(e.data)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},r)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,r,s){const i=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:d=>{const c=Promise.withResolvers();return this.streamControllers[i]={controller:d,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:i,data:t,desiredSize:d.desiredSize},s),c.promise},pull:d=>{const c=Promise.withResolvers();return this.streamControllers[i].pullCall=c,l.postMessage({sourceName:a,targetName:o,stream:sn.PULL,streamId:i,desiredSize:d.desiredSize}),c.promise},cancel:d=>{rt(d instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[i].cancelCall=c,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:sn.CANCEL,streamId:i,reason:Qn(d)}),c.promise}},r)}#r(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(d,c=1,u){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:s,stream:sn.ENQUEUE,streamId:t,chunk:d},u)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:sn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(d){rt(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:sn.ERROR,streamId:t,reason:Qn(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){i.postMessage({sourceName:r,targetName:s,stream:sn.START_COMPLETE,streamId:t,success:!0})},function(d){i.postMessage({sourceName:r,targetName:s,stream:sn.START_COMPLETE,streamId:t,reason:Qn(d)})})}#n(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case sn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Qn(e.reason));break;case sn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Qn(e.reason));break;case sn.PULL:if(!o){i.postMessage({sourceName:r,targetName:s,stream:sn.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||j0).then(function(){i.postMessage({sourceName:r,targetName:s,stream:sn.PULL_COMPLETE,streamId:t,success:!0})},function(d){i.postMessage({sourceName:r,targetName:s,stream:sn.PULL_COMPLETE,streamId:t,reason:Qn(d)})});break;case sn.ENQUEUE:if(rt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case sn.CLOSE:if(rt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#a(a,t);break;case sn.ERROR:rt(a,"error should have stream controller"),a.controller.error(Qn(e.reason)),this.#a(a,t);break;case sn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Qn(e.reason)),this.#a(a,t);break;case sn.CANCEL:if(!o)break;const l=Qn(e.reason);Promise.try(o.onCancel||j0,l).then(function(){i.postMessage({sourceName:r,targetName:s,stream:sn.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){i.postMessage({sourceName:r,targetName:s,stream:sn.CANCEL_COMPLETE,streamId:t,reason:Qn(d)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class UT{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){jt("Abstract method `_createCanvas` called.")}}class GW extends UT{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class $T{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){jt("Abstract method `_fetch` called.")}}class R0 extends $T{async _fetch(e){const t=await cl(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Hd(t)}}class KT{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,s,i){return"none"}destroy(e=!1){}}class YW extends KT{#e;#t;#r;#n;#a;#s;#i=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#a=t}get#o(){return this.#t||=new Map}get#d(){return this.#s||=new Map}get#l(){if(!this.#r){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const r=this.#a.createElementNS(Hs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#a.createElementNS(Hs,"defs"),e.append(r),r.append(this.#r),this.#a.body.append(e)}return this.#r}#f(e){if(e.length===1){const l=e[0],d=new Array(256);for(let u=0;u<256;u++)d[u]=l[u]/255;const c=d.join(",");return[c,c,c]}const[t,r,s]=e,i=new Array(256),a=new Array(256),o=new Array(256);for(let l=0;l<256;l++)i[l]=t[l]/255,a[l]=r[l]/255,o[l]=s[l]/255;return[i.join(","),a.join(","),o.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&($d(t)?Ke('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=Lv(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[r,s,i]=this.#f(e),a=e.length===1?r:`${r}${s}${i}`;if(t=this.#o.get(a),t)return this.#o.set(e,t),t;const o=`g_${this.#n}_transfer_map_${this.#i++}`,l=this.#u(o);this.#o.set(e,l),this.#o.set(a,l);const d=this.#p(o);return this.#g(r,s,i,d),l}addHCMFilter(e,t){const r=`${e}-${t}`,s="base";let i=this.#d.get(s);if(i?.key===r||(i?(i.filter?.remove(),i.key=r,i.url="none",i.filter=null):(i={key:r,url:"none",filter:null},this.#d.set(s,i)),!e||!t))return i.url;const a=this.#k(e);e=be.makeHexColor(...a);const o=this.#k(t);if(t=be.makeHexColor(...o),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return i.url;const l=new Array(256);for(let p=0;p<=255;p++){const v=p/255;l[p]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const d=l.join(","),c=`g_${this.#n}_hcm_filter`,u=i.filter=this.#p(c);this.#g(d,d,d,u),this.#m(u);const h=(p,v)=>{const g=a[p]/255,m=o[p]/255,b=new Array(v+1);for(let k=0;k<=v;k++)b[k]=g+k/v*(m-g);return b.join(",")};return this.#g(h(0,5),h(1,5),h(2,5),u),i.url=this.#u(c),i.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[r]=this.#f([e]),s=`alpha_${r}`;if(t=this.#o.get(s),t)return this.#o.set(e,t),t;const i=`g_${this.#n}_alpha_map_${this.#i++}`,a=this.#u(i);this.#o.set(e,a),this.#o.set(s,a);const o=this.#p(i);return this.#v(r,o),a}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let r,s;if(e?([r]=this.#f([e]),s=`luminosity_${r}`):s="luminosity",t=this.#o.get(s),t)return this.#o.set(e,t),t;const i=`g_${this.#n}_luminosity_map_${this.#i++}`,a=this.#u(i);this.#o.set(e,a),this.#o.set(s,a);const o=this.#p(i);return this.#h(o),e&&this.#v(r,o),a}addHighlightHCMFilter(e,t,r,s,i){const a=`${t}-${r}-${s}-${i}`;let o=this.#d.get(e);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#d.set(e,o)),!t||!r))return o.url;const[l,d]=[t,r].map(this.#k.bind(this));let c=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),u=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[h,p]=[s,i].map(this.#k.bind(this));u<c&&([c,u,h,p]=[u,c,p,h]),this.#l.style.color="";const v=(b,k,_)=>{const E=new Array(256),S=(u-c)/_,T=b/255,x=(k-b)/(255*_);let A=0;for(let O=0;O<=_;O++){const C=Math.round(c+O*S),D=T+O*x;for(let I=A;I<=C;I++)E[I]=D;A=C+1}for(let O=A;O<256;O++)E[O]=E[A-1];return E.join(",")},g=`g_${this.#n}_hcm_${e}_filter`,m=o.filter=this.#p(g);return this.#m(m),this.#g(v(h[0],p[0],5),v(h[1],p[1],5),v(h[2],p[2],5),m),o.url=this.#u(g),o.url}destroy(e=!1){e&&this.#s?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#i=0)}#h(e){const t=this.#a.createElementNS(Hs,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#m(e){const t=this.#a.createElementNS(Hs,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#a.createElementNS(Hs,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#c(e,t,r){const s=this.#a.createElementNS(Hs,t);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),e.append(s)}#g(e,t,r,s){const i=this.#a.createElementNS(Hs,"feComponentTransfer");s.append(i),this.#c(i,"feFuncR",e),this.#c(i,"feFuncG",t),this.#c(i,"feFuncB",r)}#v(e,t){const r=this.#a.createElementNS(Hs,"feComponentTransfer");t.append(r),this.#c(r,"feFuncA",e)}#k(e){return this.#l.style.color=e,ul(getComputedStyle(this.#l).getPropertyValue("color"))}}class zT{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){jt("Abstract method `_fetch` called.")}}class I0 extends zT{async _fetch(e){const t=await cl(e,"arraybuffer");return new Uint8Array(t)}}class WT{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){jt("Abstract method `_fetch` called.")}}class N0 extends WT{async _fetch(e){const t=await cl(e,"arraybuffer");return new Uint8Array(t)}}zn&&Ke("Please use the `legacy` build in Node.js environments.");async function zv(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class qW extends KT{}class XW extends UT{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class ZW extends $T{async _fetch(e){return zv(e)}}class JW extends zT{async _fetch(e){return zv(e)}}class QW extends WT{async _fetch(e){return zv(e)}}const lo="__forcedDependency",{floor:P0,ceil:M0}=Math;function kc(n,e,t,r,s,i){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],s),n[e*4+3]=Math.max(n[e*4+3],i)}const jg=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class eG{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===jg}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const yc=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};class tG{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[lo]:[]};#r=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#d=-1;#l=new Set;#f=new Map;#u=new Map;#h;#m;#p;#c;#g;constructor(e,t,r=!1){this.#h=e.width,this.#m=e.height,this.#v(t),r&&(this.#g=new Map)}growOperationsCount(e){e>=this.#c.length&&this.#v(e,this.#c)}#v(e,t){const r=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(r),this.#c=new Uint32Array(r),t&&t.length>0?(this.#c.set(t),this.#c.fill(jg,t.length)):this.#c.fill(jg)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[lo]:{__proto__:this.#t[lo]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(yc(this.#g,e)?.dependencies.add(r),this.#c[e]=this.#c[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(yc(this.#g,e)?.dependencies.add(t),this.#c[e]=this.#c[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(yc(this.#g,e)?.dependencies.add(t),this.#c[e]=this.#c[t]),this}pushBaseTransform(e){return this.#s.push(be.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#r.set(e,t),this}recordSimpleDataFromNamed(e,t,r){this.#e[e]=this.#r.get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(lo,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(lo,e);return this}resetBBox(e){return this.#d!==e&&(this.#d=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,r,s,i,a){const o=be.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];be.axialAlignedBoundingBox([r,i,s,a],o,l);const d=be.intersect(this.#i,l);return d?(this.#i[0]=d[0],this.#i[1]=d[1],this.#i[2]=d[2],this.#i[3]=d[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,t,r,s,i,a){const o=this.#i;if(o[0]===1/0)return this;const l=be.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform());if(o[0]===-1/0)return be.axialAlignedBoundingBox([r,i,s,a],l,this.#o),this;const d=[1/0,1/0,-1/0,-1/0];return be.axialAlignedBoundingBox([r,i,s,a],l,d),this.#o[0]=Math.min(this.#o[0],Math.max(d[0],o[0])),this.#o[1]=Math.min(this.#o[1],Math.max(d[1],o[1])),this.#o[2]=Math.max(this.#o[2],Math.min(d[2],o[2])),this.#o[3]=Math.max(this.#o[3],Math.min(d[3],o[3])),this}recordCharacterBBox(e,t,r,s=1,i=0,a=0,o){const l=r.bbox;let d,c;if(l&&(d=l[2]!==l[0]&&l[3]!==l[1]&&this.#u.get(r),d!==!1&&(c=[0,0,0,0],be.axialAlignedBoundingBox(l,r.fontMatrix,c),(s!==1||i!==0||a!==0)&&be.scaleMinMax([s,0,0,-s,i,a],c),d)))return this.recordBBox(e,t,c[0],c[2],c[1],c[3]);if(!o)return this.recordFullPageBBox(e);const u=o();return l&&c&&d===void 0&&(d=c[0]<=i-u.actualBoundingBoxLeft&&c[2]>=i+u.actualBoundingBoxRight&&c[1]<=a-u.actualBoundingBoxAscent&&c[3]>=a+u.actualBoundingBoxDescent,this.#u.set(r,d),d)?this.recordBBox(e,t,c[0],c[2],c[1],c[3]):this.recordBBox(e,t,i-u.actualBoundingBoxLeft,i+u.actualBoundingBoxRight,a-u.actualBoundingBoxAscent,a+u.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#h,this.#i[2]),this.#o[3]=Math.min(this.#m,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const r=this.#l,s=this.#e,i=this.#t;for(const a of t)a in this.#e?r.add(s[a]):a in i&&i[a].forEach(r.add,r);return this}recordNamedDependency(e,t){return this.#r.has(t)&&this.#l.add(this.#r.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[lo]),this.#g){const r=yc(this.#g,e),{dependencies:s}=r;this.#l.forEach(s.add,s),this.#n.forEach(s.add,s),this.#a.forEach(s.add,s),s.delete(e),r.isRenderingOperation=!0}if(this.#d===e){const r=P0(this.#o[0]*256/this.#h),s=P0(this.#o[1]*256/this.#m),i=M0(this.#o[2]*256/this.#h),a=M0(this.#o[3]*256/this.#m);kc(this.#p,e,r,s,i,a);for(const o of this.#l)o!==e&&kc(this.#p,o,r,s,i,a);for(const o of this.#n)o!==e&&kc(this.#p,o,r,s,i,a);for(const o of this.#a)o!==e&&kc(this.#p,o,r,s,i,a);t||(this.#l.clear(),this.#d=-1)}return this}recordShowTextOperation(e,t=!1){const r=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const s of r)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#d===e&&(this.#d=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#f.get(e);return this.#f.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#u.clear(),new eG(this.#c,this.#p)}takeDebugMetadata(){return this.#g}}class Au{#e;#t;#r;#n=0;#a=0;constructor(e,t,r){if(e instanceof Au&&e.#r===!!r)return e;this.#e=e,this.#t=t,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,r,s,i,a){return this.#r||this.#e.recordClipBox(this.#t,t,r,s,i,a),this}recordBBox(e,t,r,s,i,a){return this.#r||this.#e.recordBBox(this.#t,t,r,s,i,a),this}recordCharacterBBox(e,t,r,s,i,a,o){return this.#r||this.#e.recordCharacterBBox(this.#t,t,r,s,i,a,o),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const jr={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Tn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Rg(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,r),n.clip(s)}class Wv{isModifyingCurrentTransform(){return!1}getPattern(){jt("Abstract method `getPattern` called.")}}class nG extends Wv{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,s){let i;if(s===Tn.STROKE||s===Tn.FILL){const a=t.current.getClippedPathBoundingBox(s,Vt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,d=t.cachedCanvases.getCanvas("pattern",o,l),c=d.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),r=be.transform(r,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),Rg(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(d.canvas,"no-repeat");const u=new DOMMatrix(r);i.setTransform(u)}else Rg(e,this._bbox),i=this._createGradient(e);return i}}function cp(n,e,t,r,s,i,a,o){const l=e.coords,d=e.colors,c=n.data,u=n.width*4;let h;l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=i,i=a,a=h),l[r+1]>l[s+1]&&(h=r,r=s,s=h,h=a,a=o,o=h),l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=i,i=a,a=h);const p=(l[t]+e.offsetX)*e.scaleX,v=(l[t+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,m=(l[r+1]+e.offsetY)*e.scaleY,b=(l[s]+e.offsetX)*e.scaleX,k=(l[s+1]+e.offsetY)*e.scaleY;if(v>=k)return;const _=d[i],E=d[i+1],S=d[i+2],T=d[a],x=d[a+1],A=d[a+2],O=d[o],C=d[o+1],D=d[o+2],I=Math.round(v),U=Math.round(k);let H,j,V,F,G,B,ce,L;for(let $=I;$<=U;$++){if($<m){const ne=$<v?0:(v-$)/(v-m);H=p-(p-g)*ne,j=_-(_-T)*ne,V=E-(E-x)*ne,F=S-(S-A)*ne}else{let ne;$>k?ne=1:m===k?ne=0:ne=(m-$)/(m-k),H=g-(g-b)*ne,j=T-(T-O)*ne,V=x-(x-C)*ne,F=A-(A-D)*ne}let M;$<v?M=0:$>k?M=1:M=(v-$)/(v-k),G=p-(p-b)*M,B=_-(_-O)*M,ce=E-(E-C)*M,L=S-(S-D)*M;const Y=Math.round(Math.min(H,G)),J=Math.round(Math.max(H,G));let ae=u*$+Y*4;for(let ne=Y;ne<=J;ne++)M=(H-ne)/(H-G),M<0?M=0:M>1&&(M=1),c[ae++]=j-(j-B)*M|0,c[ae++]=V-(V-ce)*M|0,c[ae++]=F-(F-L)*M|0,c[ae++]=255}}function rG(n,e,t){const r=e.coords,s=e.colors;let i,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,d=o-1;for(i=0;i<l;i++){let c=i*o;for(let u=0;u<d;u++,c++)cp(n,t,r[c],r[c+1],r[c+o],s[c],s[c+1],s[c+o]),cp(n,t,r[c+o+1],r[c+1],r[c+o],s[c+o+1],s[c+1],s[c+o])}break;case"triangles":for(i=0,a=r.length;i<a;i+=3)cp(n,t,r[i],r[i+1],r[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class sG extends Wv{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-l,u=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),p=d/u,v=c/h,g={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/v},m=u+4,b=h+4,k=r.getCanvas("mesh",m,b),_=k.context,E=_.createImageData(u,h);if(t){const T=E.data;for(let x=0,A=T.length;x<A;x+=4)T[x]=t[0],T[x+1]=t[1],T[x+2]=t[2],T[x+3]=255}for(const T of this._figures)rG(E,T,g);return _.putImageData(E,2,2),{canvas:k.canvas,offsetX:o-2*p,offsetY:l-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,s){Rg(e,this._bbox);const i=new Float32Array(2);if(s===Tn.SHADING)be.singularValueDecompose2dScale(Vt(e),i);else if(this.matrix){be.singularValueDecompose2dScale(this.matrix,i);const[o,l]=i;be.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=o,i[1]*=l}else be.singularValueDecompose2dScale(t.baseTransform,i);const a=this._createMeshCanvas(i,s===Tn.SHADING?null:this._background,t.cachedCanvases);return s!==Tn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class iG extends Wv{getPattern(){return"hotpink"}}function aG(n){switch(n[0]){case"RadialAxial":return new nG(n);case"Mesh":return new sG(n);case"Dummy":return new iG}throw new Error(`Unknown IR type: ${n[0]}`)}const L0={COLORED:1,UNCOLORED:2};class Gv{static MAX_PATTERN_SIZE=3e3;constructor(e,t,r,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e,t){const{bbox:r,operatorList:s,paintType:i,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:d,ystep:c}=this;d=Math.abs(d),c=Math.abs(c),Zf("TilingType: "+a);const u=r[0],h=r[1],p=r[2],v=r[3],g=p-u,m=v-h,b=new Float32Array(2);be.singularValueDecompose2dScale(this.matrix,b);const[k,_]=b;be.singularValueDecompose2dScale(this.baseTransform,b);const E=k*b[0],S=_*b[1];let T=g,x=m,A=!1,O=!1;const C=Math.ceil(d*E),D=Math.ceil(c*S),I=Math.ceil(g*E),U=Math.ceil(m*S);C>=I?T=d:A=!0,D>=U?x=c:O=!0;const H=this.getSizeAndScale(T,this.ctx.canvas.width,E),j=this.getSizeAndScale(x,this.ctx.canvas.height,S),V=e.cachedCanvases.getCanvas("pattern",H.size,j.size),F=V.context,G=l.createCanvasGraphics(F,t);if(G.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(G,i,o),F.translate(-H.scale*u,-j.scale*h),G.transform(0,H.scale,0,0,j.scale,0,0),F.save(),G.dependencyTracker?.save(),this.clipBbox(G,u,h,p,v),G.baseTransform=Vt(G.ctx),G.executeOperatorList(s),G.endDrawing(),G.dependencyTracker?.restore(),F.restore(),A||O){const B=V.canvas;A&&(T=d),O&&(x=c);const ce=this.getSizeAndScale(T,this.ctx.canvas.width,E),L=this.getSizeAndScale(x,this.ctx.canvas.height,S),$=ce.size,M=L.size,Y=e.cachedCanvases.getCanvas("pattern-workaround",$,M),J=Y.context,ae=A?Math.floor(g/d):0,ne=O?Math.floor(m/c):0;for(let Ce=0;Ce<=ae;Ce++)for(let Z=0;Z<=ne;Z++)J.drawImage(B,$*Ce,M*Z,$,M,0,0,$,M);return{canvas:Y.canvas,scaleX:ce.scale,scaleY:L.scale,offsetX:u,offsetY:h}}return{canvas:V.canvas,scaleX:H.scale,scaleY:j.scale,offsetX:u,offsetY:h}}getSizeAndScale(e,t,r){const s=Math.max(Gv.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*r);return i>=s?i=s:r=i/e,{scale:r,size:i}}clipBbox(e,t,r,s,i){const a=s-t,o=i-r;e.ctx.rect(t,r,a,o),be.axialAlignedBoundingBox([t,r,s,i],Vt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const s=e.ctx,i=e.current;switch(t){case L0.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;s.fillStyle=i.fillColor=a,s.strokeStyle=i.strokeColor=o;break;case L0.UNCOLORED:s.fillStyle=s.strokeStyle=r,i.fillColor=i.strokeColor=r;break;default:throw new AW(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,s,i){let a=r;s!==Tn.SHADING&&(a=be.transform(a,t.baseTransform),this.matrix&&(a=be.transform(a,this.matrix)));const o=this.createPatternCanvas(t,i);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const d=e.createPattern(o.canvas,"repeat");return d.setTransform(l),d}}function oG({src:n,srcPos:e=0,dest:t,width:r,height:s,nonBlackColor:i=4294967295,inverseDecode:a=!1}){const o=_n.isLittleEndian?4278190080:255,[l,d]=a?[i,o]:[o,i],c=r>>3,u=r&7,h=n.length;t=new Uint32Array(t.buffer);let p=0;for(let v=0;v<s;v++){for(const m=e+c;e<m;e++){const b=e<h?n[e]:255;t[p++]=b&128?d:l,t[p++]=b&64?d:l,t[p++]=b&32?d:l,t[p++]=b&16?d:l,t[p++]=b&8?d:l,t[p++]=b&4?d:l,t[p++]=b&2?d:l,t[p++]=b&1?d:l}if(u===0)continue;const g=e<h?n[e++]:255;for(let m=0;m<u;m++)t[p++]=g&1<<7-m?d:l}return{srcPos:e,destPos:p}}const F0=16,V0=100,lG=15,B0=10,tr=16,up=new DOMMatrix,hr=new Float32Array(2),vo=new Float32Array([1/0,1/0,-1/0,-1/0]);function dG(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,s,i,a,o){e.transform(t,r,s,i,a,o),this.__originalTransform(t,r,s,i,a,o)},n.setTransform=function(t,r,s,i,a,o){e.setTransform(t,r,s,i,a,o),this.__originalSetTransform(t,r,s,i,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,s,i,a,o){e.bezierCurveTo(t,r,s,i,a,o),this.__originalBezierCurveTo(t,r,s,i,a,o)},n.rect=function(t,r,s,i){e.rect(t,r,s,i),this.__originalRect(t,r,s,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class cG{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,r)):(s=this.canvasFactory.create(t,r),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function _c(n,e,t,r,s,i,a,o,l,d){const[c,u,h,p,v,g]=Vt(n);if(u===0&&h===0){const k=a*c+v,_=Math.round(k),E=o*p+g,S=Math.round(E),T=(a+l)*c+v,x=Math.abs(Math.round(T)-_)||1,A=(o+d)*p+g,O=Math.abs(Math.round(A)-S)||1;return n.setTransform(Math.sign(c),0,0,Math.sign(p),_,S),n.drawImage(e,t,r,s,i,0,0,x,O),n.setTransform(c,u,h,p,v,g),[x,O]}if(c===0&&p===0){const k=o*h+v,_=Math.round(k),E=a*u+g,S=Math.round(E),T=(o+d)*h+v,x=Math.abs(Math.round(T)-_)||1,A=(a+l)*u+g,O=Math.abs(Math.round(A)-S)||1;return n.setTransform(0,Math.sign(u),Math.sign(h),0,_,S),n.drawImage(e,t,r,s,i,0,0,O,x),n.setTransform(c,u,h,p,v,g),[O,x]}n.drawImage(e,t,r,s,i,a,o,l,d);const m=Math.hypot(c,u),b=Math.hypot(h,p);return[m*l,b*d]}class H0{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Ag;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Sn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,r){r?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=vo.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Tn.FILL,t=null){const r=this.minMax.slice();if(e===Tn.STROKE){t||jt("Stroke bounding box must include transform."),be.singularValueDecompose2dScale(t,hr);const s=hr[0]*this.lineWidth/2,i=hr[1]*this.lineWidth/2;r[0]-=s,r[1]-=i,r[2]+=s,r[3]+=i}return r}updateClipFromPath(){const e=be.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(vo,0)}getClippedPathBoundingBox(e=Tn.FILL,t=null){return be.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function U0(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,s=t%tr,i=(t-s)/tr,a=s===0?i:i+1,o=n.createImageData(r,tr);let l=0,d;const c=e.data,u=o.data;let h,p,v,g;if(e.kind===Xl.GRAYSCALE_1BPP){const m=c.byteLength,b=new Uint32Array(u.buffer,0,u.byteLength>>2),k=b.length,_=r+7>>3,E=4294967295,S=_n.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(v=h<i?tr:s,d=0,p=0;p<v;p++){const T=m-l;let x=0;const A=T>_?r:T*8-7,O=A&-8;let C=0,D=0;for(;x<O;x+=8)D=c[l++],b[d++]=D&128?E:S,b[d++]=D&64?E:S,b[d++]=D&32?E:S,b[d++]=D&16?E:S,b[d++]=D&8?E:S,b[d++]=D&4?E:S,b[d++]=D&2?E:S,b[d++]=D&1?E:S;for(;x<A;x++)C===0&&(D=c[l++],C=128),b[d++]=D&C?E:S,C>>=1}for(;d<k;)b[d++]=0;n.putImageData(o,0,h*tr)}}else if(e.kind===Xl.RGBA_32BPP){for(p=0,g=r*tr*4,h=0;h<i;h++)u.set(c.subarray(l,l+g)),l+=g,n.putImageData(o,0,p),p+=tr;h<a&&(g=r*s*4,u.set(c.subarray(l,l+g)),n.putImageData(o,0,p))}else if(e.kind===Xl.RGB_24BPP)for(v=tr,g=r*v,h=0;h<a;h++){for(h>=i&&(v=s,g=r*v),d=0,p=g;p--;)u[d++]=c[l++],u[d++]=c[l++],u[d++]=c[l++],u[d++]=255;n.putImageData(o,0,h*tr)}else throw new Error(`bad image kind: ${e.kind}`)}function $0(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,s=t%tr,i=(t-s)/tr,a=s===0?i:i+1,o=n.createImageData(r,tr);let l=0;const d=e.data,c=o.data;for(let u=0;u<a;u++){const h=u<i?tr:s;({srcPos:l}=oG({src:d,srcPos:l,dest:c,width:r,height:h,nonBlackColor:0})),n.putImageData(o,0,u*tr)}}function Dl(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function wc(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function K0(n,e){if(e)return!0;be.singularValueDecompose2dScale(n,hr);const t=Math.fround(ts.pixelRatio*Ia.PDF_TO_CSS_UNITS);return hr[0]<=t&&hr[1]<=t}const uG=["butt","round","square"],fG=["miter","round","bevel"],hG={},z0={};class So{constructor(e,t,r,s,i,{optionalContentConfig:a,markedContentStack:o=null},l,d,c){this.ctx=e,this.current=new H0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new cG(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=c??null}getObject(e,t,r=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:s=null}){const i=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",i,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Vt(this.compositeCtx))}this.ctx.save(),wc(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Vt(this.ctx)}executeOperatorList(e,t,r,s,i){const a=e.argsArray,o=e.fnArray;let l=t||0;const d=a.length;if(d===l)return l;const c=d-l>B0&&typeof r=="function",u=c?Date.now()+lG:0;let h=0;const p=this.commonObjs,v=this.objs;let g,m;for(;;){if(s!==void 0&&l===s.nextBreakPoint)return s.breakIt(l,r),l;if(!i||i(l))if(g=o[l],m=a[l]??null,g!==Ko.dependency)m===null?this[g](l):this[g](l,...m);else for(const b of m){this.dependencyTracker?.recordNamedData(b,l);const k=b.startsWith("g_")?p:v;if(!k.has(b))return k.get(b,r),l}if(l++,l===d)return l;if(c&&++h>B0){if(Date.now()>u)return r(),l;h=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const r=e.width??e.displayWidth,s=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=s,d="prescale1",c,u;for(;i>2&&o>1||a>2&&l>1;){let h=o,p=l;i>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),i/=o/h),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),c=this.cachedCanvases.getCanvas(d,h,p),u=c.context,u.clearRect(0,0,h,p),u.drawImage(e,0,0,o,l,0,0,h,p),e=c.canvas,o=h,l=p,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){const r=this.ctx,{width:s,height:i}=t,a=this.current.fillColor,o=this.current.patternFill,l=Vt(r);let d,c,u,h;if((t.bitmap||t.data)&&t.count>1){const C=t.bitmap||t.data.buffer;c=JSON.stringify(o?l:[l.slice(0,4),a]),d=this._cachedBitmapsMap.get(C),d||(d=new Map,this._cachedBitmapsMap.set(C,d));const D=d.get(c);if(D&&!o){const I=Math.round(Math.min(l[0],l[2])+l[4]),U=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(e,jr.transformAndFill),{canvas:D,offsetX:I,offsetY:U}}u=D}u||(h=this.cachedCanvases.getCanvas("maskCanvas",s,i),$0(h.context,t));let p=be.transform(l,[1/s,0,0,-1/i,0,0]);p=be.transform(p,[1,0,0,1,0,-i]);const v=vo.slice();be.axialAlignedBoundingBox([0,0,s,i],p,v);const[g,m,b,k]=v,_=Math.round(b-g)||1,E=Math.round(k-m)||1,S=this.cachedCanvases.getCanvas("fillCanvas",_,E),T=S.context,x=g,A=m;T.translate(-x,-A),T.transform(...p),u||(u=this._scaleImage(h.canvas,hs(T)),u=u.img,d&&o&&d.set(c,u)),T.imageSmoothingEnabled=K0(Vt(T),t.interpolate),_c(T,u,0,0,u.width,u.height,0,0,s,i),T.globalCompositeOperation="source-in";const O=be.transform(hs(T),[1,0,0,1,-x,-A]);return T.fillStyle=o?a.getPattern(r,this,O,Tn.FILL,e):a,T.fillRect(0,0,s,i),d&&!o&&(this.cachedCanvases.delete("fillCanvas"),d.set(c,S.canvas)),this.dependencyTracker?.recordDependencies(e,jr.transformAndFill),{canvas:S.canvas,offsetX:Math.round(x),offsetY:Math.round(A)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=uG[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=fG[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){this.dependencyTracker?.recordSimpleData("dash",e);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[r,s]of t)switch(r){case"LW":this.setLineWidth(e,s);break;case"LC":this.setLineCap(e,s);break;case"LJ":this.setLineJoin(e,s);break;case"ML":this.setMiterLimit(e,s);break;case"D":this.setDash(e,s[0],s[1]);break;case"RI":this.setRenderingIntent(e,s);break;case"FL":this.setFlatness(e,s);break;case"Font":this.setFont(e,s[0],s[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=s;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=s;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,t,r);this.suspendedCtx=this.ctx;const a=this.ctx=i.context;a.setTransform(this.suspendedCtx.getTransform()),Dl(this.suspendedCtx,a),dG(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Dl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,s){const i=s[0],a=s[1],o=s[2]-i,l=s[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,s,i,a,o,l,d,c,u){let h=e.canvas,p=l-c,v=d-u;if(a)if(p<0||v<0||p+r>h.width||v+s>h.height){const m=this.cachedCanvases.getCanvas("maskExtension",r,s),b=m.context;b.drawImage(h,-p,-v),b.globalCompositeOperation="destination-atop",b.fillStyle=a,b.fillRect(0,0,r,s),b.globalCompositeOperation="source-over",h=m.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const m=new Path2D;m.rect(p,v,r,s),e.clip(m),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,v,r,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const g=new Path2D;g.rect(l,d,r,s),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(h,p,v,r,s,l,d,r,s),t.restore()}save(e){this.inSMaskMode&&Dl(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Dl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,s,i,a,o){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,r,s,i,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,s){let[i]=r;if(!s){i||=r[0]=new Path2D,this[t](e,i);return}if(this.dependencyTracker!==null){const a=t===Ko.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,s[0]-a,s[2]+a,s[1]-a,s[3]+a).recordDependencies(e,["transform"])}if(!(i instanceof Path2D)){const a=r[0]=new Path2D;for(let o=0,l=i.length;o<l;)switch(i[o++]){case gc.moveTo:a.moveTo(i[o++],i[o++]);break;case gc.lineTo:a.lineTo(i[o++],i[o++]);break;case gc.curveTo:a.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case gc.closePath:a.closePath();break;default:Ke(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=a}be.axialAlignedBoundingBox(s,Vt(this.ctx),this.current.minMax),this[t](e,i),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){const s=this.ctx,i=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&i?.getPattern){const a=i.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=i.getPattern(s,this,hs(s),Tn.STROKE,e),a){const o=new Path2D;o.addPath(t,s.getTransform().invertSelf().multiplySelf(a)),t=o}this.rescaleAndStroke(t,!1),s.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,jr.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Tn.STROKE,Vt(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){const s=this.ctx,i=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const d=i.isModifyingCurrentTransform()?s.getTransform():null;if(this.dependencyTracker?.save(e),s.save(),s.fillStyle=i.getPattern(s,this,hs(s),Tn.FILL,e),d){const c=new Path2D;c.addPath(t,s.getTransform().invertSelf().multiplySelf(d)),t=c}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),this.dependencyTracker?.recordDependencies(e,jr.fill),o&&(s.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,jr.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=hG}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=z0}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;t!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",e),s.recordCloseMarker(e)}if(t!==void 0){const s=new Path2D,i=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:d,path:c}of t)c&&s.addPath(c,new DOMMatrix(a).preMultiplySelf(i).translate(o,l).scale(d,-d));r.clip(s)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const s=this.commonObjs.get(t),i=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=s.fontMatrix||Ag,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ke("Invalid font matrix for font "+t),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=r,s.isType3Font)return;const a=s.loadedName||"sans-serif",o=s.systemFontInfo?.css||`"${a}", ${s.fallbackName}`;let l="normal";s.black?l="900":s.bold&&(l="bold");const d=s.italic?"italic":"normal";let c=r;r<F0?c=F0:r>V0&&(c=V0),this.current.fontSizeScale=r/c,this.ctx.font=`${d} ${l} ${c}px ${o}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,t,r){const s=new Path2D;return s.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),s}paintChar(e,t,r,s,i,a){const o=this.ctx,l=this.current,d=l.font,c=l.textRenderingMode,u=l.fontSize/l.fontSizeScale,h=c&Sn.FILL_STROKE_MASK,p=!!(c&Sn.ADD_TO_PATH_FLAG),v=l.patternFill&&!d.missingFile,g=l.patternStroke&&!d.missingFile;let m;if((d.disableFontFace||p||v||g)&&!d.missingFile&&(m=d.getPathGenerator(this.commonObjs,t)),m&&(d.disableFontFace||v||g)){o.save(),o.translate(r,s),o.scale(u,-u),this.dependencyTracker?.recordCharacterBBox(e,o,d);let b;if(h===Sn.FILL||h===Sn.FILL_STROKE)if(i){b=o.getTransform(),o.setTransform(...i);const k=this.#r(m,b,i);o.fill(k)}else o.fill(m);if(h===Sn.STROKE||h===Sn.FILL_STROKE)if(a){b||=o.getTransform(),o.setTransform(...a);const{a:k,b:_,c:E,d:S}=b,T=be.inverseTransform(a),x=be.transform([k,_,E,S,0,0],T);be.singularValueDecompose2dScale(x,hr),o.lineWidth*=Math.max(hr[0],hr[1])/u,o.stroke(this.#r(m,b,a))}else o.lineWidth/=u,o.stroke(m);o.restore()}else(h===Sn.FILL||h===Sn.FILL_STROKE)&&(o.fillText(t,r,s),this.dependencyTracker?.recordCharacterBBox(e,o,d,u,r,s,()=>o.measureText(t))),(h===Sn.STROKE||h===Sn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,o,d,u,r,s,()=>o.measureText(t)).recordDependencies(e,jr.stroke),o.strokeText(t,r,s));p&&((this.pendingTextPaths||=[]).push({transform:Vt(o),x:r,y:s,fontSize:u,path:m}),this.dependencyTracker?.recordCharacterBBox(e,o,d,u,r,s))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){r=!0;break}return Xe(this,"isFontSubpixelAAEnabled",r)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,jr.showText).resetBBox(e),this.current.textRenderingMode&Sn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,s=r.font;if(s.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const i=r.fontSize;if(i===0){this.dependencyTracker?.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,d=r.wordSpacing,c=r.fontDirection,u=r.textHScale*c,h=t.length,p=s.vertical,v=p?1:-1,g=s.defaultVMetrics,m=i*r.fontMatrix[0],b=r.textRenderingMode===Sn.FILL&&!s.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),c>0?a.scale(u,-1):a.scale(u,1);let k,_;if(r.patternFill){a.save();const A=r.fillColor.getPattern(a,this,hs(a),Tn.FILL,e);k=Vt(a),a.restore(),a.fillStyle=A}if(r.patternStroke){a.save();const A=r.strokeColor.getPattern(a,this,hs(a),Tn.STROKE,e);_=Vt(a),a.restore(),a.strokeStyle=A}let E=r.lineWidth;const S=r.textMatrixScale;if(S===0||E===0){const A=r.textRenderingMode&Sn.FILL_STROKE_MASK;(A===Sn.STROKE||A===Sn.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=S;if(o!==1&&(a.scale(o,o),E/=o),a.lineWidth=E,s.isInvalidPDFjsFont){const A=[];let O=0;for(const D of t)A.push(D.unicode),O+=D.width;const C=A.join("");if(a.fillText(C,0,0),this.dependencyTracker!==null){const D=a.measureText(C);this.dependencyTracker.recordBBox(e,this.ctx,-D.actualBoundingBoxLeft,D.actualBoundingBoxRight,-D.actualBoundingBoxAscent,D.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=O*m*u,a.restore(),this.compose();return}let T=0,x;for(x=0;x<h;++x){const A=t[x];if(typeof A=="number"){T+=v*A*i/1e3;continue}let O=!1;const C=(A.isSpace?d:0)+l,D=A.fontChar,I=A.accent;let U,H,j=A.width;if(p){const G=A.vmetric||g,B=-(A.vmetric?G[1]:j*.5)*m,ce=G[2]*m;j=G?-G[0]:j,U=B/o,H=(T+ce)/o}else U=T/o,H=0;let V;if(s.remeasure&&j>0){V=a.measureText(D);const G=V.width*1e3/i*o;if(j<G&&this.isFontSubpixelAAEnabled){const B=j/G;O=!0,a.save(),a.scale(B,1),U/=B}else j!==G&&(U+=(j-G)/2e3*i/o)}if(this.contentVisible&&(A.isInFont||s.missingFile)){if(b&&!I)a.fillText(D,U,H),this.dependencyTracker?.recordCharacterBBox(e,a,V?{bbox:null}:s,i/o,U,H,()=>V??a.measureText(D));else if(this.paintChar(e,D,U,H,k,_),I){const G=U+i*I.offset.x/o,B=H-i*I.offset.y/o;this.paintChar(e,I.fontChar,G,B,k,_)}}const F=p?j*m-C*c:j*m+C*c;T+=F,O&&a.restore()}p?r.y-=T:r.x+=T*u,a.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,s=this.current,i=s.font,a=s.fontSize,o=s.fontDirection,l=i.vertical?1:-1,d=s.charSpacing,c=s.wordSpacing,u=s.textHScale*o,h=s.fontMatrix||Ag,p=t.length,v=s.textRenderingMode===Sn.INVISIBLE;let g,m,b,k;if(v||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),s.textMatrix&&r.transform(...s.textMatrix),r.translate(s.x,s.y+s.textRise),r.scale(u,o);const _=this.dependencyTracker;for(this.dependencyTracker=_?new Au(_,e):null,g=0;g<p;++g){if(m=t[g],typeof m=="number"){k=l*m*a/1e3,this.ctx.translate(k,0),s.x+=k*u;continue}const E=(m.isSpace?c:0)+d,S=i.charProcOperatorList[m.operatorListId];S?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...h),this.executeOperatorList(S),this.restore()):Ke(`Type3 character "${m.operatorListId}" is not available.`);const T=[m.width,0];be.applyTransform(T,h),b=T[0]*a+E,r.translate(b,0),s.x+=b*u}r.restore(),_&&(this.dependencyTracker=_)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,s,i,a,o){const l=new Path2D;l.rect(s,i,a-s,o-i),this.ctx.clip(l),this.dependencyTracker?.recordBBox(e,this.ctx,s,a,i,o).recordClipBox(e,this.ctx,s,a,i,o),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const s=this.baseTransform||Vt(this.ctx),i={createCanvasGraphics:(a,o)=>new So(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Au(this.dependencyTracker,o,!0):null)};r=new Gv(t,this.ctx,i,s)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=aG(this.getObject(e,t)),this.cachedPatterns.set(t,s)),r&&(s.matrix=r),s}shadingFill(e,t){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const s=this._getPattern(e,t);r.fillStyle=s.getPattern(r,this,hs(r),Tn.SHADING,e);const i=hs(r);if(i){const{width:a,height:o}=r.canvas,l=vo.slice();be.axialAlignedBoundingBox([0,0,a,o],i,l);const[d,c,u,h]=l;this.ctx.fillRect(d,c,u-d,h-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,jr.transform).recordDependencies(e,jr.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){jt("Should not call beginInlineImage")}beginImageData(){jt("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Vt(this.ctx),r)){be.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,i,a,o]=r,l=new Path2D;l.rect(s,i,a-s,o-i),this.ctx.clip(l),this.dependencyTracker?.recordClipBox(e,this.ctx,s,a,i,o),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||Zf("TODO: Support non-isolated groups."),t.knockout&&Ke("Knockout groups not supported.");const s=Vt(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=vo.slice();be.axialAlignedBoundingBox(t.bbox,Vt(r),i);const a=[0,0,r.canvas.width,r.canvas.height];i=be.intersect(i,a)||[0,0,0,0];const o=Math.floor(i[0]),l=Math.floor(i[1]),d=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,d,c]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(u,d,c),p=h.context;p.translate(-o,-l),p.transform(...s);let v=new Path2D;const[g,m,b,k]=t.bbox;if(v.rect(g,m,b-g,k-m),t.matrix){const _=new Path2D;_.addPath(v,new DOMMatrix(t.matrix)),v=_}p.clip(v),t.smask&&this.smaskStack.push({canvas:h.canvas,context:p,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),Dl(r,p),this.ctx=p,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const i=Vt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...i);const a=vo.slice();be.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],i,a),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,r,s,i,a){if(this.#e(),wc(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){s=s.slice(),s[4]-=r[0],s[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,be.singularValueDecompose2dScale(Vt(this.ctx),hr);const{viewportScale:d}=this,c=Math.ceil(o*this.outputScaleX*d),u=Math.ceil(l*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(c,u);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(hr[0],0,0,-hr[1],0,l*hr[1]),wc(this.ctx)}else{wc(this.ctx),this.endPath(e);const d=new Path2D;d.rect(r[0],r[1],o,l),this.ctx.clip(d)}}this.current=new H0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...s),this.transform(e,...i)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const s=this.ctx,i=this._createMaskCanvas(e,t),a=i.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,i.offsetX,i.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,i.offsetX,i.offsetX+a.width,i.offsetY,i.offsetY+a.height).recordOperation(e),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,s=0,i=0,a,o){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const d=Vt(l);l.transform(r,s,i,a,0,0);const c=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,c.offsetX-d[4],c.offsetY-d[5]),this.dependencyTracker?.resetBBox(e);for(let u=0,h=o.length;u<h;u+=2){const p=be.transform(d,[r,s,i,a,o[u],o[u+1]]);l.drawImage(c.canvas,p[4],p[5]),this.dependencyTracker?.recordBBox(e,this.ctx,p[4],p[4]+c.canvas.width,p[5],p[5]+c.canvas.height)}l.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx,s=this.current.fillColor,i=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,jr.transformAndFill);for(const a of t){const{data:o,width:l,height:d,transform:c}=a,u=this.cachedCanvases.getCanvas("maskCanvas",l,d),h=u.context;h.save();const p=this.getObject(e,o,a);$0(h,p),h.globalCompositeOperation="source-in",h.fillStyle=i?s.getPattern(h,this,hs(r),Tn.FILL,e):s,h.fillRect(0,0,l,d),h.restore(),r.save(),r.transform(...c),r.scale(1,-1),_c(r,u.canvas,0,0,l,d,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,l,0,d),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){Ke("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,s,i){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){Ke("Dependent image isn't ready yet");return}const o=a.width,l=a.height,d=[];for(let c=0,u=i.length;c<u;c+=2)d.push({transform:[r,0,0,s,i[c],i[c+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",r,s),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const r=t.width,s=t.height,i=this.ctx;this.save(e);const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none"),i.scale(1/r,-1/s);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const c=this.cachedCanvases.getCanvas("inlineImage",r,s).context;U0(c,t),o=this.applyTransferMapsToCanvas(c)}const l=this._scaleImage(o,hs(i));i.imageSmoothingEnabled=K0(Vt(i),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,i,0,r,-s,0).recordDependencies(e,jr.imageXObject).recordOperation(e),_c(i,l.img,0,0,l.paintWidth,l.paintHeight,0,-s,r,s),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){if(!this.contentVisible)return;const s=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const a=t.width,o=t.height,d=this.cachedCanvases.getCanvas("inlineImage",a,o).context;U0(d,t),i=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(e);for(const a of r)s.save(),s.transform(...a.transform),s.scale(1,-1),_c(s,i,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,s,0,1,-1,0),s.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,jr.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const i=this.ctx;this.pendingClip?(s||(this.pendingClip===z0?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Vt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:s,d:i}=this.ctx.getTransform();let a,o;if(r===0&&s===0){const l=Math.abs(t),d=Math.abs(i);if(l===d)if(e===0)a=o=1/l;else{const c=l*e;a=o=c<1?1/c:1}else if(e===0)a=1/l,o=1/d;else{const c=l*e,u=d*e;a=c<1?1/c:1,o=u<1?1/u:1}}else{const l=Math.abs(t*i-r*s),d=Math.hypot(t,r),c=Math.hypot(s,i);if(e===0)a=c/l,o=d/l;else{const u=e*l;a=c>u?c/u:1,o=d>u?d/u:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:s}}=this,[i,a]=this.getScaleForStroking();if(i===a){r.lineWidth=(s||1)*i,r.stroke(e);return}const o=r.getLineDash();t&&r.save(),r.scale(i,a),up.a=1/i,up.d=1/a;const l=new Path2D;if(l.addPath(e,up),o.length>0){const d=Math.max(i,a);r.setLineDash(o.map(c=>c/d)),r.lineDashOffset/=d}r.lineWidth=s||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in Ko)So.prototype[n]!==void 0&&(So.prototype[Ko[n]]=So.prototype[n]);class xo{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,r={};let s=0;for(const d of xo.strings){const c=t.encode(e[d]);r[d]=c,s+=4+c.length}const i=new ArrayBuffer(s),a=new Uint8Array(i),o=new DataView(i);let l=0;for(const d of xo.strings){const c=r[d],u=c.length;o.setUint32(l,u),a.set(c,l+4),l+=4+u}return rt(l===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){rt(e<xo.strings.length,"Invalid string index");let t=0;for(let s=0;s<e;s++)t+=this.#t.getUint32(t)+4;const r=this.#t.getUint32(t);return this.#r.decode(new Uint8Array(this.#e,t+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class To{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,r={};let s=0;for(const h of To.strings){const p=t.encode(e[h]);r[h]=p,s+=4+p.length}s+=4;let i,a,o=1+s;e.style&&(i=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+i.length+4+a.length);const l=new ArrayBuffer(o),d=new Uint8Array(l),c=new DataView(l);let u=0;c.setUint8(u++,e.guessFallback?1:0),c.setUint32(u,0),u+=4,s=0;for(const h of To.strings){const p=r[h],v=p.length;s+=4+v,c.setUint32(u,v),d.set(p,u+4),u+=4+v}return c.setUint32(u-s-4,s),e.style&&(c.setUint32(u,i.length),d.set(i,u+4),u+=4+i.length,c.setUint32(u,a.length),d.set(a,u+4),u+=4+a.length),rt(u<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(u)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){rt(e<To.strings.length,"Invalid string index");let t=5;for(let s=0;s<e;s++)t+=this.#t.getUint32(t)+4;const r=this.#t.getUint32(t);return this.#r.decode(new Uint8Array(this.#e,t+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const s=this.#t.getUint32(e),i=this.#r.decode(new Uint8Array(this.#e,e+4,s));return{style:r,weight:i}}}class Ct{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#a=this.#n+1+6;#s;#i;#o;constructor({data:e,extra:t}){this.#s=e,this.#i=new TextDecoder,this.#o=new DataView(this.#s),t&&Object.assign(this,t)}#d(e){rt(e<Ct.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,s=this.#o.getUint8(t)>>r&3;return s===0?void 0:s===2}get black(){return this.#d(0)}get bold(){return this.#d(1)}get disableFontFace(){return this.#d(2)}get fontExtraProperties(){return this.#d(3)}get isInvalidPDFjsFont(){return this.#d(4)}get isType3Font(){return this.#d(5)}get italic(){return this.#d(6)}get missingFile(){return this.#d(7)}get remeasure(){return this.#d(8)}get vertical(){return this.#d(9)}#l(e){return rt(e<Ct.numbers.length,"Invalid number index"),this.#o.getFloat64(Ct.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Ct.#t;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let s=0;s<4;s++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=Ct.#r;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let s=0;s<6;s++)r.push(this.#o.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=Ct.#n;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let s=0;s<3;s++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}#f(e){rt(e<Ct.strings.length,"Invalid string index");let t=Ct.#a+4;for(let i=0;i<e;i++)t+=this.#o.getUint32(t)+4;const r=this.#o.getUint32(t),s=new Uint8Array(r);return s.set(new Uint8Array(this.#s,t+4,r)),this.#i.decode(s)}get fallbackName(){return this.#f(0)}get loadedName(){return this.#f(1)}get mimetype(){return this.#f(2)}get name(){return this.#f(3)}get data(){let e=Ct.#a;const t=this.#o.getUint32(e);e+=4+t;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);e+=4+s;const i=this.#o.getUint32(e);if(i!==0)return new Uint8Array(this.#s,e+4,i)}clearData(){let e=Ct.#a;const t=this.#o.getUint32(e);e+=4+t;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);e+=4+s;const i=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,i).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=Ct.#a;const t=this.#o.getUint32(e);e+=4+t;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);if(s===0)return null;const i=new Uint8Array(s);return i.set(new Uint8Array(this.#s,e+4,s)),new xo(i.buffer)}get systemFontInfo(){let e=Ct.#a;const t=this.#o.getUint32(e);e+=4+t;const r=this.#o.getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(this.#s,e+4,r)),new To(s.buffer)}static write(e){const t=e.systemFontInfo?To.write(e.systemFontInfo):null,r=e.cssFontInfo?xo.write(e.cssFontInfo):null,s=new TextEncoder,i={};let a=0;for(const g of Ct.strings)i[g]=s.encode(e[g]),a+=4+i[g].length;const o=Ct.#a+4+a+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),d=new Uint8Array(l),c=new DataView(l);let u=0;const h=Ct.bools.length;let p=0,v=0;for(let g=0;g<h;g++){const m=e[Ct.bools[g]];p|=(m===void 0?0:m?2:1)<<v,v+=2,(v===8||g===h-1)&&(c.setUint8(u++,p),p=0,v=0)}rt(u===Ct.#e,"FontInfo.write: Boolean properties offset mismatch");for(const g of Ct.numbers)c.setFloat64(u,e[g]),u+=8;if(rt(u===Ct.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){c.setUint8(u++,4);for(const g of e.bbox)c.setInt16(u,g,!0),u+=2}else c.setUint8(u++,0),u+=8;if(rt(u===Ct.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){c.setUint8(u++,6);for(const g of e.fontMatrix)c.setFloat64(u,g,!0),u+=8}else c.setUint8(u++,0),u+=48;if(rt(u===Ct.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){c.setUint8(u++,1);for(const g of e.defaultVMetrics)c.setInt16(u,g,!0),u+=2}else c.setUint8(u++,0),u+=6;rt(u===Ct.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),c.setUint32(Ct.#a,0),u+=4;for(const g of Ct.strings){const m=i[g],b=m.length;c.setUint32(u,b),d.set(m,u+4),u+=4+b}if(c.setUint32(Ct.#a,u-Ct.#a-4),!t)c.setUint32(u,0),u+=4;else{const g=t.byteLength;c.setUint32(u,g),rt(u+4+g<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(t),u+4),u+=4+g}if(!r)c.setUint32(u,0),u+=4;else{const g=r.byteLength;c.setUint32(u,g),rt(u+4+g<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(r),u+4),u+=4+g}return e.data===void 0?(c.setUint32(u,0),u+=4):(c.setUint32(u,e.data.length),d.set(e.data,u+4),u+=4+e.data.length),rt(u<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(u)}}class Si{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class pG{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const po=Symbol("INTERNAL");class gG{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:t,intent:r,usage:s,rbGroups:i}){this.#e=!!(e&lr.DISPLAY),this.#t=!!(e&lr.PRINT),this.name=t,this.intent=r,this.usage=s,this.rbGroups=i}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,r=!1){e!==po&&jt("Internal method `_setVisible` called."),this.#r=r,this.#n=t}}class mG{#e=null;#t=new Map;#r=null;#n=null;constructor(e,t=lr.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new gG(t,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(po,!1);for(const r of e.on)this.#t.get(r)._setVisible(po,!0);for(const r of e.off)this.#t.get(r)._setVisible(po,!1);this.#r=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let s=1;s<t;s++){const i=e[s];let a;if(Array.isArray(i))a=this.#a(i);else if(this.#t.has(i))a=this.#t.get(i).visible;else return Ke(`Optional content group not found: ${i}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Zf("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Ke(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Ke(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Ke(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Ke(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Ke(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Ke(`Unknown optional content policy ${e.policy}.`),!0}return Ke(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){const s=this.#t.get(e);if(!s){Ke(`Optional content group not found: ${e}`);return}if(r&&t&&s.rbGroups.length)for(const i of s.rbGroups)for(const a of i)a!==e&&this.#t.get(a)?._setVisible(po,!1,!0);s._setVisible(po,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let r;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":r=s;continue}const i=this.#t.get(s);if(i)switch(r){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!i.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new VT;for(const[t,r]of this.#t)e.update(`${t}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class vG{constructor(e,{disableRange:t=!1,disableStream:r=!1}){rt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,i?.length>0){const l=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,d)=>{this._onReceiveData({begin:l,chunk:d})}),e.addProgressListener((l,d)=>{this._onProgress({loaded:l,total:d})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const s=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(r),!0)});rt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){rt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new bG(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new kG(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class bG{constructor(e,t,r=!1,s=null){this._stream=e,this._done=r||!1,this._filename=Qf(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class kG{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function yG(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let c=o(t);return c=unescape(c),c=l(c),c=d(c),i(c)}if(t=a(n),t){const c=d(t);return i(c)}if(t=r("filename","i").exec(n),t){t=t[1];let c=o(t);return c=d(c),i(c)}function r(c,u){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function s(c,u){if(c){if(!/^[\x00-\xFF]+$/.test(u))return u;try{const h=new TextDecoder(c,{fatal:!0}),p=Hd(u);u=h.decode(p),e=!1}catch{}}return u}function i(c){return e&&/[\x80-\xff]/.test(c)&&(c=s("utf-8",c),e&&(c=s("iso-8859-1",c))),c}function a(c){const u=[];let h;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(c))!==null;){let[,g,m,b]=h;if(g=parseInt(g,10),g in u){if(g===0)break;continue}u[g]=[m,b]}const v=[];for(let g=0;g<u.length&&g in u;++g){let[m,b]=u[g];b=o(b),m&&(b=unescape(b),g===0&&(b=l(b))),v.push(b)}return v.join("")}function o(c){if(c.startsWith('"')){const u=c.slice(1).split('\\"');for(let h=0;h<u.length;++h){const p=u[h].indexOf('"');p!==-1&&(u[h]=u[h].slice(0,p),u.length=h+1),u[h]=u[h].replaceAll(/\\(.)/g,"$1")}c=u.join('"')}return c}function l(c){const u=c.indexOf("'");if(u===-1)return c;const h=c.slice(0,u),v=c.slice(u+1).replace(/^[^']*'/,"");return s(h,v)}function d(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,h,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,m){return String.fromCharCode(parseInt(m,16))}),s(h,v);try{v=atob(v)}catch{}return s(h,v)})}return""}function GT(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const s=e[r];s!==void 0&&t.append(r,s)}return t}function eh(n){return URL.parse(n)?.origin??null}function YT({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function qT(n){const e=n.get("Content-Disposition");if(e){let t=yG(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Qf(t))return t}return null}function Wd(n,e){return new ud(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function XT(n){return n===200||n===206}function ZT(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function JT(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ke(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class _G{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=GT(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return rt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new wG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new EG(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class wG{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),s=t.url;fetch(s,ZT(r,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=eh(i.url),!XT(i.status))throw Wd(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const a=i.headers,{allowRangeRequests:o,suggestedLength:l}=YT({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=qT(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ni("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:JT(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class EG{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${r-1}`);const a=s.url;fetch(a,ZT(i,this._withCredentials,this._abortController)).then(o=>{const l=eh(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!XT(o.status))throw Wd(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:JT(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const fp=200,hp=206;function SG(n){const e=n.response;return typeof e!="string"?e:Hd(e).buffer}class xG{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=GT(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,s=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=hp):s.expectedStatus=fp,t.responseType="arraybuffer",rt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){const r=this.pendingRequests[e];r&&r.onProgress?.(t)}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const s=r.xhr;if(s.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){r.onError(s.status);return}const i=s.status||fp;if(!(i===fp&&r.expectedStatus===hp)&&i!==r.expectedStatus){r.onError(s.status);return}const o=SG(s);if(i===hp){const l=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);d?r.onDone({begin:parseInt(d[1],10),chunk:o}):(Ke('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class TG{constructor(e){this._source=e,this._manager=new xG(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return rt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new AG(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new CG(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class AG{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=eh(t.responseURL);const r=t.getAllResponseHeaders(),s=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...d]=o.split(": ");return[l,d.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:a}=YT({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=qT(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Wd(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class CG{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=eh(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Wd(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const OG=/^[a-z][a-z0-9\-+.]+:/i;function DG(n){if(OG.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class jG{constructor(e){this.source=e,this.url=DG(e.url),rt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return rt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new RG(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new IG(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class RG{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=Wd(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ni("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class IG{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const jl=Symbol("INITIAL_DATA");class QT{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:jl}}get(e,t=null){if(t){const s=this.#t(e);return s.promise.then(()=>t(s.data)),null}const r=this.#e[e];if(!r||r.data===jl)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=this.#e[e];return!!t&&t.data!==jl}delete(e){const t=this.#e[e];return!t||t.data===jl?!1:(delete this.#e[e],!0)}resolve(e,t=null){const r=this.#t(e);r.data=t,r.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==jl&&(yield[e,t])}}}const NG=1e5,W0=30;let hd=class Ir{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#i=0;#o=0;#d=null;#l=null;#f=0;#u=0;#h=Object.create(null);#m=[];#p=null;#c=[];#g=new WeakMap;#v=null;static#k=new Map;static#b=new Map;static#x=new WeakMap;static#E=null;static#y=new Set;constructor({textContentSource:e,container:t,viewport:r}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#u=r.scale*ts.pixelRatio,this.#f=r.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:i,pageX:a,pageY:o}=r.rawDims;this.#v=[1,0,0,-1,-a,o+i],this.#o=s,this.#i=i,Ir.#O(),Mi(t,r),this.#e.promise.finally(()=>{Ir.#y.delete(this),this.#s=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=_n.platform;return Xe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#d.read().then(({value:t,done:r})=>{if(r){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#h,t.styles),this.#A(t.items),e()},this.#e.reject)};return this.#d=this.#p.getReader(),Ir.#y.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const r=e.scale*ts.pixelRatio,s=e.rotation;if(s!==this.#f&&(t?.(),this.#f=s,Mi(this.#l,{rotation:s})),r!==this.#u){t?.(),this.#u=r;const i={div:null,properties:null,ctx:Ir.#D(this.#a)};for(const a of this.#c)i.properties=this.#g.get(a),i.div=a,this.#S(i)}}cancel(){const e=new ni("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#m}#A(e){if(this.#r)return;this.#s.ctx??=Ir.#D(this.#a);const t=this.#c,r=this.#m;for(const s of e){if(t.length>NG){Ke("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const i=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),s.id&&this.#t.setAttribute("id",`${s.id}`),i.append(this.#t)}else s.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(s.str),this.#w(s)}}#w(e){const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#c.push(t);const s=be.transform(this.#v,e.transform);let i=Math.atan2(s[1],s[0]);const a=this.#h[e.fontName];a.vertical&&(i+=Math.PI/2);let o=this.#n&&a.fontSubstitution||a.fontFamily;o=Ir.fontFamilyMap.get(o)||o;const l=Math.hypot(s[2],s[3]),d=l*Ir.#L(o,a,this.#a);let c,u;i===0?(c=s[4],u=s[5]-d):(c=s[4]+d*Math.sin(i),u=s[5]-d*Math.cos(i));const h="calc(var(--total-scale-factor) *",p=t.style;this.#t===this.#l?(p.left=`${(100*c/this.#o).toFixed(2)}%`,p.top=`${(100*u/this.#i).toFixed(2)}%`):(p.left=`${h}${c.toFixed(2)}px)`,p.top=`${h}${u.toFixed(2)}px)`),p.fontSize=`${h}${(Ir.#E*l).toFixed(2)}px)`,p.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),i!==0&&(r.angle=i*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const g=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);g!==m&&Math.max(g,m)/Math.min(g,m)>1.5&&(v=!0)}if(v&&(r.canvasWidth=a.vertical?e.height:e.width),this.#g.set(t,r),this.#s.div=t,this.#s.properties=r,this.#S(this.#s),r.hasText&&this.#t.append(t),r.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this.#t.append(g)}}#S(e){const{div:t,properties:r,ctx:s}=e,{style:i}=t;let a="";if(Ir.#E>1&&(a=`scale(${1/Ir.#E})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=i,{canvasWidth:l,fontSize:d}=r;Ir.#C(s,d*this.#u,o);const{width:c}=s.measureText(t.textContent);c>0&&(a=`scaleX(${l*this.#u/c}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(i.transform=a)}static cleanup(){if(!(this.#y.size>0)){this.#k.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#D(e=null){let t=this.#b.get(e||="");if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,t),this.#x.set(t,{size:0,family:""})}return t}static#C(e,t,r){const s=this.#x.get(e);t===s.size&&r===s.family||(e.font=`${t}px ${r}`,s.size=t,s.family=r)}static#O(){if(this.#E!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#E=e.getBoundingClientRect().height,e.remove()}static#L(e,t,r){const s=this.#k.get(e);if(s)return s;const i=this.#D(r);i.canvas.width=i.canvas.height=W0,this.#C(i,W0,e);const a=i.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let d=.8;return o?d=o/(o+l):(_n.platform.isFirefox&&Ke("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?d=t.ascent:t.descent&&(d=1+t.descent)),this.#k.set(e,d),d}};const PG=100;function Yv(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new qv,{docId:t}=e,r=n.url?$W(n.url):null,s=n.data?KW(n.data):null,i=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof Xv?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let c=n.worker instanceof zo?n.worker:null;const u=n.verbosity,h=typeof n.docBaseUrl=="string"&&!$d(n.docBaseUrl)?n.docBaseUrl:null,p=vc(n.cMapUrl),v=n.cMapPacked!==!1,g=n.CMapReaderFactory||(zn?ZW:R0),m=vc(n.iccUrl),b=vc(n.standardFontDataUrl),k=n.StandardFontDataFactory||(zn?JW:I0),_=vc(n.wasmUrl),E=n.WasmFactory||(zn?QW:N0),S=n.stopAtErrors!==!0,T=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,x=n.isEvalSupported!==!1,A=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!zn,O=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!zn&&(_n.platform.isFirefox||!globalThis.chrome),C=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:zn,I=n.fontExtraProperties===!0,U=n.enableXfa===!0,H=n.ownerDocument||globalThis.document,j=n.disableRange===!0,V=n.disableStream===!0,F=n.disableAutoFetch===!0,G=n.pdfBug===!0,B=n.CanvasFactory||(zn?XW:GW),ce=n.FilterFactory||(zn?qW:YW),L=n.enableHWA===!0,$=n.useWasm!==!1,M=l?l.length:n.length??NaN,Y=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!zn&&!D,J=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(g===R0&&k===I0&&E===N0&&p&&b&&_&&Fl(p,document.baseURI)&&Fl(b,document.baseURI)&&Fl(_,document.baseURI)),ae=null;SW(u);const ne={canvasFactory:new B({ownerDocument:H,enableHWA:L}),filterFactory:new ce({docId:t,ownerDocument:H}),cMapReaderFactory:J?null:new g({baseUrl:p,isCompressed:v}),standardFontDataFactory:J?null:new k({baseUrl:b}),wasmFactory:J?null:new E({baseUrl:_})};c||(c=zo.create({verbosity:u,port:Si.workerPort}),e._worker=c);const Ce={docId:t,apiVersion:"5.4.296",data:s,password:o,disableAutoFetch:F,rangeChunkSize:d,length:M,docBaseUrl:h,enableXfa:U,evaluatorOptions:{maxImageSize:T,disableFontFace:D,ignoreErrors:S,isEvalSupported:x,isOffscreenCanvasSupported:A,isImageDecoderSupported:O,canvasMaxAreaInBytes:C,fontExtraProperties:I,useSystemFonts:Y,useWasm:$,useWorkerFetch:J,cMapUrl:p,iccUrl:m,standardFontDataUrl:b,wasmUrl:_}},Z={ownerDocument:H,pdfBug:G,styleElement:ae,loadingParams:{disableAutoFetch:F,enableXfa:U}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const pe=c.messageHandler.sendWithPromise("GetDocRequest",Ce,s?[s.buffer]:null);let de;if(l)de=new vG(l,{disableRange:j,disableStream:V});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ge=Fl(r)?_G:zn?jG:TG;de=new ge({url:r,length:M,httpHeaders:i,withCredentials:a,rangeChunkSize:d,disableRange:j,disableStream:V})}return pe.then(ge=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const we=new Vl(t,ge,c.port),Pe=new FG(we,e,de,Z,ne,L);e._transport=Pe,we.send("Ready",null)})}).catch(e._capability.reject),e}class qv{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${qv.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Xv=class{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#a=[];constructor(e,t,r=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=s}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const r of this.#a)r(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const r of this.#n)r(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#r)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){jt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class MG{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Xe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class LG{#e=!1;constructor(e,t,r,s=!1){this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=s?new x0:null,this._pdfBug=s,this.commonObjs=r.commonObjs,this.objs=new QT,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:s=0,dontFlip:i=!1}={}){return new Ud({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Xe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:s="display",annotationMode:i=ws.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:d=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:h=!1,recordOperations:p=!1,operationsFilter:v=null}){this._stats?.time("Overall");const g=this._transport.getRenderingIntent(s,i,u,h),{renderingIntent:m,cacheKey:b}=g;this.#e=!1,l||=this._transport.getOptionalContentConfig(m);let k=this._intentStates.get(b);k||(k=Object.create(null),this._intentStates.set(b,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);const _=!!(m&lr.PRINT);k.displayReadyCapability||(k.displayReadyCapability=Promise.withResolvers(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(g));const E=!!(this._pdfBug&&globalThis.StepperManager?.enabled),S=!this.recordedBBoxes&&(p||E),T=O=>{if(k.renderTasks.delete(x),S){const C=x.gfx?.dependencyTracker.take();C&&(x.stepper&&x.stepper.setOperatorBBoxes(C,x.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=C))}_&&(this.#e=!0),this.#t(),O?(x.capability.reject(O),this._abortOperatorList({intentState:k,reason:O instanceof Error?O:new Error(O)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new bo({callback:T,params:{canvas:t,canvasContext:e,dependencyTracker:S?new tG(t,k.operatorList.length,E):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:c,enableHWA:this._transport.enableHWA,operationsFilter:v});(k.renderTasks||=new Set).add(x);const A=x.task;return Promise.all([k.displayReadyCapability.promise,l]).then(([O,C])=>{if(this.destroyed){T();return}if(this._stats?.time("Rendering"),!(C.renderingIntent&m))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:O,optionalContentConfig:C}),x.operatorListChanged()}).catch(T),A}getOperatorList({intent:e="display",annotationMode:t=ws.ENABLE,printAnnotationStorage:r=null,isEditing:s=!1}={}){function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,s,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>fd.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,s){function i(){a.read().then(function({value:l,done:d}){if(d){r(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),i()},s)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new x0),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const r=this._intentStates.get(t);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let r=0,s=e.length;r<s;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:s}){const{map:i,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:s},a).getReader(),d=this._intentStates.get(t);d.streamReader=l;const c=()=>{l.read().then(({value:u,done:h})=>{if(h){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,d),c())},u=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const h of d.renderTasks)h.operatorListChanged();this.#t()}if(d.displayReadyCapability)d.displayReadyCapability.reject(u);else if(d.opListReadCapability)d.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof Jf){let s=PG;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new ni(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}var bi,$r,Ks,ua,Cu,fa,ha,Gn,Bc,eA,tA,Bl,Oo,Hc;const Mt=class Mt{constructor({name:e=null,port:t=null,verbosity:r=xW()}={}){cs(this,Gn);cs(this,bi,Promise.withResolvers());cs(this,$r,null);cs(this,Ks,null);cs(this,ua,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(Pt(Mt,ha).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Pt(Mt,ha).set(t,this),us(this,Gn,eA).call(this,t)}else us(this,Gn,tA).call(this)}get promise(){return Pt(this,bi).promise}get port(){return Pt(this,Ks)}get messageHandler(){return Pt(this,$r)}destroy(){this.destroyed=!0,Pt(this,ua)?.terminate(),Zn(this,ua,null),Pt(Mt,ha).delete(Pt(this,Ks)),Zn(this,Ks,null),Pt(this,$r)?.destroy(),Zn(this,$r,null)}static create(e){const t=Pt(this,ha).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Mt(e)}static get workerSrc(){if(Si.workerSrc)return Si.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Xe(this,"_setupFakeWorkerGlobal",(async()=>Pt(this,Oo,Hc)?Pt(this,Oo,Hc):(await import(this.workerSrc)).WorkerMessageHandler)())}};bi=new WeakMap,$r=new WeakMap,Ks=new WeakMap,ua=new WeakMap,Cu=new WeakMap,fa=new WeakMap,ha=new WeakMap,Gn=new WeakSet,Bc=function(){Pt(this,bi).resolve(),Pt(this,$r).send("configure",{verbosity:this.verbosity})},eA=function(e){Zn(this,Ks,e),Zn(this,$r,new Vl("main","worker",e)),Pt(this,$r).on("ready",()=>{}),us(this,Gn,Bc).call(this)},tA=function(){if(Pt(Mt,fa)||Pt(Mt,Oo,Hc)){us(this,Gn,Bl).call(this);return}let{workerSrc:e}=Mt;try{Mt._isSameOrigin(window.location,e)||(e=Mt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Vl("main","worker",t),s=()=>{i.abort(),r.destroy(),t.terminate(),this.destroyed?Pt(this,bi).reject(new Error("Worker was destroyed")):us(this,Gn,Bl).call(this)},i=new AbortController;t.addEventListener("error",()=>{Pt(this,ua)||s()},{signal:i.signal}),r.on("test",o=>{if(i.abort(),this.destroyed||!o){s();return}Zn(this,$r,r),Zn(this,Ks,t),Zn(this,ua,t),us(this,Gn,Bc).call(this)}),r.on("ready",o=>{if(i.abort(),this.destroyed){s();return}try{a()}catch{us(this,Gn,Bl).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{Zf("The worker has been disabled.")}us(this,Gn,Bl).call(this)},Bl=function(){Pt(Mt,fa)||(Ke("Setting up fake worker."),Zn(Mt,fa,!0)),Mt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Pt(this,bi).reject(new Error("Worker was destroyed"));return}const t=new WW;Zn(this,Ks,t);const r=`fake${ib(Mt,Cu)._++}`,s=new Vl(r+"_worker",r,t);e.setup(s,t),Zn(this,$r,new Vl(r,r+"_worker",t)),us(this,Gn,Bc).call(this)}).catch(e=>{Pt(this,bi).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Oo=new WeakSet,Hc=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},cs(Mt,Oo),cs(Mt,Cu,0),cs(Mt,fa,!1),cs(Mt,ha,new WeakMap),zn&&(Zn(Mt,fa,!0),Si.workerSrc||="./pdf.worker.mjs"),Mt._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const s=new URL(t,r);return r.origin===s.origin},Mt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Mt.fromPort=e=>{if(NW("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Mt.create(e)};let zo=Mt;class FG{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#a=null;constructor(e,t,r,s,i,a){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new QT,this.fontLoader=new HW({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#s(e,t=null){const r=this.#e.get(e);if(r)return r;const s=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,s),s}get annotationStorage(){return Xe(this,"annotationStorage",new Kv)}getRenderingIntent(e,t=ws.ENABLE,r=null,s=!1,i=!1){let a=lr.DISPLAY,o=Og;switch(e){case"any":a=lr.ANY;break;case"display":break;case"print":a=lr.PRINT;break;default:Ke(`getRenderingIntent - invalid intent: ${e}`)}const l=a&lr.PRINT&&r instanceof BT?r:this.annotationStorage;switch(t){case ws.DISABLE:a+=lr.ANNOTATIONS_DISABLE;break;case ws.ENABLE:break;case ws.ENABLE_FORMS:a+=lr.ANNOTATIONS_FORMS;break;case ws.ENABLE_STORAGE:a+=lr.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Ke(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(a+=lr.IS_EDITING),i&&(a+=lr.OPLIST);const{ids:d,hash:c}=l.modifiedIds,u=[a,o.hash,c];return{renderingIntent:a,cacheKey:u.join("_"),annotationStorageSerializable:o,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),hd.cleanup(),this._networkStream?.cancelAllRequests(new ni("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,s)=>{rt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:a}){if(a){s.close();return}rt(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:i,contentLength:a}=this._fullReader;return(!s||!i)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{t.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:s,isRangeSupported:i,contentLength:a}}),e.on("GetRangeReader",(r,s)=>{rt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(r.begin,r.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:a,done:o}){if(o){s.close();return}rt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{i.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new MG(r,this))}),e.on("DocException",r=>{t._capability.reject(Qn(r))}),e.on("PasswordRequest",r=>{this.#a=Promise.withResolvers();try{if(!t.onPassword)throw Qn(r);const s=i=>{i instanceof Error?this.#a.reject(i):this.#a.resolve({password:i})};t.onPassword(s,r.code)}catch(s){this.#a.reject(s)}return this.#a.promise}),e.on("DataLoaded",r=>{t.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,s,i])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(s){case"Font":if("error"in i){const c=i.error;Ke(`Error during font loading: ${c}`),this.commonObjs.resolve(r,c);break}const a=new Ct(i),o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(c,u)=>globalThis.FontInspector.fontAdded(c,u):null,l=new UW(a,o,i.extra,i.charProcOperatorList);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&l.clearData(),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:d}=i;rt(d,"The imageRef must be defined.");for(const c of this.#t.values())for(const[,u]of c.objs)if(u?.ref===d)return u.dataLen?(this.commonObjs.resolve(r,structuredClone(u)),u.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,i);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([r,s,i,a])=>{if(this.destroyed)return;const o=this.#t.get(s);if(!o.objs.has(r)){if(o._intentStates.size===0){a?.bitmap?.close();return}switch(i){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",r=>{this.destroyed||t.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[r.type];if(!s)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ke("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=this.#r.get(t);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&this.#n.set(i.refStr,e);const a=new LG(t,i,this,this._params.pdfBug);return this.#t.set(t,a),a});return this.#r.set(t,s),s}getPageIndex(e){return Dg(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(t=>new mG(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(s=>({info:s[0],metadata:s[1]?new pG(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),hd.cleanup()}}cachedPageNumber(e){if(!Dg(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(t)??null}}class VG{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class bo{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:r,commonObjs:s,annotationCanvasMap:i,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:d,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:h=null,enableHWA:p=!1,operationsFilter:v=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=d,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new VG(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(bo.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");bo.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:s,background:i,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new So(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),bo.#t.delete(this._canvas),e||=new Jf(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),bo.#t.delete(this._canvas),this.callback())))}}const nA="5.4.296",rA="f56dc8601";class dr{#e=null;#t=null;#r;#n=null;#a=!1;#s=!1;#i=null;#o;#d=null;#l=null;static#f=null;static get _keyboardManager(){return Xe(this,"_keyboardManager",new Kd([[["Escape","mac+Escape"],dr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],dr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],dr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],dr.prototype._moveToPrevious],[["Home","mac+Home"],dr.prototype._moveToBeginning],[["End","mac+End"],dr.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#s=!1,this.#i=e):this.#s=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",dr.#f||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:t}),e.addEventListener("keydown",this.#m.bind(this),{signal:t});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#u();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#u(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",_r,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,s]of this.#l.highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=r,i.setAttribute("data-l10n-id",dr.#f[r]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=s,i.ariaSelected=s===this.#r,i.addEventListener("click",this.#h.bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",this.#m.bind(this),{signal:t}),e}#h(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:nt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const t=e.target.getAttribute("data-color");t&&this.#h(t,e)}_moveToNext(e){if(!this.#g){this.#p(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#g){this.#p(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#g){this.#p(e);return}this.#n.lastChild?.focus()}#m(e){dr._keyboardManager.exec(this,e)}#p(e){if(this.#g){this.hideDropdown();return}if(this.#a=e.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#l.combinedSignal(this.#d)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#u();this.#e.append(t)}#c(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#d?.abort(),this.#d=null}get#g(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#g){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class pd{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,pd.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:r}=this.#t,s=this.#e=document.createElement("input");return s.type="color",s.value=r||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",pd.#n[e]),s.addEventListener("input",()=>{this.#r.updateParams(t,s.value)},{signal:this.#r._signal}),s}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function G0(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Rl(n){return Math.max(0,Math.min(255,255*n))}class Y0{static CMYK_G([e,t,r,s]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Rl(e),[e,e,e]}static G_HTML([e]){const t=G0(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Rl)}static RGB_HTML(e){return`#${e.map(G0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,r+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,r,s]){return[Rl(1-Math.min(1,e+s)),Rl(1-Math.min(1,r+s)),Rl(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const s=1-e,i=1-t,a=1-r,o=Math.min(s,i,a);return["CMYK",s,i,a,o]}}class BG{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),r||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){jt("Abstract method `_createSVG` called.")}}class gd extends BG{_createSVG(e){return document.createElementNS(Hs,e)}}const HG=9,Na=new WeakSet,UG=new Date().getTimezoneOffset()*60*1e3;class q0{static create(e){switch(e.data.annotationType){case qt.LINK:return new Zv(e);case qt.TEXT:return new KG(e);case qt.WIDGET:switch(e.data.fieldType){case"Tx":return new zG(e);case"Btn":return e.data.radioButton?new sA(e):e.data.checkBox?new GG(e):new YG(e);case"Ch":return new qG(e);case"Sig":return new WG(e)}return new Ga(e);case qt.POPUP:return new Ig(e);case qt.FREETEXT:return new iA(e);case qt.LINE:return new ZG(e);case qt.SQUARE:return new JG(e);case qt.CIRCLE:return new QG(e);case qt.POLYLINE:return new aA(e);case qt.CARET:return new tY(e);case qt.INK:return new Jv(e);case qt.POLYGON:return new eY(e);case qt.HIGHLIGHT:return new oA(e);case qt.UNDERLINE:return new nY(e);case qt.SQUIGGLY:return new rY(e);case qt.STRIKEOUT:return new sY(e);case qt.STAMP:return new lA(e);case qt.FILEATTACHMENT:return new iY(e);default:return new Kt(e)}}}class Kt{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Kt._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:s}=this.data;let i=-1/0,a=-1/0;if(t?.length>=8){for(let o=0;o<t.length;o+=8)t[o+1]>a?(a=t[o+1],i=t[o+2]):t[o+1]===a&&(i=Math.max(i,t[o+2]));return[i,a]}if(r?.length>=1){for(const o of r)for(let l=0,d=o.length;l<d;l+=2)o[l+1]>a?(a=o[l+1],i=o[l]):o[l+1]===a&&(i=Math.max(i,o[l]));if(i!==1/0)return[i,a]}return s?[s[2],s[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-i)/r,e[1]=100*(e[1]-a)/s,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${cd}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${cd}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:r}=e;t&&this.#n(t);let s=this.#r?.popup||this.popup;!s&&r?.text&&(this._createPopup(r),s=this.#r.popup),s&&(s.updateEdited(e),r?.deleted&&(s.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:r,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:l}}}}=this;r?.splice(0,4,...e),t.left=`${100*(e[0]-o)/i}%`,t.top=`${100*(a-e[3]+l)/a}%`,s===0?(t.width=`${100*(e[2]-e[0])/i}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(s)}_createContainer(e){const{data:t,parent:{page:r,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),!(this instanceof Ga)&&!(this instanceof Zv)&&(i.tabIndex=0);const{style:a}=i;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof Ig){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,i),i}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,m=t.borderStyle.verticalCornerRadius;if(g>0||m>0){const k=`calc(${g}px * var(--total-scale-factor)) / calc(${m}px * var(--total-scale-factor))`;a.borderRadius=k}else if(this instanceof sA){const k=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=k}switch(t.borderStyle.style){case ho.SOLID:a.borderStyle="solid";break;case ho.DASHED:a.borderStyle="dashed";break;case ho.BEVELED:Ke("Unimplemented border style: beveled");break;case ho.INSET:Ke("Unimplemented border style: inset");break;case ho.UNDERLINE:a.borderBottomStyle="solid";break}const b=t.borderColor||null;b?(this.#t=!0,a.borderColor=be.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):a.borderWidth=0}const d=be.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:p}=s.rawDims;a.left=`${100*(d[0]-h)/c}%`,a.top=`${100*(d[1]-p)/u}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(a.width=`${100*o/c}%`,a.height=`${100*l/u}%`):this.setRotation(v,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:s}=this.parent.viewport.rawDims;let{width:i,height:a}=this;e%180!==0&&([i,a]=[a,i]),t.style.width=`${100*i/r}%`,t.style.height=`${100*a/s}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,s)=>{const i=s.detail[t],a=i[0],o=i.slice(1);s.target.style[r]=Y0[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:Y0[`${a}_rgb`](o)})};return Xe(this,"_commonActions",{display:t=>{const{display:r}=t.detail,s=r%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const s of Object.keys(t.detail))(e[s]||r[s])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[s,i]of Object.entries(t)){const a=r[s];if(a){const o={detail:{[s]:i},target:e};a(o),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,s,i]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,m,b,k]=e.subarray(2,6);if(s===g&&i===m&&t===b&&r===k)return}const{style:a}=this.container;let o;if(this.#t){const{borderColor:g,borderWidth:m}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${m}">`],this.container.classList.add("hasBorder")}const l=s-t,d=i-r,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0),u.role="none";const h=c.createElement("defs");u.append(h);const p=c.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let g=2,m=e.length;g<m;g+=8){const b=e[g],k=e[g+1],_=e[g+2],E=e[g+3],S=c.createElement("rect"),T=(_-t)/l,x=(i-k)/d,A=(b-_)/l,O=(k-E)/d;S.setAttribute("x",T),S.setAttribute("y",x),S.setAttribute("width",A),S.setAttribute("height",O),p.append(S),o?.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${x}" width="${A}" height="${O}"/>`)}this.#t&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(u),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let r,s;e?(r={str:e.text},s=e.date):(r=t.contentsObj,s=t.modificationDate);const i=this.#r=new Ig({data:{color:t.color,titleObj:t.titleObj,modificationDate:s,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(i.render())}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){jt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:i,id:a,exportValues:o}of s){if(i===-1||a===t)continue;const l=typeof o=="string"?o:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!Na.has(d)){Ke(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:d})}return r}for(const s of document.getElementsByName(e)){const{exportValue:i}=s,a=s.getAttribute("data-element-id");a!==t&&Na.has(s)&&r.push({id:a,exportValue:i,domElement:s})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class $G extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class Zv extends Kt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let s=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),s=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),s=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),s=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),s=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,r=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,t,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),r&&(e.title=r),this.#e()}#t(e,t,r="",s=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,s),!1),this.#e()}#r(e,t,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(t.actions)){const i=r.get(s);i&&(e[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:s}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ke('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:s,refs:i,include:a}=t,o=[];if(s.length!==0||i.length!==0){const c=new Set(i);for(const u of s){const h=this._fieldObjects[u]||[];for(const{id:p}of h)c.add(p)}for(const u of Object.values(this._fieldObjects))for(const h of u)c.has(h.id)===a&&o.push(h)}else for(const c of Object.values(this._fieldObjects))o.push(...c);const l=this.annotationStorage,d=[];for(const c of o){const{id:u}=c;switch(d.push(u),c.type){case"text":{const p=c.defaultValue||"";l.setValue(u,{value:p});break}case"checkbox":case"radiobutton":{const p=c.defaultValue===c.exportValues;l.setValue(u,{value:p});break}case"combobox":case"listbox":{const p=c.defaultValue||"";l.setValue(u,{value:p});break}default:continue}const h=document.querySelector(`[data-element-id="${u}"]`);if(h){if(!Na.has(h)){Ke(`_bindResetFormAction - element not allowed: ${u}`);continue}}else continue;h.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class KG extends Kt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ga extends Kt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return _n.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,s,i){r.includes("mouse")?e.addEventListener(r,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a)}})})}_setEventListeners(e,t,r,s){for(const[i,a]of r)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,i,a,s),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":be.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||HG,i=e.style;let a;const o=2,l=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(d/(ap*s))||1,u=d/c;a=Math.min(s,l(u/ap))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(s,l(d/ap))}i.fontSize=`calc(${a}px * var(--total-scale-factor))`,i.color=be.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class zG extends Ga{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,s){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),i.setValue(a.id,{[s]:r})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(t,{value:this.data.fieldValue});let i=s.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&i.length>a&&(i=i.slice(0,a));let o=s.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:i,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=o??i,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",o??i),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Na.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:d,datetimeType:c,timeStep:u}=this.data,h=!!c&&this.enableScripting;d&&(r.title=d),this._setRequired(r,this.data.required),a&&(r.maxLength=a),r.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(r,"value",v.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",v=>{const g=this.data.defaultFieldValue??"";r.value=l.userValue=g,l.formattedValue=null});let p=v=>{const{formattedValue:g}=l;g!=null&&(v.target.value=g),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",g=>{if(l.focused)return;const{target:m}=g;if(h&&(m.type=c,u&&(m.step=u)),l.userValue){const b=l.userValue;if(h)if(c==="time"){const k=new Date(b),_=[k.getHours(),k.getMinutes(),k.getSeconds()];m.value=_.map(E=>E.toString().padStart(2,"0")).join(":")}else m.value=new Date(b-UG).toISOString().split(c==="date"?"T":".",1)[0];else m.value=b}l.lastCommittedValue=m.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const m={value(b){l.userValue=b.detail.value??"",h||e.setValue(t,{value:l.userValue.toString()}),b.target.value=l.userValue},formattedValue(b){const{formattedValue:k}=b.detail;l.formattedValue=k,k!=null&&b.target!==document.activeElement&&(b.target.value=k);const _={formattedValue:k};h&&(_.value=k),e.setValue(t,_)},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:k}=b.detail,{target:_}=b;if(k===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",k);let E=l.userValue;!E||E.length<=k||(E=E.slice(0,k),_.value=l.userValue=E,e.setValue(t,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(m,g)}),r.addEventListener("keydown",g=>{l.commitKey=1;let m=-1;if(g.key==="Escape"?m=0:g.key==="Enter"&&!this.data.multiLine?m=2:g.key==="Tab"&&(l.commitKey=3),m===-1)return;const{value:b}=g.target;l.lastCommittedValue!==b&&(l.lastCommittedValue=b,l.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:m,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const v=p;p=null,r.addEventListener("blur",g=>{if(!l.focused||!g.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:m}=g;let{value:b}=m;if(h){if(b&&c==="time"){const k=b.split(":").map(_=>parseInt(_,10));b=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),m.step=""}else b.includes("T")||(b=`${b}T00:00`),b=new Date(b).valueOf();m.type="text"}l.userValue=b,l.lastCommittedValue!==b&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:l.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),v(g)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",g=>{l.lastCommittedValue=null;const{data:m,target:b}=g,{value:k,selectionStart:_,selectionEnd:E}=b;let S=_,T=E;switch(g.inputType){case"deleteWordBackward":{const x=k.substring(0,_).match(/\w*[^\w]*$/);x&&(S-=x[0].length);break}case"deleteWordForward":{const x=k.substring(_).match(/^[^\w]*\w*/);x&&(T+=x[0].length);break}case"deleteContentBackward":_===E&&(S-=1);break;case"deleteContentForward":_===E&&(T+=1);break}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,change:m||"",willCommit:!1,selStart:S,selEnd:T}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/a;r.classList.add("comb"),r.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class WG extends Ga{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class GG extends Ga{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(r,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Na.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const d of this._getElementsByName(o,r)){const c=l&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=c),e.setValue(d.id,{value:c})}e.setValue(r,{value:l})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class sA extends Ga{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(r,{value:s})),s)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(Na.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const d of this._getElementsByName(o,r))e.setValue(d.id,{value:!1});e.setValue(r,{value:l})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;i.addEventListener("updatefromsandbox",o=>{const l={value:d=>{const c=a===d.detail.value;for(const u of this._getElementsByName(d.target.name)){const h=c&&u.id===r;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class YG extends Zv{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class qG extends Ga{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Na.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",c=>{const u=this.data.defaultFieldValue;for(const h of s.options)h.selected=h.value===u});for(const c of this.data.options){const u=document.createElement("option");u.textContent=c.displayValue,u.value=c.exportValue,r.value.includes(c.exportValue)&&(u.setAttribute("selected",!0),i=!1),s.append(u)}let a=null;if(i){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),s.prepend(c),a=()=>{c.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const o=c=>{const u=c?"value":"textContent",{options:h,multiple:p}=s;return p?Array.prototype.filter.call(h,v=>v.selected).map(v=>v[u]):h.selectedIndex===-1?null:h[h.selectedIndex][u]};let l=o(!1);const d=c=>{const u=c.target.options;return Array.prototype.map.call(u,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",c=>{const u={value(h){a?.();const p=h.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const g of s.options)g.selected=v.has(g.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(h){s.multiple=!0},remove(h){const p=s.options,v=h.detail.remove;p[v].selected=!1,s.remove(v),p.length>0&&Array.prototype.findIndex.call(p,m=>m.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:d(h)}),l=o(!1)},clear(h){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(h){const{index:p,displayValue:v,exportValue:g}=h.detail.insert,m=s.children[p],b=document.createElement("option");b.textContent=v,b.value=g,m?m.before(b):s.append(b),e.setValue(t,{value:o(!0),items:d(h)}),l=o(!1)},items(h){const{items:p}=h.detail;for(;s.length!==0;)s.remove(0);for(const v of p){const{displayValue:g,exportValue:m}=v,b=document.createElement("option");b.textContent=g,b.value=m,s.append(b)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:o(!0),items:d(h)}),l=o(!1)},indices(h){const p=new Set(h.detail.indices);for(const v of h.target.options)v.selected=p.has(v.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(u,c)}),s.addEventListener("input",c=>{const u=o(!0),h=o(!1);e.setValue(t,{value:u}),c.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:h,changeEx:u,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):s.addEventListener("input",function(c){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Ig extends Kt{constructor(e){const{data:t,elements:r,parent:s}=e,i=!!s._commentManager;if(super(e,{isRenderable:!i&&Kt._hasPopupData(t)}),this.elements=r,i&&Kt._hasPopupData(t)){const a=this.popup=this.#e();for(const o of r)o.popup=a}else this.popup=null}#e(){return new XG({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),r=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${Vv}${s}`).join(",")),this.container}}class XG{#e=null;#t=this.#K.bind(this);#r=this.#V.bind(this);#n=this.#I.bind(this);#a=this.#_.bind(this);#s=null;#i=null;#o=null;#d=null;#l=null;#f=null;#u=null;#h=!1;#m=null;#p=null;#c=null;#g=null;#v=null;#k=null;#b=null;#x=null;#E=null;#y=null;#A=!1;#w=null;#S=null;constructor({container:e,color:t,elements:r,titleObj:s,modificationDate:i,contentsObj:a,richText:o,parent:l,rect:d,parentRect:c,open:u,commentManager:h=null}){this.#i=e,this.#E=s,this.#o=a,this.#x=o,this.#f=l,this.#s=t,this.#b=d,this.#u=c,this.#l=r,this.#e=h,this.#w=r[0],this.#d=xu.toDateObject(i),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),h?this.renderCommentButton():(this.#D(),this.#i.hidden=!0,u&&this.#_())}#D(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#r,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#C(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#g||(this.#v||this.#C(),!this.#v))return;const{signal:e}=this.#p=new AbortController,t=!!this.#w.extraPopupElement,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},i=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#g=this.#w.container;for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",s,{signal:e}),a.addEventListener("pointerleave",i,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=this.#g=document.createElement("button");a.className="annotationCommentButton";const o=this.#w.container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#L(),this.#O(),a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",s,{signal:e}),a.addEventListener("pointerleave",i,{signal:e}),o.after(a)}}#O(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[e,t]=this.#v,{style:r}=this.#g;r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`}#L(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#g.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#w.commentData;return e?this.#f._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#g?.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:s,modificationDate:i}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:s,modificationDate:i}}get elementBeforePopup(){return this.#g}get comment(){return this.#S||=this.#w.commentText,this.#S}set comment(e){e!==this.comment&&(this.#w.commentText=this.#S=e)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#g&&(this.#g.classList.toggle("selected",e),this.#g.ariaExpanded=t)}setSelectedCommentButton(e){this.#g.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#k)return this.#k;const{x:e,y:t,height:r}=this.#g.getBoundingClientRect(),{x:s,y:i,width:a,height:o}=this.#w.layer.getBoundingClientRect();return[(e-s)/a,(t+r-i)/o]}set commentPopupPosition(e){this.#k=e}hasDefaultPopupPosition(){return this.#k===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#g.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=this.#k||this.commentButtonPosition.map(d=>d/100),s=this.parentBoundingClientRect,{x:i,y:a,width:o,height:l}=s;this.#e.showDialog(null,this,i+t*o,a+r*l,{...e,parentDimensions:s})}render(){if(this.#m)return;const e=this.#m=document.createElement("div");if(e.className="popup",this.#s){const r=e.style.outlineColor=be.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#E?.str){const r=document.createElement("span");r.className="title",t.append(r),{dir:r.dir,str:r.textContent}=this.#E}if(e.append(t),this.#d){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#d.valueOf()})),r.dateTime=this.#d.toISOString(),t.append(r)}Hv({html:this.#R||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#i.append(e)}get#R(){const e=this.#x,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#x.html||null}get#N(){return this.#R?.attributes?.style?.fontSize||0}get#F(){return this.#R?.attributes?.style?.color||null}#P(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:this.#F,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:s});return r}#K(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#h)&&this.#_()}updateEdited({rect:e,popup:t,deleted:r}){if(this.#e){r?(this.remove(),this.#S=null):t&&(t.deleted?this.remove():(this.#L(),this.#S=t.text)),e&&(this.#v=null,this.#C(),this.#O());return}if(r||t?.deleted){this.remove();return}this.#D(),this.#y||={contentsObj:this.#o,richText:this.#x},e&&(this.#c=null),t&&t.text&&(this.#x=this.#P(t.text),this.#d=xu.toDateObject(t.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#y&&({contentsObj:this.#o,richText:this.#x}=this.#y,this.#y=null,this.#m?.remove(),this.#m=null,this.#c=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#m?.remove(),this.#m=null,this.#A=!1,this.#h=!1,this.#g?.remove(),this.#g=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#T(){if(this.#c!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:s,pageY:i}}}=this.#f;let a=!!this.#u,o=a?this.#u:this.#b;for(const v of this.#l)if(!o||be.intersect(v.data.rect,o)!==null){o=v.data.rect,a=!0;break}const l=be.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=a?o[2]-o[0]+5:0,u=l[0]+c,h=l[1];this.#c=[100*(u-s)/t,100*(h-i)/r];const{style:p}=this.#i;p.left=`${this.#c[0]}%`,p.top=`${this.#c[1]}%`}#_(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#h=!this.#h,this.#h?(this.#I(),this.#i.addEventListener("click",this.#a),this.#i.addEventListener("keydown",this.#t)):(this.#V(),this.#i.removeEventListener("click",this.#a),this.#i.removeEventListener("keydown",this.#t))}#I(){this.#m||this.render(),this.isVisible?this.#h&&this.#i.classList.add("focused"):(this.#T(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#V(){this.#i.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#A=this.isVisible,this.#A&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#D(),this.#A&&(this.#m||this.#I(),this.#A=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class iA extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=$e.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class ZG extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:r}=this,s=this.svgFactory.create(t,r,!0),i=this.#e=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),s.append(i),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class JG extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:r}=this,s=this.svgFactory.create(t,r,!0),i=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",r-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class QG extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:r}=this,s=this.svgFactory.create(t,r,!0),i=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",r/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",r/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class aA extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:r,popupRef:s},width:i,height:a}=this;if(!t)return this.container;const o=this.svgFactory.create(i,a,!0);let l=[];for(let c=0,u=t.length;c<u;c+=2){const h=t[c]-e[0],p=e[3]-t[c+1];l.push(`${h},${p}`)}l=l.join(" ");const d=this.#e=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",l),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class eY extends aA{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tY extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Jv extends Kt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?$e.HIGHLIGHT:$e.INK}#r(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:r,borderStyle:s,popupRef:i}}=this,{transform:a,width:o,height:l}=this.#r(t,e),d=this.svgFactory.create(o,l,!0),c=this.#e=this.svgFactory.createElement("svg:g");d.append(c),c.setAttribute("stroke-width",s.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",a);for(let u=0,h=r.length;u<h;u++){const p=this.svgFactory.createElement(this.svgElementName);this.#t.push(p),p.setAttribute("points",r[u].join(",")),c.append(p)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:r,rect:s}=e,i=this.#e;if(t>=0&&i.setAttribute("stroke-width",t||1),r)for(let a=0,o=this.#t.length;a<o;a++)this.#t[a].setAttribute("points",r[a].join(","));if(s){const{transform:a,width:o,height:l}=this.#r(this.data.rotation,s);i.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),i.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class oA extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=$e.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class nY extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class rY extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class sY extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class lA extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=$e.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class iY extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let r;t.hasAppearance||t.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:s}=_n.platform;return e.addEventListener("keydown",i=>{i.key==="Enter"&&(s?i.metaKey:i.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Qv=class dA{#e=null;#t=null;#r=null;#n=new Map;#a=null;#s=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:s,page:i,viewport:a,structTreeLayer:o,commentManager:l,linkService:d,annotationStorage:c}){this.div=e,this.#e=t,this.#t=r,this.#a=o||null,this.#s=d||null,this.#r=c||new Kv,this.page=i,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=l||null}hasEditableAnnotations(){return this.#n.size>0}async#i(e,t,r){const s=e.firstChild||e,i=s.id=`${Vv}${t}`,a=await this.#a?.getAriaAttributes(i);if(a)for(const[o,l]of a)s.setAttribute(o,l);r?r.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,s,!1))}async render(e){const{annotations:t}=e,r=this.div;Mi(r,this.viewport);const s=new Map,i={data:null,layer:r,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new gd,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const o=a.annotationType===qt.POPUP;if(o){const c=s.get(a.id);if(!c)continue;i.elements=c}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;i.data=a;const l=q0.create(i);if(!l.isRenderable)continue;if(!o&&a.popupRef){const c=s.get(a.popupRef);c?c.push(l):s.set(a.popupRef,[l])}const d=l.render();a.hidden&&(d.style.visibility="hidden"),await this.#i(d,a.id,i.elements),l.extraPopupElement?.popup?.renderCommentButton(),l._isEditable&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#o()}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#s,svgFactory:new gd,parent:this};for(const r of e){r.borderStyle||=dA._defaultBorderStyle,t.data=r;const s=q0.create(t);if(!s.isRenderable)continue;const i=s.render();await this.#i(i,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Mi(t,{rotation:e.rotation}),this.#o(),t.hidden=!1}#o(){if(!this.#t)return;const e=this.div;for(const[t,r]of this.#t){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:i}=s;i?i.nodeName==="CANVAS"?i.replaceWith(r):i.classList.contains("annotationContent")?i.after(r):i.before(r):s.append(r);const a=this.#n.get(t);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,s.id,r),a._hasNoCanvas=!1):a.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:r,rotation:s}=e,i=new $G({data:{id:r,rect:e.getPDFRect(),rotation:s},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#r}),a=i.render();return t.append(a),this.#e?.moveElementInDOM(t,a,a,!1),i.createOrUpdatePopup(),i}static get _defaultBorderStyle(){return Xe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ho.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Ec=/\r\n?|\n/g;class bn extends je{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=bn.prototype,t=i=>i.isEmpty(),r=ri.TRANSLATE_SMALL,s=ri.TRANSLATE_BIG;return Xe(this,"_keyboardManager",new Kd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}]]))}static _type="freetext";static _editorType=$e.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||bn._defaultColor||je._defaultLineColor,this.#n=e.fontSize||bn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){je.initialize(e,t);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case nt.FREETEXT_SIZE:bn._defaultFontSize=t;break;case nt.FREETEXT_COLOR:bn._defaultColor=t;break}}updateParams(e,t){switch(e){case nt.FREETEXT_SIZE:this.#a(t);break;case nt.FREETEXT_COLOR:this.#s(t);break}}static get defaultPropertiesToUpdate(){return[[nt.FREETEXT_SIZE,bn._defaultFontSize],[nt.FREETEXT_COLOR,bn._defaultColor||je._defaultLineColor]]}get propertiesToUpdate(){return[[nt.FREETEXT_SIZE,this.#n],[nt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new pd(this),[["colorPicker",this._colorPicker]]}get colorType(){return nt.FREETEXT_COLOR}#a(e){const t=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-this.#n)*this.parentScale),this.#n=s,this.#o()},r=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const t=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-bn._internalPadding*e,-(bn._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let t=null;for(const r of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(bn.#d(r)),t=r);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:i}=this,a=i.style.display,o=i.classList.contains("hidden");i.classList.remove("hidden"),i.style.display="hidden",s.div.append(this.div),r=i.getBoundingClientRect(),i.remove(),i.style.display=a,i.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/t):(this.width=r.height/e,this.height=r.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#i().trimEnd();if(e===t)return;const r=s=>{if(this.#e=s,!s){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{r(t)},undo:()=>{r(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){bn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,i]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[d,c]=this.pageDimensions,[u,h]=this.pageTranslation;let p,v;switch(this.rotation){case 0:p=e+(a[0]-u)/d,v=t+this.height-(a[1]-h)/c;break;case 90:p=e+(a[0]-u)/d,v=t-(a[1]-h)/c,[o,l]=[l,-o];break;case 180:p=e-this.width+(a[0]-u)/d,v=t-(a[1]-h)/c,[o,l]=[-o,-l];break;case 270:p=e+(a[0]-u-this.height*c)/d,v=t+(a[1]-h-this.width*d)/c,[o,l]=[-l,o];break}this.setAt(p*s,v*i,o,l)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#d(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Ec,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:r}=t;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const s=bn.#u(t.getData("text")||"").replaceAll(Ec,`
`);if(!s)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const a=i.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),i.collapseToStart();return}const{startContainer:o,startOffset:l}=a,d=[],c=[];if(o.nodeType===Node.TEXT_NODE){const p=o.parentElement;if(c.push(o.nodeValue.slice(l).replaceAll(Ec,"")),p!==this.editorDiv){let v=d;for(const g of this.editorDiv.childNodes){if(g===p){v=c;continue}v.push(bn.#d(g))}}d.push(o.nodeValue.slice(0,l).replaceAll(Ec,""))}else if(o===this.editorDiv){let p=d,v=0;for(const g of this.editorDiv.childNodes)v++===l&&(p=c),p.push(bn.#d(g))}this.#e=`${d.join(`
`)}${s}${c.join(`
`)}`,this.#l();const u=new Range;let h=Math.sumPrecise(d.map(p=>p.length));for(const{firstChild:p}of this.editorDiv.childNodes)if(p.nodeType===Node.TEXT_NODE){const v=p.nodeValue.length;if(h<=v){u.setStart(p,h),u.setEnd(p,h);break}h-=v}i.removeAllRanges(),i.addRange(u)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#f(){return this.#e.replaceAll(""," ")}static#u(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=bn._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,r){let s=null;if(e instanceof iA){const{data:{defaultAppearanceData:{fontSize:a,fontColor:o},rect:l,rotation:d,id:c,popupRef:u,richText:h,contentsObj:p,creationDate:v,modificationDate:g},textContent:m,textPosition:b,parent:{page:{pageNumber:k}}}=e;if(!m||m.length===0)return null;s=e={annotationType:$e.FREETEXT,color:Array.from(o),fontSize:a,value:m.join(`
`),position:b,pageIndex:k-1,rect:l.slice(0),rotation:d,annotationElementId:c,id:c,deleted:!1,popupRef:u,comment:p?.str||null,richText:h,creationDate:v,modificationDate:g}}const i=await super.deserialize(e,t,r);return i.#n=e.fontSize,i.color=be.makeHexColor(...e.color),i.#e=bn.#u(e.value),i._initialData=s,e.comment&&i.setCommentData(e),i}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=je._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#f()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#h(r)?null:(r.id=this.annotationElementId,r)}#h(e){const{value:t,fontSize:r,color:s,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==r||e.color.some((a,o)=>a!==s[o])||e.pageIndex!==i}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:r}=t;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,t.replaceChildren();for(const s of this.#e.split(`
`)){const i=document.createElement("div");i.append(s?document.createTextNode(s):document.createElement("br")),t.append(i)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class ve{static PRECISION=1e-4;toSVGPath(){jt("Abstract method `toSVGPath` must be implemented.")}get box(){jt("Abstract getter `box` must be implemented.")}serialize(e,t){jt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,s,i,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*s,a[o+1]=r+e[o+1]*i;return a}static _rescaleAndSwap(e,t,r,s,i,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*s,a[o+1]=r+e[o]*i;return a}static _translate(e,t,r,s){s||=new Float32Array(e.length);for(let i=0,a=e.length;i<a;i+=2)s[i]=t+e[i],s[i+1]=r+e[i+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,s,i){switch(i){case 90:return[1-t/r,e/s];case 180:return[1-e/r,1-t/s];case 270:return[t/r,1-e/s];default:return[e/r,t/s]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,s,i,a){return[(e+5*r)/6,(t+5*s)/6,(5*r+i)/6,(5*s+a)/6,(r+i)/2,(s+a)/2]}}class ca{#e;#t=[];#r;#n;#a=[];#s=new Float32Array(18);#i;#o;#d;#l;#f;#u;#h=[];static#m=8;static#p=2;static#c=ca.#m+ca.#p;constructor({x:e,y:t},r,s,i,a,o=0){this.#e=r,this.#u=i*s,this.#n=a,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#r=o,this.#l=ca.#m*s,this.#d=ca.#c*s,this.#f=s,this.#h.push(e,t)}isEmpty(){return isNaN(this.#s[8])}#g(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[r,s,i,a]=this.#e;return[(this.#i+(e[0]-t[0])/2-r)/i,(this.#o+(e[1]-t[1])/2-s)/a,(this.#i+(t[0]-e[0])/2-r)/i,(this.#o+(t[1]-e[1])/2-s)/a]}add({x:e,y:t}){this.#i=e,this.#o=t;const[r,s,i,a]=this.#e;let[o,l,d,c]=this.#s.subarray(8,12);const u=e-d,h=t-c,p=Math.hypot(u,h);if(p<this.#d)return!1;const v=p-this.#l,g=v/p,m=g*u,b=g*h;let k=o,_=l;o=d,l=c,d+=m,c+=b,this.#h?.push(e,t);const E=-b/v,S=m/v,T=E*this.#u,x=S*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([d+T,c+x],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([d-T,c-x],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([o+T,l+x],2),this.#a.push(NaN,NaN,NaN,NaN,(o+T-r)/i,(l+x-s)/a),this.#s.set([o-T,l-x],14),this.#t.push(NaN,NaN,NaN,NaN,(o-T-r)/i,(l-x-s)/a)),this.#s.set([k,_,o,l,d,c],6),!this.isEmpty()):(this.#s.set([k,_,o,l,d,c],6),Math.abs(Math.atan2(_-l,k-o)-Math.atan2(b,m))<Math.PI/2?([o,l,d,c]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((o+d)/2-r)/i,((l+c)/2-s)/a),[o,l,k,_]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((k+o)/2-r)/i,((_+l)/2-s)/a),!0):([k,_,o,l,d,c]=this.#s.subarray(0,6),this.#a.push(((k+5*o)/6-r)/i,((_+5*l)/6-s)/a,((5*o+d)/6-r)/i,((5*l+c)/6-s)/a,((o+d)/2-r)/i,((l+c)/2-s)/a),[d,c,o,l,k,_]=this.#s.subarray(12,18),this.#t.push(((k+5*o)/6-r)/i,((_+5*l)/6-s)/a,((5*o+d)/6-r)/i,((5*l+c)/6-s)/a,((o+d)/2-r)/i,((l+c)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#v();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?r.push(`L${e[s+4]} ${e[s+5]}`):r.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);this.#b(r);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?r.push(`L${t[s+4]} ${t[s+5]}`):r.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return this.#k(r),r.join(" ")}#v(){const[e,t,r,s]=this.#e,[i,a,o,l]=this.#g();return`M${(this.#s[2]-e)/r} ${(this.#s[3]-t)/s} L${(this.#s[4]-e)/r} ${(this.#s[5]-t)/s} L${i} ${a} L${o} ${l} L${(this.#s[16]-e)/r} ${(this.#s[17]-t)/s} L${(this.#s[14]-e)/r} ${(this.#s[15]-t)/s} Z`}#k(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#b(e){const[t,r,s,i]=this.#e,a=this.#s.subarray(4,6),o=this.#s.subarray(16,18),[l,d,c,u]=this.#g();e.push(`L${(a[0]-t)/s} ${(a[1]-r)/i} L${l} ${d} L${c} ${u} L${(o[0]-t)/s} ${(o[1]-r)/i}`)}newFreeDrawOutline(e,t,r,s,i,a){return new cA(e,t,r,s,i,a)}getOutlines(){const e=this.#a,t=this.#t,r=this.#s,[s,i,a,o]=this.#e,l=new Float32Array((this.#h?.length??0)+2);for(let u=0,h=l.length-2;u<h;u+=2)l[u]=(this.#h[u]-s)/a,l[u+1]=(this.#h[u+1]-i)/o;if(l[l.length-2]=(this.#i-s)/a,l[l.length-1]=(this.#o-i)/o,isNaN(r[6])&&!this.isEmpty())return this.#x(l);const d=new Float32Array(this.#a.length+24+this.#t.length);let c=e.length;for(let u=0;u<c;u+=2){if(isNaN(e[u])){d[u]=d[u+1]=NaN;continue}d[u]=e[u],d[u+1]=e[u+1]}c=this.#y(d,c);for(let u=t.length-6;u>=6;u-=6)for(let h=0;h<6;h+=2){if(isNaN(t[u+h])){d[c]=d[c+1]=NaN,c+=2;continue}d[c]=t[u+h],d[c+1]=t[u+h+1],c+=2}return this.#E(d,c),this.newFreeDrawOutline(d,l,this.#e,this.#f,this.#r,this.#n)}#x(e){const t=this.#s,[r,s,i,a]=this.#e,[o,l,d,c]=this.#g(),u=new Float32Array(36);return u.set([NaN,NaN,NaN,NaN,(t[2]-r)/i,(t[3]-s)/a,NaN,NaN,NaN,NaN,(t[4]-r)/i,(t[5]-s)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,d,c,NaN,NaN,NaN,NaN,(t[16]-r)/i,(t[17]-s)/a,NaN,NaN,NaN,NaN,(t[14]-r)/i,(t[15]-s)/a],0),this.newFreeDrawOutline(u,e,this.#e,this.#f,this.#r,this.#n)}#E(e,t){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6}#y(e,t){const r=this.#s.subarray(4,6),s=this.#s.subarray(16,18),[i,a,o,l]=this.#e,[d,c,u,h]=this.#g();return e.set([NaN,NaN,NaN,NaN,(r[0]-i)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,d,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(s[0]-i)/o,(s[1]-a)/l],t),t+=24}}class cA extends ve{#e;#t=new Float32Array(4);#r;#n;#a;#s;#i;constructor(e,t,r,s,i,a){super(),this.#i=e,this.#a=t,this.#e=r,this.#s=s,this.#r=i,this.#n=a,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(a);const[o,l,d,c]=this.#t;for(let u=0,h=e.length;u<h;u+=2)e[u]=(e[u]-o)/d,e[u+1]=(e[u+1]-l)/c;for(let u=0,h=t.length;u<h;u+=2)t[u]=(t[u]-o)/d,t[u+1]=(t[u+1]-l)/c}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let t=6,r=this.#i.length;t<r;t+=6){if(isNaN(this.#i[t])){e.push(`L${this.#i[t+4]} ${this.#i[t+5]}`);continue}e.push(`C${this.#i[t]} ${this.#i[t+1]} ${this.#i[t+2]} ${this.#i[t+3]} ${this.#i[t+4]} ${this.#i[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,r,s],i){const a=r-e,o=s-t;let l,d;switch(i){case 0:l=ve._rescale(this.#i,e,s,a,-o),d=ve._rescale(this.#a,e,s,a,-o);break;case 90:l=ve._rescaleAndSwap(this.#i,e,t,a,o),d=ve._rescaleAndSwap(this.#a,e,t,a,o);break;case 180:l=ve._rescale(this.#i,r,t,-a,o),d=ve._rescale(this.#a,r,t,-a,o);break;case 270:l=ve._rescaleAndSwap(this.#i,r,s,-a,-o),d=ve._rescaleAndSwap(this.#a,r,s,-a,-o);break}return{outline:Array.from(l),points:[Array.from(d)]}}#o(e){const t=this.#i;let r=t[4],s=t[5];const i=[r,s,r,s];let a=r,o=s,l=r,d=s;const c=e?Math.max:Math.min,u=new Float32Array(4);for(let p=6,v=t.length;p<v;p+=6){const g=t[p+4],m=t[p+5];isNaN(t[p])?(be.pointBoundingBox(g,m,i),o>m?(a=g,o=m):o===m&&(a=c(a,g)),d<m?(l=g,d=m):d===m&&(l=c(l,g))):(u[0]=u[1]=1/0,u[2]=u[3]=-1/0,be.bezierBoundingBox(r,s,...t.slice(p,p+6),u),be.rectBoundingBox(u[0],u[1],u[2],u[3],i),o>u[1]?(a=u[0],o=u[1]):o===u[1]&&(a=c(a,u[0])),d<u[3]?(l=u[2],d=u[3]):d===u[3]&&(l=c(l,u[2]))),r=g,s=m}const h=this.#t;h[0]=i[0]-this.#r,h[1]=i[1]-this.#r,h[2]=i[2]-i[0]+2*this.#r,h[3]=i[3]-i[1]+2*this.#r,this.firstPoint=[a,o],this.lastPoint=[l,d]}get box(){return this.#t}newOutliner(e,t,r,s,i,a=0){return new ca(e,t,r,s,i,a)}getNewOutline(e,t){const[r,s,i,a]=this.#t,[o,l,d,c]=this.#e,u=i*d,h=a*c,p=r*d+o,v=s*c+l,g=this.newOutliner({x:this.#a[0]*u+p,y:this.#a[1]*h+v},this.#e,this.#s,e,this.#n,t??this.#r);for(let m=2;m<this.#a.length;m+=2)g.add({x:this.#a[m]*u+p,y:this.#a[m+1]*h+v});return g.getOutlines()}}class Ng{#e;#t;#r;#n=[];#a=[];constructor(e,t=0,r=0,s=!0){const i=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:g,y:m,width:b,height:k}of e){const _=Math.floor((g-t)/a)*a,E=Math.ceil((g+b+t)/a)*a,S=Math.floor((m-t)/a)*a,T=Math.ceil((m+k+t)/a)*a,x=[_,S,T,!0],A=[E,S,T,!1];this.#n.push(x,A),be.rectBoundingBox(_,S,E,T,i)}const o=i[2]-i[0]+2*r,l=i[3]-i[1]+2*r,d=i[0]-r,c=i[1]-r;let u=s?-1/0:1/0,h=1/0;const p=this.#n.at(s?-1:-2),v=[p[0],p[2]];for(const g of this.#n){const[m,b,k,_]=g;!_&&s?b<h?(h=b,u=m):b===h&&(u=Math.max(u,m)):_&&!s&&(b<h?(h=b,u=m):b===h&&(u=Math.min(u,m))),g[0]=(m-d)/o,g[1]=(b-c)/l,g[2]=(k-c)/l}this.#e=new Float32Array([d,c,o,l]),this.#t=[u,h],this.#r=v}getOutlines(){this.#n.sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#d(t),e.push(...this.#l(t)));return this.#s(e)}#s(e){const t=[],r=new Set;for(const a of e){const[o,l,d]=a;t.push([o,l,a],[o,d,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],d=t[a+1][2];l.push(d),d.push(l),r.add(l),r.add(d)}const s=[];let i;for(;r.size>0;){const a=r.values().next().value;let[o,l,d,c,u]=a;r.delete(a);let h=o,p=l;for(i=[o,d],s.push(i);;){let v;if(r.has(c))v=c;else if(r.has(u))v=u;else break;r.delete(v),[o,l,d,c,u]=v,h!==o&&(i.push(h,p,o,p===l?l:d),h=o),p=p===l?d:l}i.push(h,p)}return new aY(s,this.#e,this.#t,this.#r)}#i(e){const t=this.#a;let r=0,s=t.length-1;for(;r<=s;){const i=r+s>>1,a=t[i][0];if(a===e)return i;a<e?r=i+1:s=i-1}return s+1}#o([,e,t]){const r=this.#i(e);this.#a.splice(r,0,[e,t])}#d([,e,t]){const r=this.#i(e);for(let s=r;s<this.#a.length;s++){const[i,a]=this.#a[s];if(i!==e)break;if(i===e&&a===t){this.#a.splice(s,1);return}}for(let s=r-1;s>=0;s--){const[i,a]=this.#a[s];if(i!==e)break;if(i===e&&a===t){this.#a.splice(s,1);return}}}#l(e){const[t,r,s]=e,i=[[t,r,s]],a=this.#i(s);for(let o=0;o<a;o++){const[l,d]=this.#a[o];for(let c=0,u=i.length;c<u;c++){const[,h,p]=i[c];if(!(d<=h||p<=l)){if(h>=l){if(p>d)i[c][1]=d;else{if(u===1)return[];i.splice(c,1),c--,u--}continue}i[c][2]=l,p>d&&i.push([t,d,p])}}}return i}}class aY extends ve{#e;#t;constructor(e,t,r,s){super(),this.#t=e,this.#e=t,this.firstPoint=r,this.lastPoint=s}toSVGPath(){const e=[];for(const t of this.#t){let[r,s]=t;e.push(`M${r} ${s}`);for(let i=2;i<t.length;i+=2){const a=t[i],o=t[i+1];a===r?(e.push(`V${o}`),s=o):o===s&&(e.push(`H${a}`),r=a)}e.push("Z")}return e.join(" ")}serialize([e,t,r,s],i){const a=[],o=r-e,l=s-t;for(const d of this.#t){const c=new Array(d.length);for(let u=0;u<d.length;u+=2)c[u]=e+d[u]*o,c[u+1]=s-d[u+1]*l;a.push(c)}return a}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class Pg extends ca{newFreeDrawOutline(e,t,r,s,i,a){return new oY(e,t,r,s,i,a)}}class oY extends cA{newOutliner(e,t,r,s,i,a=0){return new Pg(e,t,r,s,i,a)}}class Xt extends je{#e=null;#t=0;#r;#n=null;#a=null;#s=null;#i=null;#o=0;#d=null;#l=null;#f=null;#u=!1;#h=null;#m=null;#p=null;#c="";#g;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=$e.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Xt.prototype;return Xe(this,"_keyboardManager",new Kd([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Xt._defaultColor,this.#g=e.thickness||Xt._defaultThickness,this.opacity=e.opacity||Xt._defaultOpacity,this.#r=e.boxes||null,this.#v=e.methodOfCreation||"",this.#c=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#b(e),this.#w()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#o=e.focusOffset,this.#k(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#g,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#k(){const e=new Ng(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new Ng(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();const{firstPoint:r}=this.#l;this.#h=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:s}=this.#s;this.#m=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:t,clipPathId:r}){this.#l=e;const s=1.5;if(this.#s=e.getNewOutline(this.#g/2+s,.0025),t>=0)this.#f=t,this.#n=r,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const u=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:Xt.#S(this.#l.box,(u-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Xt.#S(this.#s.box,u),path:{d:this.#s.toSVGPath()}})}const[i,a,o,l]=e.box;switch(this.rotation){case 0:this.x=i,this.y=a,this.width=o,this.height=l;break;case 90:{const[u,h]=this.parentDimensions;this.x=a,this.y=1-i,this.width=o*h/u,this.height=l*u/h;break}case 180:this.x=1-i,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[u,h]=this.parentDimensions;this.x=1-a,this.y=i,this.width=o*h/u,this.height=l*u/h;break}}const{firstPoint:d}=e;this.#h=[(d[0]-i)/o,(d[1]-a)/l];const{lastPoint:c}=this.#s;this.#m=[(c[0]-i)/o,(c[1]-a)/l]}static initialize(e,t){je.initialize(e,t),Xt._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case nt.HIGHLIGHT_COLOR:Xt._defaultColor=t;break;case nt.HIGHLIGHT_THICKNESS:Xt._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#h}updateParams(e,t){switch(e){case nt.HIGHLIGHT_COLOR:this.#x(t);break;case nt.HIGHLIGHT_THICKNESS:this.#E(t);break}}static get defaultPropertiesToUpdate(){return[[nt.HIGHLIGHT_COLOR,Xt._defaultColor],[nt.HIGHLIGHT_THICKNESS,Xt._defaultThickness]]}get propertiesToUpdate(){return[[nt.HIGHLIGHT_COLOR,this.color||Xt._defaultColor],[nt.HIGHLIGHT_THICKNESS,this.#g||Xt._defaultThickness],[nt.HIGHLIGHT_FREE,this.#u]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#x(e){const t=(i,a)=>{this.color=i,this.opacity=a,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:t.bind(this,e,Xt._defaultOpacity),undo:t.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#E(e){const t=this.#g,r=s=>{this.#g=s,this.#y(s)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new dr({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#O())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#O())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#A(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#A():e&&(this.#w(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#y(e){this.#u&&(this.#b({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#A(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#w(e=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#n))}static#S([e,t,r,s],i){switch(i){case 90:return[1-t-s,e,s,r];case 180:return[1-e-r,1-t-s,r,s];case 270:return[t,1-e-r,s,r]}return[e,t,r,s]}rotate(e){const{drawLayer:t}=this.parent;let r;this.#u?(e=(e-this.rotation+360)%360,r=Xt.#S(this.#l.box,e)):r=Xt.#S([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#f,{bbox:r,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:Xt.#S(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#c&&(e.setAttribute("aria-label",this.#c),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#D.bind(this),{signal:this._uiManager._signal});const t=this.#d=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(this.width,this.height),FT(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#D(e){Xt._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#i,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#C(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#O(){return this.#u?this.rotation:0}#L(){if(this.#u)return null;const[e,t]=this.pageDimensions,[r,s]=this.pageTranslation,i=this.#r,a=new Float32Array(i.length*8);let o=0;for(const{x:l,y:d,width:c,height:u}of i){const h=l*e+r,p=(1-d)*t+s;a[o]=a[o+4]=h,a[o+1]=a[o+3]=p,a[o+2]=a[o+6]=h+c*e,a[o+5]=a[o+7]=p-u*t,o+=8}return a}#R(e){return this.#l.serialize(e,this.#O())}static startHighlighting(e,t,{target:r,x:s,y:i}){const{x:a,y:o,width:l,height:d}=r.getBoundingClientRect(),c=new AbortController,u=e.combinedSignal(c),h=p=>{c.abort(),this.#F(e,p)};window.addEventListener("blur",h,{signal:u}),window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("pointerdown",Ht,{capture:!0,passive:!1,signal:u}),window.addEventListener("contextmenu",_r,{signal:u}),r.addEventListener("pointermove",this.#N.bind(this,e),{signal:u}),this._freeHighlight=new Pg({x:s,y:i},[a,o,l,d],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,r){let s=null;if(e instanceof oA){const{data:{quadPoints:v,rect:g,rotation:m,id:b,color:k,opacity:_,popupRef:E,richText:S,contentsObj:T,creationDate:x,modificationDate:A},parent:{page:{pageNumber:O}}}=e;s=e={annotationType:$e.HIGHLIGHT,color:Array.from(k),opacity:_,quadPoints:v,boxes:null,pageIndex:O-1,rect:g.slice(0),rotation:m,annotationElementId:b,id:b,deleted:!1,popupRef:E,richText:S,comment:T?.str||null,creationDate:x,modificationDate:A}}else if(e instanceof Jv){const{data:{inkLists:v,rect:g,rotation:m,id:b,color:k,borderStyle:{rawWidth:_},popupRef:E,richText:S,contentsObj:T,creationDate:x,modificationDate:A},parent:{page:{pageNumber:O}}}=e;s=e={annotationType:$e.HIGHLIGHT,color:Array.from(k),thickness:_,inkLists:v,boxes:null,pageIndex:O-1,rect:g.slice(0),rotation:m,annotationElementId:b,id:b,deleted:!1,popupRef:E,richText:S,comment:T?.str||null,creationDate:x,modificationDate:A}}const{color:i,quadPoints:a,inkLists:o,opacity:l}=e,d=await super.deserialize(e,t,r);d.color=be.makeHexColor(...i),d.opacity=l||1,o&&(d.#g=e.thickness),d._initialData=s,e.comment&&d.setCommentData(e);const[c,u]=d.pageDimensions,[h,p]=d.pageTranslation;if(a){const v=d.#r=[];for(let g=0;g<a.length;g+=8)v.push({x:(a[g]-h)/c,y:1-(a[g+1]-p)/u,width:(a[g+2]-a[g])/c,height:(a[g+1]-a[g+5])/u});d.#k(),d.#w(),d.rotate(d.rotation)}else if(o){d.#u=!0;const v=o[0],g={x:v[0]-h,y:u-(v[1]-p)},m=new Pg(g,[0,0,c,u],1,d.#g/2,!0,.001);for(let _=0,E=v.length;_<E;_+=2)g.x=v[_]-h,g.y=u-(v[_+1]-p),m.add(g);const{id:b,clipPathId:k}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:m.toSVGPath()}},!0,!0);d.#b({highlightOutlines:m.getOutlines(),highlightId:b,clipPathId:k}),d.#w(),d.rotate(d.parentRotation)}return d}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=je._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:t,opacity:this.opacity,thickness:this.#g,quadPoints:this.#L(),outlines:this.#R(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#P(r)?null:(r.id=this.annotationElementId,r)}#P(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((r,s)=>r!==t[s])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class uA{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){jt("Not implemented")}}class Me extends je{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#a=null;static#s=NaN;static#i=null;static#o=null;static#d=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#h())}#l({drawOutlines:e,drawId:t,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#f(e,this.parent),this.#c(e.box)}#f(e,t){const{id:r}=t.drawLayer.draw(Me._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,t){const r=new Set(Object.keys(e));for(const[s,i]of Object.entries(t))r.has(s)?Object.assign(e[s],i):e[s]=i;return e}static getDefaultDrawingOptions(e){jt("Not implemented")}static get typesMap(){jt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,t),this._currentParent&&(Me.#r.updateProperty(r,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)e.push([r,t[s]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[r,s]of this.constructor.typesMap)e.push([r,t[s]]);return e}_updateProperty(e,t,r){const s=this._drawingOptions,i=s[t],a=o=>{s.updateProperty(t,o);const l=this.#e.updateProperty(t,o);l&&this.#c(l),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#h(),this.#c(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#h(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#h(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#f(this.#e,e)}}#m([e,t,r,s]){const{parentDimensions:[i,a],rotation:o}=this;switch(o){case 90:return[t,1-e,r*(a/i),s*(i/a)];case 180:return[1-e,1-t,r,s];case 270:return[1-t,e,r*(a/i),s*(i/a)];default:return[e,t,r,s]}}#p(){const{x:e,y:t,width:r,height:s,parentDimensions:[i,a],rotation:o}=this;switch(o){case 90:return[1-t,e,r*(i/a),s*(a/i)];case 180:return[1-e,1-t,r,s];case 270:return[t,1-e,r*(i/a),s*(a/i)];default:return[e,t,r,s]}}#c(e){[this.x,this.y,this.width,this.height]=this.#m(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#g(){const{x:e,y:t,width:r,height:s,rotation:i,parentRotation:a,parentDimensions:[o,l]}=this;switch((i*4+a)/90){case 1:return[1-t-s,e,s,r];case 2:return[1-e-r,1-t-s,r,s];case 3:return[t,1-e-r,s,r];case 4:return[e,t-r*(o/l),s*(l/o),r*(o/l)];case 5:return[1-t,e,r*(o/l),s*(l/o)];case 6:return[1-e-s*(l/o),1-t,s*(l/o),r*(o/l)];case 7:return[t-r*(o/l),1-e-s*(l/o),r*(o/l),s*(l/o)];case 8:return[e-r,t-s,r,s];case 9:return[1-t,e-r,s,r];case 10:return[1-e,1-t,r,s];case 11:return[t-s,1-e,s,r];case 12:return[e-s*(l/o),t,s*(l/o),r*(o/l)];case 13:return[1-t-r*(o/l),e-s*(l/o),r*(o/l),s*(l/o)];case 14:return[1-e,1-t-r*(o/l),s*(l/o),r*(o/l)];case 15:return[t,1-e,r*(o/l),s*(l/o)];default:return[e,t,r,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Me._mergeSVGProperties({bbox:this.#g()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),r}static createDrawerInstance(e,t,r,s,i){jt("Not implemented")}static startDrawing(e,t,r,s){const{target:i,offsetX:a,offsetY:o,pointerId:l,pointerType:d}=s;if(Me.#i&&Me.#i!==d)return;const{viewport:{rotation:c}}=e,{width:u,height:h}=i.getBoundingClientRect(),p=Me.#n=new AbortController,v=e.combinedSignal(p);if(Me.#s||=l,Me.#i??=d,window.addEventListener("pointerup",g=>{Me.#s===g.pointerId?this._endDraw(g):Me.#o?.delete(g.pointerId)},{signal:v}),window.addEventListener("pointercancel",g=>{Me.#s===g.pointerId?this._currentParent.endDrawingSession():Me.#o?.delete(g.pointerId)},{signal:v}),window.addEventListener("pointerdown",g=>{Me.#i===g.pointerType&&((Me.#o||=new Set).add(g.pointerId),Me.#r.isCancellable()&&(Me.#r.removeLastElement(),Me.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",_r,{signal:v}),i.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),i.addEventListener("touchmove",g=>{g.timeStamp===Me.#d&&Ht(g)},{signal:v}),e.toggleDrawing(),t._editorUndoBar?.hide(),Me.#r){e.drawLayer.updateProperties(this._currentDrawId,Me.#r.startNew(a,o,u,h,c));return}t.updateUIForDefaultProperties(this),Me.#r=this.createDrawerInstance(a,o,u,h,c),Me.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Me.#a.toSVGProperties(),Me.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Me.#d=-1,!Me.#r)return;const{offsetX:t,offsetY:r,pointerId:s}=e;if(Me.#s===s){if(Me.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Me.#r.add(t,r)),Me.#d=e.timeStamp,Ht(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Me.#r=null,Me.#a=null,Me.#i=null,Me.#d=NaN),Me.#n&&(Me.#n.abort(),Me.#n=null,Me.#s=NaN,Me.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Me.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=Me.#r,s=this._currentDrawId,i=r.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(s,r.setLastElement(i))},undo:()=>{t.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:nt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(nt.DRAW_STEP),!Me.#r.isEmpty()){const{pageDimensions:[r,s],scale:i}=t,a=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Me.#r.getOutlines(r*i,s*i,i,this._INNER_MARGIN),drawingOptions:Me.#a,mustBeCommitted:!e});return this._cleanup(!0),a}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,r,s,i,a){jt("Not implemented")}static async deserialize(e,t,r){const{rawDims:{pageWidth:s,pageHeight:i,pageX:a,pageY:o}}=t.viewport,l=this.deserializeDraw(a,o,s,i,this._INNER_MARGIN,e),d=await super.deserialize(e,t,r);return d.createDrawingOptions(e),d.#l({drawOutlines:l}),d.#h(),d.onScaleChanging(),d.rotate(),d}serializeDraw(e){const[t,r]=this.pageTranslation,[s,i]=this.pageDimensions;return this.#e.serialize([t,r,s,i],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class lY{#e=new Float64Array(6);#t;#r;#n;#a;#s;#i="";#o=0;#d=new Gd;#l;#f;constructor(e,t,r,s,i,a){this.#l=r,this.#f=s,this.#n=i,this.#a=a,[e,t]=this.#u(e,t);const o=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t],this.#r=[{line:o,points:this.#s}],this.#e.set(o,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#u(e,t){return ve._normalizePoint(e,t,this.#l,this.#f,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#s.length<=10}add(e,t){[e,t]=this.#u(e,t);const[r,s,i,a]=this.#e.subarray(2,6),o=e-i,l=t-a;return Math.hypot(this.#l*o,this.#f*l)<=2?null:(this.#s.push(e,t),isNaN(r)?(this.#e.set([i,a,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,s,i,a,e,t],0),this.#t.push(...ve.createBezierPoints(r,s,i,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,s,i){this.#l=r,this.#f=s,this.#n=i,[e,t]=this.#u(e,t);const a=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t];const o=this.#r.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#r.push({line:a,points:this.#s}),this.#e.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#d.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,t=this.#r.length;e<t;e++){const{line:r,points:s}=this.#r[e];this.#t=r,this.#s=s,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=ve.svgRound(this.#t[4]),t=ve.svgRound(this.#t[5]);if(this.#s.length===2)return this.#i=`${this.#i} M ${e} ${t} Z`,this.#i;if(this.#s.length<=6){const s=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,s)} M ${e} ${t}`,this.#o=6}if(this.#s.length===4){const s=ve.svgRound(this.#t[10]),i=ve.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${s} ${i}`,this.#o=12,this.#i}const r=[];this.#o===0&&(r.push(`M ${e} ${t}`),this.#o=6);for(let s=this.#o,i=this.#t.length;s<i;s+=6){const[a,o,l,d,c,u]=this.#t.slice(s,s+6).map(ve.svgRound);r.push(`C${a} ${o} ${l} ${d} ${c} ${u}`)}return this.#i+=r.join(" "),this.#o=this.#t.length,this.#i}getOutlines(e,t,r,s){const i=this.#r.at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),this.#d.build(this.#r,e,t,r,this.#n,this.#a,s),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Gd extends ve{#e;#t=0;#r;#n;#a;#s;#i;#o;#d;build(e,t,r,s,i,a,o){this.#a=t,this.#s=r,this.#i=s,this.#o=i,this.#d=a,this.#r=o??0,this.#n=e,this.#u()}get thickness(){return this.#d}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${ve.svgRound(t[4])} ${ve.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${ve.svgRound(t[10])} ${ve.svgRound(t[11])}`);continue}for(let r=6,s=t.length;r<s;r+=6){const[i,a,o,l,d,c]=t.subarray(r,r+6).map(ve.svgRound);e.push(`C${i} ${a} ${o} ${l} ${d} ${c}`)}}return e.join("")}serialize([e,t,r,s],i){const a=[],o=[],[l,d,c,u]=this.#f();let h,p,v,g,m,b,k,_,E;switch(this.#o){case 0:E=ve._rescale,h=e,p=t+s,v=r,g=-s,m=e+l*r,b=t+(1-d-u)*s,k=e+(l+c)*r,_=t+(1-d)*s;break;case 90:E=ve._rescaleAndSwap,h=e,p=t,v=r,g=s,m=e+d*r,b=t+l*s,k=e+(d+u)*r,_=t+(l+c)*s;break;case 180:E=ve._rescale,h=e+r,p=t,v=-r,g=s,m=e+(1-l-c)*r,b=t+d*s,k=e+(1-l)*r,_=t+(d+u)*s;break;case 270:E=ve._rescaleAndSwap,h=e+r,p=t+s,v=-r,g=-s,m=e+(1-d-u)*r,b=t+(1-l-c)*s,k=e+(1-d)*r,_=t+(1-l)*s;break}for(const{line:S,points:T}of this.#n)a.push(E(S,h,p,v,g,i?new Array(S.length):null)),o.push(E(T,h,p,v,g,i?new Array(T.length):null));return{lines:a,points:o,rect:[m,b,k,_]}}static deserialize(e,t,r,s,i,{paths:{lines:a,points:o},rotation:l,thickness:d}){const c=[];let u,h,p,v,g;switch(l){case 0:g=ve._rescale,u=-e/r,h=t/s+1,p=1/r,v=-1/s;break;case 90:g=ve._rescaleAndSwap,u=-t/s,h=-e/r,p=1/s,v=1/r;break;case 180:g=ve._rescale,u=e/r+1,h=-t/s,p=-1/r,v=1/s;break;case 270:g=ve._rescaleAndSwap,u=t/s+1,h=e/r+1,p=-1/s,v=-1/r;break}if(!a){a=[];for(const b of o){const k=b.length;if(k===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(k===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const _=new Float32Array(3*(k-2));a.push(_);let[E,S,T,x]=b.subarray(0,4);_.set([NaN,NaN,NaN,NaN,E,S],0);for(let A=4;A<k;A+=2){const O=b[A],C=b[A+1];_.set(ve.createBezierPoints(E,S,T,x,O,C),(A-2)*3),[E,S,T,x]=[T,x,O,C]}}}for(let b=0,k=a.length;b<k;b++)c.push({line:g(a[b].map(_=>_??NaN),u,h,p,v),points:g(o[b].map(_=>_??NaN),u,h,p,v)});const m=new this.prototype.constructor;return m.build(c,r,s,1,l,d,i),m}#l(e=this.#d){const t=this.#r+e/2*this.#i;return this.#o%180===0?[t/this.#a,t/this.#s]:[t/this.#s,t/this.#a]}#f(){const[e,t,r,s]=this.#e,[i,a]=this.#l(0);return[e+i,t+a,r-2*i,s-2*a]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:s}of this.#n){if(s.length<=12){for(let o=4,l=s.length;o<l;o+=6)be.pointBoundingBox(s[o],s[o+1],e);continue}let i=s[4],a=s[5];for(let o=6,l=s.length;o<l;o+=6){const[d,c,u,h,p,v]=s.subarray(o,o+6);be.bezierBoundingBox(i,a,d,c,u,h,p,v,e),i=p,a=v}}const[t,r]=this.#l();e[0]=In(e[0]-t,0,1),e[1]=In(e[1]-r,0,1),e[2]=In(e[2]+t,0,1),e[3]=In(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#h(t):null}#h(e){const[t,r]=this.#l();this.#d=e;const[s,i]=this.#l(),[a,o]=[s-t,i-r],l=this.#e;return l[0]-=a,l[1]-=o,l[2]+=2*a,l[3]+=2*o,l}updateParentDimensions([e,t],r){const[s,i]=this.#l();this.#a=e,this.#s=t,this.#i=r;const[a,o]=this.#l(),l=a-s,d=o-i,c=this.#e;return c[0]-=l,c[1]-=d,c[2]+=2*l,c[3]+=2*d,c}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(ve.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let r=0,s=0,i=0,a=0,o=0,l=0;switch(this.#t){case 90:s=t/e,i=-e/t,o=e;break;case 180:r=-1,a=-1,o=e,l=t;break;case 270:s=-t/e,i=e/t,l=t;break;default:return""}return`matrix(${r} ${s} ${i} ${a} ${ve.svgRound(o)} ${ve.svgRound(l)})`}getPathResizingSVGProperties([e,t,r,s]){const[i,a]=this.#l(),[o,l,d,c]=this.#e;if(Math.abs(d-i)<=ve.PRECISION||Math.abs(c-a)<=ve.PRECISION){const g=e+r/2-(o+d/2),m=t+s/2-(l+c/2);return{path:{"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(t)}`,transform:`${this.rotationTransform} translate(${g} ${m})`}}}const u=(r-2*i)/(d-2*i),h=(s-2*a)/(c-2*a),p=d/r,v=c/s;return{path:{"transform-origin":`${ve.svgRound(o)} ${ve.svgRound(l)}`,transform:`${this.rotationTransform} scale(${p} ${v}) translate(${ve.svgRound(i)} ${ve.svgRound(a)}) scale(${u} ${h}) translate(${ve.svgRound(-i)} ${ve.svgRound(-a)})`}}}getPathResizedSVGProperties([e,t,r,s]){const[i,a]=this.#l(),o=this.#e,[l,d,c,u]=o;if(o[0]=e,o[1]=t,o[2]=r,o[3]=s,Math.abs(c-i)<=ve.PRECISION||Math.abs(u-a)<=ve.PRECISION){const m=e+r/2-(l+c/2),b=t+s/2-(d+u/2);for(const{line:k,points:_}of this.#n)ve._translate(k,m,b,k),ve._translate(_,m,b,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const h=(r-2*i)/(c-2*i),p=(s-2*a)/(u-2*a),v=-h*(l+i)+e+i,g=-p*(d+a)+t+a;if(h!==1||p!==1||v!==0||g!==0)for(const{line:m,points:b}of this.#n)ve._rescale(m,v,g,h,p,m),ve._rescale(b,v,g,h,p,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],r){const[s,i]=r,a=this.#e,o=e-a[0],l=t-a[1];if(this.#a===s&&this.#s===i)for(const{line:d,points:c}of this.#n)ve._translate(d,o,l,d),ve._translate(c,o,l,c);else{const d=this.#a/s,c=this.#s/i;this.#a=s,this.#s=i;for(const{line:u,points:h}of this.#n)ve._rescale(u,o,l,d,c,u),ve._rescale(h,o,l,d,c,h);a[2]*=d,a[3]*=c}return a[0]=e,a[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ve.svgRound(e)} ${ve.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ve.svgRound(e[0])} ${ve.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class th extends uA{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:je._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new th(this._viewParameters);return e.updateAll(this),e}}class eb extends Me{static _type="ink";static _editorType=$e.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){je.initialize(e,t),this._defaultDrawingOptions=new th(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Xe(this,"typesMap",new Map([[nt.INK_THICKNESS,"stroke-width"],[nt.INK_COLOR,"stroke"],[nt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,r,s,i){return new lY(e,t,r,s,i,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,r,s,i,a){return Gd.deserialize(e,t,r,s,i,a)}static async deserialize(e,t,r){let s=null;if(e instanceof Jv){const{data:{inkLists:a,rect:o,rotation:l,id:d,color:c,opacity:u,borderStyle:{rawWidth:h},popupRef:p,richText:v,contentsObj:g,creationDate:m,modificationDate:b},parent:{page:{pageNumber:k}}}=e;s=e={annotationType:$e.INK,color:Array.from(c),thickness:h,opacity:u,paths:{points:a},boxes:null,pageIndex:k-1,rect:o.slice(0),rotation:l,annotationElementId:d,id:d,deleted:!1,popupRef:p,richText:v,comment:g?.str||null,creationDate:m,modificationDate:b}}const i=await super.deserialize(e,t,r);return i._initialData=s,e.comment&&i.setCommentData(e),i}get toolbarButtons(){return this._colorPicker||=new pd(this),[["colorPicker",this._colorPicker]]}get colorType(){return nt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:r}=this;t.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:r}){this._drawingOptions=eb.getDefaultDrawingOptions({stroke:be.makeHexColor(...e),"stroke-width":t,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:s,"stroke-opacity":i,"stroke-width":a}}=this,o=Object.assign(super.serialize(e),{color:je._colorManager.convert(s),opacity:i,thickness:a,paths:{lines:t,points:r}});return this.addComment(o),e?(o.isCopy=!0,o):this.annotationElementId&&!this.#e(o)?null:(o.id=this.annotationElementId,o)}#e(e){const{color:t,thickness:r,opacity:s,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((a,o)=>a!==t[o])||e.thickness!==r||e.opacity!==s||e.pageIndex!==i}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class Mg extends Gd{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Sc=8,Il=3;class ia{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,r,s){return r-=e,s-=t,r===0?s>0?0:4:r===1?s+6:2-s}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,r,s,i,a,o){const l=this.#t(r,s,i,a);for(let d=0;d<8;d++){const c=(-d+l-o+16)%8,u=this.#r[2*c],h=this.#r[2*c+1];if(e[(r+u)*t+(s+h)]!==0)return c}return-1}static#a(e,t,r,s,i,a,o){const l=this.#t(r,s,i,a);for(let d=0;d<8;d++){const c=(d+l+o+16)%8,u=this.#r[2*c],h=this.#r[2*c+1];if(e[(r+u)*t+(s+h)]!==0)return c}return-1}static#s(e,t,r,s){const i=e.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=e[c]<=s?1:0;for(let c=1;c<r-1;c++)a[c*t]=a[c*t+t-1]=0;for(let c=0;c<t;c++)a[c]=a[t*r-1-c]=0;let o=1,l;const d=[];for(let c=1;c<r-1;c++){l=1;for(let u=1;u<t-1;u++){const h=c*t+u,p=a[h];if(p===0)continue;let v=c,g=u;if(p===1&&a[h-1]===0)o+=1,g-=1;else if(p>=1&&a[h+1]===0)o+=1,g+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const m=[u,c],b=g===u+1,k={isHole:b,points:m,id:o,parent:0};d.push(k);let _;for(const D of d)if(D.id===l){_=D;break}_?_.isHole?k.parent=b?_.parent:l:k.parent=b?l:_.parent:k.parent=b?l:0;const E=this.#n(a,t,c,u,v,g,0);if(E===-1){a[h]=-o,a[h]!==1&&(l=Math.abs(a[h]));continue}let S=this.#r[2*E],T=this.#r[2*E+1];const x=c+S,A=u+T;v=x,g=A;let O=c,C=u;for(;;){const D=this.#a(a,t,O,C,v,g,1);S=this.#r[2*D],T=this.#r[2*D+1];const I=O+S,U=C+T;m.push(U,I);const H=O*t+C;if(a[H+1]===0?a[H]=-o:a[H]===1&&(a[H]=o),I===c&&U===u&&O===x&&C===A){a[h]!==1&&(l=Math.abs(a[h]));break}else v=O,g=C,O=I,C=U}}}return d}static#i(e,t,r,s){if(r-t<=4){for(let x=t;x<r-2;x+=2)s.push(e[x],e[x+1]);return}const i=e[t],a=e[t+1],o=e[r-4]-i,l=e[r-3]-a,d=Math.hypot(o,l),c=o/d,u=l/d,h=c*a-u*i,p=l/o,v=1/d,g=Math.atan(p),m=Math.cos(g),b=Math.sin(g),k=v*(Math.abs(m)+Math.abs(b)),_=v*(1-k+k**2),E=Math.max(Math.atan(Math.abs(b+m)*_),Math.atan(Math.abs(b-m)*_));let S=0,T=t;for(let x=t+2;x<r-2;x+=2){const A=Math.abs(h-c*e[x+1]+u*e[x]);A>S&&(T=x,S=A)}S>(d*E)**2?(this.#i(e,t,T+2,s),this.#i(e,T,r,s)):s.push(i,a)}static#o(e){const t=[],r=e.length;return this.#i(e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t}static#d(e,t,r,s,i,a){const o=new Float32Array(a**2),l=-2*s**2,d=a>>1;for(let g=0;g<a;g++){const m=(g-d)**2;for(let b=0;b<a;b++)o[g*a+b]=Math.exp((m+(b-d)**2)/l)}const c=new Float32Array(256),u=-2*i**2;for(let g=0;g<256;g++)c[g]=Math.exp(g**2/u);const h=e.length,p=new Uint8Array(h),v=new Uint32Array(256);for(let g=0;g<r;g++)for(let m=0;m<t;m++){const b=g*t+m,k=e[b];let _=0,E=0;for(let T=0;T<a;T++){const x=g+T-d;if(!(x<0||x>=r))for(let A=0;A<a;A++){const O=m+A-d;if(O<0||O>=t)continue;const C=e[x*t+O],D=o[T*a+A]*c[Math.abs(C-k)];_+=C*D,E+=D}}const S=p[b]=Math.round(_/E);v[S]++}return[p,v]}static#l(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t}static#f(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let s=-1/0,i=1/0;for(let o=0,l=r.length;o<l;o++){const d=r[o]=e[o<<2];s=Math.max(s,d),i=Math.min(i,d)}const a=255/(s-i);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-i)*a;return r}static#u(e){let t,r=-1/0,s=-1/0;const i=e.findIndex(l=>l!==0);let a=i,o=i;for(t=i;t<256;t++){const l=e[t];l>r&&(t-a>s&&(s=t-a,o=t-1),r=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#h(e){const t=e,{width:r,height:s}=e,{maxDim:i}=this.#e;let a=r,o=s;if(r>i||s>i){let h=r,p=s,v=Math.log2(Math.max(r,s)/i);const g=Math.floor(v);v=v===g?g-1:g;for(let b=0;b<v;b++){a=Math.ceil(h/2),o=Math.ceil(p/2);const k=new OffscreenCanvas(a,o);k.getContext("2d").drawImage(e,0,0,h,p,0,0,a,o),h=a,p=o,e!==t&&e.close(),e=k.transferToImageBitmap()}const m=Math.min(i/a,i/o);a=Math.round(a*m),o=Math.round(o*m)}const d=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,a,o),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,a,o);const c=d.getImageData(0,0,a,o).data;return[this.#f(c),a,o]}static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:s},i,a,o,l){let d=new OffscreenCanvas(1,1),c=d.getContext("2d",{alpha:!1});const u=200,h=c.font=`${r} ${s} ${u}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:g,actualBoundingBoxDescent:m,fontBoundingBoxAscent:b,fontBoundingBoxDescent:k,width:_}=c.measureText(e),E=1.5,S=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,_)*E),T=Math.ceil(Math.max(Math.abs(g)+Math.abs(m)||u,Math.abs(b)+Math.abs(k)||u)*E);d=new OffscreenCanvas(S,T),c=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),c.font=h,c.filter="grayscale(1)",c.fillStyle="white",c.fillRect(0,0,S,T),c.fillStyle="black",c.fillText(e,S*(E-1)/2,T*(3-E)/2);const x=this.#f(c.getImageData(0,0,S,T).data),A=this.#l(x),O=this.#u(A),C=this.#s(x,S,T,O);return this.processDrawnLines({lines:{curves:C,width:S,height:T},pageWidth:i,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,s,i){const[a,o,l]=this.#h(e),[d,c]=this.#d(a,o,l,Math.hypot(o,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),u=this.#u(c),h=this.#s(d,o,l,u);return this.processDrawnLines({lines:{curves:h,width:o,height:l},pageWidth:t,pageHeight:r,rotation:s,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:s,innerMargin:i,mustSmooth:a,areContours:o}){s%180!==0&&([t,r]=[r,t]);const{curves:l,width:d,height:c}=e,u=e.thickness??0,h=[],p=Math.min(t/d,r/c),v=p/t,g=p/r,m=[];for(const{points:k}of l){const _=a?this.#o(k):k;if(!_)continue;m.push(_);const E=_.length,S=new Float32Array(E),T=new Float32Array(3*(E===2?2:E-2));if(h.push({line:T,points:S}),E===2){S[0]=_[0]*v,S[1]=_[1]*g,T.set([NaN,NaN,NaN,NaN,S[0],S[1]],0);continue}let[x,A,O,C]=_;x*=v,A*=g,O*=v,C*=g,S.set([x,A,O,C],0),T.set([NaN,NaN,NaN,NaN,x,A],0);for(let D=4;D<E;D+=2){const I=S[D]=_[D]*v,U=S[D+1]=_[D+1]*g;T.set(ve.createBezierPoints(x,A,O,C,I,U),(D-2)*3),[x,A,O,C]=[O,C,I,U]}}if(h.length===0)return null;const b=o?new Mg:new Gd;return b.build(h,t,r,1,s,o?0:u,i),{outline:b,newCurves:m,areContours:o,thickness:u,width:d,height:c}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:s,height:i}){let a=1/0,o=-1/0,l=0;for(const _ of e){l+=_.length;for(let E=2,S=_.length;E<S;E++){const T=_[E]-_[E-2];a=Math.min(a,T),o=Math.max(o,T)}}let d;a>=-128&&o<=127?d=Int8Array:a>=-32768&&o<=32767?d=Int16Array:d=Int32Array;const c=e.length,u=Sc+Il*c,h=new Uint32Array(u);let p=0;h[p++]=u*Uint32Array.BYTES_PER_ELEMENT+(l-2*c)*d.BYTES_PER_ELEMENT,h[p++]=0,h[p++]=s,h[p++]=i,h[p++]=t?0:1,h[p++]=Math.max(0,Math.floor(r??0)),h[p++]=c,h[p++]=d.BYTES_PER_ELEMENT;for(const _ of e)h[p++]=_.length-2,h[p++]=_[0],h[p++]=_[1];const v=new CompressionStream("deflate-raw"),g=v.writable.getWriter();await g.ready,g.write(h);const m=d.prototype.constructor;for(const _ of e){const E=new m(_.length-2);for(let S=2,T=_.length;S<T;S++)E[S-2]=_[S]-_[S-2];g.write(E)}g.close();const b=await new Response(v.readable).arrayBuffer(),k=new Uint8Array(b);return jT(k)}static async decompressSignature(e){try{const t=IW(e),{readable:r,writable:s}=new DecompressionStream("deflate-raw"),i=s.getWriter();await i.ready,i.write(t).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let a=null,o=0;for await(const _ of r)a||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),a.set(_,o),o+=_.length;const l=new Uint32Array(a.buffer,0,a.length>>2),d=l[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const c=l[2],u=l[3],h=l[4]===0,p=l[5],v=l[6],g=l[7],m=[],b=(Sc+Il*v)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(g){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(a.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(a.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(a.buffer,b);break}o=0;for(let _=0;_<v;_++){const E=l[Il*_+Sc],S=new Float32Array(E+2);m.push(S);for(let T=0;T<Il-1;T++)S[T]=l[Il*_+Sc+T+1];for(let T=0;T<E;T++)S[T+2]=S[T]+k[o++]}return{areContours:h,thickness:p,outlines:m,width:c,height:u}}catch(t){return Ke(`decompressSignature: ${t}`),null}}}class tb extends uA{constructor(){super(),super.updateProperties({fill:je._defaultLineColor,"stroke-width":0})}clone(){const e=new tb;return e.updateAll(this),e}}class nb extends th{constructor(e){super(e),super.updateProperties({stroke:je._defaultLineColor,"stroke-width":1})}clone(){const e=new nb(this._viewParameters);return e.updateAll(this),e}}class ms extends Me{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=$e.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){je.initialize(e,t),this._defaultDrawingOptions=new tb,this._defaultDrawnSignatureOptions=new nb(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Xe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:s,mustSmooth:i,areContours:a,description:o,uuid:l,heightInPage:d}=this.#r,{rawDims:{pageWidth:c,pageHeight:u},rotation:h}=this.parent.viewport,p=ia.processDrawnLines({lines:s,pageWidth:c,pageHeight:u,rotation:h,innerMargin:ms._INNER_MARGIN,mustSmooth:i,areContours:a});this.addSignature(p,d,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:r,width:s,height:i}=this.#r,a=Math.max(s,i),o=ia.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:r,width:s,height:i},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,r,s){const{x:i,y:a}=this,{outline:o}=this.#r=e;this.#e=o instanceof Mg,this.description=r;let l;this.#e?l=ms.getDefaultDrawingOptions():(l=ms._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[,d]=this.pageDimensions;let c=t/d;c=c>=1?.5:c,this.width*=c/this.height,this.width>=1&&(c*=.9/this.width,this.width=.9),this.height=c,this.setDims(),this.x=i,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:r},rotation:s}=this.parent.viewport;return ia.process(e,t,r,s,ms._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:r,pageHeight:s},rotation:i}=this.parent.viewport;return ia.extractContoursFromText(e,t,r,s,i,ms._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:r},rotation:s}=this.parent.viewport;return ia.processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:s,innerMargin:ms._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=ms.getDefaultDrawingOptions():(this._drawingOptions=ms._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":s}}=this,i=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:s});return this.addComment(i),e?(i.paths={lines:t,points:r},i.uuid=this.#n,i.isCopy=!0):i.lines=t,this.#t&&(i.accessibilityData={type:"Figure",alt:this.#t}),i}static deserializeDraw(e,t,r,s,i,a){return a.areContours?Mg.deserialize(e,t,r,s,i,a):Gd.deserialize(e,t,r,s,i,a)}static async deserialize(e,t,r){const s=await super.deserialize(e,t,r);return s.#e=e.areContours,s.description=e.accessibilityData?.alt||"",s.#n=e.uuid,s}}class dY extends je{#e=null;#t=null;#r=null;#n=null;#a=null;#s="";#i=null;#o=!1;#d=null;#l=!1;#f=!1;static _type="stamp";static _editorType=$e.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){je.initialize(e,t)}static isHandlingMimeForPasting(e){return Tu.includes(e)}static paste(e,t){t.pasteEditor({mode:$e.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#s=e.file.name),this.#p()}#h(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:i,height:a}=e||this.copyCanvas(null,null,!0).imageData,o=await r.guess({name:"altText",request:{data:s,width:i,height:a,channels:s.length/(i*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),t&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#u(r,!0)).finally(()=>this.#h());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(s=>this.#u(s)).finally(()=>this.#h());return}if(this.#a){const r=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(s=>this.#u(s)).finally(()=>this.#h());return}const e=document.createElement("input");e.type="file",e.accept=Tu.join(",");const t=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(s)}r()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#m()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,s&&(this.#e=s),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const e=200;this.#d=setTimeout(()=>{this.#d=null,this.#g()},e)}#p(){const{div:e}=this;let{width:t,height:r}=this.#e;const[s,i]=this.pageDimensions,a=.75;if(this.width)t=this.width*s,r=this.height*i;else if(t>a*s||r>a*i){const l=Math.min(a*s/t,a*i/r);t*=l,r*=l}this._uiManager.enableWaiting(!1);const o=this.#i=document.createElement("canvas");o.setAttribute("role","img"),this.addContainer(o),this.width=t/s,this.height=r/i,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#g(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,r=!1){e||(e=224);const{width:s,height:i}=this.#e,a=new ts;let o=this.#e,l=s,d=i,c=null;if(t){if(s>t||i>t){const T=Math.min(t/s,t/i);l=Math.floor(s*T),d=Math.floor(i*T)}c=document.createElement("canvas");const h=c.width=Math.ceil(l*a.sx),p=c.height=Math.ceil(d*a.sy);this.#l||(o=this.#c(h,p));const v=c.getContext("2d");v.filter=this._uiManager.hcmFilter;let g="white",m="#cfcfd8";this._uiManager.hcmFilter!=="none"?m="black":MW.isDarkMode&&(g="#8f8f9d",m="#42414d");const b=15,k=b*a.sx,_=b*a.sy,E=new OffscreenCanvas(k*2,_*2),S=E.getContext("2d");S.fillStyle=g,S.fillRect(0,0,k*2,_*2),S.fillStyle=m,S.fillRect(0,0,k,_),S.fillRect(k,_,k,_),v.fillStyle=v.createPattern(E,"repeat"),v.fillRect(0,0,h,p),v.drawImage(o,0,0,o.width,o.height,0,0,h,p)}let u=null;if(r){let h,p;if(a.symmetric&&o.width<e&&o.height<e)h=o.width,p=o.height;else if(o=this.#e,s>e||i>e){const m=Math.min(e/s,e/i);h=Math.floor(s*m),p=Math.floor(i*m),this.#l||(o=this.#c(h,p))}const g=new OffscreenCanvas(h,p).getContext("2d",{willReadFrequently:!0});g.drawImage(o,0,0,o.width,o.height,0,0,h,p),u={width:h,height:p,data:g.getImageData(0,0,h,p).data}}return{canvas:c,width:l,height:d,imageData:u}}#c(e,t){const{width:r,height:s}=this.#e;let i=r,a=s,o=this.#e;for(;i>2*e||a>2*t;){const l=i,d=a;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const c=new OffscreenCanvas(i,a);c.getContext("2d").drawImage(o,0,0,l,d,0,0,i,a),o=c.transferToImageBitmap()}return o}#g(){const[e,t]=this.parentDimensions,{width:r,height:s}=this,i=new ts,a=Math.ceil(r*e*i.sx),o=Math.ceil(s*t*i.sy),l=this.#i;if(!l||l.width===a&&l.height===o)return;l.width=a,l.height=o;const d=this.#l?this.#e:this.#c(a,o),c=l.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(d,0,0,d.width,d.height,0,0,a,o)}#v(e){if(e){if(this.#l){const s=this._uiManager.imageManager.getSvgUrl(this.#t);if(s)return s}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,r]=this.pageDimensions,s=Math.round(this.width*t*Ia.PDF_TO_CSS_UNITS),i=Math.round(this.height*r*Ia.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,i);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,s,i),a.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,r){let s=null,i=!1;if(e instanceof lA){const{data:{rect:g,rotation:m,id:b,structParent:k,popupRef:_,richText:E,contentsObj:S,creationDate:T,modificationDate:x},container:A,parent:{page:{pageNumber:O}},canvas:C}=e;let D,I;C?(delete e.canvas,{id:D,bitmap:I}=r.imageManager.getFromCanvas(A.id,C),C.remove()):(i=!0,e._hasNoCanvas=!0);const U=(await t._structTree.getAriaAttributes(`${Vv}${b}`))?.get("aria-label")||"";s=e={annotationType:$e.STAMP,bitmapId:D,bitmap:I,pageIndex:O-1,rect:g.slice(0),rotation:m,annotationElementId:b,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:k,popupRef:_,richText:E,comment:S?.str||null,creationDate:T,modificationDate:x}}const a=await super.deserialize(e,t,r),{rect:o,bitmap:l,bitmapUrl:d,bitmapId:c,isSvg:u,accessibilityData:h}=e;i?(r.addMissingCanvas(e.id,a),a.#o=!0):c&&r.imageManager.isValidId(c)?(a.#t=c,l&&(a.#e=l)):a.#n=d,a.#l=u;const[p,v]=a.pageDimensions;return a.width=(o[2]-o[0])/p,a.height=(o[3]-o[1])/v,h&&(a.altTextData=h),a._initialData=s,e.comment&&a.setCommentData(e),a.#f=!!s,a}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#v(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:i}=this.serializeAltText(!1);if(!s&&i&&(r.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const o=this.#k(r);return o.isSame?null:(o.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(t===null)return r;t.stamps||=new Map;const a=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:a,serialized:r}),r.bitmap=this.#v(!1);else if(this.#l){const o=t.stamps.get(this.#t);a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=this.#v(!1))}return r}#k(e){const{pageIndex:t,accessibilityData:{altText:r}}=this._initialData,s=e.pageIndex===t,i=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&i,isSameAltText:i}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class bs{#e;#t=!1;#r=null;#n=null;#a=null;#s=new Map;#i=!1;#o=!1;#d=!1;#l=null;#f=null;#u=null;#h=null;#m=null;#p=-1;#c;static _initialized=!1;static#g=new Map([bn,eb,dY,Xt,ms].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:s,accessibilityManager:i,annotationLayer:a,drawLayer:o,textLayer:l,viewport:d,l10n:c}){const u=[...bs.#g.values()];if(!bs._initialized){bs._initialized=!0;for(const h of u)h.initialize(c,e)}e.registerEditorTypes(u),this.#c=e,this.pageIndex=t,this.div=r,this.#e=i,this.#r=a,this.viewport=d,this.#u=l,this.drawLayer=o,this._structTree=s,this.#c.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===$e.NONE}updateToolbar(e){this.#c.updateToolbar(e)}updateMode(e=this.#c.getMode()){switch(this.#y(),e){case $e.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case $e.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case $e.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===$e.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of bs.#g.values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#c.setEditingState(e)}addCommands(e){this.#c.addCommands(e)}cleanUndoStack(e){this.#c.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.div.classList.toggle("disabled",!e)}get#v(){return this.#s.size!==0?this.#s.values():this.#c.getEditors(this.pageIndex)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const e=new Set;for(const r of this.#v)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#c.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=this.#r;if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),this.#c.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}this.#d=!1,this.#c._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#u&&!this.#m){this.#m=new AbortController;const r=this.#c.combinedSignal(this.#m);this.#u.div.addEventListener("pointerdown",s=>{const{clientX:a,clientY:o,timeStamp:l}=s,d=this.#p;if(l-d>500){this.#p=l;return}this.#p=-1;const{classList:c}=this.div;c.toggle("getElements",!0);const u=document.elementsFromPoint(a,o);if(c.toggle("getElements",!1),!this.div.contains(u[0]))return;let h;const p=new RegExp(`^${cd}[0-9]+$`);for(const g of u)if(p.test(g.id)){h=g.id;break}if(!h)return;const v=this.#s.get(h);v?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),v.dblclick(s))},{signal:r,capture:!0})}const e=this.#r;if(e){const r=new Map,s=new Map;for(const a of this.#v){if(a.disableEditing(),!a.annotationElementId){a.updateFakeAnnotationElement(e);continue}if(a.serialize()!==null){r.set(a.annotationElementId,a);continue}else s.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}const i=e.getEditableAnnotations();for(const a of i){const{id:o}=a.data;if(this.#c.isDeletedAnnotationElement(o)){a.updateEdited({deleted:!0});continue}let l=s.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=r.get(o),l&&(this.#c.addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}this.#y(),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const r of bs.#g.values())t.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#c.getActive()!==e&&this.#c.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#h){this.#h=new AbortController;const e=this.#c.combinedSignal(this.#h);this.#u.div.addEventListener("pointerdown",this.#k.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#u.div.classList.remove("highlighting"))}#k(e){this.#c.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:r}=_n.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),Xt.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#c.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:t}=e;t&&this.#c.isDeletedAnnotationElement(t)&&this.#c.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#c.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#c.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#c.addDeletedAnnotationElement(e.annotationElementId),je.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#c.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#d),this.#c.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of this.#s.values())if(t.uid===e)return t;return null}getNextId(){return this.#c.getId()}get#b(){return bs.#g.get(this.#c.getMode())}combinedSignal(e){return this.#c.combinedSignal(e)}#x(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#c.updateMode(e.mode);const{offsetX:r,offsetY:s}=this.#E(),i=this.getNextId(),a=this.#x({parent:this,id:i,x:r,y:s,uiManager:this.#c,isCentered:!0,...t});a&&this.add(a)}async deserialize(e){return await bs.#g.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#c)||null}createAndAddNewEditor(e,t,r={}){const s=this.getNextId(),i=this.#x({parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:this.#c,isCentered:t,...r});return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}#E(){const{x:e,y:t,width:r,height:s}=this.boundingClientRect,i=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+s),d=(i+o)/2-e,c=(a+l)/2-t,[u,h]=this.viewport.rotation%180===0?[d,c]:[c,d];return{offsetX:u,offsetY:h}}addNewEditor(e={}){this.createAndAddNewEditor(this.#E(),!0,e)}setSelected(e){this.#c.setSelected(e)}toggleSelected(e){this.#c.toggleSelected(e)}unselect(e){this.#c.unselect(e)}pointerup(e){const{isMac:t}=_n.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#i||(this.#i=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#c.getMode();if(r===$e.STAMP||r===$e.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#c.getMode()===$e.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:t}=_n.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#i=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const r=this.#c.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#c,!1,e);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#f=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#c,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#f=t);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(e=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#b.endDrawing(e)):null}findNewParent(e,t,r){const s=this.#c.findParent(t,r);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#c.removeLayer(this)}#y(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Mi(this.div,e);for(const t of this.#c.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#c.commitOrRemove(),this.#y();const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Mi(this.div,{rotation:r}),t!==r)for(const s of this.#s.values())s.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#c.viewParameters.realScale}}class kn{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Xe(this,"_svgFactory",new gd)}static#a(e,[t,r,s,i]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*s}%`,a.height=`${100*i}%`}#s(){const e=kn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,t){const r=kn._svgFactory.createElement("clipPath");e.append(r);const s=`clip_${t}`;r.setAttribute("id",s),r.setAttribute("clipPathUnits","objectBoundingBox");const i=kn._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),s}#o(e,t){for(const[r,s]of Object.entries(t))s===null?e.removeAttribute(r):e.setAttribute(r,s)}draw(e,t=!1,r=!1){const s=kn.#n++,i=this.#s(),a=kn._svgFactory.createElement("defs");i.append(a);const o=kn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#r.set(s,o);const d=r?this.#i(a,l):null,c=kn._svgFactory.createElement("use");return i.append(c),c.setAttribute("href",`#${l}`),this.updateProperties(i,e),this.#t.set(s,i),{id:s,clipPathId:`url(#${d})`}}drawOutline(e,t){const r=kn.#n++,s=this.#s(),i=kn._svgFactory.createElement("defs");s.append(i);const a=kn._svgFactory.createElement("path");i.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const u=kn._svgFactory.createElement("mask");i.append(u),l=`mask_p${this.pageIndex}_${r}`,u.setAttribute("id",l),u.setAttribute("maskUnits","objectBoundingBox");const h=kn._svgFactory.createElement("rect");u.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=kn._svgFactory.createElement("use");u.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const d=kn._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${o}`),l&&d.setAttribute("mask",`url(#${l})`);const c=d.cloneNode();return s.append(c),d.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.updateProperties(s,e),this.#t.set(r,s),r}finalizeDraw(e,t){this.#r.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:r,bbox:s,rootClass:i,path:a}=t,o=typeof e=="number"?this.#t.get(e):e;if(o){if(r&&this.#o(o,r),s&&kn.#a(o,s),i){const{classList:l}=o;for(const[d,c]of Object.entries(i))l.toggle(d,c)}if(a){const d=o.firstChild.firstChild;this.#o(d,a)}}}updateParent(e,t){if(t===this)return;const r=this.#t.get(e);r&&(t.#e.append(r),this.#t.delete(e),t.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Ng};globalThis.pdfjsLib={AbortException:ni,AnnotationEditorLayer:bs,AnnotationEditorParamsType:nt,AnnotationEditorType:$e,AnnotationEditorUIManager:ri,AnnotationLayer:Qv,AnnotationMode:ws,AnnotationType:qt,applyOpacity:MT,build:rA,ColorPicker:dr,createValidAbsoluteUrl:Mv,CSSConstants:PT,DOMSVGFactory:gd,DrawLayer:kn,FeatureTest:_n,fetchData:cl,findContrastColor:LT,getDocument:Yv,getFilenameFromUrl:RT,getPdfFilenameFromUrl:IT,getRGB:ul,getUuid:Fv,getXfaPageViewport:NT,GlobalWorkerOptions:Si,ImageKind:Xl,InvalidPDFException:Su,isDataScheme:$d,isPdfFile:Qf,isValidExplicitDest:HT,MathClamp:In,noContextMenu:_r,normalizeUnicode:DT,OPS:Ko,OutputScale:ts,PasswordResponses:CT,PDFDataRangeTransport:Xv,PDFDateString:xu,PDFWorker:zo,PermissionFlag:AT,PixelsPerInch:Ia,RenderingCancelledException:Jf,renderRichText:Hv,ResponseException:ud,setLayerDimensions:Mi,shadow:Xe,SignatureExtractor:ia,stopEvent:Ht,SupportedImageMimeTypes:Tu,TextLayer:hd,TouchManager:zd,updateUrlHash:Lv,Util:be,VerbosityLevel:Bd,version:nA,XfaLayer:Bv};const cY=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ni,AnnotationEditorLayer:bs,AnnotationEditorParamsType:nt,AnnotationEditorType:$e,AnnotationEditorUIManager:ri,AnnotationLayer:Qv,AnnotationMode:ws,AnnotationType:qt,CSSConstants:PT,ColorPicker:dr,DOMSVGFactory:gd,DrawLayer:kn,FeatureTest:_n,GlobalWorkerOptions:Si,ImageKind:Xl,InvalidPDFException:Su,MathClamp:In,OPS:Ko,OutputScale:ts,PDFDataRangeTransport:Xv,PDFDateString:xu,PDFWorker:zo,PasswordResponses:CT,PermissionFlag:AT,PixelsPerInch:Ia,RenderingCancelledException:Jf,ResponseException:ud,SignatureExtractor:ia,SupportedImageMimeTypes:Tu,TextLayer:hd,TouchManager:zd,Util:be,VerbosityLevel:Bd,XfaLayer:Bv,applyOpacity:MT,build:rA,createValidAbsoluteUrl:Mv,fetchData:cl,findContrastColor:LT,getDocument:Yv,getFilenameFromUrl:RT,getPdfFilenameFromUrl:IT,getRGB:ul,getUuid:Fv,getXfaPageViewport:NT,isDataScheme:$d,isPdfFile:Qf,isValidExplicitDest:HT,noContextMenu:_r,normalizeUnicode:DT,renderRichText:Hv,setLayerDimensions:Mi,shadow:Xe,stopEvent:Ht,updateUrlHash:Lv,version:nA},Symbol.toStringTag,{value:"Module"}));var X0=Object.prototype.hasOwnProperty;function Z0(n,e,t){for(t of n.keys())if(Ao(t,e))return t}function Ao(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Ao(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=Z0(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=Z0(e,s),!s)||!Ao(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(X0.call(n,t)&&++r&&!X0.call(e,t)||!(t in e)||!Ao(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function Yd(n){let e=!1;return{promise:new Promise((r,s)=>{n.then(i=>!e&&r(i)).catch(i=>!e&&s(i))}),cancel(){e=!0}}}const uY=["onCopy","onCut","onPaste"],fY=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],hY=["onFocus","onBlur"],pY=["onInput","onInvalid","onReset","onSubmit"],gY=["onLoad","onError"],mY=["onKeyDown","onKeyPress","onKeyUp"],vY=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],bY=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],kY=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],yY=["onSelect"],_Y=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],wY=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],EY=["onScroll"],SY=["onWheel"],xY=["onAnimationStart","onAnimationEnd","onAnimationIteration"],TY=["onTransitionEnd"],AY=["onToggle"],CY=["onChange"],OY=[...uY,...fY,...hY,...pY,...gY,...mY,...vY,...bY,...kY,...yY,..._Y,...wY,...EY,...SY,...xY,...TY,...CY,...AY];function fA(n,e){const t={};for(const r of OY){const s=n[r];s&&(e?t[r]=(i=>s(i,e(r))):t[r]=s)}return t}var DY="Invariant failed";function Dt(n,e){if(!n)throw new Error(DY)}var pp,J0;function jY(){if(J0)return pp;J0=1;var n=function(){};return pp=n,pp}var RY=jY();const Fn=Ru(RY),hA=y.createContext(null),IY="noopener noreferrer nofollow";class NY{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Dt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Dt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||IY,e.target=r?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Dt(this.pdfDocument),Dt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Dt(Array.isArray(t));const r=t[0];new Promise(s=>{Dt(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(i=>{s(i)}).catch(()=>{Dt(!1)}):typeof r=="number"?s(r):Dt(!1)}).then(s=>{const i=s+1;Dt(this.pdfViewer),Dt(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:i})})})}goToPage(e){const t=e-1;Dt(this.pdfViewer),Dt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Co({children:n,type:e}){return f.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const Q0={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function PY(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Wo(){return y.useReducer(PY,{value:void 0,error:void 0})}const nh=typeof window<"u",pA=nh&&window.location.protocol==="file:";function MY(n){return typeof n<"u"}function Ji(n){return MY(n)&&n!==null}function LY(n){return typeof n=="string"}function FY(n){return n instanceof ArrayBuffer}function VY(n){return Dt(nh),n instanceof Blob}function Lg(n){return LY(n)&&/^data:/.test(n)}function e_(n){Dt(Lg(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function BY(){return nh&&window.devicePixelRatio||1}const gA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function t_(){Fn(!pA,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${gA}`)}function HY(){Fn(!pA,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${gA}`)}function Pa(n){n?.cancel&&n.cancel()}function Fg(n,e){return Object.defineProperty(n,"width",{get(){return this.getViewport({scale:e}).width},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.getViewport({scale:e}).height},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),n}function mA(n){return n.name==="AbortException"||n.name==="RenderingCancelledException"}function UY(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:i}=s.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:$Y}=cY,KY=(n,e)=>{switch(e){case Q0.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case Q0.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function n_(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const zY=y.forwardRef(function({children:e,className:t,error:r="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:i,file:a,inputRef:o,imageResourcesPath:l,loading:d="Loading PDF",noData:c="No PDF file specified.",onItemClick:u,onLoadError:h,onLoadProgress:p,onLoadSuccess:v,onPassword:g=KY,onSourceError:m,onSourceSuccess:b,options:k,renderMode:_,rotate:E,scale:S,...T},x){const[A,O]=Wo(),{value:C,error:D}=A,[I,U]=Wo(),{value:H,error:j}=I,V=y.useRef(new NY),F=y.useRef([]),G=y.useRef(void 0),B=y.useRef(void 0);a&&a!==G.current&&n_(a)&&(Fn(!Ao(a,G.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),G.current=a),k&&k!==B.current&&(Fn(!Ao(k,B.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),B.current=k);const ce=y.useRef({scrollPageIntoView:we=>{const{dest:Pe,pageNumber:Je,pageIndex:tt=Je-1}=we;if(u){u({dest:Pe,pageIndex:tt,pageNumber:Je});return}const ct=F.current[tt];if(ct){ct.scrollIntoView();return}Fn(!1,`An internal link leading to page ${Je} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});y.useImperativeHandle(x,()=>({linkService:V,pages:F,viewer:ce}),[]);function L(){b&&b()}function $(){D&&(Fn(!1,D.toString()),m&&m(D))}function M(){O({type:"RESET"})}y.useEffect(M,[a,O]);const Y=y.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return Lg(a)?{data:e_(a)}:(t_(),{url:a});if(a instanceof $Y)return{range:a};if(FY(a))return{data:a};if(nh&&VY(a))return{data:await UY(a)};if(Dt(typeof a=="object"),Dt(n_(a)),"url"in a&&typeof a.url=="string"){if(Lg(a.url)){const{url:we,...Pe}=a;return{data:e_(we),...Pe}}t_()}return a},[a]);y.useEffect(()=>{const we=Yd(Y());return we.promise.then(Pe=>{O({type:"RESOLVE",value:Pe})}).catch(Pe=>{O({type:"REJECT",error:Pe})}),()=>{Pa(we)}},[Y,O]),y.useEffect(()=>{if(!(typeof C>"u")){if(C===!1){$();return}L()}},[C]);function J(){H&&(v&&v(H),F.current=new Array(H.numPages),V.current.setDocument(H))}function ae(){j&&(Fn(!1,j.toString()),h&&h(j))}y.useEffect(function(){U({type:"RESET"})},[U,C]),y.useEffect(function(){if(!C)return;const Pe=k?{...C,...k}:C,Je=Yv(Pe);p&&(Je.onProgress=p),g&&(Je.onPassword=g);const tt=Je;return tt.promise.then(ct=>{tt.destroyed||U({type:"RESOLVE",value:ct})}).catch(ct=>{tt.destroyed||U({type:"REJECT",error:ct})}),()=>{tt.destroy()}},[k,U,C]),y.useEffect(()=>{if(!(typeof H>"u")){if(H===!1){ae();return}J()}},[H]),y.useEffect(function(){V.current.setViewer(ce.current),V.current.setExternalLinkRel(s),V.current.setExternalLinkTarget(i)},[s,i]);const ne=y.useCallback((we,Pe)=>{F.current[we]=Pe},[]),Ce=y.useCallback(we=>{delete F.current[we]},[]),Z=y.useMemo(()=>({imageResourcesPath:l,linkService:V.current,onItemClick:u,pdf:H,registerPage:ne,renderMode:_,rotate:E,scale:S,unregisterPage:Ce}),[l,u,H,ne,_,E,S,Ce]),pe=y.useMemo(()=>fA(T,()=>H),[T,H]);function de(){function we(Je){return!!Je?.pdf}if(!we(Z))throw new Error("pdf is undefined");const Pe=typeof e=="function"?e(Z):e;return f.jsx(hA.Provider,{value:Z,children:Pe})}function ge(){return a?H==null?f.jsx(Co,{type:"loading",children:typeof d=="function"?d():d}):H===!1?f.jsx(Co,{type:"error",children:typeof r=="function"?r():r}):de():f.jsx(Co,{type:"no-data",children:typeof c=="function"?c():c})}return f.jsx("div",{className:Yo("react-pdf__Document",t),ref:o,...pe,children:ge()})});function vA(){return y.useContext(hA)}function bA(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(i){for(var a=0,o=t;a<o.length;a++){var l=o[a];typeof l=="function"?l(i):l&&(l.current=i)}}}const kA=y.createContext(null);function rh(){return y.useContext(kA)}function WY(){const n=vA(),e=rh();Dt(e);const t={...n,...e},{filterAnnotations:r,imageResourcesPath:s,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:d,page:c,pdf:u,renderForms:h,rotate:p,scale:v=1}=t;Dt(u),Dt(c),Dt(i);const[g,m]=Wo(),{value:b,error:k}=g,_=y.useRef(null);Fn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function E(){b&&o&&o(b)}function S(){k&&(Fn(!1,k.toString()),a&&a(k))}y.useEffect(function(){m({type:"RESET"})},[m,c]),y.useEffect(function(){if(!c)return;const C=Yd(c.getAnnotations()),D=C;return C.promise.then(I=>{m({type:"RESOLVE",value:I})}).catch(I=>{m({type:"REJECT",error:I})}),()=>{Pa(D)}},[m,c]),y.useEffect(()=>{if(b!==void 0){if(b===!1){S();return}E()}},[b]);function T(){d&&d()}function x(O){Fn(!1,`${O}`),l&&l(O)}const A=y.useMemo(()=>c.getViewport({scale:v,rotation:p}),[c,p,v]);return y.useEffect(function(){if(!u||!c||!i||!b)return;const{current:C}=_;if(!C)return;const D=A.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:u.annotationStorage,commentManager:null,div:C,l10n:null,linkService:i,page:c,structTreeLayer:null,viewport:D},U={annotations:r?r({annotations:b}):b,annotationStorage:u.annotationStorage,div:C,imageResourcesPath:s,linkService:i,page:c,renderForms:h,viewport:D};C.innerHTML="";try{new Qv(I).render(U),T()}catch(H){x(H)}return()=>{}},[b,r,s,i,c,u,h,A]),f.jsx("div",{className:Yo("react-pdf__Page__annotations","annotationLayer"),ref:_})}const yA={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},GY=/^H(\d+)$/;function YY(n){return n in yA}function sh(n){return"children"in n}function _A(n){return sh(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function qY(n){const e={};if(sh(n)){const{role:t}=n,r=t.match(GY);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(YY(t)){const s=yA[t];s&&(e.role=s)}}return e}function wA(n){const e={};if(sh(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),_A(n)){const[t]=n.children;if(t){const r=wA(t);return{...e,...r}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function XY(n){return n?{...qY(n),...wA(n)}:null}function EA({className:n,node:e}){const t=y.useMemo(()=>XY(e),[e]),r=y.useMemo(()=>!sh(e)||_A(e)?null:e.children.map((s,i)=>f.jsx(EA,{node:s},i)),[e]);return f.jsx("span",{className:n,...t,children:r})}function ZY(){const n=rh();Dt(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,s]=Wo(),{value:i,error:a}=r,{customTextRenderer:o,page:l}=n;function d(){i&&t&&t(i)}function c(){a&&(Fn(!1,a.toString()),e&&e(a))}return y.useEffect(function(){s({type:"RESET"})},[s,l]),y.useEffect(function(){if(o||!l)return;const h=Yd(l.getStructTree()),p=h;return h.promise.then(v=>{s({type:"RESOLVE",value:v})}).catch(v=>{s({type:"REJECT",error:v})}),()=>Pa(p)},[o,l,s]),y.useEffect(()=>{if(i!==void 0){if(i===!1){c();return}d()}},[i]),i?f.jsx(EA,{className:"react-pdf__Page__structTree structTree",node:i}):null}const r_=ws;function JY(n){const e=rh();Dt(e);const t={...e,...n},{_className:r,canvasBackground:s,devicePixelRatio:i=BY(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:d,renderTextLayer:c,rotate:u,scale:h}=t,{canvasRef:p}=n;Dt(l);const v=y.useRef(null);function g(){l&&o&&o(Fg(l,h))}function m(E){mA(E)||(Fn(!1,E.toString()),a&&a(E))}const b=y.useMemo(()=>l.getViewport({scale:h*i,rotation:u}),[i,l,u,h]),k=y.useMemo(()=>l.getViewport({scale:h,rotation:u}),[l,u,h]);y.useEffect(function(){if(!l)return;l.cleanup();const{current:S}=v;if(!S)return;S.width=b.width,S.height=b.height,S.style.width=`${Math.floor(k.width)}px`,S.style.height=`${Math.floor(k.height)}px`,S.style.visibility="hidden";const T={annotationMode:d?r_.ENABLE_FORMS:r_.ENABLE,canvas:S,canvasContext:S.getContext("2d",{alpha:!1}),viewport:b};s&&(T.background=s);const x=l.render(T),A=x;return x.promise.then(()=>{S.style.visibility="",g()}).catch(m),()=>Pa(A)},[s,l,d,b,k]);const _=y.useCallback(()=>{const{current:E}=v;E&&(E.width=0,E.height=0)},[]);return y.useEffect(()=>_,[_]),f.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:bA(p,v),style:{display:"block",userSelect:"none"},children:c?f.jsx(ZY,{}):null})}function QY(n){return"str"in n}function eq(){const n=rh();Dt(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:s,onRenderTextLayerSuccess:i,page:a,pageIndex:o,pageNumber:l,rotate:d,scale:c}=n;Dt(a);const[u,h]=Wo(),{value:p,error:v}=u,g=y.useRef(null);Fn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function m(){p&&r&&r(p)}function b(){v&&(Fn(!1,v.toString()),t&&t(v))}y.useEffect(function(){h({type:"RESET"})},[a,h]),y.useEffect(function(){if(!a)return;const A=Yd(a.getTextContent()),O=A;return A.promise.then(C=>{h({type:"RESOLVE",value:C})}).catch(C=>{h({type:"REJECT",error:C})}),()=>Pa(O)},[a,h]),y.useEffect(()=>{if(p!==void 0){if(p===!1){b();return}m()}},[p]);const k=y.useCallback(()=>{i&&i()},[i]),_=y.useCallback(x=>{mA(x)||(Fn(!1,x.toString()),s&&s(x))},[s]);function E(){const x=g.current;x&&x.classList.add("selecting")}function S(){const x=g.current;x&&x.classList.remove("selecting")}const T=y.useMemo(()=>a.getViewport({scale:c,rotation:d}),[a,d,c]);return y.useLayoutEffect(function(){if(!a||!p)return;const{current:A}=g;if(!A)return;A.innerHTML="";const O=a.streamTextContent({includeMarkedContent:!0}),C={container:A,textContentSource:O,viewport:T},D=new hd(C),I=D;return D.render().then(()=>{const U=document.createElement("div");U.className="endOfContent",A.append(U);const H=A.querySelectorAll('[role="presentation"]');if(e){let j=0;p.items.forEach((V,F)=>{if(!QY(V))return;const G=H[j];if(!G)return;const B=e({pageIndex:o,pageNumber:l,itemIndex:F,...V});G.innerHTML=B,j+=V.str&&V.hasEOL?2:1})}k()}).catch(_),()=>Pa(I)},[e,_,k,a,o,l,p,T]),f.jsx("div",{className:Yo("react-pdf__Page__textContent","textLayer"),onMouseUp:S,onMouseDown:E,ref:g})}const s_=1;function tq(n){const t={...vA(),...n},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:i,canvasRef:a,children:o,className:l,customRenderer:d,customTextRenderer:c,devicePixelRatio:u,error:h="Failed to load the page.",filterAnnotations:p,height:v,inputRef:g,loading:m="Loading page",noData:b="No page specified.",onGetAnnotationsError:k,onGetAnnotationsSuccess:_,onGetStructTreeError:E,onGetStructTreeSuccess:S,onGetTextError:T,onGetTextSuccess:x,onLoadError:A,onLoadSuccess:O,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:D,onRenderError:I,onRenderSuccess:U,onRenderTextLayerError:H,onRenderTextLayerSuccess:j,pageIndex:V,pageNumber:F,pdf:G,registerPage:B,renderAnnotationLayer:ce=!0,renderForms:L=!1,renderMode:$="canvas",renderTextLayer:M=!0,rotate:Y,scale:J=s_,unregisterPage:ae,width:ne,...Ce}=t,[Z,pe]=Wo(),{value:de,error:ge}=Z,we=y.useRef(null);Dt(G);const Pe=Ji(F)?F-1:V??null,Je=F??(Ji(V)?V+1:null),tt=Y??(de?de.rotate:null),ct=y.useMemo(()=>{if(!de)return null;let Le=1;const Fe=J??s_;if(ne||v){const _t=de.getViewport({scale:1,rotation:tt});ne?Le=ne/_t.width:v&&(Le=v/_t.height)}return Fe*Le},[v,de,tt,J,ne]);y.useEffect(function(){return()=>{Ji(Pe)&&s&&ae&&ae(Pe)}},[s,G,Pe,ae]);function Un(){if(O){if(!de||!ct)return;O(Fg(de,ct))}if(s&&B){if(!Ji(Pe)||!we.current)return;B(Pe,we.current)}}function mn(){ge&&(Fn(!1,ge.toString()),A&&A(ge))}y.useEffect(function(){pe({type:"RESET"})},[pe,G,Pe]),y.useEffect(function(){if(!G||!Je)return;const Fe=Yd(G.getPage(Je)),_t=Fe;return Fe.promise.then(vn=>{pe({type:"RESOLVE",value:vn})}).catch(vn=>{pe({type:"REJECT",error:vn})}),()=>Pa(_t)},[pe,G,Je]),y.useEffect(()=>{if(de!==void 0){if(de===!1){mn();return}Un()}},[de,ct]);const vt=y.useMemo(()=>Ji(Pe)&&Je&&Ji(tt)&&Ji(ct)?{_className:r,canvasBackground:i,customTextRenderer:c,devicePixelRatio:u,filterAnnotations:p,onGetAnnotationsError:k,onGetAnnotationsSuccess:_,onGetStructTreeError:E,onGetStructTreeSuccess:S,onGetTextError:T,onGetTextSuccess:x,onRenderAnnotationLayerError:C,onRenderAnnotationLayerSuccess:D,onRenderError:I,onRenderSuccess:U,onRenderTextLayerError:H,onRenderTextLayerSuccess:j,page:de,pageIndex:Pe,pageNumber:Je,renderForms:L,renderTextLayer:M,rotate:tt,scale:ct}:null,[r,i,c,u,p,k,_,E,S,T,x,C,D,I,U,H,j,de,Pe,Je,L,M,tt,ct]),R=y.useMemo(()=>fA(Ce,()=>de&&(ct?Fg(de,ct):void 0)),[Ce,de,ct]),z=`${Pe}@${ct}/${tt}`;function X(){switch($){case"custom":return Dt(d),f.jsx(d,{},`${z}_custom`);case"none":return null;default:return f.jsx(JY,{canvasRef:a},`${z}_canvas`)}}function le(){return M?f.jsx(eq,{},`${z}_text`):null}function oe(){return ce?f.jsx(WY,{},`${z}_annotations`):null}function se(){function Le(_t){return!!_t?.page}if(!Le(vt))throw new Error("page is undefined");const Fe=typeof o=="function"?o(vt):o;return f.jsxs(kA.Provider,{value:vt,children:[X(),le(),oe(),Fe]})}function Ee(){return Je?G===null||de===void 0||de===null?f.jsx(Co,{type:"loading",children:typeof m=="function"?m():m}):G===!1||de===!1?f.jsx(Co,{type:"error",children:typeof h=="function"?h():h}):se():f.jsx(Co,{type:"no-data",children:typeof b=="function"?b():b})}return f.jsx("div",{className:Yo(r,l),"data-page-number":Je,ref:bA(g,we),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ct}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...R,children:Ee()})}HY();Si.workerSrc="pdf.worker.mjs";const nq="/aktivitetsplan/assets/pdf.worker.entry-g1XO0rlU.js";Si.workerSrc=new URL(nq,import.meta.url).toString();const SA=n=>{const e=atob(n);let t=e.length;const r=new Uint8Array(t);for(;t--;)r[t]=e.charCodeAt(t);const s=new Blob([r],{type:"application/pdf"});return window.URL.createObjectURL(s)},xA=({pdf:n,visSuksessmelding:e,suksessmelding:t,forhaandsvisningStatus:r,blur:s})=>{const i=[ee.PENDING,ee.RELOADING].includes(r),[a,o]=y.useState(0),[l,d]=y.useState(!0),c=y.useCallback(({numPages:p})=>{o(p)},[n]);y.useEffect(()=>{d(!0);const p=setTimeout(()=>{d(!1)},5e3);return()=>{clearTimeout(p)}},[e]);const u=800,h=800;return f.jsxs("div",{className:" mt-4 container pt-4 pb-4 relative z-0 flex justify-center",children:[l&&e&&f.jsx(bt,{variant:"success",role:"alert",className:"fixed z-10 mt-10",children:t}),!n||i?f.jsxs("div",{className:"min-h-[calc(100vh-180px)] flex flex-col justify-center items-center",children:[f.jsx(qo,{size:"3xlarge",title:"Venter...",className:"mt-32 mb-6"}),f.jsx(ie,{as:"div",size:"medium",className:"text-subtle mb-1",spacing:!0,children:"Vi lager en PDF"}),f.jsx(ie,{as:"div",size:"medium",className:"text-subtle",spacing:!0,children:"Noen ganger trenger vi litt tid til dette dessverre"})]}):f.jsx(zY,{className:`space-y-4 min-h-[calc(100vh-180px)] z-0 ${s?"blur-sm":""}`,onLoadSuccess:c,file:n,loading:"",children:Array.from(new Array(a),(p,v)=>f.jsx(tq,{pageNumber:v+1,width:Math.min(u,h),renderTextLayer:!1,renderAnnotationLayer:!1},`page_${v+1}`))})]})};var Vg=(n=>(n.EKSKLUDER_KVP_AKTIVITETER="EKSKLUDER_KVP_AKTIVITETER",n.INKLUDER_KVP_AKTIVITETER="INKLUDER_KVP_AKTIVITETER",n.KUN_KVP_AKTIVITETER="KUN_KVP_AKTIVITETER",n))(Vg||{});const TA=n=>({inkluderHistorikk:!1,inkluderDialoger:!0,kvpUtvalgskriterie:{alternativ:n?"EKSKLUDER_KVP_AKTIVITETER":"INKLUDER_KVP_AKTIVITETER"},aktivitetAvtaltMedNavFilter:[],stillingsstatusFilter:[],arenaAktivitetStatusFilter:[],aktivitetTypeFilter:[]}),gp=(n,e,t,r)=>({inkluderHistorikk:e,inkluderDialoger:r,kvpUtvalgskriterie:t,aktivitetAvtaltMedNavFilter:[n.aktivitetAvtaltMedNav.AVTALT_MED_NAV&&"AVTALT_MED_NAV",n.aktivitetAvtaltMedNav.IKKE_AVTALT_MED_NAV&&"IKKE_AVTALT_MED_NAV"].filter(Boolean),stillingsstatusFilter:[n.aktivitetEtiketter.AVSLAG&&"AVSLAG",n.aktivitetEtiketter.CV_DELT&&"CV_DELT",n.aktivitetEtiketter.IKKE_FATT_JOBBEN&&"IKKE_FATT_JOBBEN",n.aktivitetEtiketter.INGEN_VALGT&&"INGEN_VALGT",n.aktivitetEtiketter.INNKALT_TIL_INTERVJU&&"INNKALT_TIL_INTERVJU",n.aktivitetEtiketter.JOBBTILBUD&&"JOBBTILBUD",n.aktivitetEtiketter.SKAL_PAA_INTERVJU&&"SKAL_PAA_INTERVJU",n.aktivitetEtiketter.SOKNAD_SENDT&&"SOKNAD_SENDT",n.aktivitetEtiketter.VENTER&&"VENTER",n.aktivitetEtiketter.FATT_JOBBEN&&"FATT_JOBBEN"].filter(Boolean),arenaAktivitetStatusFilter:[n.arenaAktivitetEtiketter.AKTUELL&&"AKTUELL",n.arenaAktivitetEtiketter.AVSLAG&&"AVSLAG",n.arenaAktivitetEtiketter.IKKAKTUELL&&"IKKAKTUELL",n.arenaAktivitetEtiketter.IKKEM&&"IKKEM",n.arenaAktivitetEtiketter.INFOMOETE&&"INFOMOETE",n.arenaAktivitetEtiketter.JATAKK&&"JATAKK",n.arenaAktivitetEtiketter.NEITAKK&&"NEITAKK",n.arenaAktivitetEtiketter.TILBUD&&"TILBUD",n.arenaAktivitetEtiketter.VENTELISTE&&"VENTELISTE"].filter(Boolean),aktivitetTypeFilter:[n.aktivitetTyper.STILLING&&"STILLING",n.aktivitetTyper.TILTAKSAKTIVITET&&"TILTAKSAKTIVITET",n.aktivitetTyper.GRUPPEAKTIVITET&&"GRUPPEAKTIVITET",n.aktivitetTyper.UTDANNINGSAKTIVITET&&"UTDANNINGSAKTIVITET",n.aktivitetTyper.SOKEAVTALE&&"SOKEAVTALE",n.aktivitetTyper.IJOBB&&"IJOBB",n.aktivitetTyper.BEHANDLING&&"BEHANDLING",n.aktivitetTyper.MOTE&&"MOTE",n.aktivitetTyper.SAMTALEREFERAT&&"SAMTALEREFERAT",n.aktivitetTyper.STILLING_FRA_NAV&&"STILLING_FRA_NAV",n.aktivitetTyper.ARENA_TILTAK&&"ARENA_TILTAK",n.aktivitetTyper.MIDLERTIDIG_LONNSTILSKUDD&&"MIDLERTIDIG_LONNSTILSKUDD",n.aktivitetTyper.VARIG_LONNSTILSKUDD&&"VARIG_LONNSTILSKUDD",n.aktivitetTyper.ARBEIDSTRENING&&"ARBEIDSTRENING",n.aktivitetTyper.VARIG_TILRETTELAGT_ARBEID_I_ORDINAER_VIRKSOMHET&&"VARIG_TILRETTELAGT_ARBEID_I_ORDINAER_VIRKSOMHET",n.aktivitetTyper.MENTOR&&"MENTOR",n.aktivitetTyper.REKRUTTERINGSTREFF&&"REKRUTTERINGSTREFF",n.aktivitetTyper.ENKELAMO&&"ENKELAMO",n.aktivitetTyper.ENKFAGYRKE&&"ENKFAGYRKE",n.aktivitetTyper.HOYEREUTD&&"HOYEREUTD"].filter(Boolean)}),rq=n=>n==="helePlanen"?"INKLUDER_KVP_AKTIVITETER":n==="aktivitetsplan"?"EKSKLUDER_KVP_AKTIVITETER":"KUN_KVP_AKTIVITETER",i_=(n,e)=>{const t=rq(n);if(t==="INKLUDER_KVP_AKTIVITETER"||t==="EKSKLUDER_KVP_AKTIVITETER")return{alternativ:t};{const r=e&&e.find(s=>s.opprettetDato===n);return{alternativ:t,start:r?.opprettetDato,slutt:r?.avsluttetDato}}},AA=({statuser:n,children:e,errorMessage:t})=>{const[r,s]=y.useState(!1),i=n.includes(ee.ERROR);return y.useEffect(()=>{if(!i){s(!1);return}s(!0);const a=setTimeout(()=>s(!1),5e3);return()=>clearTimeout(a)},[i]),i?f.jsx("div",{className:"flex grow flex-col pt-10 items-center",children:r&&f.jsx(bt,{variant:"error",children:t})}):e},CA="VELG_PLAN",OA="UTSKRIFT";function sq(n){const e=[];return n&&e.push(CA),e.push(OA),e}const iq=()=>{const n=W(F9);W(Of);const{hovedsideRoute:e}=gn(),t=W(ll),{oppfolgingsperiodeId:r}=ii(),s=W(sM),{aktivEnhet:i}=Mo(),a=W(aM),o=W(lM),l=W(FE),d=W(nM),[c,u]=y.useState(0),[h,p]=y.useState(""),[v,g]=y.useState("aktivitetsplan"),[m,b]=y.useState(!1),k=yt(),[_,E]=y.useState(TA(k)),[S,T]=y.useState(!0);if(!r)throw new Error("Kan ikke hente forhndsvisning nr aktiv enhet ikke er valgt");const x=[W(cv),W(sl),W(Vf),W(pv)],A=kt();y.useEffect(()=>{A(ga()),A(mf()),Nt(V7)},[]);const{fnr:O}=Mo(),[C,D]=y.useState({alternativ:k?Vg.EKSKLUDER_KVP_AKTIVITETER:Vg.INKLUDER_KVP_AKTIVITETER}),I=y.useMemo(()=>{if(s)return SA(s)},[s]);y.useEffect(()=>{const J=YV(t),ae=gp(t,!1,C,S),ne=JSON.stringify(_)!==JSON.stringify(ae);b(J||ne)},[t,S]);const U=()=>u(c+1),H=J=>{if(g(J.utskritPlanType),J.utskritPlanType!==v){const ae=i_(J.utskritPlanType,n);D(ae),B(ae)}return U(),Promise.resolve()},j=n&&n.length>0&&k,V=sq(j),F=pn(),G=()=>F(-1),B=(J,ae)=>{const ne=gp(t,!1,J||C,S);A(Kl({oppfolgingsperiodeId:r,filter:ne,journalfrendeEnhetId:i||"",tekstTilBruker:ae||h,uuidCachetPdf:o})),E(ne),b(!1)},L=(()=>{if(V[c]===CA)return f.jsx(yo,{onClose:G,open:!0,header:{heading:"Velg hva du nsker  skrive ut",closeButton:!0},children:f.jsx(yo.Body,{children:f.jsx(Af,{avhengigheter:x,children:f.jsx(EW,{kvpPerioder:n,onSubmit:H})})})})})(),$=()=>{const J=window.open(I,"_blank");J&&(J.onload=()=>{J.focus(),J.print()})},M=()=>{const J=i_(v,n);a&&i&&A(Pc({forhaandsvisningOpprettet:a,journalfrendeEnhetId:i,oppfolgingsperiodeId:r,filter:gp(t,!1,J,S),uuidCachetPdf:o,tekstTilBruker:h}))},Y=k&&v==="aktivitetsplan";return f.jsx("section",{className:"flex flex-col justify-center items-center p-8",children:f.jsxs("div",{className:"aktivitetsplanprint flex justify-center items-center",children:[L,f.jsx(bW,{tilbakeRoute:e(),kanSkriveUt:V[c]===OA,oppdaterForhaandsvistPdf:()=>B(C,h),skrivUt:$,kanSendeTilBruker:Y,sendTilBruker:M,pdfMOppdateresEtterFilterendring:m,inkluderDialoger:S,setInkluderDialoger:T}),f.jsx(AA,{statuser:[l],errorMessage:"Kunne ikke sende aktivitetsplan til bruker",children:f.jsx("div",{className:"bg-bg-subtle print:border-none",children:f.jsx(xA,{pdf:I,suksessmelding:"Aktivitetsplanen ble sendt til bruker",visSuksessmelding:l===ee.OK,forhaandsvisningStatus:d,blur:m})})})]})})},aq=(n,e,t)=>({params:{oppfolgingsperiodeId:r}})=>{if(!r)throw Error("path param is not set, this should never happen");const s=n(Kl({oppfolgingsperiodeId:r,filter:TA(e),journalfrendeEnhetId:t||"",tekstTilBruker:""}));return wd({forhaandsvisning:s})},oq=$t({mal:et().min(1,"Feltet m fylles ut").max(500,"Du m korte ned teksten til 500 tegn")}),lq=n=>{const{mal:e,dirtyRef:t,handleComplete:r}=n,s=kt(),i=y.useRef(null);y.useLayoutEffect(()=>{const k=i.current;k&&(k?.focus(),k.selectionStart=k.selectionEnd=k.value.length)},[]);const a=k=>{k.mal!==n.mal?s(Dd({mal:k.mal.trim()})).then(E=>{Sa(E)&&s(mf()).then(()=>r())}):r();const _=document.querySelector(".aktivitet-modal");return _&&_?.focus(),Promise.resolve()},o={mal:e||""},{register:l,handleSubmit:d,watch:c,formState:{errors:u,isDirty:h,isSubmitting:p}}=jn({defaultValues:o,resolver:Rn(oq),shouldFocusError:!0});t&&(t.current=h);const v=c("mal"),g=W(RM),m=W(Df,Ye),b=W(Dn,Ye);return f.jsxs("form",{className:"my-4 space-y-8",onSubmit:d(k=>a(k)),children:[f.jsx(Xn,{label:"Mitt ml (obligatorisk)",maxLength:500,"aria-label":"Mitt ml",...l("mal"),error:u.mal&&u.mal.message,value:v,disabled:p||!m||!b}),f.jsx(Hr,{feilmeldinger:g}),f.jsx(Ze,{onClick:()=>Di("Lagre ml"),disabled:p,children:"Lagre"})]})},dq=()=>{const n=W(uv,Ye),e=W(Hf,Ye),t=W(al,Ye),r=n&&n.mal,s=t&&e.length===0||!r?"Det ble ikke skrevet ml i denne perioden":r;return f.jsx("div",{className:"mb-8",children:f.jsx(br,{className:"mb-8",children:s})})},cq=n=>{const e=W(al,Ye),t=W(uv,Ye),r=W(Dn,Ye),s=yt(),i=W(Df,Ye),a=t&&t.mal,[o,l]=y.useState(!e&&r&&i);return y.useEffect(()=>{l(!e&&r&&i)},[e,r,i]),o?f.jsx(lq,{mal:a,dirtyRef:n.dirtyRef,handleComplete:()=>{l(!1),n.dirtyRef.current=!1,s9(s),n.onLagre()}}):f.jsx(dq,{})},uq=(n,e)=>n?e==="BRUKER"?"bruker":"Nav":e==="BRUKER"?"deg":"Nav";function fq(n,e){return f.jsxs("article",{children:[f.jsxs("span",{className:"font-bold",children:[n.mal?"Skrevet av ":"Ml slettet av ",f.jsx("span",{children:uq(e,n.endretAv)})]}),` ${zx(n.dato)}`,f.jsx(Ho,{formatLinebreaks:!0,formatLinks:!0,children:n.mal})]},n.dato)}const hq=()=>{const n=W(Hf,Ye),e=yt();return n.length===0?null:f.jsx(ue,{children:f.jsxs(ue.Item,{children:[f.jsx(ue.Header,{children:f.jsx(Ve,{level:"2",size:"small",children:"Tidligere lagrede ml"})}),f.jsx(ue.Content,{children:n.map(t=>fq(t,e))})]})})};function pq(n){const{children:e,heading:t}=n,r=W(jM);return f.jsx(Ka,{lukkPKlikkUtenfor:!0,onRequestClose:n.onRequestClosed,feilmeldinger:r,heading:t,children:e})}const gq=()=>{const n=W(al,Ye),e=W(Dn,Ye),t=W(Df,Ye),r=W(Hf,Ye),s=y.useRef(!1),i=pn(),{hovedsideRoute:a}=gn(),o=()=>!s.current||window.confirm(id)?(i(a()),!0):!1;return f.jsx(pq,{onRequestClosed:o,heading:n||!e||!t?"Mitt ml fra en tidligere periode":"Mitt ml",children:f.jsxs("div",{children:[f.jsxs(Pr,{className:"mb-8",header:"Tips til ml",defaultOpen:r.length===0,children:["Skriv noen ord om hva som er mlet ditt slik at vi kan veilede deg bedre.",f.jsxs("ul",{className:"list-disc mt-4 pl-8",children:[f.jsx("li",{children:"Hva er mlet p kort sikt? Hva er mlet p lengre sikt?"}),f.jsx("li",{children:"Hva slags arbeidsoppgaver nsker du deg?"})]})]}),f.jsxs("section",{children:[f.jsx(cq,{onLagre:o,dirtyRef:s}),f.jsx(hq,{})]})]})})},mq=()=>{const n=kt(),{oppfolgingsperiodeId:e}=ii(),t=W(il),r=W(iM),s=W(dM),i=W(VE),a=W(LE),o=W(oM),l=[ee.PENDING,ee.RELOADING].includes(i),d=[ee.PENDING,ee.RELOADING].includes(a),{hovedsideRoute:c}=gn(),u=pn(),{aktivEnhet:h}=Mo();if(!h||!e)throw new Error("Kan ikke arkivere nr aktiv enhet ikke er valgt");const p=()=>{Di("Journalfr aktivitetsplan"),r&&o&&n(Ic({forhaandsvisningOpprettet:r,journalfrendeEnhetId:h,oppfolgingsperiodeId:e,uuidCachetPdf:o}))},v=b=>{const k=b.target.value;u(`/aktivitetsplan/journalforing/${k}`,{replace:!0})},g=l||!r||d,m=()=>i===ee.ERROR?"Kunne ikke hente sist journalfrt":i===ee.OK?s?vr(s)+" kl. "+fg(s):"Aldri":"";return f.jsxs("div",{className:"items-start space-y-4 max-w-96 py-8 px-8 bg-white overflow-y-auto",style:{maxHeight:"calc(100dvh - 160px)"},children:[f.jsx(pa,{className:"text-text-action underline hover:no-underline",to:c(),tabIndex:0,children:"Til aktivitetsplanen"}),f.jsx(Ve,{size:"large",children:"Journalfring"}),f.jsxs("div",{className:"print:border-none space-y-8 flex flex-col pb-4",children:[f.jsxs(Mn,{as:"ul",title:"Dette er ikke inkludert i journalfringen:",size:"small",children:[f.jsx(Mn.Item,{children:"Aktiviteter og dialog tilknyttet KVP"}),f.jsx(Mn.Item,{children:"Samtalereferat som ikke er delt med bruker"})]}),f.jsx(Zs,{label:"Oppflgingsperiode",onChange:v,disabled:g,value:e,children:[...t].sort((b,k)=>Date.parse(k.start)-Date.parse(b.start)).map(b=>f.jsx("option",{value:b.id,children:b.slutt==null?"Nvrende periode":vr(b.start)+" - "+vr(b.slutt)},`oppfolgingsperiodeoption-${b.id}`))}),f.jsxs("div",{children:[f.jsx(Xo,{children:"Sist journalfrt"}),f.jsx(ie,{children:m()})]}),f.jsx(Ze,{loading:d,variant:"primary",onClick:p,children:"Journalfr"})]})]})},vq=()=>{const n=W(rM),e=W(LE),t=W(VE),r=y.useMemo(()=>{if(n)return SA(n)},[n]),s=e===ee.OK&&t==ee.OK;return f.jsx("div",{className:"flex flex-col grow",children:f.jsxs("section",{className:"flex md:flex-row flex-col relative",children:[f.jsx(mq,{}),f.jsx(AA,{statuser:[t,e],errorMessage:"Noe gikk galt med journalfringen",children:f.jsx("div",{className:"h-full grow bg-bg-subtle max-h-100vh overflow-x-scroll overflow-y-hidden pb-4",children:f.jsx(xA,{pdf:r,visSuksessmelding:s,suksessmelding:"Aktivitetsplanen ble journalfrt.",forhaandsvisningStatus:t})})})]})})},bq=(n,e)=>({params:{oppfolgingsperiodeId:t}})=>{if(!t)throw Error("path param is not set, this should never happen");const r=n(Nc({oppfolgingsperiodeId:t,journalfrendeEnhetId:e}));return wd({forhaandsvisning:r})},a_={veileder:{tittel:"Brukeren er reservert i KRR",tekst:"Du kan ikke sende meldinger fordi brukeren har reservert seg mot digital kommunikasjon KRR.",lenkeTekst:"Brukeren m g til norge.no for  fjerne reservasjonen."},bruker:{tittel:"Du har reservert deg mot digital kommunikasjon",tekst:"Du kan ikke bruke aktivitetsplanen fordi du har reservert deg mot digital kommunikasjon i kontakt og reservasjonsregisteret (KRR)",lenkeTekst:"G til norge.no for  fjerne reservasjonen."}},kq="https://www.norge.no/nb/digital-borger/reservasjon",yq=n=>{const{reservertIKRR:e,settDigitalFeilet:t}=n,r=yt();if(t)return f.jsx(bt,{variant:"warning",className:"mx-2 mb-5 max-w-2xl",children:"Feilet. Prv igjen senere!"});if(e){if(e){const s=r?a_.veileder:a_.bruker;return f.jsxs(bt,{variant:"warning",className:"mx-2 mt-6 max-w-2xl",children:[f.jsx(Ve,{spacing:!0,size:"small",level:"3",children:s.tittel}),f.jsx("p",{children:s.tekst}),f.jsx(tn,{href:kq,children:s.lenkeTekst})]})}}else return f.jsx(bt,{variant:"warning",className:"mx-2 mt-6 max-w-2xl",children:"Du har ikke digital oppflging fra Nav. Du har derfor ikke en digital aktivitetsplan."})},_q=()=>{const n=W(sl),e=W(Cf)||!1,t=n===ee.ERROR,r=n===ee.PENDING||n===ee.RELOADING,s=kt();return f.jsxs("div",{className:"flex items-center flex-col",children:[f.jsx(yq,{reservertIKRR:e||!1,settDigitalFeilet:t}),f.jsx(ET,{disabled:r,hidden:e,onClick:()=>s(YI()),children:"Endre til digital oppflging"})]})},wq=n=>{const{erVeileder:e}=n,t=e?"Denne brukeren har ikke en tidligere aktivitetsplan i Modia.":"Du m vre registrert som arbeidssker hos Nav for  bruke aktivitetsplanen.";return f.jsx("div",{className:"flex items-center flex-col mt-8",children:f.jsxs(bt,{variant:"warning",children:[f.jsx(ie,{children:t}),!e&&f.jsx(tn,{href:vp,children:"Register deg arbeidssker hos Nav"})]})})},o_={bruker:{tittel:"Vi har ikke din kontaktinformasjon",tekst:"Du kan ikke bruke aktivitetsplanen fordi du ikke har registrert e-post eller telefonnummeret ditt i kontakt og reservasjonsregisteret (KRR).",lenkeTekst:"G til norge.no for  registrere."},veileder:{tittel:"Brukeren har ikke registrert kontaktinformasjon i KRR",tekst:"Du kan ikke bruke aktivitetsplanen fordi brukeren ikke har registrert e-post eller telefonnummeret sitt i KRR",lenkeTekst:"Brukeren m g til norge.no for  registrere."}},Eq="https://www.norge.no/nb/digital-borger/oppdater-kontaktinformasjon";function Sq({erRegistrertIKRR:n,erVeileder:e}){if(n)return null;const t=e?o_.veileder:o_.bruker;return f.jsx("div",{className:"flex items-center flex-col",children:f.jsxs(bt,{variant:"warning",className:"mx-2 mt-6 max-w-2xl",children:[f.jsx(Ve,{spacing:!0,size:"small",level:"3",children:t.tittel}),f.jsx("p",{children:t.tekst}),f.jsx(tn,{href:Eq,children:t.lenkeTekst})]})})}const xq=n=>{const e=W(Dn),t=W(il),r=W(Of),s=W(Cf),i=W(N9),a=W(P9),o=W(V9),l=W(b9),d=W(sl),c=W(Sr),u=yt(),h=s||r;return y.useEffect(()=>{u&&a?J7(a,e,l,o):a&&o&&Q7(a,e,o)},[l,o,a,e,u]),d===ee.OK&&c===ee.OK&&!e&&t.length===0?f.jsx(wq,{erVeileder:u}):!i&&d===ee.OK?f.jsxs(f.Fragment,{children:[f.jsx(Sq,{erRegistrertIKRR:i,erVeileder:u}),u?n.children:null]}):h?f.jsxs(f.Fragment,{children:[f.jsx(_q,{}),u?n.children:null]}):f.jsx(f.Fragment,{children:n.children})},Tq=({children:n})=>f.jsx("div",{className:"w-full",children:f.jsx(xq,{children:n})}),Aq=()=>f.jsx(Tq,{children:f.jsx(cw,{})}),Uc="aktivitetsplan",mp=()=>{const n=ii(),e=yt();return f.jsx(Ro,{replace:!0,to:`${e?"/"+Uc:""}/aktivitet/vis/`+n.id})},FX=n=>(e,t,r)=>S2(Cq(e,t,r)),Cq=(n,e,t)=>[{path:e?`/${Uc}`:"/",element:f.jsx(Aq,{}),loader:_U(n,e),id:"root",children:[{path:"",element:f.jsx(vU,{}),children:[{path:"mal",loader:wU(n),element:f.jsx(gq,{})},{path:"informasjon",element:f.jsx(Z9,{})},{path:"aktivitet",children:[{path:"ny",element:f.jsx(qx,{})},{path:"ny/*",element:f.jsx(yK,{})},{id:"aktivitetsVisning",path:"vis/:id",element:f.jsx(oW,{}),loader:EU(n)},{path:"endre/:id",element:f.jsx(dW,{})},{path:"avbryt/:id",element:f.jsx(pW,{})},{path:"fullfor/:id",element:f.jsx(vW,{})}]}]},{path:"utskrift/:oppfolgingsperiodeId",loader:aq(n,e,t),element:f.jsx(iq,{})},{path:"journalforing/:oppfolgingsperiodeId",loader:bq(n,t),element:f.jsx(vq,{})},{path:":fnr/aktivitet/vis/:id",element:f.jsx(mp,{})},{path:"aktivitet/vis/:id",element:f.jsx(mp,{})},{path:"*",element:f.jsx(Ro,{replace:!0,to:e?`/${Uc}`:"/"})}]},{path:"aktivitet/vis/:id",element:f.jsx(mp,{})},{path:"*",element:f.jsx(Ro,{replace:!0,to:e?`/${Uc}`:"/"})}];export{wX as $,Bq as A,W8 as B,fy as C,Rf as D,I8 as E,pX as F,Lr as G,hX as H,R8 as I,X8 as J,Md as K,Gi as L,EX as M,fX as N,kX as O,Vq as P,oX as Q,Nd as R,or as S,bX as T,Mf as U,_X as V,TX as W,N8 as X,ly as Y,dX as Z,lg as _,Fq as a,Va as a$,tv as a0,wi as a1,sX as a2,Wq as a3,Nf as a4,iX as a5,ks as a6,CX as a7,lX as a8,AX as a9,g8 as aA,rX as aB,$q as aC,Kq as aD,zq as aE,o8 as aF,eV as aG,eX as aH,tX as aI,f8 as aJ,qq as aK,su as aL,n8 as aM,t8 as aN,NX as aO,PX as aP,DX as aQ,Gq as aR,Hq as aS,vX as aT,Yq as aU,jX as aV,Hw as aW,Ul as aX,ra as aY,Op as aZ,Iq as a_,aX as aa,a8 as ab,ev as ac,Qm as ad,Wl as ae,IX as af,yX as ag,mX as ah,$8 as ai,z8 as aj,Qq as ak,nX as al,Zq as am,If as an,Gl as ao,ny as ap,Jq as aq,ry as ar,b8 as as,Xq as at,OX as au,wV as av,Uq as aw,gX as ax,px as ay,i8 as az,s8 as b,Nq as b0,RX as b1,sg as b2,FX as c,SX as d,mx as e,J9 as f,Mq as g,Fo as h,iu as i,Vo as j,Lf as k,ba as l,sv as m,Z8 as n,Pd as o,ax as p,qr as q,mi as r,Lq as s,J8 as t,xX as u,cX as v,uX as w,nv as x,P8 as y,M8 as z};
//# sourceMappingURL=routerConfig-DVLo_X2e.js.map
