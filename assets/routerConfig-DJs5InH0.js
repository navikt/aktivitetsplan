var e5=Object.defineProperty;var oS=r=>{throw TypeError(r)};var t5=(r,e,t)=>e in r?e5(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var re=(r,e,t)=>t5(r,typeof e!="symbol"?e+"":e,t),hk=(r,e,t)=>e.has(r)||oS("Cannot "+t);var h=(r,e,t)=>(hk(r,e,"read from private field"),t?t.call(r):e.get(r)),I=(r,e,t)=>e.has(r)?oS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),A=(r,e,t,n)=>(hk(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),j=(r,e,t)=>(hk(r,e,"access private method"),t);var $n=(r,e,t,n)=>({set _(i){A(r,e,i,t)},get _(){return h(r,e,n)}});import{g as Wl,b as pk,r as $g,h as Vs,L as Hs,j as p,E as r5,A as xO,S as Jw,a as Mb,d as Jf,T as Qw,G as Lb,U as eE,I as Fb,B as zg,M as hi,e as cs,f as tE,i as Nm,k as P0,l as n5,m as i5,n as s5,o as a5,_ as fm}from"./index-DkNCiPBY.js";import{l as o5,m as l5,f as d5,a as c5,r as w,b as u5,c as f5,g as Vb,R as x,u as Cl,d as Ce,o as jl,e as Bi,B as Mi,h as Ur,i as At,S as Hb,H as Be,j as h5,k as Uf,T as p5,n as Kl,p as Po,q as g5,s as Sa,t as Zn,v as Ub,w as m5,x as SO,y as TO,z as AO,A as v5,C as OO,D as b5,E as y5,F as N0,G as os,I as $i,J as ft,K as CO,L as k5,M as _5,N as w5,O as gc,P as rE,Q as Hc,U as To,V as pe,W as jO,X as IO,Y as DO,Z as RO,_ as E5,$ as x5,a0 as Qf,a1 as nE,a2 as S5,a3 as Uc,a4 as Bc,a5 as PO,a6 as NO,a7 as iE,a8 as sE,a9 as ls,aa as T5,ab as Gl,ac as Nn}from"./Radio-ieZz2ac6.js";import{t as We,c as Kt,m as A5,a as $c,b as Bb,d as MO,e as lS,f as hm,g as aE,h as O5,i as C5,s as LO,A as Le,j as ln,V as De,k as Ln,l as eh,S as ya,n as oE,o as FO,E as id,J as M0,K as ka,p as lE,q as VO,r as Pu,L as j5}from"./internAktivitetTypes-CwsZC-GE.js";function $b(r,e,t){const n=We(r,t==null?void 0:t.in);if(isNaN(e))return Kt(r,NaN);if(!e)return n;const i=n.getDate(),s=Kt(r,n.getTime());s.setMonth(n.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function mo(r,e){const t=We(r,e==null?void 0:e.in).getDay();return t===0||t===6}function Ao(r,e){var o,l,d,c;const t=Wl(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((c=(d=t.locale)==null?void 0:d.options)==null?void 0:c.weekStartsOn)??0,i=We(r,e==null?void 0:e.in),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function wc(r,e){return Ao(r,{...e,weekStartsOn:1})}function HO(r,e){const t=We(r,e==null?void 0:e.in),n=t.getFullYear(),i=Kt(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const s=wc(i),a=Kt(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=wc(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Bf(r){const e=We(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function No(r,...e){const t=Kt.bind(null,r||e.find(n=>typeof n=="object"));return e.map(t)}function dn(r,e){const t=We(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function jn(r,e,t){const[n,i]=No(t==null?void 0:t.in,r,e),s=dn(n),a=dn(i),o=+s-Bf(s),l=+a-Bf(a);return Math.round((o-l)/A5)}function I5(r,e){const t=HO(r,e),n=Kt(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),wc(n)}function D5(r,e,t){return $c(r,e*7,t)}function dE(r,e,t){return $b(r,e*12,t)}function R5(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=Kt.bind(null,i));const s=We(i,n);(!t||t<s||isNaN(+s))&&(t=s)}),Kt(n,t||NaN)}function P5(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=Kt.bind(null,i));const s=We(i,n);(!t||t>s||isNaN(+s))&&(t=s)}),Kt(n,t||NaN)}function Mm(r,e){const t=+We(r)-+We(e);return t<0?-1:t>0?1:t}function N5(r,e){const t=+We(r)-+We(e);return t>0?-1:t<0?1:t}function zb(r,e,t){const[n,i]=No(t==null?void 0:t.in,r,e);return+dn(n)==+dn(i)}function cE(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function Pi(r){return!(!cE(r)&&typeof r!="number"||isNaN(+We(r)))}function UO(r,e,t){const[n,i]=No(t==null?void 0:t.in,r,e),s=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return s*12+a}function BO(r,e,t){const[n,i]=No(t==null?void 0:t.in,r,e),s=dS(n,i),a=Math.abs(jn(n,i));n.setDate(n.getDate()-s*a);const o=+(dS(n,i)===-s),l=s*(a-o);return l===0?0:l}function dS(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function $O(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function uE(r,e){return+We(r)-+We(e)}function M5(r,e,t){const n=uE(r,e)/Bb;return $O(t==null?void 0:t.roundingMethod)(n)}function zO(r,e){const t=We(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function fE(r,e){const t=We(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function L5(r,e){const t=We(r,e==null?void 0:e.in);return+zO(t,e)==+fE(t,e)}function F5(r,e,t){const[n,i,s]=No(t==null?void 0:t.in,r,r,e),a=Mm(i,s),o=Math.abs(UO(i,s));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=Mm(i,s)===-a;L5(n)&&o===1&&Mm(n,s)===1&&(l=!1);const d=a*(o-+l);return d===0?0:d}function V5(r,e,t){const n=uE(r,e)/1e3;return $O(t==null?void 0:t.roundingMethod)(n)}function H5(r,e){const[t,n]=No(r,e.start,e.end);return{start:t,end:n}}function WO(r,e){const{start:t,end:n}=H5(e==null?void 0:e.in,r);let i=+t>+n;const s=i?+t:+n,a=i?n:t;a.setHours(0,0,0,0),a.setDate(1);let o=1;const l=[];for(;+a<=s;)l.push(Kt(t,a)),a.setMonth(a.getMonth()+o);return i?l.reverse():l}function Ec(r,e){const t=We(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Wb(r,e){const t=We(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Wg(r,e){const t=We(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function KO(r,e){var o,l,d,c;const t=Wl(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((c=(d=t.locale)==null?void 0:d.options)==null?void 0:c.weekStartsOn)??0,i=We(r,e==null?void 0:e.in),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function U5(r,e){return KO(r,{...e,weekStartsOn:1})}function GO(r){return zO(Date.now(),r)}const B5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W5={date:pk({formats:B5,defaultWidth:"full"}),time:pk({formats:$5,defaultWidth:"full"}),dateTime:pk({formats:z5,defaultWidth:"full"})},Kg={code:"en-US",formatDistance:c5,formatLong:W5,formatRelative:d5,localize:o5,match:l5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K5(r,e){const t=We(r,e==null?void 0:e.in);return jn(t,Wg(t))+1}function hE(r,e){const t=We(r,e==null?void 0:e.in),n=+wc(t)-+I5(t);return Math.round(n/MO)+1}function pE(r,e){var c,u,f,g;const t=We(r,e==null?void 0:e.in),n=t.getFullYear(),i=Wl(),s=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,a=Kt((e==null?void 0:e.in)||r,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Ao(a,e),l=Kt((e==null?void 0:e.in)||r,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const d=Ao(l,e);return+t>=+o?n+1:+t>=+d?n:n-1}function G5(r,e){var o,l,d,c;const t=Wl(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(d=t.locale)==null?void 0:d.options)==null?void 0:c.firstWeekContainsDate)??1,i=pE(r,e),s=Kt((e==null?void 0:e.in)||r,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Ao(s,e)}function gE(r,e){const t=We(r,e==null?void 0:e.in),n=+Ao(t,e)-+G5(t,e);return Math.round(n/MO)+1}function Ft(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const zo={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Ft(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Ft(t+1,2)},d(r,e){return Ft(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Ft(r.getHours()%12||12,e.length)},H(r,e){return Ft(r.getHours(),e.length)},m(r,e){return Ft(r.getMinutes(),e.length)},s(r,e){return Ft(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return Ft(i,e.length)}},cu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cS={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return zo.y(r,e)},Y:function(r,e,t,n){const i=pE(r,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Ft(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Ft(s,e.length)},R:function(r,e){const t=HO(r);return Ft(t,e.length)},u:function(r,e){const t=r.getFullYear();return Ft(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ft(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ft(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return zo.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ft(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=gE(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Ft(i,e.length)},I:function(r,e,t){const n=hE(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Ft(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):zo.d(r,e)},D:function(r,e,t){const n=K5(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Ft(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ft(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ft(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Ft(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=cu.noon:n===0?i=cu.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=cu.evening:n>=12?i=cu.afternoon:n>=4?i=cu.morning:i=cu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return zo.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):zo.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Ft(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Ft(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):zo.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):zo.s(r,e)},S:function(r,e){return zo.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return fS(n);case"XXXX":case"XX":return sd(n);case"XXXXX":case"XXX":default:return sd(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return fS(n);case"xxxx":case"xx":return sd(n);case"xxxxx":case"xxx":default:return sd(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+uS(n,":");case"OOOO":default:return"GMT"+sd(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+uS(n,":");case"zzzz":default:return"GMT"+sd(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return Ft(n,e.length)},T:function(r,e,t){return Ft(+r,e.length)}};function uS(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),s=n%60;return s===0?t+String(i):t+String(i)+e+Ft(s,2)}function fS(r,e){return r%60===0?(r>0?"-":"+")+Ft(Math.abs(r)/60,2):sd(r,e)}function sd(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Ft(Math.trunc(n/60),2),s=Ft(n%60,2);return t+i+e+s}const hS=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},qO=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},q5=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return hS(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",hS(n,e)).replace("{{time}}",qO(i,e))},L0={p:qO,P:q5},Y5=/^D+$/,X5=/^Y+$/,Z5=["D","DD","YY","YYYY"];function YO(r){return Y5.test(r)}function XO(r){return X5.test(r)}function F0(r,e,t){const n=J5(r,e,t);if(console.warn(n),Z5.includes(r))throw new RangeError(n)}function J5(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Q5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tL=/^'([^]*?)'?$/,rL=/''/g,nL=/[a-zA-Z]/;function ui(r,e,t){var c,u,f,g,m,v,b,y;const n=Wl(),i=(t==null?void 0:t.locale)??n.locale??Kg,s=(t==null?void 0:t.firstWeekContainsDate)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((v=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((y=(b=n.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,o=We(r,t==null?void 0:t.in);if(!Pi(o))throw new RangeError("Invalid time value");let l=e.match(eL).map(k=>{const _=k[0];if(_==="p"||_==="P"){const E=L0[_];return E(k,i.formatLong)}return k}).join("").match(Q5).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const _=k[0];if(_==="'")return{isToken:!1,value:iL(k)};if(cS[_])return{isToken:!0,value:k};if(_.match(nL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:k}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(k=>{if(!k.isToken)return k.value;const _=k.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&XO(_)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&YO(_))&&F0(_,e,String(r));const E=cS[_[0]];return E(o,_,i.localize,d)}).join("")}function iL(r){const e=r.match(tL);return e?e[1].replace(rL,"'"):r}function sL(r,e,t){const n=Wl(),i=(t==null?void 0:t.locale)??n.locale??Kg,s=2520,a=Mm(r,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:a}),[l,d]=No(t==null?void 0:t.in,...a>0?[e,r]:[r,e]),c=V5(d,l),u=(Bf(d)-Bf(l))/1e3,f=Math.round((c-u)/60);let g;if(f<2)return t!=null&&t.includeSeconds?c<5?i.formatDistance("lessThanXSeconds",5,o):c<10?i.formatDistance("lessThanXSeconds",10,o):c<20?i.formatDistance("lessThanXSeconds",20,o):c<40?i.formatDistance("halfAMinute",0,o):c<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<lS){const m=Math.round(f/60);return i.formatDistance("aboutXHours",m,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<hm){const m=Math.round(f/lS);return i.formatDistance("xDays",m,o)}else if(f<hm*2)return g=Math.round(f/hm),i.formatDistance("aboutXMonths",g,o)}if(g=F5(d,l),g<12){const m=Math.round(f/hm);return i.formatDistance("xMonths",m,o)}else{const m=g%12,v=Math.trunc(g/12);return m<3?i.formatDistance("aboutXYears",v,o):m<9?i.formatDistance("overXYears",v,o):i.formatDistance("almostXYears",v+1,o)}}function aL(r,e){const t=We(r,e==null?void 0:e.in),n=t.getFullYear(),i=t.getMonth(),s=Kt(t,0);return s.setFullYear(n,i+1,0),s.setHours(0,0,0,0),s.getDate()}function oL(){return Object.assign({},Wl())}function lL(r,e){const t=We(r,e==null?void 0:e.in).getDay();return t===0?7:t}function mE(r,e){return We(r,e==null?void 0:e.in).getMonth()}function vE(r,e){return We(r,e==null?void 0:e.in).getFullYear()}function Us(r,e){return+We(r)>+We(e)}function Ls(r,e){return+We(r)<+We(e)}function dL(r,e){const t=cL(e)?new e(0):Kt(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function cL(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const uL=10;class ZO{constructor(){re(this,"subPriority",0)}validate(e,t){return!0}}class fL extends ZO{constructor(e,t,n,i,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class hL extends ZO{constructor(t,n){super();re(this,"priority",uL);re(this,"subPriority",-1);this.context=t||(i=>Kt(n,i))}set(t,n){return n.timestampIsSet?t:Kt(t,dL(t,this.context))}}class Ot{run(e,t,n,i){const s=this.parse(e,t,n,i);return s?{setter:new fL(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}class pL extends Ot{constructor(){super(...arguments);re(this,"priority",140);re(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Tr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ma={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ar(r,e){return r&&{value:e(r.value),rest:r.rest}}function ur(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function va(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:n*(i*aE+s*Bb+a*O5),rest:e.slice(t[0].length)}}function JO(r){return ur(Tr.anyDigitsSigned,r)}function _r(r,e){switch(r){case 1:return ur(Tr.singleDigit,e);case 2:return ur(Tr.twoDigits,e);case 3:return ur(Tr.threeDigits,e);case 4:return ur(Tr.fourDigits,e);default:return ur(new RegExp("^\\d{1,"+r+"}"),e)}}function Dv(r,e){switch(r){case 1:return ur(Tr.singleDigitSigned,e);case 2:return ur(Tr.twoDigitsSigned,e);case 3:return ur(Tr.threeDigitsSigned,e);case 4:return ur(Tr.fourDigitsSigned,e);default:return ur(new RegExp("^-?\\d{1,"+r+"}"),e)}}function bE(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function QO(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const s=n+50,a=Math.trunc(s/100)*100,o=r>=s%100;i=r+a-(o?100:0)}return t?i:1-i}function eC(r){return r%400===0||r%4===0&&r%100!==0}class gL extends Ot{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const s=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return Ar(_r(4,t),s);case"yo":return Ar(i.ordinalNumber(t,{unit:"year"}),s);default:return Ar(_r(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const s=t.getFullYear();if(i.isTwoDigitYear){const o=QO(i.year,s);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const a=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class mL extends Ot{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const s=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Ar(_r(4,t),s);case"Yo":return Ar(i.ordinalNumber(t,{unit:"year"}),s);default:return Ar(_r(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,s){const a=pE(t,s);if(i.isTwoDigitYear){const l=QO(i.year,a);return t.setFullYear(l,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ao(t,s)}const o=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(o,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ao(t,s)}}class vL extends Ot{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Dv(n==="R"?4:n.length,t)}set(t,n,i){const s=Kt(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),wc(s)}}class bL extends Ot{constructor(){super(...arguments);re(this,"priority",130);re(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Dv(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class yL extends Ot{constructor(){super(...arguments);re(this,"priority",120);re(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return _r(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class kL extends Ot{constructor(){super(...arguments);re(this,"priority",120);re(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return _r(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class _L extends Ot{constructor(){super(...arguments);re(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);re(this,"priority",110)}parse(t,n,i){const s=a=>a-1;switch(n){case"M":return Ar(ur(Tr.month,t),s);case"MM":return Ar(_r(2,t),s);case"Mo":return Ar(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class wL extends Ot{constructor(){super(...arguments);re(this,"priority",110);re(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const s=a=>a-1;switch(n){case"L":return Ar(ur(Tr.month,t),s);case"LL":return Ar(_r(2,t),s);case"Lo":return Ar(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function EL(r,e,t){const n=We(r,t==null?void 0:t.in),i=gE(n,t)-e;return n.setDate(n.getDate()-i*7),We(n,t==null?void 0:t.in)}class xL extends Ot{constructor(){super(...arguments);re(this,"priority",100);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return ur(Tr.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return _r(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,s){return Ao(EL(t,i,s),s)}}function SL(r,e,t){const n=We(r,t==null?void 0:t.in),i=hE(n,t)-e;return n.setDate(n.getDate()-i*7),n}class TL extends Ot{constructor(){super(...arguments);re(this,"priority",100);re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return ur(Tr.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return _r(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return wc(SL(t,i))}}const AL=[31,28,31,30,31,30,31,31,30,31,30,31],OL=[31,29,31,30,31,30,31,31,30,31,30,31];class CL extends Ot{constructor(){super(...arguments);re(this,"priority",90);re(this,"subPriority",1);re(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return ur(Tr.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return _r(n.length,t)}}validate(t,n){const i=t.getFullYear(),s=eC(i),a=t.getMonth();return s?n>=1&&n<=OL[a]:n>=1&&n<=AL[a]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class jL extends Ot{constructor(){super(...arguments);re(this,"priority",90);re(this,"subpriority",1);re(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return ur(Tr.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return _r(n.length,t)}}validate(t,n){const i=t.getFullYear();return eC(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function yE(r,e,t){var u,f,g,m;const n=Wl(),i=(t==null?void 0:t.weekStartsOn)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((m=(g=n.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??0,s=We(r,t==null?void 0:t.in),a=s.getDay(),l=(e%7+7)%7,d=7-i,c=e<0||e>6?e-(a+d)%7:(l+d)%7-(a+d)%7;return $c(s,c,t)}class IL extends Ot{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,s){return t=yE(t,i,s),t.setHours(0,0,0,0),t}}class DL extends Ot{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Ar(_r(n.length,t),a);case"eo":return Ar(i.ordinalNumber(t,{unit:"day"}),a);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,s){return t=yE(t,i,s),t.setHours(0,0,0,0),t}}class RL extends Ot{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Ar(_r(n.length,t),a);case"co":return Ar(i.ordinalNumber(t,{unit:"day"}),a);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,s){return t=yE(t,i,s),t.setHours(0,0,0,0),t}}function PL(r,e,t){const n=We(r,t==null?void 0:t.in),i=lL(n,t),s=e-i;return $c(n,s,t)}class NL extends Ot{constructor(){super(...arguments);re(this,"priority",90);re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const s=a=>a===0?7:a;switch(n){case"i":case"ii":return _r(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Ar(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return Ar(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Ar(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Ar(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=PL(t,i),t.setHours(0,0,0,0),t}}class ML extends Ot{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(bE(i),0,0,0),t}}class LL extends Ot{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(bE(i),0,0,0),t}}class FL extends Ot{constructor(){super(...arguments);re(this,"priority",80);re(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(bE(i),0,0,0),t}}class VL extends Ot{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return ur(Tr.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return _r(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class HL extends Ot{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return ur(Tr.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return _r(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class UL extends Ot{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return ur(Tr.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return _r(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class BL extends Ot{constructor(){super(...arguments);re(this,"priority",70);re(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return ur(Tr.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return _r(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class $L extends Ot{constructor(){super(...arguments);re(this,"priority",60);re(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return ur(Tr.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return _r(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class zL extends Ot{constructor(){super(...arguments);re(this,"priority",50);re(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return ur(Tr.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return _r(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class WL extends Ot{constructor(){super(...arguments);re(this,"priority",30);re(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=s=>Math.trunc(s*Math.pow(10,-n.length+3));return Ar(_r(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class KL extends Ot{constructor(){super(...arguments);re(this,"priority",10);re(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return va(ma.basicOptionalMinutes,t);case"XX":return va(ma.basic,t);case"XXXX":return va(ma.basicOptionalSeconds,t);case"XXXXX":return va(ma.extendedOptionalSeconds,t);case"XXX":default:return va(ma.extended,t)}}set(t,n,i){return n.timestampIsSet?t:Kt(t,t.getTime()-Bf(t)-i)}}class GL extends Ot{constructor(){super(...arguments);re(this,"priority",10);re(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return va(ma.basicOptionalMinutes,t);case"xx":return va(ma.basic,t);case"xxxx":return va(ma.basicOptionalSeconds,t);case"xxxxx":return va(ma.extendedOptionalSeconds,t);case"xxx":default:return va(ma.extended,t)}}set(t,n,i){return n.timestampIsSet?t:Kt(t,t.getTime()-Bf(t)-i)}}class qL extends Ot{constructor(){super(...arguments);re(this,"priority",40);re(this,"incompatibleTokens","*")}parse(t){return JO(t)}set(t,n,i){return[Kt(t,i*1e3),{timestampIsSet:!0}]}}class YL extends Ot{constructor(){super(...arguments);re(this,"priority",20);re(this,"incompatibleTokens","*")}parse(t){return JO(t)}set(t,n,i){return[Kt(t,i),{timestampIsSet:!0}]}}const XL={G:new pL,y:new gL,Y:new mL,R:new vL,u:new bL,Q:new yL,q:new kL,M:new _L,L:new wL,w:new xL,I:new TL,d:new CL,D:new jL,E:new IL,e:new DL,c:new RL,i:new NL,a:new ML,b:new LL,B:new FL,h:new VL,H:new HL,K:new UL,k:new BL,m:new $L,s:new zL,S:new WL,X:new KL,x:new GL,t:new qL,T:new YL},ZL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QL=/^'([^]*?)'?$/,e3=/''/g,t3=/\S/,r3=/[a-zA-Z]/;function Ms(r,e,t,n){var b,y,k,_,E,S,O,T;const i=()=>Kt((n==null?void 0:n.in)||t,NaN),s=oL(),a=(n==null?void 0:n.locale)??s.locale??Kg,o=(n==null?void 0:n.firstWeekContainsDate)??((y=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(k=s.locale)==null?void 0:k.options)==null?void 0:_.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((S=(E=n==null?void 0:n.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??s.weekStartsOn??((T=(O=s.locale)==null?void 0:O.options)==null?void 0:T.weekStartsOn)??0;if(!e)return r?i():We(t,n==null?void 0:n.in);const d={firstWeekContainsDate:o,weekStartsOn:l,locale:a},c=[new hL(n==null?void 0:n.in,t)],u=e.match(JL).map(C=>{const D=C[0];if(D in L0){const R=L0[D];return R(C,a.formatLong)}return C}).join("").match(ZL),f=[];for(let C of u){!(n!=null&&n.useAdditionalWeekYearTokens)&&XO(C)&&F0(C,e,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&YO(C)&&F0(C,e,r);const D=C[0],R=XL[D];if(R){const{incompatibleTokens:L}=R;if(Array.isArray(L)){const F=f.find(H=>L.includes(H.token)||H.token===D);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${C}\` at the same time`)}else if(R.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);f.push({token:D,fullToken:C});const P=R.run(r,C,a.match,d);if(!P)return i();c.push(P.setter),r=P.rest}else{if(D.match(r3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(C==="''"?C="'":D==="'"&&(C=n3(C)),r.indexOf(C)===0)r=r.slice(C.length);else return i()}}if(r.length>0&&t3.test(r))return i();const g=c.map(C=>C.priority).sort((C,D)=>D-C).filter((C,D,R)=>R.indexOf(C)===D).map(C=>c.filter(D=>D.priority===C).sort((D,R)=>R.subPriority-D.subPriority)).map(C=>C[0]);let m=We(t,n==null?void 0:n.in);if(isNaN(+m))return i();const v={};for(const C of g){if(!C.validate(m,d))return i();const D=C.set(m,v,d);Array.isArray(D)?(m=D[0],Object.assign(v,D[1])):m=D}return m}function n3(r){return r.match(QL)[1].replace(e3,"'")}function i3(r,e,t){const[n,i]=No(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function tC(r,e,t){const[n,i]=No(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()}function s3(r,e,t){const n=+We(r,t==null?void 0:t.in),[i,s]=[+We(e.start,t==null?void 0:t.in),+We(e.end,t==null?void 0:t.in)].sort((a,o)=>a-o);return n>=i&&n<=s}function a3(r){const e=r/C5;return Math.trunc(e)}function cn(r,e){const t=()=>Kt(e==null?void 0:e.in,NaN),i=c3(r);let s;if(i.date){const d=u3(i.date,2);s=f3(d.restDateString,d.year)}if(!s||isNaN(+s))return t();const a=+s;let o=0,l;if(i.time&&(o=h3(i.time),isNaN(o)))return t();if(i.timezone){if(l=p3(i.timezone),isNaN(l))return t()}else{const d=new Date(a+o),c=We(0,e==null?void 0:e.in);return c.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),c.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),c}return We(a+o+l,e==null?void 0:e.in)}const pm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c3(r){const e={},t=r.split(pm.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],pm.timeZoneDelimiter.test(e.date)&&(e.date=r.split(pm.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=pm.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function u3(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:r.slice((n[1]||n[2]).length)}}function f3(r,e){if(e===null)return new Date(NaN);const t=r.match(o3);if(!t)return new Date(NaN);const n=!!t[4],i=kh(t[1]),s=kh(t[2])-1,a=kh(t[3]),o=kh(t[4]),l=kh(t[5])-1;if(n)return y3(e,o,l)?g3(e,o,l):new Date(NaN);{const d=new Date(0);return!v3(e,s,a)||!b3(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,a)),d)}}function kh(r){return r?parseInt(r):1}function h3(r){const e=r.match(l3);if(!e)return NaN;const t=gk(e[1]),n=gk(e[2]),i=gk(e[3]);return k3(t,n,i)?t*aE+n*Bb+i*1e3:NaN}function gk(r){return r&&parseFloat(r.replace(",","."))||0}function p3(r){if(r==="Z")return 0;const e=r.match(d3);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return _3(n,i)?t*(n*aE+i*Bb):NaN}function g3(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const m3=[31,null,31,30,31,30,31,31,30,31,30,31];function rC(r){return r%400===0||r%4===0&&r%100!==0}function v3(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(m3[e]||(rC(r)?29:28))}function b3(r,e){return e>=1&&e<=(rC(r)?366:365)}function y3(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function k3(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function _3(r,e){return e>=0&&e<=59}function nC(r,e,t){const n=We(r,t==null?void 0:t.in),i=n.getFullYear(),s=n.getDate(),a=Kt(r,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const o=aL(a);return n.setMonth(e,Math.min(s,o)),n}function w3(r,e,t){const n=We(r,t==null?void 0:t.in);return n.setHours(e),n}function E3(r,e,t){const n=We(r,t==null?void 0:t.in);return n.setMinutes(e),n}function iC(r,e,t){const n=We(r,t==null?void 0:t.in);return isNaN(+n)?Kt(r,NaN):(n.setFullYear(e),n)}function sC(r,e,t){return $b(r,-e,t)}function aC(r,e,t){const{years:n=0,months:i=0,weeks:s=0,days:a=0,hours:o=0,minutes:l=0,seconds:d=0}=e,c=sC(r,i+n*12,t),u=LO(c,a+s*7,t),f=l+o*60,m=(d+f*60)*1e3;return Kt(r,+u-m)}var V0=function(r,e){return V0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},V0(r,e)};function Jn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");V0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var je=function(){return je=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},je.apply(this,arguments)};function H0(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function be(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{d(n.next(c))}catch(u){a(u)}}function l(c){try{d(n.throw(c))}catch(u){a(u)}}function d(c){c.done?s(c.value):i(c.value).then(o,l)}d((n=n.apply(r,[])).next())})}function ve(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(c){return l([d,c])}}function l(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(t=0)),t;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(r,t)}catch(c){d=[6,c],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Yt(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return s}function yr(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))}function Nu(r){return this instanceof Nu?(this.v=r,this):new Nu(r)}function x3(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){n[f]&&(i[f]=function(g){return new Promise(function(m,v){s.push([f,g,m,v])>1||o(f,g)})})}function o(f,g){try{l(n[f](g))}catch(m){u(s[0][3],m)}}function l(f){f.value instanceof Nu?Promise.resolve(f.value.v).then(d,c):u(s[0][2],f)}function d(f){o("next",f)}function c(f){o("throw",f)}function u(f,g){f(g),s.shift(),s.length&&o(s[0][0],s[0][1])}}function S3(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Yt=="function"?Yt(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=r[s]&&function(a){return new Promise(function(o,l){a=r[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(d){s({value:d,done:o})},a)}}var Cu;(function(r){r.SET="$set",r.SET_ONCE="$setOnce",r.ADD="$add",r.APPEND="$append",r.PREPEND="$prepend",r.REMOVE="$remove",r.PREINSERT="$preInsert",r.POSTINSERT="$postInsert",r.UNSET="$unset",r.CLEAR_ALL="$clearAll"})(Cu||(Cu={}));var Il;(function(r){r.IDENTIFY="$identify",r.GROUP_IDENTIFY="$groupidentify",r.REVENUE="revenue_amount"})(Il||(Il={}));var pS="-",Kb="AMP",T3="".concat(Kb,"_unsent"),oC="https://api2.amplitude.com/2/httpapi",A3="https://api.eu.amplitude.com/2/httpapi",O3="https://api2.amplitude.com/batch",C3="https://api.eu.amplitude.com/batch",j3=1e3,U0=function(r){if(Object.keys(r).length>j3)return!1;for(var e in r){var t=r[e];if(!lC(e,t))return!1}return!0},lC=function(r,e){var t,n;if(typeof r!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var s=Yt(e),a=s.next();!a.done;a=s.next()){var o=a.value;if(Array.isArray(o))return!1;if(typeof o=="object")i=i&&U0(o);else if(!["number","string"].includes(typeof o))return!1;if(!i)return!1}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}else{if(e==null)return!1;if(typeof e=="object")return U0(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0},Rv=function(){function r(){this._propertySet=new Set,this._properties={}}return r.prototype.getUserProperties=function(){return je({},this._properties)},r.prototype.set=function(e,t){return this._safeSet(Jt.SET,e,t),this},r.prototype.setOnce=function(e,t){return this._safeSet(Jt.SET_ONCE,e,t),this},r.prototype.append=function(e,t){return this._safeSet(Jt.APPEND,e,t),this},r.prototype.prepend=function(e,t){return this._safeSet(Jt.PREPEND,e,t),this},r.prototype.postInsert=function(e,t){return this._safeSet(Jt.POSTINSERT,e,t),this},r.prototype.preInsert=function(e,t){return this._safeSet(Jt.PREINSERT,e,t),this},r.prototype.remove=function(e,t){return this._safeSet(Jt.REMOVE,e,t),this},r.prototype.add=function(e,t){return this._safeSet(Jt.ADD,e,t),this},r.prototype.unset=function(e){return this._safeSet(Jt.UNSET,e,pS),this},r.prototype.clearAll=function(){return this._properties={},this._properties[Jt.CLEAR_ALL]=pS,this},r.prototype._safeSet=function(e,t,n){if(this._validate(e,t,n)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[t]=n,this._propertySet.add(t),!0}return!1},r.prototype._validate=function(e,t,n){return this._properties[Jt.CLEAR_ALL]!==void 0||this._propertySet.has(t)?!1:e===Jt.ADD?typeof n=="number":e!==Jt.UNSET&&e!==Jt.REMOVE?lC(t,n):!0},r}(),Jt;(function(r){r.SET="$set",r.SET_ONCE="$setOnce",r.ADD="$add",r.APPEND="$append",r.PREPEND="$prepend",r.REMOVE="$remove",r.PREINSERT="$preInsert",r.POSTINSERT="$postInsert",r.UNSET="$unset",r.CLEAR_ALL="$clearAll"})(Jt||(Jt={}));var I3=[Jt.CLEAR_ALL,Jt.UNSET,Jt.SET,Jt.SET_ONCE,Jt.ADD,Jt.APPEND,Jt.PREPEND,Jt.PREINSERT,Jt.POSTINSERT,Jt.REMOVE],D3="Event tracked successfully",R3="Unexpected error occurred",P3="Event rejected due to exceeded retry count",N3="Event skipped due to optOut config",M3="Event rejected due to missing API key",L3="Invalid API key",F3="Client not initialized",Mr;(function(r){r.Unknown="unknown",r.Skipped="skipped",r.Success="success",r.RateLimit="rate_limit",r.PayloadTooLarge="payload_too_large",r.Invalid="invalid",r.Failed="failed",r.Timeout="Timeout",r.SystemError="SystemError"})(Mr||(Mr={}));var Mu=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Mr.Unknown),{event:r,code:e,message:t}},Mn=function(){var r="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[r]<"u")return globalThis[r];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},V3=function(r){return r?(r^Math.random()*16>>r/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,zc)},gS=yr([],pt(Array(256).keys()),!1).map(function(r){return r.toString(16).padStart(2,"0")}),zc=function(r){var e,t=Mn();if(!(!((e=t==null?void 0:t.crypto)===null||e===void 0)&&e.getRandomValues))return V3(r);var n=t.crypto.getRandomValues(new Uint8Array(16));return n[6]=n[6]&15|64,n[8]=n[8]&63|128,yr([],pt(n.entries()),!1).map(function(i){var s=pt(i,2),a=s[0],o=s[1];return[4,6,8,10].includes(a)?"-".concat(gS[o]):gS[o]}).join("")},H3=function(){function r(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return r.prototype.register=function(e,t){var n,i;return be(this,void 0,void 0,function(){return ve(this,function(s){switch(s.label){case 0:return this.plugins.some(function(a){return a.name===e.name})?(this.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2]):(e.name===void 0&&(e.name=zc(),this.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(e.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),e.type=(n=e.type)!==null&&n!==void 0?n:"enrichment",[4,(i=e.setup)===null||i===void 0?void 0:i.call(e,t,this.client)]);case 1:return s.sent(),this.plugins.push(e),[2]}})})},r.prototype.deregister=function(e,t){var n;return be(this,void 0,void 0,function(){var i,s;return ve(this,function(a){switch(a.label){case 0:return i=this.plugins.findIndex(function(o){return o.name===e}),i===-1?(t.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2]):(s=this.plugins[i],this.plugins.splice(i,1),[4,(n=s.teardown)===null||n===void 0?void 0:n.call(s)]);case 1:return a.sent(),[2]}})})},r.prototype.reset=function(e){this.applying=!1;var t=this.plugins;t.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)}),this.plugins=[],this.client=e},r.prototype.push=function(e){var t=this;return new Promise(function(n){t.queue.push([e,n]),t.scheduleApply(0)})},r.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},r.prototype.apply=function(e){return be(this,void 0,void 0,function(){var t,n,i,s,a,o,l,g,m,d,c,u,f,g,m,v,b,y,k,_,E,S;return ve(this,function(O){switch(O.label){case 0:if(!e)return[2];t=pt(e,1),n=t[0],i=pt(e,2),s=i[1],this.loggerProvider.log("Timeline.apply: Initial event",n),a=this.plugins.filter(function(T){return T.type==="before"}),O.label=1;case 1:O.trys.push([1,6,7,8]),o=Yt(a),l=o.next(),O.label=2;case 2:return l.done?[3,5]:(g=l.value,g.execute?[4,g.execute(je({},n))]:[3,4]);case 3:if(m=O.sent(),m===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by before plugin '".concat(String(g.name),"', event: ").concat(JSON.stringify(n))),s({event:n,code:0,message:""}),[2];n=m,this.loggerProvider.log("Timeline.apply: Event after before plugin '".concat(String(g.name),"', event: ").concat(JSON.stringify(n))),O.label=4;case 4:return l=o.next(),[3,2];case 5:return[3,8];case 6:return d=O.sent(),k={error:d},[3,8];case 7:try{l&&!l.done&&(_=o.return)&&_.call(o)}finally{if(k)throw k.error}return[7];case 8:c=this.plugins.filter(function(T){return T.type==="enrichment"||T.type===void 0}),O.label=9;case 9:O.trys.push([9,14,15,16]),u=Yt(c),f=u.next(),O.label=10;case 10:return f.done?[3,13]:(g=f.value,g.execute?[4,g.execute(je({},n))]:[3,12]);case 11:if(m=O.sent(),m===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by enrichment plugin '".concat(String(g.name),"', event: ").concat(JSON.stringify(n))),s({event:n,code:0,message:""}),[2];n=m,this.loggerProvider.log("Timeline.apply: Event after enrichment plugin '".concat(String(g.name),"', event: ").concat(JSON.stringify(n))),O.label=12;case 12:return f=u.next(),[3,10];case 13:return[3,16];case 14:return v=O.sent(),E={error:v},[3,16];case 15:try{f&&!f.done&&(S=u.return)&&S.call(u)}finally{if(E)throw E.error}return[7];case 16:return b=this.plugins.filter(function(T){return T.type==="destination"}),this.loggerProvider.log("Timeline.apply: Final event before destinations, event: ".concat(JSON.stringify(n))),y=b.map(function(T){var C=je({},n);return T.execute(C).catch(function(D){return Mu(C,0,String(D))})}),Promise.all(y).then(function(T){var C=pt(T,1),D=C[0],R=D||Mu(n,100,"Event not tracked, no destination plugins on the instance");s(R)}),[2]}})})},r.prototype.flush=function(){return be(this,void 0,void 0,function(){var e,t,n,i=this;return ve(this,function(s){switch(s.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(a){return i.apply(a)}))];case 1:return s.sent(),t=this.plugins.filter(function(a){return a.type==="destination"}),n=t.map(function(a){return a.flush&&a.flush()}),[4,Promise.all(n)];case 2:return s.sent(),[2]}})})},r.prototype.onIdentityChanged=function(e){this.plugins.forEach(function(t){var n;(n=t.onIdentityChanged)===null||n===void 0||n.call(t,e)})},r.prototype.onSessionIdChanged=function(e){this.plugins.forEach(function(t){var n;(n=t.onSessionIdChanged)===null||n===void 0||n.call(t,e)})},r.prototype.onOptOutChanged=function(e){this.plugins.forEach(function(t){var n;(n=t.onOptOutChanged)===null||n===void 0||n.call(t,e)})},r}(),U3=function(r,e,t){var n=typeof r=="string"?{event_type:r}:r;return je(je(je({},n),t),e&&{event_properties:e})},dC=function(r,e){var t=je(je({},e),{event_type:Il.IDENTIFY,user_properties:r.getUserProperties()});return t},B3=function(r,e,t,n){var i,s=je(je({},n),{event_type:Il.GROUP_IDENTIFY,group_properties:t.getUserProperties(),groups:(i={},i[r]=e,i)});return s},$3=function(r,e,t){var n,i=new Rv;i.set(r,e);var s=je(je({},t),{event_type:Il.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[r]=e,n)});return s},z3=function(r,e){return je(je({},e),{event_type:Il.REVENUE,event_properties:r.getEventProperties()})},ai=function(r){return{promise:r||Promise.resolve()}},W3=function(){function r(e){e===void 0&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new H3(this),this.name=e}return r.prototype._init=function(e){return be(this,void 0,void 0,function(){return ve(this,function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),this.timeline.loggerProvider=this.config.loggerProvider,[4,this.runQueuedFunctions("q")];case 1:return t.sent(),this.isReady=!0,[2]}})})},r.prototype.runQueuedFunctions=function(e){return be(this,void 0,void 0,function(){var t,n,i,s,a,o,l,d;return ve(this,function(c){switch(c.label){case 0:t=this[e],this[e]=[],c.label=1;case 1:c.trys.push([1,8,9,10]),n=Yt(t),i=n.next(),c.label=2;case 2:return i.done?[3,7]:(s=i.value,a=s(),a&&"promise"in a?[4,a.promise]:[3,4]);case 3:return c.sent(),[3,6];case 4:return[4,a];case 5:c.sent(),c.label=6;case 6:return i=n.next(),[3,2];case 7:return[3,10];case 8:return o=c.sent(),l={error:o},[3,10];case 9:try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(l)throw l.error}return[7];case 10:return this[e].length?[4,this.runQueuedFunctions(e)]:[3,12];case 11:c.sent(),c.label=12;case 12:return[2]}})})},r.prototype.track=function(e,t,n){var i=U3(e,t,n);return ai(this.dispatch(i))},r.prototype.identify=function(e,t){var n=dC(e,t);return ai(this.dispatch(n))},r.prototype.groupIdentify=function(e,t,n,i){var s=B3(e,t,n,i);return ai(this.dispatch(s))},r.prototype.setGroup=function(e,t,n){var i=$3(e,t,n);return ai(this.dispatch(i))},r.prototype.revenue=function(e,t){var n=z3(e,t);return ai(this.dispatch(n))},r.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),ai())},r.prototype._addPlugin=function(e){return ai(this.timeline.register(e,this.config))},r.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),ai())},r.prototype._removePlugin=function(e){return ai(this.timeline.deregister(e,this.config))},r.prototype.dispatchWithCallback=function(e,t){if(!this.isReady)return t(Mu(e,0,F3));this.process(e).then(t)},r.prototype.dispatch=function(e){return be(this,void 0,void 0,function(){var t=this;return ve(this,function(n){return this.isReady?[2,this.process(e)]:[2,new Promise(function(i){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,i))})]})})},r.prototype.getOperationAppliedUserProperties=function(e){var t={};if(e===void 0)return t;var n={};return Object.keys(e).forEach(function(i){Object.values(Cu).includes(i)||(n[i]=e[i])}),I3.forEach(function(i){if(Object.keys(e).includes(i)){var s=e[i];switch(i){case Cu.CLEAR_ALL:Object.keys(t).forEach(function(a){delete t[a]});break;case Cu.UNSET:Object.keys(s).forEach(function(a){delete t[a]});break;case Cu.SET:Object.assign(t,s);break}}}),Object.assign(t,n),t},r.prototype.process=function(e){return be(this,void 0,void 0,function(){var t,s,n,i,s;return ve(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),this.config.optOut?[2,Mu(e,0,N3)]:(e.event_type===Il.IDENTIFY&&(t=this.getOperationAppliedUserProperties(e.user_properties),this.timeline.onIdentityChanged({userProperties:t})),[4,this.timeline.push(e)]);case 1:return s=a.sent(),s.code===200?this.config.loggerProvider.log(s.message):s.code===100?this.config.loggerProvider.warn(s.message):this.config.loggerProvider.error(s.message),[2,s];case 2:return n=a.sent(),i=String(n),this.config.loggerProvider.error(i),s=Mu(e,0,i),[2,s];case 3:return[2]}})})},r.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},r.prototype._setOptOut=function(e){this.config.optOut!==e&&(this.timeline.onOptOutChanged(e),this.config.optOut=!!e)},r.prototype.flush=function(){return ai(this.timeline.flush())},r.prototype.plugin=function(e){var t=this.timeline.plugins.find(function(n){return n.name===e});if(t===void 0){this.config.loggerProvider.debug("Cannot find plugin with name ".concat(e));return}return t},r.prototype.plugins=function(e){return this.timeline.plugins.filter(function(t){return t instanceof e})},r}(),K3=function(){function r(){this.productId="",this.quantity=1,this.price=0}return r.prototype.setProductId=function(e){return this.productId=e,this},r.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},r.prototype.setPrice=function(e){return this.price=e,this},r.prototype.setRevenueType=function(e){return this.revenueType=e,this},r.prototype.setCurrency=function(e){return this.currency=e,this},r.prototype.setRevenue=function(e){return this.revenue=e,this},r.prototype.setReceipt=function(e){return this.receipt=e,this},r.prototype.setReceiptSig=function(e){return this.receiptSig=e,this},r.prototype.setEventProperties=function(e){return U0(e)&&(this.properties=e),this},r.prototype.getEventProperties=function(){var e=this.properties?je({},this.properties):{};return e[Xs.REVENUE_PRODUCT_ID]=this.productId,e[Xs.REVENUE_QUANTITY]=this.quantity,e[Xs.REVENUE_PRICE]=this.price,e[Xs.REVENUE_TYPE]=this.revenueType,e[Xs.REVENUE_CURRENCY]=this.currency,e[Xs.REVENUE]=this.revenue,e[Xs.RECEIPT]=this.receipt,e[Xs.RECEIPT_SIG]=this.receiptSig,e},r}(),Xs;(function(r){r.REVENUE_PRODUCT_ID="$productId",r.REVENUE_QUANTITY="$quantity",r.REVENUE_PRICE="$price",r.REVENUE_TYPE="$revenueType",r.REVENUE_CURRENCY="$currency",r.REVENUE="$revenue",r.RECEIPT="$receipt",r.RECEIPT_SIG="$receiptSig"})(Xs||(Xs={}));var G3=function(r,e){var t=Math.max(e,1);return r.reduce(function(n,i,s){var a=Math.floor(s/t);return n[a]||(n[a]=[]),n[a].push(i),n},[])},Ci;(function(r){r[r.None=0]="None",r[r.Error=1]="Error",r[r.Warn=2]="Warn",r[r.Verbose=3]="Verbose",r[r.Debug=4]="Debug"})(Ci||(Ci={}));var gm="Amplitude Logger ",cC=function(){function r(){this.logLevel=Ci.None}return r.prototype.disable=function(){this.logLevel=Ci.None},r.prototype.enable=function(e){e===void 0&&(e=Ci.Warn),this.logLevel=e},r.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<Ci.Verbose||console.log("".concat(gm,"[Log]: ").concat(e.join(" ")))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<Ci.Warn||console.warn("".concat(gm,"[Warn]: ").concat(e.join(" ")))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<Ci.Error||console.error("".concat(gm,"[Error]: ").concat(e.join(" ")))},r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<Ci.Debug||console.log("".concat(gm,"[Debug]: ").concat(e.join(" ")))},r}(),Lm=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Ci.Warn,loggerProvider:new cC,offline:!1,optOut:!1,serverUrl:oC,serverZone:"US",useBatch:!1}},q3=function(){function r(e){var t,n,i,s;this._optOut=!1;var a=Lm();this.apiKey=e.apiKey,this.flushIntervalMillis=(t=e.flushIntervalMillis)!==null&&t!==void 0?t:a.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||a.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||a.flushQueueSize,this.instanceName=e.instanceName||a.instanceName,this.loggerProvider=e.loggerProvider||a.loggerProvider,this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:a.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=e.offline!==void 0?e.offline:a.offline,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:a.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||a.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(s=e.useBatch)!==null&&s!==void 0?s:a.useBatch,this.loggerProvider.enable(this.logLevel);var o=uC(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=o.serverZone,this.serverUrl=o.serverUrl}return Object.defineProperty(r.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),r}(),Y3=function(r,e){return r==="EU"?e?C3:A3:e?O3:oC},uC=function(r,e,t){if(r===void 0&&(r=""),e===void 0&&(e=Lm().serverZone),t===void 0&&(t=Lm().useBatch),r)return{serverUrl:r,serverZone:void 0};var n=["US","EU"].includes(e)?e:Lm().serverZone;return{serverZone:n,serverUrl:Y3(n,t)}},fC=function(){function r(){this.sdk={metrics:{histogram:{}}}}return r.prototype.recordHistogram=function(e,t){this.sdk.metrics.histogram[e]=t},r}();function X3(r){return r instanceof Error?r.message:String(r)}function mm(r){var e="";try{"body"in r&&(e=JSON.stringify(r.body,null,2))}catch{}return e}var Z3=function(){function r(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return r.prototype.setup=function(e){var t;return be(this,void 0,void 0,function(){var n,i=this;return ve(this,function(s){switch(s.label){case 0:return this.config=e,this.storageKey="".concat(T3,"_").concat(this.config.apiKey.substring(0,10)),[4,(t=this.config.storageProvider)===null||t===void 0?void 0:t.get(this.storageKey)];case 1:return n=s.sent(),n&&n.length>0&&Promise.all(n.map(function(a){return i.execute(a)})).catch(),[2,Promise.resolve(void 0)]}})})},r.prototype.execute=function(e){var t=this;return e.insert_id||(e.insert_id=zc()),new Promise(function(n){var i={event:e,attempts:0,callback:function(s){return n(s)},timeout:0};t.queue.push(i),t.schedule(t.config.flushIntervalMillis),t.saveEvents()})},r.prototype.removeEventsExceedFlushMaxRetries=function(e){var t=this;return e.filter(function(n){return n.attempts+=1,n.attempts<t.config.flushMaxRetries?!0:(t.fulfillRequest([n],500,P3),!1)})},r.prototype.scheduleEvents=function(e){var t=this;e.forEach(function(n){t.schedule(n.timeout===0?t.config.flushIntervalMillis:n.timeout)})},r.prototype.schedule=function(e){var t=this;if(!this.config.offline&&(this.scheduleId===null||this.scheduleId&&e>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=e,this.scheduleId=setTimeout(function(){t.queue=t.queue.map(function(n){return n.timeout=0,n}),t.flush(!0)},e);return}},r.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},r.prototype.flush=function(e){return e===void 0&&(e=!1),be(this,void 0,void 0,function(){var t,n,i,s=this;return ve(this,function(a){switch(a.label){case 0:return this.config.offline?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2]):this.flushId?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2]):(this.flushId=this.scheduleId,this.resetSchedule(),t=[],n=[],this.queue.forEach(function(o){return o.timeout===0?t.push(o):n.push(o)}),i=G3(t,this.config.flushQueueSize),[4,i.reduce(function(o,l){return be(s,void 0,void 0,function(){return ve(this,function(d){switch(d.label){case 0:return[4,o];case 1:return d.sent(),[4,this.send(l,e)];case 2:return[2,d.sent()]}})})},Promise.resolve())]);case 1:return a.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},r.prototype.send=function(e,t){return t===void 0&&(t=!0),be(this,void 0,void 0,function(){var n,i,s,a,o;return ve(this,function(l){switch(l.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,M3)];n={api_key:this.config.apiKey,events:e.map(function(d){var c=d.event;c.extra;var u=H0(c,["extra"]);return u}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new fC,l.label=1;case 1:return l.trys.push([1,3,,4]),i=uC(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,n)];case 2:return s=l.sent(),s===null?(this.fulfillRequest(e,0,R3),[2]):t?(this.handleResponse(s,e),[3,4]):("body"in s?this.fulfillRequest(e,s.statusCode,"".concat(s.status,": ").concat(mm(s))):this.fulfillRequest(e,s.statusCode,s.status),[2]);case 3:return a=l.sent(),o=X3(a),this.config.loggerProvider.error(o),this.handleResponse({status:Mr.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},r.prototype.handleResponse=function(e,t){var n=e.status;switch(n){case Mr.Success:{this.handleSuccessResponse(e,t);break}case Mr.Invalid:{this.handleInvalidResponse(e,t);break}case Mr.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,t);break}case Mr.RateLimit:{this.handleRateLimitResponse(e,t);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(n,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t);break}}},r.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,D3)},r.prototype.handleInvalidResponse=function(e,t){var n=this;if(e.body.missingField||e.body.error.startsWith(L3)){this.fulfillRequest(t,e.statusCode,e.body.error);return}var i=yr(yr(yr(yr([],pt(Object.values(e.body.eventsWithInvalidFields)),!1),pt(Object.values(e.body.eventsWithMissingFields)),!1),pt(Object.values(e.body.eventsWithInvalidIdLengths)),!1),pt(e.body.silencedEvents),!1).flat(),s=new Set(i),a=t.filter(function(l,d){if(s.has(d)){n.fulfillRequest([l],e.statusCode,e.body.error);return}return!0});a.length>0&&this.config.loggerProvider.warn(mm(e));var o=this.removeEventsExceedFlushMaxRetries(a);this.scheduleEvents(o)},r.prototype.handlePayloadTooLargeResponse=function(e,t){if(t.length===1){this.fulfillRequest(t,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(mm(e)),this.config.flushQueueSize/=2;var n=this.removeEventsExceedFlushMaxRetries(t);this.scheduleEvents(n)},r.prototype.handleRateLimitResponse=function(e,t){var n=this,i=Object.keys(e.body.exceededDailyQuotaUsers),s=Object.keys(e.body.exceededDailyQuotaDevices),a=e.body.throttledEvents,o=new Set(i),l=new Set(s),d=new Set(a),c=t.filter(function(f,g){if(f.event.user_id&&o.has(f.event.user_id)||f.event.device_id&&l.has(f.event.device_id)){n.fulfillRequest([f],e.statusCode,e.body.error);return}return d.has(g)&&(f.timeout=n.throttleTimeout),!0});c.length>0&&this.config.loggerProvider.warn(mm(e));var u=this.removeEventsExceedFlushMaxRetries(c);this.scheduleEvents(u)},r.prototype.handleOtherResponse=function(e){var t=this,n=e.map(function(s){return s.timeout=s.attempts*t.retryTimeout,s}),i=this.removeEventsExceedFlushMaxRetries(n);this.scheduleEvents(i)},r.prototype.fulfillRequest=function(e,t,n){this.removeEvents(e),e.forEach(function(i){return i.callback(Mu(i.event,t,n))})},r.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(t){return t.event});this.config.storageProvider.set(this.storageKey,e)}},r.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(t){return!e.some(function(n){return n.event.insert_id===t.event.insert_id})}),this.saveEvents()},r}(),J3=function(){function r(){}return r.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Q3(),platform:"Web",os:void 0,deviceModel:void 0}},r}(),Q3=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},e4=function(){function r(){this.queue=[]}return r.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},r.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},r}(),Xo=function(){return Xo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Xo.apply(this,arguments)};function Fm(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mS(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return s}var Vm=function(r,e){var t,n,i=["string","number","boolean","undefined"],s=typeof r,a=typeof e;if(s!==a)return!1;try{for(var o=Fm(i),l=o.next();!l.done;l=o.next()){var d=l.value;if(d===s)return r===e}}catch(b){t={error:b}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}if(r==null&&e==null)return!0;if(r==null||e==null||r.length!==e.length)return!1;var c=Array.isArray(r),u=Array.isArray(e);if(c!==u)return!1;if(c&&u){for(var f=0;f<r.length;f++)if(!Vm(r[f],e[f]))return!1}else{var g=Object.keys(r).sort(),m=Object.keys(e).sort();if(!Vm(g,m))return!1;var v=!0;return Object.keys(r).forEach(function(b){Vm(r[b],e[b])||(v=!1)}),v}return!0},t4="$set",r4="$unset",n4="$clearAll";Object.entries||(Object.entries=function(r){for(var e=Object.keys(r),t=e.length,n=new Array(t);t--;)n[t]=[e[t],r[e[t]]];return n});var i4=function(){function r(){this.identity={userProperties:{}},this.listeners=new Set}return r.prototype.editIdentity=function(){var e=this,t=Xo({},this.identity.userProperties),n=Xo(Xo({},this.identity),{userProperties:t});return{setUserId:function(i){return n.userId=i,this},setDeviceId:function(i){return n.deviceId=i,this},setUserProperties:function(i){return n.userProperties=i,this},setOptOut:function(i){return n.optOut=i,this},updateUserProperties:function(i){var s,a,o,l,d,c,u=n.userProperties||{};try{for(var f=Fm(Object.entries(i)),g=f.next();!g.done;g=f.next()){var m=mS(g.value,2),v=m[0],b=m[1];switch(v){case t4:try{for(var y=(o=void 0,Fm(Object.entries(b))),k=y.next();!k.done;k=y.next()){var _=mS(k.value,2),E=_[0],S=_[1];u[E]=S}}catch(C){o={error:C}}finally{try{k&&!k.done&&(l=y.return)&&l.call(y)}finally{if(o)throw o.error}}break;case r4:try{for(var O=(d=void 0,Fm(Object.keys(b))),T=O.next();!T.done;T=O.next()){var E=T.value;delete u[E]}}catch(C){d={error:C}}finally{try{T&&!T.done&&(c=O.return)&&c.call(O)}finally{if(d)throw d.error}}break;case n4:u={};break}}}catch(C){s={error:C}}finally{try{g&&!g.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}return n.userProperties=u,this},commit:function(){return e.setIdentity(n),this}}},r.prototype.getIdentity=function(){return Xo({},this.identity)},r.prototype.setIdentity=function(e){var t=Xo({},this.identity);this.identity=Xo({},e),Vm(t,this.identity)||this.listeners.forEach(function(n){n(e)})},r.prototype.addIdentityListener=function(e){this.listeners.add(e)},r.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},r}(),_h=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,s4=function(){function r(){this.identityStore=new i4,this.eventBridge=new e4,this.applicationContextProvider=new J3}return r.getInstance=function(e){return _h.analyticsConnectorInstances||(_h.analyticsConnectorInstances={}),_h.analyticsConnectorInstances[e]||(_h.analyticsConnectorInstances[e]=new r),_h.analyticsConnectorInstances[e]},r}(),fp=function(r){return r===void 0&&(r="$default_instance"),s4.getInstance(r)},a4=function(r,e){fp(e).identityStore.editIdentity().setUserId(r).commit()},o4=function(r,e){fp(e).identityStore.editIdentity().setDeviceId(r).commit()},l4=function(){function r(){this.name="identity",this.type="before",this.identityStore=fp().identityStore}return r.prototype.execute=function(e){return be(this,void 0,void 0,function(){var t;return ve(this,function(n){return t=e.user_properties,t&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]})})},r.prototype.setup=function(e){return be(this,void 0,void 0,function(){return ve(this,function(t){return e.instanceName&&(this.identityStore=fp(e.instanceName).identityStore),[2]})})},r}(),hC=function(r,e){e===void 0&&(e=Date.now());var t=Date.now(),n=t-e;return n>r},pC=function(r,e,t){return e===void 0&&(e=""),t===void 0&&(t=10),[Kb,e,r.substring(0,t)].filter(Boolean).join("_")},d4=function(r){return"".concat(Kb.toLowerCase(),"_").concat(r.substring(0,6))},c4=function(){var r,e,t,n;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(n=(t=(e=(r=navigator.languages)===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:navigator.language)!==null&&t!==void 0?t:i)!==null&&n!==void 0?n:""},Pv=function(){var r,e=Mn();if(!(!((r=e==null?void 0:e.location)===null||r===void 0)&&r.search))return{};var t=e.location.search.substring(1).split("&").filter(Boolean),n=t.reduce(function(i,s){var a=s.split("=",2),o=vS(a[0]),l=vS(a[1]);return l&&(i[o]=l),i},{});return n},vS=function(r){r===void 0&&(r="");try{return decodeURIComponent(r)}catch{return""}},u4=function(r){var e=new Error().stack||"";return e.split(`
`).slice(2+r).map(function(t){return t.trim()})},pr=function(r){return function(){var e=je({},r.config),t=e.loggerProvider,n=e.logLevel;return{logger:t,logLevel:n}}},f4=function(r,e){var t,n;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var i=Yt(e.split(".")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a in r)r=r[a];else return}}catch(o){t={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},gr=function(r,e){return function(){var t,n,i={};try{for(var s=Yt(e),a=s.next();!a.done;a=s.next()){var o=a.value;i[o]=f4(r,o)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i}},mr=function(r,e,t,n,i){return i===void 0&&(i=null),function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var o=t(),l=o.logger,d=o.logLevel;if(d&&d<Ci.Debug||!d||!l)return r.apply(i,s);var c={type:"invoke public method",name:e,args:s,stacktrace:u4(1),time:{start:new Date().toISOString()},states:{}};n&&c.states&&(c.states.before=n());var u=r.apply(i,s);return u&&u.promise?u.promise.then(function(){n&&c.states&&(c.states.after=n()),c.time&&(c.time.end=new Date().toISOString()),l.debug(JSON.stringify(c,null,2))}):(n&&c.states&&(c.states.after=n()),c.time&&(c.time.end=new Date().toISOString()),l.debug(JSON.stringify(c,null,2))),u}},kE=function(){function r(){this.memoryStorage=new Map}return r.prototype.isEnabled=function(){return be(this,void 0,void 0,function(){return ve(this,function(e){return[2,!0]})})},r.prototype.get=function(e){return be(this,void 0,void 0,function(){return ve(this,function(t){return[2,this.memoryStorage.get(e)]})})},r.prototype.getRaw=function(e){return be(this,void 0,void 0,function(){var t;return ve(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return t=n.sent(),[2,t?JSON.stringify(t):void 0]}})})},r.prototype.set=function(e,t){return be(this,void 0,void 0,function(){return ve(this,function(n){return this.memoryStorage.set(e,t),[2]})})},r.prototype.remove=function(e){return be(this,void 0,void 0,function(){return ve(this,function(t){return this.memoryStorage.delete(e),[2]})})},r.prototype.reset=function(){return be(this,void 0,void 0,function(){return ve(this,function(e){return this.memoryStorage.clear(),[2]})})},r}(),B0=function(){function r(e){this.options=je({},e)}return r.prototype.isEnabled=function(){return be(this,void 0,void 0,function(){var e,t,n;return ve(this,function(i){switch(i.label){case 0:if(!Mn())return[2,!1];r.testValue=String(Date.now()),e=new r(this.options),t="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,e.set(t,r.testValue)];case 2:return i.sent(),[4,e.get(t)];case 3:return n=i.sent(),[2,n===r.testValue];case 4:return i.sent(),[2,!1];case 5:return[4,e.remove(t)];case 6:return i.sent(),[7];case 7:return[2]}})})},r.prototype.get=function(e){var t;return be(this,void 0,void 0,function(){var n,i;return ve(this,function(s){switch(s.label){case 0:return[4,this.getRaw(e)];case 1:if(n=s.sent(),!n)return[2,void 0];try{return i=(t=h4(n))!==null&&t!==void 0?t:p4(n),i===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]):[2,JSON.parse(i)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]}return[2]}})})},r.prototype.getRaw=function(e){var t,n;return be(this,void 0,void 0,function(){var i,s,a;return ve(this,function(o){return i=Mn(),s=(n=(t=i==null?void 0:i.document)===null||t===void 0?void 0:t.cookie.split("; "))!==null&&n!==void 0?n:[],a=s.find(function(l){return l.indexOf(e+"=")===0}),a?[2,a.substring(e.length+1)]:[2,void 0]})})},r.prototype.set=function(e,t){var n;return be(this,void 0,void 0,function(){var i,s,a,o,l,d,c;return ve(this,function(u){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0,s=t!==null?i:-1,a=void 0,s&&(o=new Date,o.setTime(o.getTime()+s*24*60*60*1e3),a=o),l="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),a&&(l+="; expires=".concat(a.toUTCString())),l+="; path=/",this.options.domain&&(l+="; domain=".concat(this.options.domain)),this.options.secure&&(l+="; Secure"),this.options.sameSite&&(l+="; SameSite=".concat(this.options.sameSite)),d=Mn(),d&&(d.document.cookie=l)}catch(f){c=f instanceof Error?f.message:String(f),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(c))}return[2]})})},r.prototype.remove=function(e){return be(this,void 0,void 0,function(){return ve(this,function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}})})},r.prototype.reset=function(){return be(this,void 0,void 0,function(){return ve(this,function(e){return[2]})})},r}(),h4=function(r){try{return decodeURIComponent(atob(r))}catch{return}},p4=function(r){try{return decodeURIComponent(atob(decodeURIComponent(r)))}catch{return}},g4=function(r,e,t){return t===void 0&&(t=10),[Kb,e,r.substring(0,t)].filter(Boolean).join("_")},Gb=function(){function r(){}return r.prototype.send=function(e,t){return Promise.resolve(null)},r.prototype.buildResponse=function(e){var t,n,i,s,a,o,l,d,c,u,f,g,m,v,b,y,k,_,E,S,O,T;if(typeof e!="object")return null;var C=e.code||0,D=this.buildStatus(C);switch(D){case Mr.Success:return{status:D,statusCode:C,body:{eventsIngested:(t=e.events_ingested)!==null&&t!==void 0?t:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case Mr.Invalid:return{status:D,statusCode:C,body:{error:(s=e.error)!==null&&s!==void 0?s:"",missingField:(a=e.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(o=e.events_with_invalid_fields)!==null&&o!==void 0?o:{},eventsWithMissingFields:(l=e.events_with_missing_fields)!==null&&l!==void 0?l:{},eventsWithInvalidIdLengths:(d=e.events_with_invalid_id_lengths)!==null&&d!==void 0?d:{},epsThreshold:(c=e.eps_threshold)!==null&&c!==void 0?c:0,exceededDailyQuotaDevices:(u=e.exceeded_daily_quota_devices)!==null&&u!==void 0?u:{},silencedDevices:(f=e.silenced_devices)!==null&&f!==void 0?f:[],silencedEvents:(g=e.silenced_events)!==null&&g!==void 0?g:[],throttledDevices:(m=e.throttled_devices)!==null&&m!==void 0?m:{},throttledEvents:(v=e.throttled_events)!==null&&v!==void 0?v:[]}};case Mr.PayloadTooLarge:return{status:D,statusCode:C,body:{error:(b=e.error)!==null&&b!==void 0?b:""}};case Mr.RateLimit:return{status:D,statusCode:C,body:{error:(y=e.error)!==null&&y!==void 0?y:"",epsThreshold:(k=e.eps_threshold)!==null&&k!==void 0?k:0,throttledDevices:(_=e.throttled_devices)!==null&&_!==void 0?_:{},throttledUsers:(E=e.throttled_users)!==null&&E!==void 0?E:{},exceededDailyQuotaDevices:(S=e.exceeded_daily_quota_devices)!==null&&S!==void 0?S:{},exceededDailyQuotaUsers:(O=e.exceeded_daily_quota_users)!==null&&O!==void 0?O:{},throttledEvents:(T=e.throttled_events)!==null&&T!==void 0?T:[]}};case Mr.Timeout:default:return{status:D,statusCode:C}}},r.prototype.buildStatus=function(e){return e>=200&&e<300?Mr.Success:e===429?Mr.RateLimit:e===413?Mr.PayloadTooLarge:e===408?Mr.Timeout:e>=400&&e<500?Mr.Invalid:e>=500?Mr.Failed:Mr.Unknown},r}(),m4=function(r){Jn(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.send=function(t,n){return be(this,void 0,void 0,function(){var i,s,a;return ve(this,function(o){switch(o.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"},[4,fetch(t,i)];case 1:return s=o.sent(),[4,s.text()];case 2:a=o.sent();try{return[2,this.buildResponse(JSON.parse(a))]}catch{return[2,this.buildResponse({code:s.status})]}return[2]}})})},e}(Gb),v4=null,b4=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],y4="data-amp-track-",k4=["div","span","h1","h2","h3","h4","h5","h6"],gC=100,_4=function(){function r(e){this.request=e}return Object.defineProperty(r.prototype,"headers",{get:function(){if(this._headers)return this._headers;var e=this.request.headers;if(Array.isArray(e)){var t=e;this._headers=t.reduce(function(s,a){var o=pt(a,2),l=o[0],d=o[1];return s[l]=d,s},{})}else if(e instanceof Headers){var n=e,i={};n.forEach(function(s,a){i[a]=s}),this._headers=i}else typeof e=="object"&&(this._headers=e);return this._headers},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bodySize",{get:function(){if(typeof this._bodySize=="number")return this._bodySize;var e=Mn();if(e!=null&&e.TextEncoder){var t=this.request.body;return this._bodySize=mC(t,gC),this._bodySize}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"method",{get:function(){return this.request.method},enumerable:!1,configurable:!0}),r}(),w4=function(){function r(e){this.body=e}return Object.defineProperty(r.prototype,"bodySize",{get:function(){return mC(this.body,gC)},enumerable:!1,configurable:!0}),r}();function mC(r,e){var t,n,i,s=Mn(),a=s==null?void 0:s.TextEncoder;if(a){var o;if(typeof r=="string")o=r,i=new a().encode(o).length;else if(r instanceof Blob)o=r,i=o.size;else if(r instanceof URLSearchParams)o=r,i=new a().encode(o.toString()).length;else if(ArrayBuffer.isView(r))o=r,i=o.byteLength;else if(r instanceof ArrayBuffer)o=r,i=o.byteLength;else if(r instanceof FormData){var l=r,d=0,c=0;try{for(var u=Yt(l.entries()),f=u.next();!f.done;f=u.next()){var g=pt(f.value,2),m=g[0],v=g[1];if(d+=m.length,typeof v=="string")d+=new a().encode(v).length;else if(v instanceof Blob)d+=v.size;else return;if(++c>=e)return}}catch(b){t={error:b}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}i=d}else if(r instanceof ReadableStream){o=r;return}return i}}var E4=function(){function r(e){this.response=e}return Object.defineProperty(r.prototype,"headers",{get:function(){var e;if(this._headers)return this._headers;if(this.response.headers instanceof Headers){var t=this.response.headers,n={};return(e=t==null?void 0:t.forEach)===null||e===void 0||e.call(t,function(i,s){n[s]=i}),this._headers=n,n}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bodySize",{get:function(){var e,t;if(this._bodySize!==void 0)return this._bodySize;var n=(t=(e=this.response.headers)===null||e===void 0?void 0:e.get)===null||t===void 0?void 0:t.call(e,"content-length"),i=n?parseInt(n,10):void 0;return this._bodySize=i,i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),r}(),x4=function(){function r(e,t,n){this.statusCode=e,this.headersString=t,this.size=n}return Object.defineProperty(r.prototype,"bodySize",{get:function(){return this.size},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headers",{get:function(){var e,t;if(this.headersString){var n={},i=this.headersString.split(`\r
`);try{for(var s=Yt(i),a=s.next();!a.done;a=s.next()){var o=a.value,l=pt(o.split(": "),2),d=l[0],c=l[1];d&&c&&(n[d]=c)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return n}},enumerable:!1,configurable:!0}),r}(),S4=function(){function r(e,t,n,i,s,a,o,l,d,c,u){o===void 0&&(o=0),this.type=e,this.method=t,this.timestamp=n,this.startTime=i,this.url=s,this.requestWrapper=a,this.status=o,this.duration=l,this.responseWrapper=d,this.error=c,this.endTime=u}return r.prototype.toSerializable=function(){var e,t,n,i,s={type:this.type,method:this.method,url:this.url,timestamp:this.timestamp,status:this.status,duration:this.duration,error:this.error,startTime:this.startTime,endTime:this.endTime,requestHeaders:(e=this.requestWrapper)===null||e===void 0?void 0:e.headers,requestBodySize:(t=this.requestWrapper)===null||t===void 0?void 0:t.bodySize,responseHeaders:(n=this.responseWrapper)===null||n===void 0?void 0:n.headers,responseBodySize:(i=this.responseWrapper)===null||i===void 0?void 0:i.bodySize};return Object.fromEntries(Object.entries(s).filter(function(a){var o=pt(a,2);o[0];var l=o[1];return l!==void 0}))},r}();function T4(r){return typeof r=="object"&&r!==null&&"url"in r&&"method"in r}var A4=function(){function r(e,t){t===void 0&&(t=zc()),this.callback=e,this.id=t}return r}(),O4=function(){function r(e){this.eventCallbacks=new Map,this.isObserving=!1,this.logger=e;var t=Mn();r.isSupported()&&(this.globalScope=t)}return r.isSupported=function(){var e=Mn();return!!e&&!!e.fetch},r.prototype.subscribe=function(e,t){var n,i,s,a,o,l,d;if(this.logger||(this.logger=t),this.eventCallbacks.set(e.id,e),!this.isObserving){var c=(s=(i=(n=this.globalScope)===null||n===void 0?void 0:n.XMLHttpRequest)===null||i===void 0?void 0:i.prototype)===null||s===void 0?void 0:s.open,u=(l=(o=(a=this.globalScope)===null||a===void 0?void 0:a.XMLHttpRequest)===null||o===void 0?void 0:o.prototype)===null||l===void 0?void 0:l.send;c&&u&&this.observeXhr(c,u);var f=(d=this.globalScope)===null||d===void 0?void 0:d.fetch;f&&this.observeFetch(f),this.isObserving=!0}},r.prototype.unsubscribe=function(e){this.eventCallbacks.delete(e.id)},r.prototype.triggerEventCallbacks=function(e){var t=this;this.eventCallbacks.forEach(function(n){var i;try{n.callback(e)}catch(s){(i=t.logger)===null||i===void 0||i.debug("an unexpected error occurred while triggering event callbacks",s)}})},r.prototype.handleNetworkRequestEvent=function(e,t,n,i,s,a,o){var l;if(!(a===void 0||o===void 0)){var d,c="GET";T4(t)?(d=t.url,c=t.method):d=(l=t==null?void 0:t.toString)===null||l===void 0?void 0:l.call(t),c=(n==null?void 0:n.method)||c;var u,f;i&&(u=i.status),s&&(f={name:s.name||"UnknownError",message:s.message||"An unknown error occurred"},u=0);var g=Math.floor(performance.now()-o),m=Math.floor(a+g),v=new S4(e,c,a,a,d,n,u,g,i,f,m);this.triggerEventCallbacks(v)}},r.prototype.getTimestamps=function(){var e,t;return{startTime:(e=Date.now)===null||e===void 0?void 0:e.call(Date),durationStart:(t=performance==null?void 0:performance.now)===null||t===void 0?void 0:t.call(performance)}},r.prototype.observeFetch=function(e){var t=this;!this.globalScope||!e||(this.globalScope.fetch=function(n,i){return be(t,void 0,void 0,function(){var s,a,o,l,d,c;return ve(this,function(u){switch(u.label){case 0:try{s=this.getTimestamps()}catch(f){(d=this.logger)===null||d===void 0||d.debug("an unexpected error occurred while retrieving timestamps",f)}u.label=1;case 1:return u.trys.push([1,3,,4]),[4,e(n,i)];case 2:return a=u.sent(),[3,4];case 3:return l=u.sent(),o=l,[3,4];case 4:try{this.handleNetworkRequestEvent("fetch",n,i?new _4(i):void 0,a?new E4(a):void 0,o,s==null?void 0:s.startTime,s==null?void 0:s.durationStart)}catch(f){(c=this.logger)===null||c===void 0||c.debug("an unexpected error occurred while handling fetch",f)}if(a)return[2,a];throw o}})})})},r.prototype.observeXhr=function(e,t){if(!(!this.globalScope||!e||!t)){var n=this.globalScope.XMLHttpRequest.prototype,i=this;n.open=function(){for(var s,a,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var d=this,c=pt(o,2),u=c[0],f=c[1];try{d.$$AmplitudeAnalyticsEvent=je({method:u,url:(s=f==null?void 0:f.toString)===null||s===void 0?void 0:s.call(f)},i.getTimestamps())}catch(g){(a=i.logger)===null||a===void 0||a.debug("an unexpected error occurred while calling xhr open",g)}return e.apply(d,o)},n.send=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var o=this,l=s[0],d=o.$$AmplitudeAnalyticsEvent;return o.addEventListener("loadend",function(){var c;try{var u=o.getAllResponseHeaders(),f=o.getResponseHeader("content-length"),g=new x4(o.status,u,f?parseInt(f,10):void 0),m=new w4(l);d.status=o.status,i.handleNetworkRequestEvent("xhr",{url:d.url,method:d.method},m,g,void 0,d.startTime,d.durationStart)}catch(v){(c=i.logger)===null||c===void 0||c.debug("an unexpected error occurred while handling xhr send",v)}}),t.apply(o,s)}}},r}(),bS=new O4,Gg=function(r,e){return typeof r=="boolean"?r:(r==null?void 0:r[e])!==!1},vC=function(r){return Gg(r,"attribution")},C4=function(r){return Gg(r,"fileDownloads")},j4=function(r){return Gg(r,"formInteractions")},bC=function(r){return Gg(r,"pageViews")},yS=function(r){return Gg(r,"sessions")},yC=function(r){return typeof r=="object"&&(r.networkTracking===!0||typeof r.networkTracking=="object")},kC=function(r){return typeof r=="boolean"?r:typeof r=="object"&&(r.elementInteractions===!0||typeof r.elementInteractions=="object")},I4=function(r){if(kC(r.autocapture)&&typeof r.autocapture=="object"&&typeof r.autocapture.elementInteractions=="object")return r.autocapture.elementInteractions},D4=function(r){if(yC(r.autocapture)){if(typeof r.autocapture=="object"&&typeof r.autocapture.networkTracking=="object")return r.autocapture.networkTracking;if(r.networkTrackingOptions)return r.networkTrackingOptions}},R4=function(r){var e=function(){return!1},t=void 0,n,i=r.pageCounter,s=bC(r.defaultTracking);return s&&(e=void 0,n=void 0,r.defaultTracking&&typeof r.defaultTracking=="object"&&r.defaultTracking.pageViews&&typeof r.defaultTracking.pageViews=="object"&&("trackOn"in r.defaultTracking.pageViews&&(e=r.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in r.defaultTracking.pageViews&&(t=r.defaultTracking.pageViews.trackHistoryChanges),"eventType"in r.defaultTracking.pageViews&&r.defaultTracking.pageViews.eventType&&(n=r.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:t,eventType:n,pageCounter:i}},P4=function(r){return vC(r.defaultTracking)&&r.defaultTracking&&typeof r.defaultTracking=="object"&&r.defaultTracking.attribution&&typeof r.defaultTracking.attribution=="object"?je({},r.defaultTracking.attribution):{}},mk=function(r,e){for(var t=0;t<e.length;t++){var n=e[t],i=n.name,s=n.args,a=n.resolve,o=r&&r[i];if(typeof o=="function"){var l=o.apply(r,s);typeof a=="function"&&a(l==null?void 0:l.promise)}}return r},vk=function(r){var e=r;return e&&e._q!==void 0},_C="2.18.1",N4="amplitude-ts",M4="Web",L4="$remote",F4=function(){function r(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(N4,"/").concat(_C),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return r.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},r.prototype.execute=function(e){var t,n;return be(this,void 0,void 0,function(){var i,s,a,o;return ve(this,function(l){return i=new Date().getTime(),s=(t=this.config.lastEventId)!==null&&t!==void 0?t:-1,a=(n=e.event_id)!==null&&n!==void 0?n:s+1,this.config.lastEventId=a,e.time||(this.config.lastEventTime=i),o=je(je(je(je(je(je(je(je({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:M4}),this.config.trackingOptions.language&&{language:c4()}),this.config.trackingOptions.ipAddress&&{ip:L4}),{insert_id:zc(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent}),[2,o]})})},r}(),wC=function(){function r(e){this.storage=e}return r.prototype.isEnabled=function(){return be(this,void 0,void 0,function(){var e,t,n,i;return ve(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),t=new r(this.storage),n="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,t.set(n,e)];case 2:return s.sent(),[4,t.get(n)];case 3:return i=s.sent(),[2,i===e];case 4:return s.sent(),[2,!1];case 5:return[4,t.remove(n)];case 6:return s.sent(),[7];case 7:return[2]}})})},r.prototype.get=function(e){return be(this,void 0,void 0,function(){var t;return ve(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return t=n.sent(),t?[2,JSON.parse(t)]:[2,void 0];case 2:return n.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},r.prototype.getRaw=function(e){var t;return be(this,void 0,void 0,function(){return ve(this,function(n){return[2,((t=this.storage)===null||t===void 0?void 0:t.getItem(e))||void 0]})})},r.prototype.set=function(e,t){var n;return be(this,void 0,void 0,function(){return ve(this,function(i){try{(n=this.storage)===null||n===void 0||n.setItem(e,JSON.stringify(t))}catch{}return[2]})})},r.prototype.remove=function(e){var t;return be(this,void 0,void 0,function(){return ve(this,function(n){try{(t=this.storage)===null||t===void 0||t.removeItem(e)}catch{}return[2]})})},r.prototype.reset=function(){var e;return be(this,void 0,void 0,function(){return ve(this,function(t){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},r}(),vm=1e3,EC=function(r){Jn(e,r);function e(t){var n=this,i,s,a;try{a=(i=Mn())===null||i===void 0?void 0:i.localStorage}catch(o){(s=t==null?void 0:t.loggerProvider)===null||s===void 0||s.debug("Failed to access localStorage. error=".concat(JSON.stringify(o))),a=void 0}return n=r.call(this,a)||this,n.loggerProvider=t==null?void 0:t.loggerProvider,n}return e.prototype.set=function(t,n){var i;return be(this,void 0,void 0,function(){var s;return ve(this,function(a){switch(a.label){case 0:return Array.isArray(n)&&n.length>vm?(s=n.length-vm,[4,r.prototype.set.call(this,t,n.slice(0,vm))]):[3,2];case 1:return a.sent(),(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(s," events because the queue length exceeded ").concat(vm,".")),[3,4];case 2:return[4,r.prototype.set.call(this,t,n)];case 3:a.sent(),a.label=4;case 4:return[2]}})})},e}(wC),V4=function(r){Jn(e,r);function e(){var t;return r.call(this,(t=Mn())===null||t===void 0?void 0:t.sessionStorage)||this}return e}(wC),H4=function(r){Jn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={done:4},t}return e.prototype.send=function(t,n){return be(this,void 0,void 0,function(){var i=this;return ve(this,function(s){return[2,new Promise(function(a,o){typeof XMLHttpRequest>"u"&&o(new Error("XHRTransport is not supported."));var l=new XMLHttpRequest;l.open("POST",t,!0),l.onreadystatechange=function(){if(l.readyState===i.state.done){var d=l.responseText;try{a(i.buildResponse(JSON.parse(d)))}catch{a(i.buildResponse({code:l.status}))}}},l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Accept","*/*"),l.send(JSON.stringify(n))})]})})},e}(Gb),U4=function(r){Jn(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.send=function(t,n){return be(this,void 0,void 0,function(){var i=this;return ve(this,function(s){return[2,new Promise(function(a,o){var l=Mn();if(!(l!=null&&l.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var d=JSON.stringify(n),c=l.navigator.sendBeacon(t,JSON.stringify(n));return a(c?i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:d.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(u){o(u)}})]})})},e}(Gb),B4=function(r,e,t){return t===void 0&&(t=!0),be(void 0,void 0,void 0,function(){var n,i,s,a,o,l,d,c,u;return ve(this,function(f){switch(f.label){case 0:return n=d4(r),[4,e.getRaw(n)];case 1:return i=f.sent(),i?t?[4,e.remove(n)]:[3,3]:[2,{optOut:!1}];case 2:f.sent(),f.label=3;case 3:return s=pt(i.split("."),6),a=s[0],o=s[1],l=s[2],d=s[3],c=s[4],u=s[5],[2,{deviceId:a,userId:$4(o),sessionId:bk(d),lastEventId:bk(u),lastEventTime:bk(c),optOut:!!l}]}})})},bk=function(r){var e=parseInt(r,32);if(!isNaN(e))return e},$4=function(r){if(!(!atob||!escape||!r))try{return decodeURIComponent(escape(atob(r)))}catch{return}},Bs="[Amplitude]",kS="".concat(Bs," Form Started"),z4="".concat(Bs," Form Submitted"),W4="".concat(Bs," File Downloaded"),_S="session_start",wS="session_end",K4="".concat(Bs," File Extension"),G4="".concat(Bs," File Name"),q4="".concat(Bs," Link ID"),Y4="".concat(Bs," Link Text"),X4="".concat(Bs," Link URL"),yk="".concat(Bs," Form ID"),kk="".concat(Bs," Form Name"),_k="".concat(Bs," Form Destination"),Nv="cookie",Z4="US",J4=function(r){Jn(e,r);function e(t,n,i,s,a,o,l,d,c,u,f,g,m,v,b,y,k,_,E,S,O,T,C,D,R,L,P,F,H,N,z,G,Y,W,ue){i===void 0&&(i=new kE),s===void 0&&(s={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),d===void 0&&(d=1e3),c===void 0&&(c=5),u===void 0&&(u=30),f===void 0&&(f=Nv),y===void 0&&(y=new cC),k===void 0&&(k=Ci.Warn),E===void 0&&(E=!1),S===void 0&&(S=!1),C===void 0&&(C=""),D===void 0&&(D=Z4),L===void 0&&(L=30*60*1e3),P===void 0&&(P=new EC({loggerProvider:y})),F===void 0&&(F={ipAddress:!0,language:!0,platform:!0}),H===void 0&&(H="fetch"),N===void 0&&(N=!1),z===void 0&&(z=!0);var M=r.call(this,{apiKey:t,storageProvider:P,transportProvider:xC(H)})||this;return M.apiKey=t,M.appVersion=n,M.cookieOptions=s,M.defaultTracking=a,M.autocapture=o,M.flushIntervalMillis=d,M.flushMaxRetries=c,M.flushQueueSize=u,M.identityStorage=f,M.ingestionMetadata=g,M.instanceName=m,M.loggerProvider=y,M.logLevel=k,M.minIdLength=_,M.offline=E,M.partnerId=O,M.plan=T,M.serverUrl=C,M.serverZone=D,M.sessionTimeout=L,M.storageProvider=P,M.trackingOptions=F,M.transport=H,M.useBatch=N,M.fetchRemoteConfig=z,M.networkTrackingOptions=ue,M.version=_C,M._optOut=!1,M._cookieStorage=i,M.deviceId=l,M.lastEventId=v,M.lastEventTime=b,M.optOut=S,M.sessionId=R,M.pageCounter=Y,M.userId=G,M.debugLogsEnabled=W,M.loggerProvider.enable(W?Ci.Debug:M.logLevel),M.networkTrackingOptions=ue,M}return Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(t){this._cookieStorage!==t&&(this._cookieStorage=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(t){this._deviceId!==t&&(this._deviceId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(t){this._userId!==t&&(this._userId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(t){this._sessionId!==t&&(this._sessionId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut!==t&&(this._optOut=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(t){this._lastEventTime!==t&&(this._lastEventTime=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(t){this._lastEventId!==t&&(this._lastEventId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(t){this._pageCounter!==t&&(this._pageCounter=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugLogsEnabled",{set:function(t){this._debugLogsEnabled!==t&&(this._debugLogsEnabled=t,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var t={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(pC(this.apiKey),t)},e}(q3),Q4=function(r,e,t){return e===void 0&&(e={}),be(void 0,void 0,void 0,function(){var n,i,s,a,o,l,d,c,u,f,g,m,v,b,y,k,_,E,S,O,T,C,D,R,L,P,F,H,N,z,G,Y,W,ue,M,K,$,J,ne,fe,ae,Fe,ee;return ve(this,function(le){switch(le.label){case 0:return n=e.identityStorage||Nv,S={},n===Nv?[3,1]:(s="",[3,5]);case 1:return(T=(O=e.cookieOptions)===null||O===void 0?void 0:O.domain)!==null&&T!==void 0?(a=T,[3,4]):[3,2];case 2:return[4,tF()];case 3:a=le.sent(),le.label=4;case 4:s=a,le.label=5;case 5:return i=je.apply(void 0,[(S.domain=s,S.expiration=365,S.sameSite="Lax",S.secure=!1,S.upgrade=!0,S),e.cookieOptions]),o=eF(e.identityStorage,i),[4,B4(r,o,(D=(C=e.cookieOptions)===null||C===void 0?void 0:C.upgrade)!==null&&D!==void 0?D:!0)];case 6:return l=le.sent(),[4,o.get(pC(r))];case 7:return d=le.sent(),c=Pv(),u=(H=(F=(P=(L=(R=e.deviceId)!==null&&R!==void 0?R:c.ampDeviceId)!==null&&L!==void 0?L:c.deviceId)!==null&&P!==void 0?P:d==null?void 0:d.deviceId)!==null&&F!==void 0?F:l.deviceId)!==null&&H!==void 0?H:zc(),f=(N=d==null?void 0:d.lastEventId)!==null&&N!==void 0?N:l.lastEventId,g=(z=d==null?void 0:d.lastEventTime)!==null&&z!==void 0?z:l.lastEventTime,m=(Y=(G=e.optOut)!==null&&G!==void 0?G:d==null?void 0:d.optOut)!==null&&Y!==void 0?Y:l.optOut,v=(W=d==null?void 0:d.sessionId)!==null&&W!==void 0?W:l.sessionId,b=(M=(ue=e.userId)!==null&&ue!==void 0?ue:d==null?void 0:d.userId)!==null&&M!==void 0?M:l.userId,t.previousSessionDeviceId=(K=d==null?void 0:d.deviceId)!==null&&K!==void 0?K:l.deviceId,t.previousSessionUserId=($=d==null?void 0:d.userId)!==null&&$!==void 0?$:l.userId,y={ipAddress:(ne=(J=e.trackingOptions)===null||J===void 0?void 0:J.ipAddress)!==null&&ne!==void 0?ne:!0,language:(ae=(fe=e.trackingOptions)===null||fe===void 0?void 0:fe.language)!==null&&ae!==void 0?ae:!0,platform:(ee=(Fe=e.trackingOptions)===null||Fe===void 0?void 0:Fe.platform)!==null&&ee!==void 0?ee:!0},k=d==null?void 0:d.pageCounter,_=d==null?void 0:d.debugLogsEnabled,e.autocapture!==void 0&&(e.defaultTracking=e.autocapture),E=new J4(r,e.appVersion,o,i,e.defaultTracking,e.autocapture,u,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,n,e.ingestionMetadata,e.instanceName,f,g,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,m,e.partnerId,e.plan,e.serverUrl,e.serverZone,v,e.sessionTimeout,e.storageProvider,y,e.transport,e.useBatch,e.fetchRemoteConfig,b,k,_,e.networkTrackingOptions),[4,E.storageProvider.isEnabled()];case 8:return le.sent()||(E.loggerProvider.warn("Storage provider ".concat(E.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),E.storageProvider=new kE),[2,E]}})})},eF=function(r,e){switch(r===void 0&&(r=Nv),e===void 0&&(e={}),r){case"localStorage":return new EC;case"sessionStorage":return new V4;case"none":return new kE;case"cookie":default:return new B0(je(je({},e),{expirationDays:e.expiration}))}},xC=function(r){return r==="xhr"?new H4:r==="beacon"?new U4:new m4},tF=function(r){return be(void 0,void 0,void 0,function(){var e,t,n,i,s,s,a,o,l,d;return ve(this,function(c){switch(c.label){case 0:return[4,new B0().isEnabled()];case 1:if(!c.sent()||typeof location>"u"||!location.hostname)return[2,""];for(e=location.hostname,t=e.split("."),n=[],i="AMP_TLDTEST",s=t.length-2;s>=0;--s)n.push(t.slice(s).join("."));s=0,c.label=2;case 2:return s<n.length?(a=n[s],o={domain:"."+a},l=new B0(o),[4,l.set(i,1)]):[3,7];case 3:return c.sent(),[4,l.get(i)];case 4:return d=c.sent(),d?[4,l.remove(i)]:[3,6];case 5:return c.sent(),[2,"."+a];case 6:return s++,[3,2];case 7:return[2,""]}})})},SC=function(){var r="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[r]<"u")return globalThis[r];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},ES=function(){var r,e=SC();if(!(!((r=e==null?void 0:e.location)===null||r===void 0)&&r.search))return{};var t=e.location.search.substring(1).split("&").filter(Boolean),n=t.reduce(function(i,s){var a=s.split("=",2),o=xS(a[0]),l=xS(a[1]);return l&&(i[o]=l),i},{});return n},xS=function(r){r===void 0&&(r="");try{return decodeURIComponent(r)}catch{return""}},rF="utm_campaign",nF="utm_content",iF="utm_id",sF="utm_medium",aF="utm_source",oF="utm_term",SS="dclid",TS="fbclid",AS="gbraid",OS="gclid",CS="ko_click_id",jS="li_fat_id",IS="msclkid",DS="rtd_cid",RS="ttclid",PS="twclid",NS="wbraid",TC={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},lF=function(){function r(){}return r.prototype.parse=function(){return be(this,void 0,void 0,function(){return ve(this,function(e){return[2,je(je(je(je({},TC),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},r.prototype.getUtmParam=function(){var e=ES(),t=e[rF],n=e[nF],i=e[iF],s=e[sF],a=e[aF],o=e[oF];return{utm_campaign:t,utm_content:n,utm_id:i,utm_medium:s,utm_source:a,utm_term:o}},r.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(t=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&t!==void 0?t:void 0}catch{}return n},r.prototype.getClickIds=function(){var e,t=ES();return e={},e[SS]=t[SS],e[TS]=t[TS],e[AS]=t[AS],e[OS]=t[OS],e[CS]=t[CS],e[jS]=t[jS],e[IS]=t[IS],e[DS]=t[DS],e[RS]=t[RS],e[PS]=t[PS],e[NS]=t[NS],e},r}(),Mv;(function(r){r.SET="$set",r.SET_ONCE="$setOnce",r.ADD="$add",r.APPEND="$append",r.PREPEND="$prepend",r.REMOVE="$remove",r.PREINSERT="$preInsert",r.POSTINSERT="$postInsert",r.UNSET="$unset",r.CLEAR_ALL="$clearAll"})(Mv||(Mv={}));var MS;(function(r){r.REVENUE_PRODUCT_ID="$productId",r.REVENUE_QUANTITY="$quantity",r.REVENUE_PRICE="$price",r.REVENUE_TYPE="$revenueType",r.REVENUE_CURRENCY="$currency",r.REVENUE="$revenue"})(MS||(MS={}));var LS;(function(r){r.IDENTIFY="$identify",r.GROUP_IDENTIFY="$groupidentify",r.REVENUE="revenue_amount"})(LS||(LS={}));var Lv;(function(r){r.US="US",r.EU="EU"})(Lv||(Lv={}));var Fv;(function(r){r.Unknown="unknown",r.Skipped="skipped",r.Success="success",r.RateLimit="rate_limit",r.PayloadTooLarge="payload_too_large",r.Invalid="invalid",r.Failed="failed",r.Timeout="Timeout",r.SystemError="SystemError"})(Fv||(Fv={}));var dF=function(r){var e={};for(var t in r){var n=r[t];n&&(e[t]=n)}return e},cF="[Amplitude] Page Viewed",uF=function(r){r===void 0&&(r={});var e,t=SC(),n=void 0,i=!1,s,a=r.trackOn,o=r.trackHistoryChanges,l=r.eventType,d=l===void 0?cF:l,c=function(y){var k=y;try{k=decodeURI(y)}catch(_){n==null||n.error("Malformed URI sequence: ",_)}return k},u=function(){return be(void 0,void 0,void 0,function(){var y,k,_;return ve(this,function(E){switch(E.label){case 0:return y=c(typeof location<"u"&&location.href||""),_={event_type:d},k=[{}],[4,fF()];case 1:return[2,(_.event_properties=je.apply(void 0,[je.apply(void 0,k.concat([E.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":y,"[Amplitude] Page Path":typeof location<"u"&&c(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":y.split("?")[0]}]),_)]}})})},f=function(){return typeof a>"u"||typeof a=="function"&&a()},g=typeof location<"u"?location.href:null,m=function(){return be(void 0,void 0,void 0,function(){var y,k,_,E;return ve(this,function(S){switch(S.label){case 0:return y=location.href,k=pF(o,y,g||"")&&f(),g=y,k?(n==null||n.log("Tracking page view event"),e!=null?[3,1]:[3,3]):[3,4];case 1:return E=(_=e).track,[4,u()];case 2:E.apply(_,[S.sent()]),S.label=3;case 3:S.label=4;case 4:return[2]}})})},v=function(){m()},b={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(y,k){return be(void 0,void 0,void 0,function(){var _,E;return ve(this,function(S){switch(S.label){case 0:return e=k,s=y,n=y.loggerProvider,n.log("Installing @amplitude/plugin-page-view-tracking-browser"),i=!0,t&&(t.addEventListener("popstate",v),t.history.pushState=new Proxy(t.history.pushState,{apply:function(O,T,C){var D=pt(C,3),R=D[0],L=D[1],P=D[2];O.apply(T,[R,L,P]),i&&m()}})),f()?(n.log("Tracking page view event"),E=(_=e).track,[4,u()]):[3,2];case 1:E.apply(_,[S.sent()]),S.label=2;case 2:return[2]}})})},execute:function(y){return be(void 0,void 0,void 0,function(){var k;return ve(this,function(_){switch(_.label){case 0:return a==="attribution"&&hF(y)?(n==null||n.log("Enriching campaign event to page view event with campaign parameters"),[4,u()]):[3,2];case 1:k=_.sent(),y.event_type=k.event_type,y.event_properties=je(je({},y.event_properties),k.event_properties),_.label=2;case 2:return s&&y.event_type===d&&(s.pageCounter=s.pageCounter?s.pageCounter+1:1,y.event_properties=je(je({},y.event_properties),{"[Amplitude] Page Counter":s.pageCounter})),[2,y]}})})},teardown:function(){return be(void 0,void 0,void 0,function(){return ve(this,function(y){return t&&(t.removeEventListener("popstate",v),i=!1),[2]})})}};return b},fF=function(){return be(void 0,void 0,void 0,function(){var r;return ve(this,function(e){switch(e.label){case 0:return r=dF,[4,new lF().parse()];case 1:return[2,r.apply(void 0,[e.sent()])]}})})},hF=function(r){if(r.event_type==="$identify"&&r.user_properties){var e=r.user_properties,t=e[Mv.SET]||{},n=e[Mv.UNSET]||{},i=yr(yr([],pt(Object.keys(t)),!1),pt(Object.keys(n)),!1);return Object.keys(TC).every(function(s){return i.includes(s)})}return!1},pF=function(r,e,t){switch(r){case"pathOnly":{if(t=="")return!0;var n=new URL(e),i=new URL(t),s=n.origin+n.pathname,a=i.origin+i.pathname;return s!==a}default:return e!==t}},gF=function(){var r,e=[],t=function(d,c,u){d.addEventListener(c,u),e.push({element:d,type:c,handler:u})},n=function(){e.forEach(function(d){var c=d.element,u=d.type,f=d.handler;c==null||c.removeEventListener(u,f)}),e=[]},i="@amplitude/plugin-form-interaction-tracking-browser",s="enrichment",a=function(d,c){return be(void 0,void 0,void 0,function(){var u,f;return ve(this,function(g){return u=function(){if(!c){d.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var m=function(b){var y=!1;t(b,"change",function(){var k,_=FS(b);y||c.track(kS,(k={},k[yk]=uu(b.id),k[kk]=uu(b.name),k[_k]=_,k)),y=!0}),t(b,"submit",function(){var k,_,E=FS(b);y||c.track(kS,(k={},k[yk]=uu(b.id),k[kk]=uu(b.name),k[_k]=E,k)),c.track(z4,(_={},_[yk]=uu(b.id),_[kk]=uu(b.name),_[_k]=E,_)),y=!1})},v=Array.from(document.getElementsByTagName("form"));v.forEach(m),typeof MutationObserver<"u"&&(r=new MutationObserver(function(b){b.forEach(function(y){y.addedNodes.forEach(function(k){k.nodeName==="FORM"&&m(k),"querySelectorAll"in k&&typeof k.querySelectorAll=="function"&&Array.from(k.querySelectorAll("form")).map(m)})})}),r.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?u():(f=Mn(),f?f.addEventListener("load",u):d.loggerProvider.debug("Form interaction tracking is not installed because global is undefined.")),[2]})})},o=function(d){return be(void 0,void 0,void 0,function(){return ve(this,function(c){return[2,d]})})},l=function(){return be(void 0,void 0,void 0,function(){return ve(this,function(d){return r==null||r.disconnect(),n(),[2]})})};return{name:i,type:s,setup:a,execute:o,teardown:l}},uu=function(r){if(typeof r=="string")return r},FS=function(r){var e=r.getAttribute("action");try{e=new URL(encodeURI(e??""),window.location.href).href}catch{}return e},mF=function(){var r,e=[],t=function(d,c,u){d.addEventListener(c,u),e.push({element:d,type:c,handler:u})},n=function(){e.forEach(function(d){var c=d.element,u=d.type,f=d.handler;c==null||c.removeEventListener(u,f)}),e=[]},i="@amplitude/plugin-file-download-tracking-browser",s="enrichment",a=function(d,c){return be(void 0,void 0,void 0,function(){var u,f;return ve(this,function(g){return u=function(){if(!c){d.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var m=function(y){var k;try{k=new URL(y.href,window.location.href)}catch{return}var _=v.exec(k.href),E=_==null?void 0:_[1];E&&t(y,"click",function(){var S;E&&c.track(W4,(S={},S[K4]=E,S[G4]=k.pathname,S[q4]=y.id,S[Y4]=y.text,S[X4]=y.href,S))})},v=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,b=Array.from(document.getElementsByTagName("a"));b.forEach(m),typeof MutationObserver<"u"&&(r=new MutationObserver(function(y){y.forEach(function(k){k.addedNodes.forEach(function(_){_.nodeName==="A"&&m(_),"querySelectorAll"in _&&typeof _.querySelectorAll=="function"&&Array.from(_.querySelectorAll("a")).map(m)})})}),r.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?u():(f=Mn(),f?f.addEventListener("load",u):d.loggerProvider.debug("File download tracking is not installed because global is undefined.")),[2]})})},o=function(d){return be(void 0,void 0,void 0,function(){return ve(this,function(c){return[2,d]})})},l=function(){return be(void 0,void 0,void 0,function(){return ve(this,function(d){return r==null||r.disconnect(),n(),[2]})})};return{name:i,type:s,setup:a,execute:o,teardown:l}},VS=!1,vF=function(r){if(!(VS||r.defaultTracking!==void 0)){var e=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;r.loggerProvider.warn(e),VS=!0}},bF=function(){var r="@amplitude/plugin-network-checker-browser",e="before",t=Mn(),n=[],i=function(l,d){t!=null&&t.addEventListener&&(t==null||t.addEventListener(l,d),n.push({type:l,handler:d}))},s=function(){n.forEach(function(l){var d=l.type,c=l.handler;t==null||t.removeEventListener(d,c)}),n=[]},a=function(l,d){return be(void 0,void 0,void 0,function(){return ve(this,function(c){return typeof navigator>"u"?(l.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),l.offline=!1,[2]):(l.offline=!navigator.onLine,i("online",function(){l.loggerProvider.debug("Network connectivity changed to online."),l.offline=!1,setTimeout(function(){d.flush()},l.flushIntervalMillis)}),i("offline",function(){l.loggerProvider.debug("Network connectivity changed to offline."),l.offline=!0}),[2])})})},o=function(){return be(void 0,void 0,void 0,function(){return ve(this,function(l){return s(),[2]})})};return{name:r,type:e,setup:a,teardown:o}},yF="Network error occurred, remote config fetch failed",kF="Remote config successfully fetched",_F="Remote config fetch rejected due to exceeded retry count",HS="Remote config fetch rejected due to timeout after 5 seconds",US="Unexpected error occurred",wF="https://sr-client-cfg.amplitude.com/config",EF="https://sr-client-cfg.stag2.amplitude.com/config",xF="https://sr-client-cfg.eu.amplitude.com/config",SF=function(){function r(e){var t=e.localConfig,n=e.configKeys,i=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(s,a,o){return be(i,void 0,void 0,function(){var l,d,c;return ve(this,function(u){switch(u.label){case 0:return l=Date.now(),[4,this.fetchWithTimeout(o)];case 1:return d=u.sent(),d&&(c=d.configs&&d.configs[s],c)?(this.metrics.fetchTimeAPISuccess=Date.now()-l,[2,c[a]]):(this.metrics.fetchTimeAPIFail=Date.now()-l,[2,void 0])}})})},this.fetchWithTimeout=function(s){return be(i,void 0,void 0,function(){var a,o,l;return ve(this,function(d){switch(d.label){case 0:return a=new AbortController,o=setTimeout(function(){return a.abort()},5e3),[4,this.fetchRemoteConfig(a.signal,s)];case 1:return l=d.sent(),clearTimeout(o),[2,l]}})})},this.fetchRemoteConfig=function(s,a){return be(i,void 0,void 0,function(){var o,l,d,c,u,f,g,m,v,b,y,k,_;return ve(this,function(E){switch(E.label){case 0:if(a===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:_F})];if(s.aborted)return[2,this.completeRequest({err:HS})];a!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=a,this.attempts=0),E.label=1;case 1:E.trys.push([1,3,,4]),o=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(l=Yt(this.configKeys),d=l.next();!d.done;d=l.next())c=d.value,o.append("config_keys",c)}catch(S){y={error:S}}finally{try{d&&!d.done&&(k=l.return)&&k.call(l)}finally{if(y)throw y.error}}return a&&o.set("session_id",String(a)),u={headers:{Accept:"*/*"},method:"GET"},f="".concat(this.getServerUrl(),"?").concat(o.toString()),this.attempts+=1,[4,fetch(f,je(je({},u),{signal:s}))];case 2:if(g=E.sent(),g===null)return[2,this.completeRequest({err:US})];switch(m=new Gb().buildStatus(g.status),m){case Fv.Success:return this.attempts=0,[2,this.parseAndStoreConfig(g)];case Fv.Failed:return[2,this.retryFetch(s,a)];default:return[2,this.completeRequest({err:yF})]}case 3:return v=E.sent(),b=v,s.aborted?[2,this.completeRequest({err:HS})]:[2,this.completeRequest({err:(_=b.message)!==null&&_!==void 0?_:US})];case 4:return[2]}})})},this.retryFetch=function(s,a){return be(i,void 0,void 0,function(){var o=this;return ve(this,function(l){switch(l.label){case 0:return[4,new Promise(function(d){return setTimeout(d,o.attempts*o.retryTimeout)})];case 1:return l.sent(),[2,this.fetchRemoteConfig(s,a)]}})})},this.parseAndStoreConfig=function(s){return be(i,void 0,void 0,function(){var a;return ve(this,function(o){switch(o.label){case 0:return[4,s.json()];case 1:return a=o.sent(),this.completeRequest({success:kF}),[2,a]}})})},this.localConfig=t,this.configKeys=n}return r.prototype.getServerUrl=function(){return this.localConfig.serverZone===Lv.STAGING?EF:this.localConfig.serverZone===Lv.EU?xF:wF},r.prototype.completeRequest=function(e){var t=e.err,n=e.success;if(t)throw new Error(t);n&&this.localConfig.loggerProvider.log(n)},r}(),TF=function(r){var e=r.localConfig,t=r.configKeys;return be(void 0,void 0,void 0,function(){return ve(this,function(n){return[2,new SF({localConfig:e,configKeys:t})]})})},AF=TF,OF=function(){function r(e){this.config=e,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return r.prototype.initialize=function(){return be(this,void 0,void 0,function(){var e;return ve(this,function(t){switch(t.label){case 0:return e=this,[4,AF({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return e.remoteConfigFetch=t.sent(),[2]}})})},r.prototype.generateJoinedConfig=function(){var e,t,n,i,s,a;return be(this,void 0,void 0,function(){var o,l,d,c,u,f,g,m,v,b,y,k,_;return ve(this,function(E){switch(E.label){case 0:return E.trys.push([0,3,,4]),l=this.remoteConfigFetch,l?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:l=E.sent(),E.label=2;case 2:if(o=l,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(o,null,2)),o&&"autocapture"in o){if(typeof o.autocapture=="boolean"&&(this.config.autocapture=o.autocapture),typeof o.autocapture=="object"){if(d=je({},o.autocapture),this.config.autocapture===void 0&&(this.config.autocapture=o.autocapture),typeof o.autocapture.elementInteractions=="object"&&(!((e=o.autocapture.elementInteractions.pageUrlAllowlistRegex)===null||e===void 0)&&e.length)){d.elementInteractions=je({},o.autocapture.elementInteractions),c=d.elementInteractions,u=(t=c.pageUrlAllowlist)!==null&&t!==void 0?t:[],f=[];try{for(g=Yt(o.autocapture.elementInteractions.pageUrlAllowlistRegex),m=g.next();!m.done;m=g.next()){v=m.value;try{f.push(new RegExp(v))}catch(S){this.config.loggerProvider.warn("Invalid regex pattern: ".concat(v),S)}}}catch(S){k={error:S}}finally{try{m&&!m.done&&(_=g.return)&&_.call(g)}finally{if(k)throw k.error}}b=u.concat(f),c.pageUrlAllowlist=b,delete c.pageUrlAllowlistRegex}typeof this.config.autocapture=="boolean"&&(this.config.autocapture=je({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},d)),typeof this.config.autocapture=="object"&&(this.config.autocapture=je(je({},this.config.autocapture),d))}this.config.defaultTracking=this.config.autocapture}return this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),(n=(a=this.config).requestMetadata)!==null&&n!==void 0||(a.requestMetadata=new fC),!((i=this.remoteConfigFetch)===null||i===void 0)&&i.metrics.fetchTimeAPISuccess&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),!((s=this.remoteConfigFetch)===null||s===void 0)&&s.metrics.fetchTimeAPIFail&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return y=E.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",y),[3,4];case 4:return[2,this.config]}})})},r}(),CF=function(r){return be(void 0,void 0,void 0,function(){var e;return ve(this,function(t){switch(t.label){case 0:return e=new OF(r),[4,e.initialize()];case 1:return t.sent(),[2,e]}})})},jF="@amplitude/plugin-autocapture-browser",$0="[Amplitude] Element Clicked",IF="[Amplitude] Element Changed",DF="[Amplitude] Element ID",RF="[Amplitude] Element Class",AC="[Amplitude] Element Tag",OC="[Amplitude] Element Text",PF="[Amplitude] Element Hierarchy",NF="[Amplitude] Element Href",MF="[Amplitude] Element Position Left",LF="[Amplitude] Element Position Top",FF="[Amplitude] Element Aria Label",VF="[Amplitude] Element Attributes",HF="[Amplitude] Element Parent Label",CC="[Amplitude] Page URL",UF="[Amplitude] Page Title",BF="[Amplitude] Viewport Height",$F="[Amplitude] Viewport Width",Hm="https://app.amplitude.com",zF="https://app.eu.amplitude.com",WF="https://apps.stag2.amplitude.com",KF={US:Hm,EU:zF,STAGING:WF},GF="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",qF="amp-visual-tagging-selector-highlight";function Qt(r){return typeof r=="function"}function _E(r){var e=function(n){Error.call(n),n.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var wk=_E(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Vv(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var qg=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,n,i,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=Yt(a),l=o.next();!l.done;l=o.next()){var d=l.value;d.remove(this)}}catch(v){e={error:v}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var c=this.initialTeardown;if(Qt(c))try{c()}catch(v){s=v instanceof wk?v.errors:[v]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var f=Yt(u),g=f.next();!g.done;g=f.next()){var m=g.value;try{BS(m)}catch(v){s=s??[],v instanceof wk?s=yr(yr([],pt(s)),pt(v.errors)):s.push(v)}}}catch(v){n={error:v}}finally{try{g&&!g.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(s)throw new wk(s)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)BS(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Vv(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&Vv(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}(),jC=qg.EMPTY;function IC(r){return r instanceof qg||r&&"closed"in r&&Qt(r.remove)&&Qt(r.add)&&Qt(r.unsubscribe)}function BS(r){Qt(r)?r():r.unsubscribe()}var YF={Promise:void 0},XF={setTimeout:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setTimeout.apply(void 0,yr([r,e],pt(t)))},clearTimeout:function(r){return clearTimeout(r)},delegate:void 0};function DC(r){XF.setTimeout(function(){throw r})}function z0(){}function Um(r){r()}var wE=function(r){Jn(e,r);function e(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,IC(t)&&t.add(n)):n.destination=QF,n}return e.create=function(t,n,i){return new hp(t,n,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(qg),ZF=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){bm(n)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){bm(n)}else bm(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){bm(t)}},r}(),hp=function(r){Jn(e,r);function e(t,n,i){var s=r.call(this)||this,a;return Qt(t)||!t?a={next:t??void 0,error:n??void 0,complete:i??void 0}:a=t,s.destination=new ZF(a),s}return e}(wE);function bm(r){DC(r)}function JF(r){throw r}var QF={closed:!0,next:z0,error:JF,complete:z0},EE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function RC(r){return r}function e6(r){return r.length===0?RC:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}var Fn=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this,s=r6(e)?e:new hp(e,t,n);return Um(function(){var a=i,o=a.operator,l=a.source;s.add(o?o.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=$S(t),new t(function(i,s){var a=new hp({next:function(o){try{e(o)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});n.subscribe(a)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[EE]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e6(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=$S(e),new e(function(n,i){var s;t.subscribe(function(a){return s=a},function(a){return i(a)},function(){return n(s)})})},r.create=function(e){return new r(e)},r}();function $S(r){var e;return(e=r??YF.Promise)!==null&&e!==void 0?e:Promise}function t6(r){return r&&Qt(r.next)&&Qt(r.error)&&Qt(r.complete)}function r6(r){return r&&r instanceof wE||t6(r)&&IC(r)}function n6(r){return Qt(r==null?void 0:r.lift)}function us(r){return function(e){if(n6(e))return e.lift(function(t){try{return r(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Li(r,e,t,n,i){return new i6(r,e,t,n,i)}var i6=function(r){Jn(e,r);function e(t,n,i,s,a,o){var l=r.call(this,t)||this;return l.onFinalize=a,l.shouldUnsubscribe=o,l._next=n?function(d){try{n(d)}catch(c){t.error(c)}}:r.prototype._next,l._error=s?function(d){try{s(d)}catch(c){t.error(c)}finally{this.unsubscribe()}}:r.prototype._error,l._complete=i?function(){try{i()}catch(d){t.error(d)}finally{this.unsubscribe()}}:r.prototype._complete,l}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(wE),s6=_E(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),PC=function(r){Jn(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new zS(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new s6},e.prototype.next=function(t){var n=this;Um(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=Yt(n.currentObservers),o=a.next();!o.done;o=a.next()){var l=o.value;l.next(t)}}catch(d){i={error:d}}finally{try{o&&!o.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var n=this;Um(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;Um(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,i=this,s=i.hasError,a=i.isStopped,o=i.observers;return s||a?jC:(this.currentObservers=null,o.push(t),new qg(function(){n.currentObservers=null,Vv(o,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,s=n.thrownError,a=n.isStopped;i?t.error(s):a&&t.complete()},e.prototype.asObservable=function(){var t=new Fn;return t.source=this,t},e.create=function(t,n){return new zS(t,n)},e}(Fn),zS=function(r){Jn(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},e.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:jC},e}(PC),a6={now:function(){return Date.now()}},o6=function(r){Jn(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return this},e}(qg),WS={setInterval:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setInterval.apply(void 0,yr([r,e],pt(t)))},clearInterval:function(r){return clearInterval(r)},delegate:void 0},l6=function(r){Jn(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var s=this.id,a=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(a,s,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),WS.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&WS.clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,s;try{this.work(t)}catch(a){i=!0,s=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,i=t.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Vv(s,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(o6),KS=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},r.now=a6.now,r}(),d6=function(r){Jn(e,r);function e(t,n){n===void 0&&(n=KS.now);var i=r.call(this,t,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(KS),qb=new d6(l6),c6=qb,xE=new Fn(function(r){return r.complete()});function NC(r){return r&&Qt(r.schedule)}function MC(r){return r[r.length-1]}function u6(r){return NC(MC(r))?r.pop():void 0}function f6(r,e){return typeof MC(r)=="number"?r.pop():e}var SE=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function LC(r){return Qt(r==null?void 0:r.then)}function FC(r){return Qt(r[EE])}function VC(r){return Symbol.asyncIterator&&Qt(r==null?void 0:r[Symbol.asyncIterator])}function HC(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function h6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var UC=h6();function BC(r){return Qt(r==null?void 0:r[UC])}function $C(r){return x3(this,arguments,function(){var t,n,i,s;return ve(this,function(a){switch(a.label){case 0:t=r.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Nu(t.read())];case 3:return n=a.sent(),i=n.value,s=n.done,s?[4,Nu(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Nu(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function zC(r){return Qt(r==null?void 0:r.getReader)}function zi(r){if(r instanceof Fn)return r;if(r!=null){if(FC(r))return p6(r);if(SE(r))return g6(r);if(LC(r))return m6(r);if(VC(r))return WC(r);if(BC(r))return v6(r);if(zC(r))return b6(r)}throw HC(r)}function p6(r){return new Fn(function(e){var t=r[EE]();if(Qt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function g6(r){return new Fn(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function m6(r){return new Fn(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,DC)})}function v6(r){return new Fn(function(e){var t,n;try{for(var i=Yt(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(o){t={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.complete()})}function WC(r){return new Fn(function(e){y6(r,e).catch(function(t){return e.error(t)})})}function b6(r){return WC($C(r))}function y6(r,e){var t,n,i,s;return be(this,void 0,void 0,function(){var a,o;return ve(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),t=S3(r),l.label=1;case 1:return[4,t.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(a=n.value,e.next(a),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=l.sent(),i={error:o},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Ol(r,e,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=e.schedule(function(){t(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(s),!i)return s}function KC(r,e){return e===void 0&&(e=0),us(function(t,n){t.subscribe(Li(n,function(i){return Ol(n,r,function(){return n.next(i)},e)},function(){return Ol(n,r,function(){return n.complete()},e)},function(i){return Ol(n,r,function(){return n.error(i)},e)}))})}function GC(r,e){return e===void 0&&(e=0),us(function(t,n){n.add(r.schedule(function(){return t.subscribe(n)},e))})}function k6(r,e){return zi(r).pipe(GC(e),KC(e))}function _6(r,e){return zi(r).pipe(GC(e),KC(e))}function w6(r,e){return new Fn(function(t){var n=0;return e.schedule(function(){n===r.length?t.complete():(t.next(r[n++]),t.closed||this.schedule())})})}function E6(r,e){return new Fn(function(t){var n;return Ol(t,e,function(){n=r[UC](),Ol(t,e,function(){var i,s,a;try{i=n.next(),s=i.value,a=i.done}catch(o){t.error(o);return}a?t.complete():t.next(s)},0,!0)}),function(){return Qt(n==null?void 0:n.return)&&n.return()}})}function qC(r,e){if(!r)throw new Error("Iterable cannot be null");return new Fn(function(t){Ol(t,e,function(){var n=r[Symbol.asyncIterator]();Ol(t,e,function(){n.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function x6(r,e){return qC($C(r),e)}function S6(r,e){if(r!=null){if(FC(r))return k6(r,e);if(SE(r))return w6(r,e);if(LC(r))return _6(r,e);if(VC(r))return qC(r,e);if(BC(r))return E6(r,e);if(zC(r))return x6(r,e)}throw HC(r)}function T6(r,e){return e?S6(r,e):zi(r)}function YC(r){return r instanceof Date&&!isNaN(r)}var A6=_E(function(r){return function(t){t===void 0&&(t=null),r(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function O6(r,e){var t=YC(r)?{first:r}:typeof r=="number"?{each:r}:r,n=t.first,i=t.each,s=t.with,a=s===void 0?C6:s,o=t.scheduler,l=o===void 0?qb:o,d=t.meta,c=d===void 0?null:d;if(n==null&&i==null)throw new TypeError("No timeout provided.");return us(function(u,f){var g,m,v=null,b=0,y=function(k){m=Ol(f,l,function(){try{g.unsubscribe(),zi(a({meta:c,lastValue:v,seen:b})).subscribe(f)}catch(_){f.error(_)}},k)};g=u.subscribe(Li(f,function(k){m==null||m.unsubscribe(),b++,f.next(v=k),i>0&&y(i)},void 0,void 0,function(){m!=null&&m.closed||m==null||m.unsubscribe(),v=null})),!b&&y(n!=null?typeof n=="number"?n:+n-l.now():i)})}function C6(r){throw new A6(r)}function ss(r,e){return us(function(t,n){var i=0;t.subscribe(Li(n,function(s){n.next(r.call(e,s,i++))}))})}var j6=Array.isArray;function I6(r,e){return j6(e)?r.apply(void 0,yr([],pt(e))):r(e)}function D6(r){return ss(function(e){return I6(r,e)})}function R6(r,e,t,n,i,s,a,o){var l=[],d=0,c=0,u=!1,f=function(){u&&!l.length&&!d&&e.complete()},g=function(v){return d<n?m(v):l.push(v)},m=function(v){d++;var b=!1;zi(t(v,c++)).subscribe(Li(e,function(y){e.next(y)},function(){b=!0},void 0,function(){if(b)try{d--;for(var y=function(){var k=l.shift();a||m(k)};l.length&&d<n;)y();f()}catch(k){e.error(k)}}))};return r.subscribe(Li(e,g,function(){u=!0,f()})),function(){}}function Yb(r,e,t){return t===void 0&&(t=1/0),Qt(e)?Yb(function(n,i){return ss(function(s,a){return e(n,s,i,a)})(zi(r(n,i)))},t):(typeof e=="number"&&(t=e),us(function(n,i){return R6(n,i,r,t)}))}function P6(r){return r===void 0&&(r=1/0),Yb(RC,r)}var N6=["addListener","removeListener"],M6=["addEventListener","removeEventListener"],L6=["on","off"];function pp(r,e,t,n){if(Qt(t)&&(n=t,t=void 0),n)return pp(r,e,t).pipe(D6(n));var i=pt(H6(r)?M6.map(function(o){return function(l){return r[o](e,l,t)}}):F6(r)?N6.map(GS(r,e)):V6(r)?L6.map(GS(r,e)):[],2),s=i[0],a=i[1];if(!s&&SE(r))return Yb(function(o){return pp(o,e,t)})(zi(r));if(!s)throw new TypeError("Invalid event target");return new Fn(function(o){var l=function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];return o.next(1<d.length?d:d[0])};return s(l),function(){return a(l)}})}function GS(r,e){return function(t){return function(n){return r[t](e,n)}}}function F6(r){return Qt(r.addListener)&&Qt(r.removeListener)}function V6(r){return Qt(r.on)&&Qt(r.off)}function H6(r){return Qt(r.addEventListener)&&Qt(r.removeEventListener)}function U6(r,e,t){t===void 0&&(t=c6);var n=-1;return e!=null&&(NC(e)?t=e:n=e),new Fn(function(i){var s=YC(r)?0-t.now():r;s<0&&(s=0);var a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},s)})}function XC(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=u6(r),n=f6(r,1/0),i=r;return i.length?i.length===1?zi(i[0]):P6(n)(T6(i,t)):xE}function vo(r,e){return us(function(t,n){var i=0;t.subscribe(Li(n,function(s){return r.call(e,s,i++)&&n.next(s)}))})}function B6(r){return us(function(e,t){var n=[];return e.subscribe(Li(t,function(i){return n.push(i)},function(){t.next(n),t.complete()})),zi(r).subscribe(Li(t,function(){var i=n;n=[],t.next(i)},z0)),function(){n=null}})}function $6(r,e){return e===void 0&&(e=qb),us(function(t,n){var i=null,s=null,a=null,o=function(){if(i){i.unsubscribe(),i=null;var d=s;s=null,n.next(d)}};function l(){var d=a+r,c=e.now();if(c<d){i=this.schedule(void 0,d-c),n.add(i);return}o()}t.subscribe(Li(n,function(d){s=d,a=e.now(),i||(i=e.schedule(l,r),n.add(i))},function(){o(),n.complete()},void 0,function(){s=i=null}))})}function ZC(r){return r<=0?function(){return xE}:us(function(e,t){var n=0;e.subscribe(Li(t,function(i){++n<=r&&(t.next(i),r<=n&&t.complete())}))})}function z6(r){return ss(function(){return r})}function W6(r,e){return Yb(function(t,n){return zi(r(t,n)).pipe(ZC(1),z6(t))})}function K6(r,e){e===void 0&&(e=qb);var t=U6(r,e);return W6(function(){return t})}function G6(){return us(function(r,e){var t,n=!1;r.subscribe(Li(e,function(i){var s=t;t=i,n&&e.next([s,i]),n=!0}))})}function ym(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new PC}:e,n=r.resetOnError,i=n===void 0?!0:n,s=r.resetOnComplete,a=s===void 0?!0:s,o=r.resetOnRefCountZero,l=o===void 0?!0:o;return function(d){var c,u,f,g=0,m=!1,v=!1,b=function(){u==null||u.unsubscribe(),u=void 0},y=function(){b(),c=f=void 0,m=v=!1},k=function(){var _=c;y(),_==null||_.unsubscribe()};return us(function(_,E){g++,!v&&!m&&b();var S=f=f??t();E.add(function(){g--,g===0&&!v&&!m&&(u=Ek(k,l))}),S.subscribe(E),!c&&g>0&&(c=new hp({next:function(O){return S.next(O)},error:function(O){v=!0,b(),u=Ek(y,i,O),S.error(O)},complete:function(){m=!0,b(),u=Ek(y,a),S.complete()}}),zi(_).subscribe(c))})(d)}}function Ek(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(e===!0){r();return}if(e!==!1){var i=new hp({next:function(){i.unsubscribe(),r()}});return zi(e.apply(void 0,yr([],pt(t)))).subscribe(i)}}function q6(r,e){return us(function(t,n){var i=null,s=0,a=!1,o=function(){return a&&!i&&n.complete()};t.subscribe(Li(n,function(l){i==null||i.unsubscribe();var d=0,c=s++;zi(r(l,c)).subscribe(i=Li(n,function(u){return n.next(e?e(l,u,c,d++):u)},function(){i=null,o()}))},function(){a=!0,o()}))})}var Y6=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],X6=["type"],Z6=["svg","path","g"],J6=["password","hidden"],Q6=128,e7=1024;function t7(r){var e,t,n,i,s,a;if(r===null)return null;var o=String(r.tagName).toLowerCase(),l={tag:o},d=Array.from((i=(n=r.parentElement)===null||n===void 0?void 0:n.children)!==null&&i!==void 0?i:[]);d.length&&(l.index=d.indexOf(r),l.indexOfType=d.filter(function(E){return E.tagName===r.tagName}).indexOf(r));var c=(a=(s=r.previousElementSibling)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase();c&&(l.prevSib=String(c));var u=r.getAttribute("id");u&&(l.id=String(u));var f=Array.from(r.classList);f.length&&(l.classes=f);var g={},m=Array.from(r.attributes),v=m.filter(function(E){return!Y6.includes(E.name)}),b=!ej(r);if(!J6.includes(String(r.getAttribute("type")))&&!Z6.includes(o))try{for(var y=Yt(v),k=y.next();!k.done;k=y.next()){var _=k.value;b&&!X6.includes(_.name)||(g[_.name]=String(_.value).substring(0,Q6))}}catch(E){e={error:E}}finally{try{k&&!k.done&&(t=y.return)&&t.call(y)}finally{if(e)throw e.error}}return Object.keys(g).length&&(l.attrs=g),l}function r7(r){var e=[];if(!r)return e;e.push(r);for(var t=r.parentElement;t&&t.tagName!=="HTML";)e.push(t),t=t.parentElement;return e}var n7=function(r){var e=[];if(!r)return[];var t=r7(r);return e=i7(t.map(function(n){return t7(n)}),e7),e};function i7(r,e){for(var t=0,n=0;n<r.length;n++){var i=r[n];if(i===null)t+=4;else{var s=Bm(i);t+=s?Array.from(s).length:4}if(t>e)return r.slice(0,n)}return r}function Bm(r,e){e===void 0&&(e=!1);try{if(r==null)return e?"None":null;if(typeof r=="string")return e?(r=r.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),r.includes('"')?"'".concat(r,"'"):r.includes("'")?'"'.concat(r.replace(/'/g,"\\'"),'"'):"'".concat(r,"'")):r;if(typeof r=="boolean")return r?"True":"False";if(Array.isArray(r)){var t=r.map(function(s){return Bm(s,!0)});return"[".concat(t.join(", "),"]")}else if(typeof r=="object"){var n=Object.entries(r).filter(function(s){var a=pt(s,1),o=a[0];return o!=null}).map(function(s){var a=pt(s,2),o=a[0],l=a[1];return"".concat(String(Bm(o,!0)),": ").concat(String(Bm(l,!0)))}),i="{".concat(n.join(", "),"}");return i.includes("\\'")&&(i=i.replace(/'/g,"'").replace(/'/g,"\\'")),i}return r.toString()}catch{return null}}var s7=["input","select","textarea"],JC=function(r,e){var t,n=(t=window==null?void 0:window.getComputedStyle)===null||t===void 0?void 0:t.call(window,r);return(n==null?void 0:n.getPropertyValue("cursor"))==="pointer"&&e==="click"},xk=function(r,e,t){return t===void 0&&(t=!1),function(n,i){var s,a,o=r.pageUrlAllowlist,l=r.shouldTrackEventResolver,d=(a=(s=i==null?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase)===null||a===void 0?void 0:a.call(s);if(!d)return!1;if(l)return l(n,i);if(!o7(window.location.href,o))return!1;var c=String(i==null?void 0:i.getAttribute("type"))||"";if(typeof c=="string")switch(c.toLowerCase()){case"hidden":return!1;case"password":return!1}var u=JC(i,n);if(t&&u)return!0;if(e){var f=e.some(function(g){var m;return!!(!((m=i==null?void 0:i.matches)===null||m===void 0)&&m.call(i,g))});if(!f)return!1}switch(d){case"input":case"select":case"textarea":return n==="change"||n==="click";default:return u?!0:n==="click"}}},QC=function(r){if(r==null)return!1;if(typeof r=="string"){var e=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(e.test((r||"").replace(/[- ]/g,"")))return!1;var t=/(^\d{3}-?\d{2}-?\d{4}$)/;if(t.test(r))return!1}return!0},a7=function(r){return!!r&&r.nodeType===3},ej=function(r){var e,t,n,i=(t=(e=r==null?void 0:r.tagName)===null||e===void 0?void 0:e.toLowerCase)===null||t===void 0?void 0:t.call(e),s=r instanceof HTMLElement?((n=r.getAttribute("contenteditable"))===null||n===void 0?void 0:n.toLowerCase())==="true":!1;return!s7.includes(i)&&!s},TE=function(r){var e="";return ej(r)&&r.childNodes&&r.childNodes.length&&r.childNodes.forEach(function(t){var n="";a7(t)?t.textContent&&(n=t.textContent):n=TE(t),e+=n.split(/(\s+)/).filter(QC).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),e},o7=function(r,e){return!e||!e.length?!0:e.some(function(t){return typeof t=="string"?r===t:r.match(t)})},l7=function(r,e){return r.getAttributeNames().reduce(function(t,n){if(n.startsWith(e)){var i=n.replace(e,""),s=r.getAttribute(n);i&&(t[i]=s||"")}return t},{})},d7=function(r){return r==null||typeof r=="object"&&Object.keys(r).length===0||typeof r=="string"&&r.trim().length===0},tj=function(r){return Object.keys(r).reduce(function(e,t){var n=r[t];return d7(n)||(e[t]=n),e},{})},rj=function(r){var e=r.parentElement;if(!e)return"";var t;try{t=e.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{t=null}if(t){var n=t.textContent||"";return QC(n)?n:""}return rj(e)},AE=function(r,e){return r?e.some(function(t){var n;return(n=r==null?void 0:r.matches)===null||n===void 0?void 0:n.call(r,t)})?r:AE(r==null?void 0:r.parentElement,e):null},c7=function(r){var e,t,n;if(!r)return{};var i=(n=(t=r==null?void 0:r.tagName)===null||t===void 0?void 0:t.toLowerCase)===null||n===void 0?void 0:n.call(t),s=(e={},e[AC]=i,e[OC]=TE(r),e[CC]=window.location.href.split("?")[0],e);return tj(s)},u7=function(r){return new Promise(function(e,t){var n;try{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=r,i.addEventListener("load",function(){e({status:!0})},{once:!0}),i.addEventListener("error",function(){t({status:!1,message:"Failed to load the script ".concat(r)})}),(n=document.head)===null||n===void 0||n.appendChild(i)}catch(s){t(s)}})};function f7(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var OE=function(r){return!(r.event.target===null||!r.closestTrackedAncestor)},Hv=function(r,e,t){var n,i,s,a=(s=(i=e==null?void 0:e.tagName)===null||i===void 0?void 0:i.toLowerCase)===null||s===void 0?void 0:s.call(i),o=typeof e.getBoundingClientRect=="function"?e.getBoundingClientRect():{left:null,top:null},l=e.getAttribute("aria-label"),d=l7(e,t),c=rj(e),u=(n={},n[DF]=e.getAttribute("id")||"",n[RF]=e.getAttribute("class"),n[PF]=n7(e),n[AC]=a,n[OC]=TE(e),n[MF]=o.left==null?null:Math.round(o.left),n[LF]=o.top==null?null:Math.round(o.top),n[FF]=l,n[VF]=d,n[HF]=c,n[CC]=window.location.href.split("?")[0],n[UF]=typeof document<"u"&&document.title||"",n[BF]=window.innerHeight,n[$F]=window.innerWidth,n);return a==="a"&&r==="click"&&e instanceof HTMLAnchorElement&&(u[NF]=e.href),tj(u)},km=function(r,e,t,n,i){i===void 0&&(i=!1);var s={event:r,timestamp:Date.now(),type:e};if(h7(s)&&s.event.target!==null){if(i){var a=JC(s.event.target,s.type);if(a)return s.closestTrackedAncestor=s.event.target,s.targetElementProperties=Hv(s.type,s.closestTrackedAncestor,n),s}var o=AE(s.event.target,t);return o&&(s.closestTrackedAncestor=o,s.targetElementProperties=Hv(s.type,o,n)),s}return s};function h7(r){return r.type==="click"||r.type==="change"}var p7=function(){function r(e){var t=e===void 0?{}:e,n=t.origin,i=n===void 0?Hm:n,s=this;this.endpoint=Hm,this.requestCallbacks={},this.onSelect=function(a){s.notify({action:"element-selected",data:a})},this.onTrack=function(a,o){a==="selector-mode-changed"?s.notify({action:"track-selector-mode-changed",data:o}):a==="selector-moved"&&s.notify({action:"track-selector-moved",data:o})},this.endpoint=i}return r.prototype.notify=function(e){var t,n,i,s;(n=(t=this.logger)===null||t===void 0?void 0:t.debug)===null||n===void 0||n.call(t,"Message sent: ",JSON.stringify(e)),(s=(i=window.opener)===null||i===void 0?void 0:i.postMessage)===null||s===void 0||s.call(i,e,this.endpoint)},r.prototype.sendRequest=function(e,t,n){var i=this;n===void 0&&(n={timeout:15e3});var s=f7(),a={id:s,action:e,args:t},o=new Promise(function(l,d){i.requestCallbacks[s]={resolve:l,reject:d},i.notify(a),(n==null?void 0:n.timeout)>0&&setTimeout(function(){d(new Error("".concat(e," timed out (id: ").concat(s,")"))),delete i.requestCallbacks[s]},n.timeout)});return o},r.prototype.handleResponse=function(e){var t;if(!this.requestCallbacks[e.id]){(t=this.logger)===null||t===void 0||t.warn("No callback found for request id: ".concat(e.id));return}this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]},r.prototype.setup=function(e){var t=this,n=e===void 0?{}:e,i=n.logger,s=n.endpoint,a=n.isElementSelectable,o=n.cssSelectorAllowlist,l=n.actionClickAllowlist;this.logger=i,s&&this.endpoint===Hm&&(this.endpoint=s);var d=null;window.addEventListener("message",function(c){var u,f,g,m,v;if((f=(u=t.logger)===null||u===void 0?void 0:u.debug)===null||f===void 0||f.call(u,"Message received: ",JSON.stringify(c)),t.endpoint===c.origin){var b=c==null?void 0:c.data,y=b==null?void 0:b.action;if(y)if("id"in b)(m=(g=t.logger)===null||g===void 0?void 0:g.debug)===null||m===void 0||m.call(g,"Received Response to previous request: ",JSON.stringify(c)),t.handleResponse(b);else if(y==="ping")t.notify({action:"pong"});else if(y==="initialize-visual-tagging-selector"){var k=b==null?void 0:b.data;u7(GF).then(function(){var _;d=(_=window==null?void 0:window.amplitudeVisualTaggingSelector)===null||_===void 0?void 0:_.call(window,{getEventTagProps:c7,isElementSelectable:function(E){return a?a((k==null?void 0:k.actionType)||"click",E):!0},onTrack:t.onTrack,onSelect:t.onSelect,visualHighlightClass:qF,messenger:t,cssSelectorAllowlist:o,actionClickAllowlist:l}),t.notify({action:"selector-loaded"})}).catch(function(){var _;(_=t.logger)===null||_===void 0||_.warn("Failed to initialize visual tagging selector")})}else y==="close-visual-tagging-selector"&&((v=d==null?void 0:d.close)===null||v===void 0||v.call(d))}}),this.notify({action:"page-loaded"})},r}(),g7=5;function m7(r){var e=r.amplitude,t=r.allObservables,n=r.options,i=r.shouldTrackEvent,s=r.evaluateTriggers,a=t.clickObservable,o=a.pipe(G6(),vo(function(u){var f=pt(u,2),g=f[0],m=f[1],v=g.event.target!==m.event.target,b=Math.abs(m.event.screenX-g.event.screenX)<=20&&Math.abs(m.event.screenY-g.event.screenY)<=20;return v&&!b})),l=a.pipe($6(n.debounceTime),ss(function(){return"timeout"})),d=XC(o,l),c=a.pipe(K6(0),vo(OE),vo(function(u){return i("click",u.closestTrackedAncestor)}),ss(function(u){return s(u)}),B6(d));return c.subscribe(function(u){var f,g,m=(u.length>=g7,$0);try{for(var v=Yt(u),b=v.next();!b.done;b=v.next()){var y=b.value;e==null||e.track(m,y.targetElementProperties)}}catch(k){f={error:k}}finally{try{b&&!b.done&&(g=v.return)&&g.call(v)}finally{if(f)throw f.error}}})}function v7(r){var e=r.amplitude,t=r.allObservables,n=r.getEventProperties,i=r.shouldTrackEvent,s=r.evaluateTriggers,a=t.changeObservable,o=a.pipe(vo(OE),vo(function(l){return i("change",l.closestTrackedAncestor)}),ss(function(l){return s(l)}));return o.subscribe(function(l){e==null||e.track(IF,n("change",l.closestTrackedAncestor))})}function b7(r){var e=r.amplitude,t=r.allObservables,n=r.options,i=r.getEventProperties,s=r.shouldTrackEvent,a=r.shouldTrackActionClick,o=t.clickObservable,l=t.mutationObservable,d=t.navigateObservable,c=o.pipe(vo(function(m){return!s("click",m.closestTrackedAncestor)}),ss(function(m){var v=AE(m.event.target,n.actionClickAllowlist);return m.closestTrackedAncestor=v,m.closestTrackedAncestor!==null&&(m.targetElementProperties=i(m.type,m.closestTrackedAncestor)),m}),vo(OE),vo(function(m){return a("click",m.closestTrackedAncestor)})),u=[l];d&&u.push(d);var f=XC.apply(void 0,yr([],pt(u),!1)),g=c.pipe(q6(function(m){return f.pipe(ZC(1),O6({first:500,with:function(){return xE}}),ss(function(){return m}))}));return g.subscribe(function(m){e==null||e.track($0,i("click",m.closestTrackedAncestor))})}var y7=function(){return new Fn(function(r){var e=new MutationObserver(function(t){r.next(t)});return e.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return e.disconnect()}})},k7=function(){return pp(document,"click",{capture:!0})},_7=function(r,e){try{if(e.subprop_key==="[Amplitude] Element Text")return e.subprop_op==="exact"&&e.subprop_value.includes(r.targetElementProperties["[Amplitude] Element Text"]);if(e.subprop_key==="[Amplitude] Element Hierarchy")return e.subprop_op==="autotrack css match"&&!!r.closestTrackedAncestor.closest(e.subprop_value.toString())}catch(t){return console.error("Error matching event to filter",t),!1}return!1},w7=function(r){var e,t,n,i,s,a={click:new Set,change:new Set};if(!r)return a;try{for(var o=Yt(r),l=o.next();!l.done;l=o.next()){var d=l.value;try{try{for(var c=(n=void 0,Yt(d.definition)),u=c.next();!u.done;u=c.next()){var f=u.value;(s=a[f.event_type])===null||s===void 0||s.add(d.id)}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}catch(g){console.warn("Skipping Labeled Event due to malformed definition",d==null?void 0:d.id,g)}}}catch(g){e={error:g}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return a},E7=function(r){var e,t,n,i,s=new Map;try{for(var a=Yt(r),o=a.next();!o.done;o=a.next()){var l=o.value;try{for(var d=(n=void 0,Yt(l.conditions)),c=d.next();!c.done;c=d.next()){var u=c.value;if(u.type==="LABELED_EVENT"){var f=u.match.eventId,g=s.get(f);g||(g=[],s.set(f,g)),g.push(l)}}}catch(m){n={error:m}}finally{try{c&&!c.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}}}catch(m){e={error:m}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return s},x7=function(r,e){return e.filter(function(t){return t.definition.some(function(n){return n.event_type===r.type&&n.filters.every(function(i){return _7(r,i)})})})},S7=function(r,e){var t,n,i=new Set;try{for(var s=Yt(r),a=s.next();!a.done;a=s.next()){var o=a.value,l=e.get(o.id);l&&l.forEach(function(d){return i.add(d)})}}catch(d){t={error:d}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return Array.from(i)},T7=function(r,e){if(r.sourceType==="DOM_ELEMENT"){var t=document.documentElement;return r.scope&&e&&(t=e.closest(r.scope)),t&&r.selector?t.querySelector(r.selector):t}},A7=function(r,e){if(r.sourceType==="DOM_ELEMENT"){var t=T7(r,e);return t?r.elementExtractType==="TEXT"?t.textContent:r.elementExtractType==="ATTRIBUTE"&&r.attribute?t.getAttribute(r.attribute):void 0:void 0}},O7=function(r,e){r.forEach(function(t){if(typeof t!="string"&&t.actionType==="ATTACH_EVENT_PROPERTY"){var n=A7(t.dataSource,e.closestTrackedAncestor);e.targetElementProperties[t.destinationKey]=n}})},ju;(function(r){r.ClickObservable="clickObservable",r.ChangeObservable="changeObservable",r.NavigateObservable="navigateObservable",r.MutationObservable="mutationObservable"})(ju||(ju={}));var C7=function(r){var e,t,n,i,s,a,o;r===void 0&&(r={});var l=r.dataAttributePrefix,d=l===void 0?y4:l,c=r.visualTaggingOptions,u=c===void 0?{enabled:!0,messenger:new p7}:c;r.cssSelectorAllowlist=(e=r.cssSelectorAllowlist)!==null&&e!==void 0?e:b4,r.actionClickAllowlist=(t=r.actionClickAllowlist)!==null&&t!==void 0?t:k4,r.debounceTime=(n=r.debounceTime)!==null&&n!==void 0?n:0;var f=jF,g="enrichment",m=[],v=function(){var O,T=k7().pipe(ss(function(L){return km(L,"click",r.cssSelectorAllowlist,d)}),ym()),C=pp(document,"change",{capture:!0}).pipe(ss(function(L){return km(L,"change",r.cssSelectorAllowlist,d)}),ym()),D;window.navigation&&(D=pp(window.navigation,"navigate").pipe(ss(function(L){return km(L,"navigate",r.cssSelectorAllowlist,d)}),ym()));var R=y7().pipe(ss(function(L){return km(L,"mutation",r.cssSelectorAllowlist,d)}),ym());return O={},O[ju.ClickObservable]=T,O[ju.ChangeObservable]=C,O[ju.NavigateObservable]=D,O[ju.MutationObservable]=R,O},b=w7(Object.values((s=(i=r.pageActions)===null||i===void 0?void 0:i.labeledEvents)!==null&&s!==void 0?s:{})),y=E7((o=(a=r.pageActions)===null||a===void 0?void 0:a.triggers)!==null&&o!==void 0?o:[]),k=function(O){var T,C,D=r.pageActions;if(!D)return O;var R=x7(O,Array.from(b[O.type]).map(function(N){return D.labeledEvents[N]})),L=S7(R,y);try{for(var P=Yt(L),F=P.next();!F.done;F=P.next()){var H=F.value;O7(H.actions,O)}}catch(N){T={error:N}}finally{try{F&&!F.done&&(C=P.return)&&C.call(P)}finally{if(T)throw T.error}}return O},_=function(O,T){return be(void 0,void 0,void 0,function(){var C,D,R,L,P,F,H,N,z,G;return ve(this,function(Y){return typeof document>"u"?[2]:(C=xk(r,r.cssSelectorAllowlist),D=xk(r,r.actionClickAllowlist),R=v(),L=m7({allObservables:R,options:r,amplitude:T,shouldTrackEvent:C,evaluateTriggers:k}),m.push(L),P=v7({allObservables:R,getEventProperties:function(){for(var W=[],ue=0;ue<arguments.length;ue++)W[ue]=arguments[ue];return Hv.apply(void 0,yr(yr([],pt(W),!1),[d],!1))},amplitude:T,shouldTrackEvent:C,evaluateTriggers:k}),m.push(P),F=b7({allObservables:R,options:r,getEventProperties:function(){for(var W=[],ue=0;ue<arguments.length;ue++)W[ue]=arguments[ue];return Hv.apply(void 0,yr(yr([],pt(W),!1),[d],!1))},amplitude:T,shouldTrackEvent:C,shouldTrackActionClick:D}),m.push(F),(z=O==null?void 0:O.loggerProvider)===null||z===void 0||z.log("".concat(f," has been successfully added.")),window.opener&&u.enabled&&(H=r.cssSelectorAllowlist,N=r.actionClickAllowlist,(G=u.messenger)===null||G===void 0||G.setup(je(je({logger:O==null?void 0:O.loggerProvider},(O==null?void 0:O.serverZone)&&{endpoint:KF[O.serverZone]}),{isElementSelectable:xk(r,yr(yr([],pt(H),!1),pt(N),!1)),cssSelectorAllowlist:H,actionClickAllowlist:N}))),[2])})})},E=function(O){return be(void 0,void 0,void 0,function(){return ve(this,function(T){return[2,O]})})},S=function(){return be(void 0,void 0,void 0,function(){var O,T,C,D,R;return ve(this,function(L){try{for(O=Yt(m),T=O.next();!T.done;T=O.next())C=T.value,C.unsubscribe()}catch(P){D={error:P}}finally{try{T&&!T.done&&(R=O.return)&&R.call(O)}finally{if(D)throw D.error}}return[2]})})};return{name:f,type:g,setup:_,execute:E,teardown:S}},j7="@amplitude/plugin-network-capture-browser",I7="[Amplitude] Network Request",nj="500-599";function $m(r,e){var t=e.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&"),n="^"+t.replace(/\*/g,".*")+"$",i=new RegExp(n);return i.test(r)}function ij(r,e){var t,n,i=e.split(",");try{for(var s=Yt(i),a=s.next();!a.done;a=s.next()){var o=a.value,l=pt(o.split("-").map(Number),2),d=l[0],c=l[1];if(r===d&&c===void 0||r>=d&&r<=c)return!0}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!1}function D7(r,e,t){if(!(r.hosts&&!r.hosts.find(function(i){return $m(e,i)}))){if(t||t===0){var n=r.statusCodeRange||nj;if(!ij(t,n))return!1}return!0}}function sj(r){var e;if(r)try{var t=(e=Mn())===null||e===void 0?void 0:e.location.href,n=new URL(r,t),i=n.searchParams.toString(),s=n.hash.replace("#",""),a=n.href,o=n.host;n.hash="",n.search="";var l=n.href;return{query:i,fragment:s,href:a,hrefWithoutQueryOrHash:l,host:o}}catch{return}}function R7(r,e){var t;e===void 0&&(e={});var n=sj(r.url);if(!n)return!1;var i=n.host;if(e.ignoreAmplitudeRequests!==!1&&($m(i,"*.amplitude.com")||$m(i,"amplitude.com"))||!((t=e.ignoreHosts)===null||t===void 0)&&t.find(function(a){return $m(i,a)})||!e.captureRules&&r.status!==void 0&&!ij(r.status,nj))return!1;if(e.captureRules){var s;if(yr([],pt(e.captureRules),!1).reverse().find(function(a){return s=D7(a,i,r.status),s!==void 0}),!s)return!1}return!0}function P7(r){var e=r.allObservables,t=r.networkTrackingOptions,n=r.amplitude,i=e.networkObservable,s=i.pipe(vo(function(a){return R7(a.event,t)}));return s.subscribe(function(a){var o,l,d,c=a.event,u=sj(c.url);if(u){var f=(l=c.responseWrapper)===null||l===void 0?void 0:l.bodySize,g=(d=c.requestWrapper)===null||d===void 0?void 0:d.bodySize,m=(o={},o["[Amplitude] URL"]=u.hrefWithoutQueryOrHash,o["[Amplitude] URL Query"]=u.query,o["[Amplitude] URL Fragment"]=u.fragment,o["[Amplitude] Request Method"]=c.method,o["[Amplitude] Status Code"]=c.status,o["[Amplitude] Start Time"]=c.startTime,o["[Amplitude] Completion Time"]=c.endTime,o["[Amplitude] Duration"]=c.duration,o["[Amplitude] Request Body Size"]=g,o["[Amplitude] Response Body Size"]=f,o["[Amplitude] Request Type"]=c.type,o);n==null||n.track(I7,m)}})}var W0;(function(r){r.NetworkObservable="networkObservable"})(W0||(W0={}));var N7=function(r){r===void 0&&(r={});var e=j7,t="enrichment",n,i=[],s=function(c,u){var f={event:c,timestamp:Date.now(),type:u};return f},a=function(){var c,u=new Fn(function(f){var g=new A4(function(m){var v=s(m,"network");f.next(v)});return bS.subscribe(g,n),function(){bS.unsubscribe(g)}});return c={},c[W0.NetworkObservable]=u,c},o=function(c,u){return be(void 0,void 0,void 0,function(){var f,g;return ve(this,function(m){return typeof document>"u"?[2]:(f=a(),g=P7({allObservables:f,networkTrackingOptions:r,amplitude:u}),i.push(g),n=c==null?void 0:c.loggerProvider,n==null||n.log("".concat(e," has been successfully added.")),[2])})})},l=function(c){return be(void 0,void 0,void 0,function(){return ve(this,function(u){return[2,c]})})},d=function(){return be(void 0,void 0,void 0,function(){var c,u,f,g,m;return ve(this,function(v){try{for(c=Yt(i),u=c.next();!u.done;u=c.next())f=u.value,f.unsubscribe()}catch(b){g={error:b}}finally{try{u&&!u.done&&(m=c.return)&&m.call(c)}finally{if(g)throw g.error}}return[2]})})};return{name:e,type:t,setup:o,execute:l,teardown:d}},M7="utm_campaign",L7="utm_content",F7="utm_id",V7="utm_medium",H7="utm_source",U7="utm_term",qS="dclid",YS="fbclid",XS="gbraid",ZS="gclid",JS="ko_click_id",QS="li_fat_id",eT="msclkid",tT="rtd_cid",rT="ttclid",nT="twclid",iT="wbraid",CE={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},sT=function(r){var e=r.split(".");return e.length<=2?r:e.slice(e.length-2,e.length).join(".")},B7=function(r){return Object.values(r).every(function(e){return!e})},$7=function(r,e,t,n,i){i===void 0&&(i=!0),r.referrer;var s=r.referring_domain,a=H0(r,["referrer","referring_domain"]),o=e||{};o.referrer;var l=o.referring_domain,d=H0(o,["referrer","referring_domain"]);if(z7(t.excludeReferrers,r.referring_domain))return n.debug("This is not a new campaign because ".concat(r.referring_domain," is in the exclude referrer list.")),!1;if(!i&&B7(r)&&e)return n.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var c=JSON.stringify(a)!==JSON.stringify(d),u=sT(s||"")!==sT(l||""),f=!e||c||u;return f?n.debug("This is a new campaign. An $identify event will be sent."):n.debug("This is not a new campaign because it's the same as the previous one."),f},z7=function(r,e){return r===void 0&&(r=[]),e===void 0&&(e=""),r.some(function(t){return t instanceof RegExp?t.test(e):t===e})},W7=function(r,e){var t=je(je({},CE),r),n=Object.entries(t).reduce(function(i,s){var a,o=pt(s,2),l=o[0],d=o[1];return i.setOnce("initial_".concat(l),(a=d??e.initialEmptyValue)!==null&&a!==void 0?a:"EMPTY"),d?i.set(l,d):i.unset(l)},new Rv);return dC(n)},K7=function(r){var e=r;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\."),"$"))]):[]},G7=function(){function r(){}return r.prototype.parse=function(){return be(this,void 0,void 0,function(){return ve(this,function(e){return[2,je(je(je(je({},CE),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},r.prototype.getUtmParam=function(){var e=Pv(),t=e[M7],n=e[L7],i=e[F7],s=e[V7],a=e[H7],o=e[U7];return{utm_campaign:t,utm_content:n,utm_id:i,utm_medium:s,utm_source:a,utm_term:o}},r.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=(t=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&t!==void 0?t:void 0}catch{}return n},r.prototype.getClickIds=function(){var e,t=Pv();return e={},e[qS]=t[qS],e[YS]=t[YS],e[XS]=t[XS],e[ZS]=t[ZS],e[JS]=t[JS],e[QS]=t[QS],e[eT]=t[eT],e[tT]=t[tT],e[rT]=t[rT],e[nT]=t[nT],e[iT]=t[iT],e},r}(),q7=function(){function r(e,t){var n;this.shouldTrackNewCampaign=!1,this.options=je({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:K7((n=t.cookieOptions)===null||n===void 0?void 0:n.domain)},e),this.storage=t.cookieStorage,this.storageKey=g4(t.apiKey,"MKTG"),this.currentCampaign=CE,this.sessionTimeout=t.sessionTimeout,this.lastEventTime=t.lastEventTime,this.logger=t.loggerProvider,t.loggerProvider.log("Installing web attribution tracking.")}return r.prototype.init=function(){return be(this,void 0,void 0,function(){var e,t;return ve(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:return t=pt.apply(void 0,[n.sent(),2]),this.currentCampaign=t[0],this.previousCampaign=t[1],e=this.lastEventTime?hC(this.sessionTimeout,this.lastEventTime):!0,$7(this.currentCampaign,this.previousCampaign,this.options,this.logger,e)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},r.prototype.fetchCampaign=function(){return be(this,void 0,void 0,function(){return ve(this,function(e){switch(e.label){case 0:return[4,Promise.all([new G7().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},r.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var t=W7(this.currentCampaign,this.options);return e&&(t.event_id=e),t},r.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},r}(),Y7=function(r){Jn(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,i){t===void 0&&(t="");var s,a;return arguments.length>2?(s=n,a=i):typeof n=="string"?(s=n,a=void 0):(s=n==null?void 0:n.userId,a=n),ai(this._init(je(je({},a),{userId:s,apiKey:t})))},e.prototype._init=function(t){var n,i,s;return be(this,void 0,void 0,function(){var a,o,l,d,c,u,f=this;return ve(this,function(g){switch(g.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,Q4(t.apiKey,t,this)]);case 1:return a=g.sent(),a.fetchRemoteConfig?[4,CF(a)]:[3,4];case 2:return o=g.sent(),[4,o.generateJoinedConfig()];case 3:a=g.sent(),g.label=4;case 4:return[4,r.prototype._init.call(this,a)];case 5:return g.sent(),this.logBrowserOptions(a),vC(this.config.defaultTracking)?(l=P4(this.config),this.webAttribution=new q7(l,this.config),[4,this.webAttribution.init()]):[3,7];case 6:g.sent(),g.label=7;case 7:return d=Pv(),c=Number.isNaN(Number(d.ampSessionId))?void 0:Number(d.ampSessionId),this.setSessionId((s=(i=(n=t.sessionId)!==null&&n!==void 0?n:c)!==null&&i!==void 0?i:this.config.sessionId)!==null&&s!==void 0?s:Date.now()),u=fp(t.instanceName),u.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===v4?[3,9]:[4,this.add(bF()).promise];case 8:g.sent(),g.label=9;case 9:return[4,this.add(new Z3).promise];case 10:return g.sent(),[4,this.add(new F4).promise];case 11:return g.sent(),[4,this.add(new l4).promise];case 12:return g.sent(),vF(this.config),C4(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(mF()).promise]):[3,14];case 13:g.sent(),g.label=14;case 14:return j4(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(gF()).promise]):[3,16];case 15:g.sent(),g.label=16;case 16:return bC(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(uF(R4(this.config))).promise]):[3,18];case 17:g.sent(),g.label=18;case 18:return kC(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(C7(I4(this.config))).promise]):[3,20];case 19:g.sent(),g.label=20;case 20:return yC(this.config.autocapture)?(this.config.loggerProvider.debug("Adding network tracking plugin"),[4,this.add(N7(D4(this.config))).promise]):[3,22];case 21:g.sent(),g.label=22;case 22:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 23:return g.sent(),u.eventBridge.setEventReceiver(function(m){f.track(m.eventType,m.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.userId},e.prototype.setUserId=function(t){if(!this.config){this.q.push(this.setUserId.bind(this,t));return}this.config.loggerProvider.debug("function setUserId: ",t),(t!==this.config.userId||t===void 0)&&(this.config.userId=t,this.timeline.onIdentityChanged({userId:t}),a4(t,this.config.instanceName))},e.prototype.getDeviceId=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.deviceId},e.prototype.setDeviceId=function(t){if(!this.config){this.q.push(this.setDeviceId.bind(this,t));return}this.config.loggerProvider.debug("function setDeviceId: ",t),t!==this.config.deviceId&&(this.config.deviceId=t,this.timeline.onIdentityChanged({deviceId:t}),o4(t,this.config.instanceName))},e.prototype.reset=function(){this.setDeviceId(zc()),this.setUserId(void 0)},e.prototype.getIdentity=function(){var t,n;return{deviceId:(t=this.config)===null||t===void 0?void 0:t.deviceId,userId:(n=this.config)===null||n===void 0?void 0:n.userId,userProperties:this.userProperties}},e.prototype.getOptOut=function(){return this.config.optOut},e.prototype.getSessionId=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.sessionId},e.prototype.setSessionId=function(t){var n,i=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,t)),ai(Promise.resolve());if(t===this.config.sessionId)return ai(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",t);var s=this.getSessionId();s!==t&&this.timeline.onSessionIdChanged(t);var a=this.config.lastEventTime,o=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=t,this.config.lastEventTime=void 0,this.config.pageCounter=0,yS(this.config.defaultTracking)&&(s&&a&&i.push(this.track(wS,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:s,time:a+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var l=this.trackCampaignEventIfNeeded(++o,i);return yS(this.config.defaultTracking)&&i.push(this.track(_S,void 0,{event_id:l?++o:o,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,ai(Promise.all(i))},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(t){if(!this.config){this.q.push(this.setTransport.bind(this,t));return}this.config.transportProvider=xC(t)},e.prototype.identify=function(t,n){if(vk(t)){var i=t._q;t._q=[],t=mk(new Rv,i)}return n!=null&&n.user_id&&this.setUserId(n.user_id),n!=null&&n.device_id&&this.setDeviceId(n.device_id),r.prototype.identify.call(this,t,n)},e.prototype.groupIdentify=function(t,n,i,s){if(vk(i)){var a=i._q;i._q=[],i=mk(new Rv,a)}return r.prototype.groupIdentify.call(this,t,n,i,s)},e.prototype.revenue=function(t,n){if(vk(t)){var i=t._q;t._q=[],t=mk(new K3,i)}return r.prototype.revenue.call(this,t,n)},e.prototype.trackCampaignEventIfNeeded=function(t,n){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var i=this.webAttribution.generateCampaignEvent(t);return n?n.push(this.track(i).promise):this.track(i),this.config.loggerProvider.log("Tracking attribution."),!0},e.prototype.process=function(t){return be(this,void 0,void 0,function(){var n,i,s;return ve(this,function(a){return n=Date.now(),i=hC(this.config.sessionTimeout,this.config.lastEventTime),s=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),t.event_type!==_S&&t.event_type!==wS&&(!t.session_id||t.session_id===this.getSessionId())&&(i||s?(this.setSessionId(n),s&&this.config.loggerProvider.log("Created a new session for new campaign.")):i||this.trackCampaignEventIfNeeded()),t.event_type===Il.IDENTIFY&&t.user_properties&&(this.userProperties=this.getOperationAppliedUserProperties(t.user_properties)),[2,r.prototype.process.call(this,t)]})})},e.prototype.logBrowserOptions=function(t){try{var n=je(je({},t),{apiKey:t.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(n))}catch(i){this.config.loggerProvider.error("Error logging browser config",i)}},e}(W3),X7=function(){var r=new Y7;return{init:mr(r.init.bind(r),"init",pr(r),gr(r,["config"])),add:mr(r.add.bind(r),"add",pr(r),gr(r,["config.apiKey","timeline.plugins"])),remove:mr(r.remove.bind(r),"remove",pr(r),gr(r,["config.apiKey","timeline.plugins"])),track:mr(r.track.bind(r),"track",pr(r),gr(r,["config.apiKey","timeline.queue.length"])),logEvent:mr(r.logEvent.bind(r),"logEvent",pr(r),gr(r,["config.apiKey","timeline.queue.length"])),identify:mr(r.identify.bind(r),"identify",pr(r),gr(r,["config.apiKey","timeline.queue.length"])),groupIdentify:mr(r.groupIdentify.bind(r),"groupIdentify",pr(r),gr(r,["config.apiKey","timeline.queue.length"])),setGroup:mr(r.setGroup.bind(r),"setGroup",pr(r),gr(r,["config.apiKey","timeline.queue.length"])),revenue:mr(r.revenue.bind(r),"revenue",pr(r),gr(r,["config.apiKey","timeline.queue.length"])),flush:mr(r.flush.bind(r),"flush",pr(r),gr(r,["config.apiKey","timeline.queue.length"])),getUserId:mr(r.getUserId.bind(r),"getUserId",pr(r),gr(r,["config","config.userId"])),setUserId:mr(r.setUserId.bind(r),"setUserId",pr(r),gr(r,["config","config.userId"])),getDeviceId:mr(r.getDeviceId.bind(r),"getDeviceId",pr(r),gr(r,["config","config.deviceId"])),setDeviceId:mr(r.setDeviceId.bind(r),"setDeviceId",pr(r),gr(r,["config","config.deviceId"])),reset:mr(r.reset.bind(r),"reset",pr(r),gr(r,["config","config.userId","config.deviceId"])),getSessionId:mr(r.getSessionId.bind(r),"getSessionId",pr(r),gr(r,["config"])),setSessionId:mr(r.setSessionId.bind(r),"setSessionId",pr(r),gr(r,["config"])),extendSession:mr(r.extendSession.bind(r),"extendSession",pr(r),gr(r,["config"])),setOptOut:mr(r.setOptOut.bind(r),"setOptOut",pr(r),gr(r,["config"])),setTransport:mr(r.setTransport.bind(r),"setTransport",pr(r),gr(r,["config"])),getIdentity:mr(r.getIdentity.bind(r),"getIdentity",pr(r),gr(r,["config"])),getOptOut:mr(r.getOptOut.bind(r),"getOptOut",pr(r),gr(r,["config"]))}};const Z7=X7();var J7=Z7.track;async function Wc(r,e){try{J7(r.name,{..."data"in r?r.data:{},...e,app:"aktivitetsplan"})}catch(t){console.error(t)}}function bo(r){return Wc({name:"knapp klikket",data:{tekst:r}})}function Kc(r){return Wc({name:"accordion åpnet",data:{tekst:r}})}function Q7(r){return Wc({name:"filtervalg",data:{filternavn:r}})}function aj(r){return Wc({name:"toggle",data:{text:"Slå på klarspråkhjelp",enabled:r}})}function K0(r,e,t){const n=t9(r);return Wc({name:"referat lagret",data:{analysis:n,referatPublisert:e,spraksjekkEnabled:t}},{variant:"D"})}function oj({isDirty:r,aktivitet:e,modalType:t,navType:n}){return Wc({name:"modal lukket",data:{isDirty:r,aktivitet:e.toLocaleLowerCase(),modalType:t,navType:n}})}function e9(){return Wc({name:"dyplenking",data:{text:"Dyplenking til annen bruker"}})}function t9(r){return{longParagraphs:r.longParagraphs.length,longSentences:r.longSentences.length,longWords:r.longWords.length,duplicateWords:r.duplicateWords.length,kansellisten:r.kansellisten.length,nrkOrd:r.nrkOrd.length,avloeserord:r.avloeserord.avloeserordMatches.length+r.avloeserord.datatermerMatches.length,comma:r.comma,personvernbrudd:r.personvernbrudd.length,personalData:{emails:r.personalData.emails.length,names:r.personalData.names.length,phonenumbers:r.personalData.phonenumbers.length},tools:{lix:r.tools.lix,wordCount:r.tools.wordCount}}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ir(){return ir=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ir.apply(this,arguments)}var Er;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Er||(Er={}));const aT="popstate";function r9(r){r===void 0&&(r={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return $f("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Dl(i)}return lj(e,t,null,r)}function n9(r){r===void 0&&(r={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Oa(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),$f("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,d=l.indexOf("#");o=d===-1?l:l.slice(0,d)}return o+"#"+(typeof s=="string"?s:Dl(s))}function n(i,s){xc(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return lj(e,t,n,r)}function Ze(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xc(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i9(){return Math.random().toString(36).substr(2,8)}function oT(r,e){return{usr:r.state,key:r.key,idx:e}}function $f(r,e,t,n){return t===void 0&&(t=null),ir({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Oa(e):e,{state:t,key:e&&e.key||n||i9()})}function Dl(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Oa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function lj(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Er.Pop,l=null,d=c();d==null&&(d=0,a.replaceState(ir({},a.state,{idx:d}),""));function c(){return(a.state||{idx:null}).idx}function u(){o=Er.Pop;let b=c(),y=b==null?null:b-d;d=b,l&&l({action:o,location:v.location,delta:y})}function f(b,y){o=Er.Push;let k=$f(v.location,b,y);t&&t(k,b),d=c()+1;let _=oT(k,d),E=v.createHref(k);try{a.pushState(_,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}s&&l&&l({action:o,location:v.location,delta:1})}function g(b,y){o=Er.Replace;let k=$f(v.location,b,y);t&&t(k,b),d=c();let _=oT(k,d),E=v.createHref(k);a.replaceState(_,"",E),s&&l&&l({action:o,location:v.location,delta:0})}function m(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof b=="string"?b:Dl(b);return k=k.replace(/ $/,"%20"),Ze(y,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,y)}let v={get action(){return o},get location(){return r(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(aT,u),l=b,()=>{i.removeEventListener(aT,u),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let y=m(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(b){return a.go(b)}};return v}var Vt;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Vt||(Vt={}));const s9=new Set(["lazy","caseSensitive","path","id","index","children"]);function a9(r){return r.index===!0}function Uv(r,e,t,n){return t===void 0&&(t=[]),n===void 0&&(n={}),r.map((i,s)=>{let a=[...t,String(s)],o=typeof i.id=="string"?i.id:a.join("-");if(Ze(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ze(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),a9(i)){let l=ir({},i,e(i),{id:o});return n[o]=l,l}else{let l=ir({},i,e(i),{id:o,children:void 0});return n[o]=l,i.children&&(l.children=Uv(i.children,e,a,n)),l}})}function fd(r,e,t){return t===void 0&&(t="/"),zm(r,e,t,!1)}function zm(r,e,t,n){let i=typeof e=="string"?Oa(e):e,s=th(i.pathname||"/",t);if(s==null)return null;let a=dj(r);l9(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let d=uj(s);o=v9(a[l],d,n)}return o}function o9(r,e){let{route:t,pathname:n,params:i}=r;return{id:t.id,pathname:n,params:i,data:e[t.id],handle:t.handle}}function dj(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let d=yo([n,l.relativePath]),c=t.concat(l);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),dj(s.children,e,c,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:g9(d,s.index),routesMeta:c})};return r.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of cj(s.path))i(s,a,l)}),e}function cj(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=cj(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function l9(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:m9(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const d9=/^:[\w-]+$/,c9=3,u9=2,f9=1,h9=10,p9=-2,lT=r=>r==="*";function g9(r,e){let t=r.split("/"),n=t.length;return t.some(lT)&&(n+=p9),e&&(n+=u9),t.filter(i=>!lT(i)).reduce((i,s)=>i+(d9.test(s)?c9:s===""?f9:h9),n)}function m9(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function v9(r,e,t){t===void 0&&(t=!1);let{routesMeta:n}=r,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],d=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=G0({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},c),f=l.route;if(!u&&d&&t&&!n[n.length-1].route.index&&(u=G0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:yo([s,u.pathname]),pathnameBase:_9(yo([s,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(s=yo([s,u.pathnameBase]))}return a}function G0(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=b9(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,c,u)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let v=o[u]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[u];return g&&!m?d[f]=void 0:d[f]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:r}}function b9(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),xc(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function uj(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xc(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function th(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function y9(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Oa(r):r;return{pathname:t?t.startsWith("/")?t:k9(t,e):e,search:w9(n),hash:E9(i)}}function k9(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Sk(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fj(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xb(r,e){let t=fj(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Zb(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Oa(r):(i=ir({},r),Ze(!i.pathname||!i.pathname.includes("?"),Sk("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Sk("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Sk("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let u=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),u-=1;i.pathname=f.join("/")}o=u>=0?e[u]:"/"}let l=y9(i,o),d=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(d||c)&&(l.pathname+="/"),l}const yo=r=>r.join("/").replace(/\/\/+/g,"/"),_9=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),w9=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,E9=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class q0 extends Error{}class x9{constructor(e,t){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Ze(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((s,a)=>n=a),this.controller=new AbortController;let i=()=>n(new q0("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((s,a)=>{let[o,l]=a;return Object.assign(s,{[o]:this.trackPromise(o,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let n=Promise.race([t,this.abortPromise]).then(i=>this.onSettle(n,e,void 0,i),i=>this.onSettle(n,e,i));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,i){if(this.controller.signal.aborted&&n instanceof q0)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),n===void 0&&i===void 0){let s=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>s}),this.emit(!1,t),Promise.reject(s)}return i===void 0?(Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,t),i)}emit(e,t){this.subscribers.forEach(n=>n(e,t))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,t)=>this.pendingKeysSet.delete(t)),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",n),(s||this.done)&&i(s)})})}return t}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Ze(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[n,i]=t;return Object.assign(e,{[n]:T9(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function S9(r){return r instanceof Promise&&r._tracked===!0}function T9(r){if(!S9(r))return r;if(r._error)throw r._error;return r._data}const Jb=function(e,t){t===void 0&&(t={});let n=typeof t=="number"?{status:t}:t;return new x9(e,n)};class Bv{constructor(e,t,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function gp(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const hj=["post","put","patch","delete"],A9=new Set(hj),O9=["get",...hj],C9=new Set(O9),j9=new Set([301,302,303,307,308]),I9=new Set([307,308]),Tk={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},D9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R9=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),pj="remix-router-transitions";function gj(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!t;Ze(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(r.mapRouteProperties)i=r.mapRouteProperties;else if(r.detectErrorBoundary){let B=r.detectErrorBoundary;i=q=>({hasErrorBoundary:B(q)})}else i=R9;let s={},a=Uv(r.routes,i,void 0,s),o,l=r.basename||"/",d=r.dataStrategy||L9,c=r.patchRoutesOnNavigation,u=ir({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},r.future),f=null,g=new Set,m=null,v=null,b=null,y=r.hydrationData!=null,k=fd(a,r.history.location,l),_=!1,E=null;if(k==null&&!c){let B=oi(404,{pathname:r.history.location.pathname}),{matches:q,route:Q}=yT(a);k=q,E={[Q.id]:B}}k&&!r.hydrationData&&bt(k,a,r.history.location.pathname).active&&(k=null);let S;if(k)if(k.some(B=>B.route.lazy))S=!1;else if(!k.some(B=>B.route.loader))S=!0;else if(u.v7_partialHydration){let B=r.hydrationData?r.hydrationData.loaderData:null,q=r.hydrationData?r.hydrationData.errors:null;if(q){let Q=k.findIndex(se=>q[se.route.id]!==void 0);S=k.slice(0,Q+1).every(se=>!X0(se.route,B,q))}else S=k.every(Q=>!X0(Q.route,B,q))}else S=r.hydrationData!=null;else if(S=!1,k=[],u.v7_partialHydration){let B=bt(null,a,r.history.location.pathname);B.active&&B.matches&&(_=!0,k=B.matches)}let O,T={historyAction:r.history.action,location:r.history.location,matches:k,initialized:S,navigation:Tk,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||E,fetchers:new Map,blockers:new Map},C=Er.Pop,D=!1,R,L=!1,P=new Map,F=null,H=!1,N=!1,z=[],G=new Set,Y=new Map,W=0,ue=-1,M=new Map,K=new Set,$=new Map,J=new Map,ne=new Set,fe=new Map,ae=new Map,Fe;function ee(){if(f=r.history.listen(B=>{let{action:q,location:Q,delta:se}=B;if(Fe){Fe(),Fe=void 0;return}xc(ae.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=Gt({currentLocation:T.location,nextLocation:Q,historyAction:q});if(we&&se!=null){let $e=new Promise(Ke=>{Fe=Ke});r.history.go(se*-1),tt(we,{state:"blocked",location:Q,proceed(){tt(we,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),$e.then(()=>r.history.go(se))},reset(){let Ke=new Map(T.blockers);Ke.set(we,wh),xe({blockers:Ke})}});return}return lt(q,Q)}),t){Z9(e,P);let B=()=>J9(e,P);e.addEventListener("pagehide",B),F=()=>e.removeEventListener("pagehide",B)}return T.initialized||lt(Er.Pop,T.location,{initialHydration:!0}),O}function le(){f&&f(),F&&F(),g.clear(),R&&R.abort(),T.fetchers.forEach((B,q)=>Bn(q)),T.blockers.forEach((B,q)=>$o(q))}function Pe(B){return g.add(B),()=>g.delete(B)}function xe(B,q){q===void 0&&(q={}),T=ir({},T,B);let Q=[],se=[];u.v7_fetcherPersist&&T.fetchers.forEach((we,$e)=>{we.state==="idle"&&(ne.has($e)?se.push($e):Q.push($e))}),ne.forEach(we=>{!T.fetchers.has(we)&&!Y.has(we)&&se.push(we)}),[...g].forEach(we=>we(T,{deletedFetchers:se,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),u.v7_fetcherPersist?(Q.forEach(we=>T.fetchers.delete(we)),se.forEach(we=>Bn(we))):se.forEach(we=>ne.delete(we))}function Te(B,q,Q){var se,we;let{flushSync:$e}=Q===void 0?{}:Q,Ke=T.actionData!=null&&T.navigation.formMethod!=null&&js(T.navigation.formMethod)&&T.navigation.state==="loading"&&((se=B.state)==null?void 0:se._isRedirect)!==!0,Ie;q.actionData?Object.keys(q.actionData).length>0?Ie=q.actionData:Ie=null:Ke?Ie=T.actionData:Ie=null;let Ne=q.loaderData?vT(T.loaderData,q.loaderData,q.matches||[],q.errors):T.loaderData,Ae=T.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((yt,hn)=>Ae.set(hn,wh)));let He=D===!0||T.navigation.formMethod!=null&&js(T.navigation.formMethod)&&((we=B.state)==null?void 0:we._isRedirect)!==!0;o&&(a=o,o=void 0),H||C===Er.Pop||(C===Er.Push?r.history.push(B,B.state):C===Er.Replace&&r.history.replace(B,B.state));let st;if(C===Er.Pop){let yt=P.get(T.location.pathname);yt&&yt.has(B.pathname)?st={currentLocation:T.location,nextLocation:B}:P.has(B.pathname)&&(st={currentLocation:B,nextLocation:T.location})}else if(L){let yt=P.get(T.location.pathname);yt?yt.add(B.pathname):(yt=new Set([B.pathname]),P.set(T.location.pathname,yt)),st={currentLocation:T.location,nextLocation:B}}xe(ir({},q,{actionData:Ie,loaderData:Ne,historyAction:C,location:B,initialized:!0,navigation:Tk,revalidation:"idle",restoreScrollPosition:mi(B,q.matches||T.matches),preventScrollReset:He,blockers:Ae}),{viewTransitionOpts:st,flushSync:$e===!0}),C=Er.Pop,D=!1,L=!1,H=!1,N=!1,z=[]}async function qe(B,q){if(typeof B=="number"){r.history.go(B);return}let Q=Y0(T.location,T.matches,l,u.v7_prependBasename,B,u.v7_relativeSplatPath,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:se,submission:we,error:$e}=dT(u.v7_normalizeFormMethod,!1,Q,q),Ke=T.location,Ie=$f(T.location,se,q&&q.state);Ie=ir({},Ie,r.history.encodeLocation(Ie));let Ne=q&&q.replace!=null?q.replace:void 0,Ae=Er.Push;Ne===!0?Ae=Er.Replace:Ne===!1||we!=null&&js(we.formMethod)&&we.formAction===T.location.pathname+T.location.search&&(Ae=Er.Replace);let He=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,st=(q&&q.flushSync)===!0,yt=Gt({currentLocation:Ke,nextLocation:Ie,historyAction:Ae});if(yt){tt(yt,{state:"blocked",location:Ie,proceed(){tt(yt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),qe(B,q)},reset(){let hn=new Map(T.blockers);hn.set(yt,wh),xe({blockers:hn})}});return}return await lt(Ae,Ie,{submission:we,pendingError:$e,preventScrollReset:He,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:st})}function vt(){if(Qe(),xe({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){lt(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}lt(C||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:L===!0})}}async function lt(B,q,Q){R&&R.abort(),R=null,C=B,H=(Q&&Q.startUninterruptedRevalidation)===!0,en(T.location,T.matches),D=(Q&&Q.preventScrollReset)===!0,L=(Q&&Q.enableViewTransition)===!0;let se=o||a,we=Q&&Q.overrideNavigation,$e=Q!=null&&Q.initialHydration&&T.matches&&T.matches.length>0&&!_?T.matches:fd(se,q,l),Ke=(Q&&Q.flushSync)===!0;if($e&&T.initialized&&!N&&$9(T.location,q)&&!(Q&&Q.submission&&js(Q.submission.formMethod))){Te(q,{matches:$e},{flushSync:Ke});return}let Ie=bt($e,se,q.pathname);if(Ie.active&&Ie.matches&&($e=Ie.matches),!$e){let{error:Xt,notFoundMatches:St,route:fr}=It(q.pathname);Te(q,{matches:St,loaderData:{},errors:{[fr.id]:Xt}},{flushSync:Ke});return}R=new AbortController;let Ne=fu(r.history,q,R.signal,Q&&Q.submission),Ae;if(Q&&Q.pendingError)Ae=[hd($e).route.id,{type:Vt.error,error:Q.pendingError}];else if(Q&&Q.submission&&js(Q.submission.formMethod)){let Xt=await jr(Ne,q,Q.submission,$e,Ie.active,{replace:Q.replace,flushSync:Ke});if(Xt.shortCircuited)return;if(Xt.pendingActionResult){let[St,fr]=Xt.pendingActionResult;if(ji(fr)&&gp(fr.error)&&fr.error.status===404){R=null,Te(q,{matches:Xt.matches,loaderData:{},errors:{[St]:fr.error}});return}}$e=Xt.matches||$e,Ae=Xt.pendingActionResult,we=Ak(q,Q.submission),Ke=!1,Ie.active=!1,Ne=fu(r.history,Ne.url,Ne.signal)}let{shortCircuited:He,matches:st,loaderData:yt,errors:hn}=await Qr(Ne,q,$e,Ie.active,we,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Ke,Ae);He||(R=null,Te(q,ir({matches:st||$e},bT(Ae),{loaderData:yt,errors:hn})))}async function jr(B,q,Q,se,we,$e){$e===void 0&&($e={}),Qe();let Ke=Y9(q,Q);if(xe({navigation:Ke},{flushSync:$e.flushSync===!0}),we){let Ae=await au(se,q.pathname,B.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let He=hd(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[He,{type:Vt.error,error:Ae.error}]}}else if(Ae.matches)se=Ae.matches;else{let{notFoundMatches:He,error:st,route:yt}=It(q.pathname);return{matches:He,pendingActionResult:[yt.id,{type:Vt.error,error:st}]}}}let Ie,Ne=Lh(se,q);if(!Ne.route.action&&!Ne.route.lazy)Ie={type:Vt.error,error:oi(405,{method:B.method,pathname:q.pathname,routeId:Ne.route.id})};else if(Ie=(await ce("action",T,B,[Ne],se,null))[Ne.route.id],B.signal.aborted)return{shortCircuited:!0};if(md(Ie)){let Ae;return $e&&$e.replace!=null?Ae=$e.replace:Ae=pT(Ie.response.headers.get("Location"),new URL(B.url),l)===T.location.pathname+T.location.search,await de(B,Ie,!0,{submission:Q,replace:Ae}),{shortCircuited:!0}}if(Tl(Ie))throw oi(400,{type:"defer-action"});if(ji(Ie)){let Ae=hd(se,Ne.route.id);return($e&&$e.replace)!==!0&&(C=Er.Push),{matches:se,pendingActionResult:[Ae.route.id,Ie]}}return{matches:se,pendingActionResult:[Ne.route.id,Ie]}}async function Qr(B,q,Q,se,we,$e,Ke,Ie,Ne,Ae,He){let st=we||Ak(q,$e),yt=$e||Ke||_T(st),hn=!H&&(!u.v7_partialHydration||!Ne);if(se){if(hn){let hr=Ir(He);xe(ir({navigation:st},hr!==void 0?{actionData:hr}:{}),{flushSync:Ae})}let Et=await au(Q,q.pathname,B.signal);if(Et.type==="aborted")return{shortCircuited:!0};if(Et.type==="error"){let hr=hd(Et.partialMatches).route.id;return{matches:Et.partialMatches,loaderData:{},errors:{[hr]:Et.error}}}else if(Et.matches)Q=Et.matches;else{let{error:hr,notFoundMatches:lu,route:yh}=It(q.pathname);return{matches:lu,loaderData:{},errors:{[yh.id]:hr}}}}let Xt=o||a,[St,fr]=uT(r.history,T,Q,yt,q,u.v7_partialHydration&&Ne===!0,u.v7_skipActionErrorRevalidation,N,z,G,ne,$,K,Xt,l,He);if(Gi(Et=>!(Q&&Q.some(hr=>hr.route.id===Et))||St&&St.some(hr=>hr.route.id===Et)),ue=++W,St.length===0&&fr.length===0){let Et=su();return Te(q,ir({matches:Q,loaderData:{},errors:He&&ji(He[1])?{[He[0]]:He[1].error}:null},bT(He),Et?{fetchers:new Map(T.fetchers)}:{}),{flushSync:Ae}),{shortCircuited:!0}}if(hn){let Et={};if(!se){Et.navigation=st;let hr=Ir(He);hr!==void 0&&(Et.actionData=hr)}fr.length>0&&(Et.fetchers=V(fr)),xe(Et,{flushSync:Ae})}fr.forEach(Et=>{Qn(Et.key),Et.controller&&Y.set(Et.key,Et.controller)});let ou=()=>fr.forEach(Et=>Qn(Et.key));R&&R.signal.addEventListener("abort",ou);let{loaderResults:vh,fetcherResults:Pa}=await Re(T,Q,St,fr,B);if(B.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ou),fr.forEach(Et=>Y.delete(Et.key));let Gs=_m(vh);if(Gs)return await de(B,Gs.result,!0,{replace:Ie}),{shortCircuited:!0};if(Gs=_m(Pa),Gs)return K.add(Gs.key),await de(B,Gs.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:fk,errors:bh}=mT(T,Q,vh,He,fr,Pa,fe);fe.forEach((Et,hr)=>{Et.subscribe(lu=>{(lu||Et.done)&&fe.delete(hr)})}),u.v7_partialHydration&&Ne&&T.errors&&(bh=ir({},T.errors,bh));let td=su(),cm=Bo(ue),um=td||cm||fr.length>0;return ir({matches:Q,loaderData:fk,errors:bh},um?{fetchers:new Map(T.fetchers)}:{})}function Ir(B){if(B&&!ji(B[1]))return{[B[0]]:B[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function V(B){return B.forEach(q=>{let Q=T.fetchers.get(q.key),se=Eh(void 0,Q?Q.data:void 0);T.fetchers.set(q.key,se)}),new Map(T.fetchers)}function X(B,q,Q,se){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Qn(B);let we=(se&&se.flushSync)===!0,$e=o||a,Ke=Y0(T.location,T.matches,l,u.v7_prependBasename,Q,u.v7_relativeSplatPath,q,se==null?void 0:se.relative),Ie=fd($e,Ke,l),Ne=bt(Ie,$e,Ke);if(Ne.active&&Ne.matches&&(Ie=Ne.matches),!Ie){Pt(B,q,oi(404,{pathname:Ke}),{flushSync:we});return}let{path:Ae,submission:He,error:st}=dT(u.v7_normalizeFormMethod,!0,Ke,se);if(st){Pt(B,q,st,{flushSync:we});return}let yt=Lh(Ie,Ae),hn=(se&&se.preventScrollReset)===!0;if(He&&js(He.formMethod)){te(B,q,Ae,yt,Ie,Ne.active,we,hn,He);return}$.set(B,{routeId:q,path:Ae}),ge(B,q,Ae,yt,Ie,Ne.active,we,hn,He)}async function te(B,q,Q,se,we,$e,Ke,Ie,Ne){Qe(),$.delete(B);function Ae(Dr){if(!Dr.route.action&&!Dr.route.lazy){let du=oi(405,{method:Ne.formMethod,pathname:Q,routeId:q});return Pt(B,q,du,{flushSync:Ke}),!0}return!1}if(!$e&&Ae(se))return;let He=T.fetchers.get(B);et(B,X9(Ne,He),{flushSync:Ke});let st=new AbortController,yt=fu(r.history,Q,st.signal,Ne);if($e){let Dr=await au(we,new URL(yt.url).pathname,yt.signal,B);if(Dr.type==="aborted")return;if(Dr.type==="error"){Pt(B,q,Dr.error,{flushSync:Ke});return}else if(Dr.matches){if(we=Dr.matches,se=Lh(we,Q),Ae(se))return}else{Pt(B,q,oi(404,{pathname:Q}),{flushSync:Ke});return}}Y.set(B,st);let hn=W,St=(await ce("action",T,yt,[se],we,B))[se.route.id];if(yt.signal.aborted){Y.get(B)===st&&Y.delete(B);return}if(u.v7_fetcherPersist&&ne.has(B)){if(md(St)||ji(St)){et(B,Ko(void 0));return}}else{if(md(St))if(Y.delete(B),ue>hn){et(B,Ko(void 0));return}else return K.add(B),et(B,Eh(Ne)),de(yt,St,!1,{fetcherSubmission:Ne,preventScrollReset:Ie});if(ji(St)){Pt(B,q,St.error);return}}if(Tl(St))throw oi(400,{type:"defer-action"});let fr=T.navigation.location||T.location,ou=fu(r.history,fr,st.signal),vh=o||a,Pa=T.navigation.state!=="idle"?fd(vh,T.navigation.location,l):T.matches;Ze(Pa,"Didn't find any matches after fetcher action");let Gs=++W;M.set(B,Gs);let fk=Eh(Ne,St.data);T.fetchers.set(B,fk);let[bh,td]=uT(r.history,T,Pa,Ne,fr,!1,u.v7_skipActionErrorRevalidation,N,z,G,ne,$,K,vh,l,[se.route.id,St]);td.filter(Dr=>Dr.key!==B).forEach(Dr=>{let du=Dr.key,aS=T.fetchers.get(du),QM=Eh(void 0,aS?aS.data:void 0);T.fetchers.set(du,QM),Qn(du),Dr.controller&&Y.set(du,Dr.controller)}),xe({fetchers:new Map(T.fetchers)});let cm=()=>td.forEach(Dr=>Qn(Dr.key));st.signal.addEventListener("abort",cm);let{loaderResults:um,fetcherResults:Et}=await Re(T,Pa,bh,td,ou);if(st.signal.aborted)return;st.signal.removeEventListener("abort",cm),M.delete(B),Y.delete(B),td.forEach(Dr=>Y.delete(Dr.key));let hr=_m(um);if(hr)return de(ou,hr.result,!1,{preventScrollReset:Ie});if(hr=_m(Et),hr)return K.add(hr.key),de(ou,hr.result,!1,{preventScrollReset:Ie});let{loaderData:lu,errors:yh}=mT(T,Pa,um,void 0,td,Et,fe);if(T.fetchers.has(B)){let Dr=Ko(St.data);T.fetchers.set(B,Dr)}Bo(Gs),T.navigation.state==="loading"&&Gs>ue?(Ze(C,"Expected pending action"),R&&R.abort(),Te(T.navigation.location,{matches:Pa,loaderData:lu,errors:yh,fetchers:new Map(T.fetchers)})):(xe({errors:yh,loaderData:vT(T.loaderData,lu,Pa,yh),fetchers:new Map(T.fetchers)}),N=!1)}async function ge(B,q,Q,se,we,$e,Ke,Ie,Ne){let Ae=T.fetchers.get(B);et(B,Eh(Ne,Ae?Ae.data:void 0),{flushSync:Ke});let He=new AbortController,st=fu(r.history,Q,He.signal);if($e){let St=await au(we,new URL(st.url).pathname,st.signal,B);if(St.type==="aborted")return;if(St.type==="error"){Pt(B,q,St.error,{flushSync:Ke});return}else if(St.matches)we=St.matches,se=Lh(we,Q);else{Pt(B,q,oi(404,{pathname:Q}),{flushSync:Ke});return}}Y.set(B,He);let yt=W,Xt=(await ce("loader",T,st,[se],we,B))[se.route.id];if(Tl(Xt)&&(Xt=await IE(Xt,st.signal,!0)||Xt),Y.get(B)===He&&Y.delete(B),!st.signal.aborted){if(ne.has(B)){et(B,Ko(void 0));return}if(md(Xt))if(ue>yt){et(B,Ko(void 0));return}else{K.add(B),await de(st,Xt,!1,{preventScrollReset:Ie});return}if(ji(Xt)){Pt(B,q,Xt.error);return}Ze(!Tl(Xt),"Unhandled fetcher deferred data"),et(B,Ko(Xt.data))}}async function de(B,q,Q,se){let{submission:we,fetcherSubmission:$e,preventScrollReset:Ke,replace:Ie}=se===void 0?{}:se;q.response.headers.has("X-Remix-Revalidate")&&(N=!0);let Ne=q.response.headers.get("Location");Ze(Ne,"Expected a Location header on the redirect Response"),Ne=pT(Ne,new URL(B.url),l);let Ae=$f(T.location,Ne,{_isRedirect:!0});if(t){let St=!1;if(q.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(jE.test(Ne)){const fr=r.history.createURL(Ne);St=fr.origin!==e.location.origin||th(fr.pathname,l)==null}if(St){Ie?e.location.replace(Ne):e.location.assign(Ne);return}}R=null;let He=Ie===!0||q.response.headers.has("X-Remix-Replace")?Er.Replace:Er.Push,{formMethod:st,formAction:yt,formEncType:hn}=T.navigation;!we&&!$e&&st&&yt&&hn&&(we=_T(T.navigation));let Xt=we||$e;if(I9.has(q.response.status)&&Xt&&js(Xt.formMethod))await lt(He,Ae,{submission:ir({},Xt,{formAction:Ne}),preventScrollReset:Ke||D,enableViewTransition:Q?L:void 0});else{let St=Ak(Ae,we);await lt(He,Ae,{overrideNavigation:St,fetcherSubmission:$e,preventScrollReset:Ke||D,enableViewTransition:Q?L:void 0})}}async function ce(B,q,Q,se,we,$e){let Ke,Ie={};try{Ke=await F9(d,B,q,Q,se,we,$e,s,i)}catch(Ne){return se.forEach(Ae=>{Ie[Ae.route.id]={type:Vt.error,error:Ne}}),Ie}for(let[Ne,Ae]of Object.entries(Ke))if(z9(Ae)){let He=Ae.result;Ie[Ne]={type:Vt.redirect,response:U9(He,Q,Ne,we,l,u.v7_relativeSplatPath)}}else Ie[Ne]=await H9(Ae);return Ie}async function Re(B,q,Q,se,we){let $e=B.matches,Ke=ce("loader",B,we,Q,q,null),Ie=Promise.all(se.map(async He=>{if(He.matches&&He.match&&He.controller){let yt=(await ce("loader",B,fu(r.history,He.path,He.controller.signal),[He.match],He.matches,He.key))[He.match.route.id];return{[He.key]:yt}}else return Promise.resolve({[He.key]:{type:Vt.error,error:oi(404,{pathname:He.path})}})})),Ne=await Ke,Ae=(await Ie).reduce((He,st)=>Object.assign(He,st),{});return await Promise.all([G9(q,Ne,we.signal,$e,B.loaderData),q9(q,Ae,se)]),{loaderResults:Ne,fetcherResults:Ae}}function Qe(){N=!0,z.push(...Gi()),$.forEach((B,q)=>{Y.has(q)&&G.add(q),Qn(q)})}function et(B,q,Q){Q===void 0&&(Q={}),T.fetchers.set(B,q),xe({fetchers:new Map(T.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Pt(B,q,Q,se){se===void 0&&(se={});let we=hd(T.matches,q);Bn(B),xe({errors:{[we.route.id]:Q},fetchers:new Map(T.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function pi(B){return J.set(B,(J.get(B)||0)+1),ne.has(B)&&ne.delete(B),T.fetchers.get(B)||D9}function Bn(B){let q=T.fetchers.get(B);Y.has(B)&&!(q&&q.state==="loading"&&M.has(B))&&Qn(B),$.delete(B),M.delete(B),K.delete(B),u.v7_fetcherPersist&&ne.delete(B),G.delete(B),T.fetchers.delete(B)}function gh(B){let q=(J.get(B)||0)-1;q<=0?(J.delete(B),ne.add(B),u.v7_fetcherPersist||Bn(B)):J.set(B,q),xe({fetchers:new Map(T.fetchers)})}function Qn(B){let q=Y.get(B);q&&(q.abort(),Y.delete(B))}function Uo(B){for(let q of B){let Q=pi(q),se=Ko(Q.data);T.fetchers.set(q,se)}}function su(){let B=[],q=!1;for(let Q of K){let se=T.fetchers.get(Q);Ze(se,"Expected fetcher: "+Q),se.state==="loading"&&(K.delete(Q),B.push(Q),q=!0)}return Uo(B),q}function Bo(B){let q=[];for(let[Q,se]of M)if(se<B){let we=T.fetchers.get(Q);Ze(we,"Expected fetcher: "+Q),we.state==="loading"&&(Qn(Q),M.delete(Q),q.push(Q))}return Uo(q),q.length>0}function mh(B,q){let Q=T.blockers.get(B)||wh;return ae.get(B)!==q&&ae.set(B,q),Q}function $o(B){T.blockers.delete(B),ae.delete(B)}function tt(B,q){let Q=T.blockers.get(B)||wh;Ze(Q.state==="unblocked"&&q.state==="blocked"||Q.state==="blocked"&&q.state==="blocked"||Q.state==="blocked"&&q.state==="proceeding"||Q.state==="blocked"&&q.state==="unblocked"||Q.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+q.state);let se=new Map(T.blockers);se.set(B,q),xe({blockers:se})}function Gt(B){let{currentLocation:q,nextLocation:Q,historyAction:se}=B;if(ae.size===0)return;ae.size>1&&xc(!1,"A router only supports one blocker at a time");let we=Array.from(ae.entries()),[$e,Ke]=we[we.length-1],Ie=T.blockers.get($e);if(!(Ie&&Ie.state==="proceeding")&&Ke({currentLocation:q,nextLocation:Q,historyAction:se}))return $e}function It(B){let q=oi(404,{pathname:B}),Q=o||a,{matches:se,route:we}=yT(Q);return Gi(),{notFoundMatches:se,route:we,error:q}}function Gi(B){let q=[];return fe.forEach((Q,se)=>{(!B||B(se))&&(Q.cancel(),q.push(se),fe.delete(se))}),q}function gi(B,q,Q){if(m=B,b=q,v=Q||null,!y&&T.navigation===Tk){y=!0;let se=mi(T.location,T.matches);se!=null&&xe({restoreScrollPosition:se})}return()=>{m=null,b=null,v=null}}function ed(B,q){return v&&v(B,q.map(se=>o9(se,T.loaderData)))||B.key}function en(B,q){if(m&&b){let Q=ed(B,q);m[Q]=b()}}function mi(B,q){if(m){let Q=ed(B,q),se=m[Q];if(typeof se=="number")return se}return null}function bt(B,q,Q){if(c)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:zm(q,Q,l,!0)}}else return{active:!0,matches:zm(q,Q,l,!0)||[]};return{active:!1,matches:null}}async function au(B,q,Q,se){if(!c)return{type:"success",matches:B};let we=B;for(;;){let $e=o==null,Ke=o||a,Ie=s;try{await c({signal:Q,path:q,matches:we,fetcherKey:se,patch:(He,st)=>{Q.aborted||hT(He,st,Ke,Ie,i)}})}catch(He){return{type:"error",error:He,partialMatches:we}}finally{$e&&!Q.aborted&&(a=[...a])}if(Q.aborted)return{type:"aborted"};let Ne=fd(Ke,q,l);if(Ne)return{type:"success",matches:Ne};let Ae=zm(Ke,q,l,!0);if(!Ae||we.length===Ae.length&&we.every((He,st)=>He.route.id===Ae[st].route.id))return{type:"success",matches:null};we=Ae}}function ck(B){s={},o=Uv(B,i,void 0,s)}function uk(B,q){let Q=o==null;hT(B,q,o||a,s,i),Q&&(a=[...a],xe({}))}return O={get basename(){return l},get future(){return u},get state(){return T},get routes(){return a},get window(){return e},initialize:ee,subscribe:Pe,enableScrollRestoration:gi,navigate:qe,fetch:X,revalidate:vt,createHref:B=>r.history.createHref(B),encodeLocation:B=>r.history.encodeLocation(B),getFetcher:pi,deleteFetcher:gh,dispose:le,getBlocker:mh,deleteBlocker:$o,patchRoutes:uk,_internalFetchControllers:Y,_internalActiveDeferreds:fe,_internalSetRoutes:ck},O}function P9(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Y0(r,e,t,n,i,s,a,o){let l,d;if(a){l=[];for(let u of e)if(l.push(u),u.route.id===a){d=u;break}}else l=e,d=e[e.length-1];let c=Zb(i||".",Xb(l,s),th(r.pathname,t)||r.pathname,o==="path");if(i==null&&(c.search=r.search,c.hash=r.hash),(i==null||i===""||i===".")&&d){let u=DE(c.search);if(d.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&u){let f=new URLSearchParams(c.search),g=f.getAll("index");f.delete("index"),g.filter(v=>v).forEach(v=>f.append("index",v));let m=f.toString();c.search=m?"?"+m:""}}return n&&t!=="/"&&(c.pathname=c.pathname==="/"?t:yo([t,c.pathname])),Dl(c)}function dT(r,e,t,n){if(!n||!P9(n))return{path:t};if(n.formMethod&&!K9(n.formMethod))return{path:t,error:oi(405,{method:n.formMethod})};let i=()=>({path:t,error:oi(400,{type:"invalid-body"})}),s=n.formMethod||"get",a=r?s.toUpperCase():s.toLowerCase(),o=bj(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!js(a))return i();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,m)=>{let[v,b]=m;return""+g+v+"="+b+`
`},""):String(n.body);return{path:t,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!js(a))return i();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ze(typeof FormData=="function","FormData is not available in this environment");let l,d;if(n.formData)l=Z0(n.formData),d=n.formData;else if(n.body instanceof FormData)l=Z0(n.body),d=n.body;else if(n.body instanceof URLSearchParams)l=n.body,d=gT(l);else if(n.body==null)l=new URLSearchParams,d=new FormData;else try{l=new URLSearchParams(n.body),d=gT(l)}catch{return i()}let c={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(js(c.formMethod))return{path:t,submission:c};let u=Oa(t);return e&&u.search&&DE(u.search)&&l.append("index",""),u.search="?"+l,{path:Dl(u),submission:c}}function cT(r,e,t){t===void 0&&(t=!1);let n=r.findIndex(i=>i.route.id===e);return n>=0?r.slice(0,t?n+1:n):r}function uT(r,e,t,n,i,s,a,o,l,d,c,u,f,g,m,v){let b=v?ji(v[1])?v[1].error:v[1].data:void 0,y=r.createURL(e.location),k=r.createURL(i),_=t;s&&e.errors?_=cT(t,Object.keys(e.errors)[0],!0):v&&ji(v[1])&&(_=cT(t,v[0]));let E=v?v[1].statusCode:void 0,S=a&&E&&E>=400,O=_.filter((C,D)=>{let{route:R}=C;if(R.lazy)return!0;if(R.loader==null)return!1;if(s)return X0(R,e.loaderData,e.errors);if(N9(e.loaderData,e.matches[D],C)||l.some(F=>F===C.route.id))return!0;let L=e.matches[D],P=C;return fT(C,ir({currentUrl:y,currentParams:L.params,nextUrl:k,nextParams:P.params},n,{actionResult:b,actionStatus:E,defaultShouldRevalidate:S?!1:o||y.pathname+y.search===k.pathname+k.search||y.search!==k.search||mj(L,P)}))}),T=[];return u.forEach((C,D)=>{if(s||!t.some(H=>H.route.id===C.routeId)||c.has(D))return;let R=fd(g,C.path,m);if(!R){T.push({key:D,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(D),P=Lh(R,C.path),F=!1;f.has(D)?F=!1:d.has(D)?(d.delete(D),F=!0):L&&L.state!=="idle"&&L.data===void 0?F=o:F=fT(P,ir({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:k,nextParams:t[t.length-1].params},n,{actionResult:b,actionStatus:E,defaultShouldRevalidate:S?!1:o})),F&&T.push({key:D,routeId:C.routeId,path:C.path,matches:R,match:P,controller:new AbortController})}),[O,T]}function X0(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let n=e!=null&&e[r.id]!==void 0,i=t!=null&&t[r.id]!==void 0;return!n&&i?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!n&&!i}function N9(r,e,t){let n=!e||t.route.id!==e.route.id,i=r[t.route.id]===void 0;return n||i}function mj(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function fT(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function hT(r,e,t,n,i){var s;let a;if(r){let d=n[r];Ze(d,"No route found to patch children into: routeId = "+r),d.children||(d.children=[]),a=d.children}else a=t;let o=e.filter(d=>!a.some(c=>vj(d,c))),l=Uv(o,i,[r||"_","patch",String(((s=a)==null?void 0:s.length)||"0")],n);a.push(...l)}function vj(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,n)=>{var i;return(i=e.children)==null?void 0:i.some(s=>vj(t,s))}):!1}async function M9(r,e,t){if(!r.lazy)return;let n=await r.lazy();if(!r.lazy)return;let i=t[r.id];Ze(i,"No route found in manifest");let s={};for(let a in n){let l=i[a]!==void 0&&a!=="hasErrorBoundary";xc(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!s9.has(a)&&(s[a]=n[a])}Object.assign(i,s),Object.assign(i,ir({},e(i),{lazy:void 0}))}async function L9(r){let{matches:e}=r,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,s,a)=>Object.assign(i,{[t[a].route.id]:s}),{})}async function F9(r,e,t,n,i,s,a,o,l,d){let c=s.map(g=>g.route.lazy?M9(g.route,l,o):void 0),u=s.map((g,m)=>{let v=c[m],b=i.some(k=>k.route.id===g.route.id);return ir({},g,{shouldLoad:b,resolve:async k=>(k&&n.method==="GET"&&(g.route.lazy||g.route.loader)&&(b=!0),b?V9(e,n,g,v,k,d):Promise.resolve({type:Vt.data,result:void 0}))})}),f=await r({matches:u,request:n,params:s[0].params,fetcherKey:a,context:d});try{await Promise.all(c)}catch{}return f}async function V9(r,e,t,n,i,s){let a,o,l=d=>{let c,u=new Promise((m,v)=>c=v);o=()=>c(),e.signal.addEventListener("abort",o);let f=m=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+r+'" [routeId: '+t.route.id+"]"))):d({request:e,params:t.params,context:s},...m!==void 0?[m]:[]),g=(async()=>{try{return{type:"data",result:await(i?i(v=>f(v)):f())}}catch(m){return{type:"error",result:m}}})();return Promise.race([g,u])};try{let d=t.route[r];if(n)if(d){let c,[u]=await Promise.all([l(d).catch(f=>{c=f}),n]);if(c!==void 0)throw c;a=u}else if(await n,d=t.route[r],d)a=await l(d);else if(r==="action"){let c=new URL(e.url),u=c.pathname+c.search;throw oi(405,{method:e.method,pathname:u,routeId:t.route.id})}else return{type:Vt.data,result:void 0};else if(d)a=await l(d);else{let c=new URL(e.url),u=c.pathname+c.search;throw oi(404,{pathname:u})}Ze(a.result!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Vt.error,result:d}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function H9(r){let{result:e,type:t}=r;if(yj(e)){let u;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(f){return{type:Vt.error,error:f}}return t===Vt.error?{type:Vt.error,error:new Bv(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Vt.data,data:u,statusCode:e.status,headers:e.headers}}if(t===Vt.error){if(kT(e)){var n,i;if(e.data instanceof Error){var s,a;return{type:Vt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:Vt.error,error:new Bv(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:gp(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Vt.error,error:e,statusCode:gp(e)?e.status:void 0}}if(W9(e)){var o,l;return{type:Vt.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(kT(e)){var d,c;return{type:Vt.data,data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}}return{type:Vt.data,data:e}}function U9(r,e,t,n,i,s){let a=r.headers.get("Location");if(Ze(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!jE.test(a)){let o=n.slice(0,n.findIndex(l=>l.route.id===t)+1);a=Y0(new URL(e.url),o,i,!0,a,s),r.headers.set("Location",a)}return r}function pT(r,e,t){if(jE.test(r)){let n=r,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=th(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return r}function fu(r,e,t,n){let i=r.createURL(bj(e)).toString(),s={signal:t};if(n&&js(n.formMethod)){let{formMethod:a,formEncType:o}=n;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(n.json)):o==="text/plain"?s.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?s.body=Z0(n.formData):s.body=n.formData}return new Request(i,s)}function Z0(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function gT(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function B9(r,e,t,n,i){let s={},a=null,o,l=!1,d={},c=t&&ji(t[1])?t[1].error:void 0;return r.forEach(u=>{if(!(u.route.id in e))return;let f=u.route.id,g=e[f];if(Ze(!md(g),"Cannot handle redirect results in processLoaderData"),ji(g)){let m=g.error;c!==void 0&&(m=c,c=void 0),a=a||{};{let v=hd(r,f);a[v.route.id]==null&&(a[v.route.id]=m)}s[f]=void 0,l||(l=!0,o=gp(g.error)?g.error.status:500),g.headers&&(d[f]=g.headers)}else Tl(g)?(n.set(f,g.deferredData),s[f]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(d[f]=g.headers)):(s[f]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(d[f]=g.headers))}),c!==void 0&&t&&(a={[t[0]]:c},s[t[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:d}}function mT(r,e,t,n,i,s,a){let{loaderData:o,errors:l}=B9(e,t,n,a);return i.forEach(d=>{let{key:c,match:u,controller:f}=d,g=s[c];if(Ze(g,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(ji(g)){let m=hd(r.matches,u==null?void 0:u.route.id);l&&l[m.route.id]||(l=ir({},l,{[m.route.id]:g.error})),r.fetchers.delete(c)}else if(md(g))Ze(!1,"Unhandled fetcher revalidation redirect");else if(Tl(g))Ze(!1,"Unhandled fetcher deferred data");else{let m=Ko(g.data);r.fetchers.set(c,m)}}),{loaderData:o,errors:l}}function vT(r,e,t,n){let i=ir({},e);for(let s of t){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):r[a]!==void 0&&s.route.loader&&(i[a]=r[a]),n&&n.hasOwnProperty(a))break}return i}function bT(r){return r?ji(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function hd(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function yT(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function oi(r,e){let{pathname:t,routeId:n,method:i,type:s,message:a}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return r===400?(o="Bad Request",i&&t&&n?l="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):r===403?(o="Forbidden",l='Route "'+n+'" does not match URL "'+t+'"'):r===404?(o="Not Found",l='No route matches URL "'+t+'"'):r===405&&(o="Method Not Allowed",i&&t&&n?l="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Bv(r||500,o,new Error(l),!0)}function _m(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[n,i]=e[t];if(md(i))return{key:n,result:i}}}function bj(r){let e=typeof r=="string"?Oa(r):r;return Dl(ir({},e,{hash:""}))}function $9(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function z9(r){return yj(r.result)&&j9.has(r.result.status)}function Tl(r){return r.type===Vt.deferred}function ji(r){return r.type===Vt.error}function md(r){return(r&&r.type)===Vt.redirect}function kT(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function W9(r){let e=r;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function yj(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function K9(r){return C9.has(r.toLowerCase())}function js(r){return A9.has(r.toLowerCase())}async function G9(r,e,t,n,i){let s=Object.entries(e);for(let a=0;a<s.length;a++){let[o,l]=s[a],d=r.find(f=>(f==null?void 0:f.route.id)===o);if(!d)continue;let c=n.find(f=>f.route.id===d.route.id),u=c!=null&&!mj(c,d)&&(i&&i[d.route.id])!==void 0;Tl(l)&&u&&await IE(l,t,!1).then(f=>{f&&(e[o]=f)})}}async function q9(r,e,t){for(let n=0;n<t.length;n++){let{key:i,routeId:s,controller:a}=t[n],o=e[i];r.find(d=>(d==null?void 0:d.route.id)===s)&&Tl(o)&&(Ze(a,"Expected an AbortController for revalidating fetcher deferred result"),await IE(o,a.signal,!0).then(d=>{d&&(e[i]=d)}))}}async function IE(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:Vt.data,data:r.deferredData.unwrappedData}}catch(i){return{type:Vt.error,error:i}}return{type:Vt.data,data:r.deferredData.data}}}function DE(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Lh(r,e){let t=typeof e=="string"?Oa(e).search:e.search;if(r[r.length-1].route.index&&DE(t||""))return r[r.length-1];let n=fj(r);return n[n.length-1]}function _T(r){let{formMethod:e,formAction:t,formEncType:n,text:i,formData:s,json:a}=r;if(!(!e||!t||!n)){if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:a,text:void 0}}}function Ak(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Y9(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Eh(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function X9(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ko(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Z9(r,e){try{let t=r.sessionStorage.getItem(pj);if(t){let n=JSON.parse(t);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function J9(r,e){if(e.size>0){let t={};for(let[n,i]of e)t[n]=[...i];try{r.sessionStorage.setItem(pj,JSON.stringify(t))}catch(n){xc(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mp(){return mp=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},mp.apply(this,arguments)}const Qb=w.createContext(null),kj=w.createContext(null),J0=w.createContext(null),ql=w.createContext(null),Yg=w.createContext(null),Ca=w.createContext({outlet:null,matches:[],isDataRoute:!1}),_j=w.createContext(null);function Q9(r,e){let{relative:t}=e===void 0?{}:e;Gc()||Ze(!1);let{basename:n,navigator:i}=w.useContext(ql),{hash:s,pathname:a,search:o}=Ej(r,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:yo([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Gc(){return w.useContext(Yg)!=null}function qc(){return Gc()||Ze(!1),w.useContext(Yg).location}function tce(){return w.useContext(Yg).navigationType}function e8(r){Gc()||Ze(!1);let{pathname:e}=qc();return w.useMemo(()=>G0(r,uj(e)),[e,r])}function wj(r){w.useContext(ql).static||w.useLayoutEffect(r)}function Xr(){let{isDataRoute:r}=w.useContext(Ca);return r?p8():t8()}function t8(){Gc()||Ze(!1);let r=w.useContext(Qb),{basename:e,future:t,navigator:n}=w.useContext(ql),{matches:i}=w.useContext(Ca),{pathname:s}=qc(),a=JSON.stringify(Xb(i,t.v7_relativeSplatPath)),o=w.useRef(!1);return wj(()=>{o.current=!0}),w.useCallback(function(d,c){if(c===void 0&&(c={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let u=Zb(d,JSON.parse(a),s,c.relative==="path");r==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:yo([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,a,s,r])}const r8=w.createContext(null);function n8(r){let e=w.useContext(Ca).outlet;return e&&w.createElement(r8.Provider,{value:r},e)}function Yc(){let{matches:r}=w.useContext(Ca),e=r[r.length-1];return e?e.params:{}}function Ej(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=w.useContext(ql),{matches:i}=w.useContext(Ca),{pathname:s}=qc(),a=JSON.stringify(Xb(i,n.v7_relativeSplatPath));return w.useMemo(()=>Zb(r,JSON.parse(a),s,t==="path"),[r,a,s,t])}function i8(r,e){return xj(r,e)}function xj(r,e,t,n){Gc()||Ze(!1);let{navigator:i}=w.useContext(ql),{matches:s}=w.useContext(Ca),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let d=qc(),c;if(e){var u;let b=typeof e=="string"?Oa(e):e;l==="/"||(u=b.pathname)!=null&&u.startsWith(l)||Ze(!1),c=b}else c=d;let f=c.pathname||"/",g=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=fd(r,{pathname:g}),v=d8(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:yo([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:yo([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,t,n);return e&&v?w.createElement(Yg.Provider,{value:{location:mp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Er.Pop}},v):v}function s8(){let r=f8(),e=gp(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:i},t):null,null)}const a8=w.createElement(s8,null);class o8 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Ca.Provider,{value:this.props.routeContext},w.createElement(_j.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l8(r){let{routeContext:e,match:t,children:n}=r,i=w.useContext(Qb);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Ca.Provider,{value:e},n)}function d8(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var s;if(!t)return null;if(t.errors)r=t.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=(i=t)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);c>=0||Ze(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,d=-1;if(t&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=c),u.route.id){let{loaderData:f,errors:g}=t,m=u.route.loader&&f[u.route.id]===void 0&&(!g||g[u.route.id]===void 0);if(u.route.lazy||m){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((c,u,f)=>{let g,m=!1,v=null,b=null;t&&(g=o&&u.route.id?o[u.route.id]:void 0,v=u.route.errorElement||a8,l&&(d<0&&f===0?(g8("route-fallback"),m=!0,b=null):d===f&&(m=!0,b=u.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),k=()=>{let _;return g?_=v:m?_=b:u.route.Component?_=w.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=c,w.createElement(l8,{match:u,routeContext:{outlet:c,matches:y,isDataRoute:t!=null},children:_})};return t&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?w.createElement(o8,{location:t.location,revalidation:t.revalidation,component:v,error:g,children:k(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):k()},null)}var Sj=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Sj||{}),Tj=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Tj||{});function c8(r){let e=w.useContext(Qb);return e||Ze(!1),e}function Aj(r){let e=w.useContext(kj);return e||Ze(!1),e}function u8(r){let e=w.useContext(Ca);return e||Ze(!1),e}function Oj(r){let e=u8(),t=e.matches[e.matches.length-1];return t.route.id||Ze(!1),t.route.id}function ey(r){return Aj().loaderData[r]}function f8(){var r;let e=w.useContext(_j),t=Aj(Tj.UseRouteError),n=Oj();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function h8(){let r=w.useContext(J0);return r==null?void 0:r._data}function p8(){let{router:r}=c8(Sj.UseNavigateStable),e=Oj(),t=w.useRef(!1);return wj(()=>{t.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,mp({fromRouteId:e},s)))},[r,e])}const wT={};function g8(r,e,t){wT[r]||(wT[r]=!0)}function m8(r,e){r==null||r.v7_startTransition,(r==null?void 0:r.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function zf(r){let{to:e,replace:t,state:n,relative:i}=r;Gc()||Ze(!1);let{future:s,static:a}=w.useContext(ql),{matches:o}=w.useContext(Ca),{pathname:l}=qc(),d=Xr(),c=Zb(e,Xb(o,s.v7_relativeSplatPath),l,i==="path"),u=JSON.stringify(c);return w.useEffect(()=>d(JSON.parse(u),{replace:t,state:n,relative:i}),[d,u,i,t,n]),null}function Cj(r){return n8(r.context)}function Go(r){Ze(!1)}function v8(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Er.Pop,navigator:s,static:a=!1,future:o}=r;Gc()&&Ze(!1);let l=e.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:l,navigator:s,static:a,future:mp({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Oa(n));let{pathname:c="/",search:u="",hash:f="",state:g=null,key:m="default"}=n,v=w.useMemo(()=>{let b=th(c,l);return b==null?null:{location:{pathname:b,search:u,hash:f,state:g,key:m},navigationType:i}},[l,c,u,f,g,m,i]);return v==null?null:w.createElement(ql.Provider,{value:d},w.createElement(Yg.Provider,{children:t,value:v}))}function b8(r){let{children:e,location:t}=r;return i8(Q0(e),t)}function ty(r){let{children:e,errorElement:t,resolve:n}=r;return w.createElement(k8,{resolve:n,errorElement:t},w.createElement(_8,null,e))}var Xi=function(r){return r[r.pending=0]="pending",r[r.success=1]="success",r[r.error=2]="error",r}(Xi||{});const y8=new Promise(()=>{});class k8 extends w.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,i=null,s=Xi.pending;if(!(n instanceof Promise))s=Xi.success,i=Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>n});else if(this.state.error){s=Xi.error;let a=this.state.error;i=Promise.reject().catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>a})}else n._tracked?(i=n,s="_error"in i?Xi.error:"_data"in i?Xi.success:Xi.pending):(s=Xi.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),i=n.then(a=>Object.defineProperty(n,"_data",{get:()=>a}),a=>Object.defineProperty(n,"_error",{get:()=>a})));if(s===Xi.error&&i._error instanceof q0)throw y8;if(s===Xi.error&&!t)throw i._error;if(s===Xi.error)return w.createElement(J0.Provider,{value:i,children:t});if(s===Xi.success)return w.createElement(J0.Provider,{value:i,children:e});throw i}}function _8(r){let{children:e}=r,t=h8(),n=typeof e=="function"?e(t):e;return w.createElement(w.Fragment,null,n)}function Q0(r,e){e===void 0&&(e=[]);let t=[];return w.Children.forEach(r,(n,i)=>{if(!w.isValidElement(n))return;let s=[...e,i];if(n.type===w.Fragment){t.push.apply(t,Q0(n.props.children,s));return}n.type!==Go&&Ze(!1),!n.props.index||!n.props.children||Ze(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Q0(n.props.children,s)),t.push(a)}),t}function jj(r){let e={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&Object.assign(e,{element:w.createElement(r.Component),Component:void 0}),r.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(r.HydrateFallback),HydrateFallback:void 0}),r.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(r.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wf(){return Wf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Wf.apply(this,arguments)}function w8(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function E8(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function x8(r,e){return r.button===0&&(!e||e==="_self")&&!E8(r)}const S8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T8="6";try{window.__reactRouterVersion=T8}catch{}function rce(r,e){return gj({basename:e==null?void 0:e.basename,future:Wf({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:r9({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Ij(),routes:r,mapRouteProperties:jj,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function A8(r,e){return gj({basename:void 0,future:Wf({},void 0,{v7_prependBasename:!0}),history:n9({window:void 0}),hydrationData:Ij(),routes:r,mapRouteProperties:jj,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Ij(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=Wf({},e,{errors:O8(e.errors)})),e}function O8(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")t[n]=new Bv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",t[n]=a}catch{}}if(t[n]==null){let s=new Error(i.message);s.stack="",t[n]=s}}else t[n]=i;return t}const C8=w.createContext({isTransitioning:!1}),j8=w.createContext(new Map),I8="startTransition",ET=u5[I8],D8="flushSync",xT=f5[D8];function R8(r){ET?ET(r):r()}function xh(r){xT?xT(r):r()}class P8{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}}function N8(r){let{fallbackElement:e,router:t,future:n}=r,[i,s]=w.useState(t.state),[a,o]=w.useState(),[l,d]=w.useState({isTransitioning:!1}),[c,u]=w.useState(),[f,g]=w.useState(),[m,v]=w.useState(),b=w.useRef(new Map),{v7_startTransition:y}=n||{},k=w.useCallback(C=>{y?R8(C):C()},[y]),_=w.useCallback((C,D)=>{let{deletedFetchers:R,flushSync:L,viewTransitionOpts:P}=D;C.fetchers.forEach((H,N)=>{H.data!==void 0&&b.current.set(N,H.data)}),R.forEach(H=>b.current.delete(H));let F=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!P||F){L?xh(()=>s(C)):k(()=>s(C));return}if(L){xh(()=>{f&&(c&&c.resolve(),f.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let H=t.window.document.startViewTransition(()=>{xh(()=>s(C))});H.finished.finally(()=>{xh(()=>{u(void 0),g(void 0),o(void 0),d({isTransitioning:!1})})}),xh(()=>g(H));return}f?(c&&c.resolve(),f.skipTransition(),v({state:C,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(o(C),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[t.window,f,c,b,k]);w.useLayoutEffect(()=>t.subscribe(_),[t,_]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&u(new P8)},[l]),w.useEffect(()=>{if(c&&a&&t.window){let C=a,D=c.promise,R=t.window.document.startViewTransition(async()=>{k(()=>s(C)),await D});R.finished.finally(()=>{u(void 0),g(void 0),o(void 0),d({isTransitioning:!1})}),g(R)}},[k,a,c,t.window]),w.useEffect(()=>{c&&a&&i.location.key===a.location.key&&c.resolve()},[c,f,i.location,a]),w.useEffect(()=>{!l.isTransitioning&&m&&(o(m.state),d({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[l.isTransitioning,m]),w.useEffect(()=>{},[]);let E=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:C=>t.navigate(C),push:(C,D,R)=>t.navigate(C,{state:D,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(C,D,R)=>t.navigate(C,{replace:!0,state:D,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[t]),S=t.basename||"/",O=w.useMemo(()=>({router:t,navigator:E,static:!1,basename:S}),[t,E,S]),T=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>m8(n,t.future),[n,t.future]),w.createElement(w.Fragment,null,w.createElement(Qb.Provider,{value:O},w.createElement(kj.Provider,{value:i},w.createElement(j8.Provider,{value:b.current},w.createElement(C8.Provider,{value:l},w.createElement(v8,{basename:S,location:i.location,navigationType:i.historyAction,navigator:E,future:T},i.initialized||t.future.v7_partialHydration?w.createElement(M8,{routes:t.routes,future:t.future,state:i}):e))))),null)}const M8=w.memo(L8);function L8(r){let{routes:e,future:t,state:n}=r;return xj(e,void 0,n,t)}const F8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mc=w.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:d,preventScrollReset:c,viewTransition:u}=e,f=w8(e,S8),{basename:g}=w.useContext(ql),m,v=!1;if(typeof d=="string"&&V8.test(d)&&(m=d,F8))try{let _=new URL(window.location.href),E=d.startsWith("//")?new URL(_.protocol+d):new URL(d),S=th(E.pathname,g);E.origin===_.origin&&S!=null?d=S+E.search+E.hash:v=!0}catch{}let b=Q9(d,{relative:i}),y=H8(d,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:u});function k(_){n&&n(_),_.defaultPrevented||y(_)}return w.createElement("a",Wf({},f,{href:m||b,onClick:v||s?n:k,ref:t,target:l}))});var ST;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(ST||(ST={}));var TT;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(TT||(TT={}));function H8(r,e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Xr(),d=qc(),c=Ej(r,{relative:a});return w.useCallback(u=>{if(x8(u,t)){u.preventDefault();let f=n!==void 0?n:Dl(d)===Dl(c);l(r,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[d,l,c,n,i,t,r,s,a,o])}var Ok={exports:{}},Ck={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function U8(){if(AT)return Ck;AT=1;var r=$g();function e(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,i=r.useRef,s=r.useEffect,a=r.useMemo,o=r.useDebugValue;return Ck.useSyncExternalStoreWithSelector=function(l,d,c,u,f){var g=i(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=a(function(){function b(S){if(!y){if(y=!0,k=S,S=u(S),f!==void 0&&m.hasValue){var O=m.value;if(f(O,S))return _=O}return _=S}if(O=_,t(k,S))return O;var T=u(S);return f!==void 0&&f(O,T)?(k=S,O):(k=S,_=T)}var y=!1,k,_,E=c===void 0?null:c;return[function(){return b(d())},E===null?void 0:function(){return b(E())}]},[d,c,u,f]);var v=n(l,g[0],g[1]);return s(function(){m.hasValue=!0,m.value=v},[v]),o(v),v},Ck}var OT;function B8(){return OT||(OT=1,Ok.exports=U8()),Ok.exports}var $8=B8(),z8=w.version.startsWith("19"),W8=Symbol.for(z8?"react.transitional.element":"react.element"),K8=Symbol.for("react.portal"),G8=Symbol.for("react.fragment"),q8=Symbol.for("react.strict_mode"),Y8=Symbol.for("react.profiler"),X8=Symbol.for("react.consumer"),Z8=Symbol.for("react.context"),Dj=Symbol.for("react.forward_ref"),J8=Symbol.for("react.suspense"),Q8=Symbol.for("react.suspense_list"),RE=Symbol.for("react.memo"),eV=Symbol.for("react.lazy"),tV=Dj,rV=RE;function nV(r){if(typeof r=="object"&&r!==null){const{$$typeof:e}=r;switch(e){case W8:switch(r=r.type,r){case G8:case Y8:case q8:case J8:case Q8:return r;default:switch(r=r&&r.$$typeof,r){case Z8:case Dj:case eV:case RE:return r;case X8:return r;default:return e}}case K8:return e}}}function iV(r){return nV(r)===RE}function sV(r,e,t,n,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:a}){let o=!1,l,d,c,u,f;function g(k,_){return l=k,d=_,c=r(l,d),u=e(n,d),f=t(c,u,d),o=!0,f}function m(){return c=r(l,d),e.dependsOnOwnProps&&(u=e(n,d)),f=t(c,u,d),f}function v(){return r.dependsOnOwnProps&&(c=r(l,d)),e.dependsOnOwnProps&&(u=e(n,d)),f=t(c,u,d),f}function b(){const k=r(l,d),_=!a(k,c);return c=k,_&&(f=t(c,u,d)),f}function y(k,_){const E=!s(_,d),S=!i(k,l,_,d);return l=k,d=_,E&&S?m():E?v():S?b():f}return function(_,E){return o?y(_,E):g(_,E)}}function aV(r,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:n,...i}){const s=e(r,i),a=t(r,i),o=n(r,i);return sV(s,a,o,r,i)}function oV(r,e){const t={};for(const n in r){const i=r[n];typeof i=="function"&&(t[n]=(...s)=>e(i(...s)))}return t}function e_(r){return function(t){const n=r(t);function i(){return n}return i.dependsOnOwnProps=!1,i}}function CT(r){return r.dependsOnOwnProps?!!r.dependsOnOwnProps:r.length!==1}function Rj(r,e){return function(n,{displayName:i}){const s=function(o,l){return s.dependsOnOwnProps?s.mapToProps(o,l):s.mapToProps(o,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(o,l){s.mapToProps=r,s.dependsOnOwnProps=CT(r);let d=s(o,l);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=CT(d),d=s(o,l)),d},s}}function PE(r,e){return(t,n)=>{throw new Error(`Invalid value of type ${typeof r} for ${e} argument when connecting component ${n.wrappedComponentName}.`)}}function lV(r){return r&&typeof r=="object"?e_(e=>oV(r,e)):r?typeof r=="function"?Rj(r):PE(r,"mapDispatchToProps"):e_(e=>({dispatch:e}))}function dV(r){return r?typeof r=="function"?Rj(r):PE(r,"mapStateToProps"):e_(()=>({}))}function cV(r,e,t){return{...t,...r,...e}}function uV(r){return function(t,{displayName:n,areMergedPropsEqual:i}){let s=!1,a;return function(l,d,c){const u=r(l,d,c);return s?i(u,a)||(a=u):(s=!0,a=u),a}}}function fV(r){return r?typeof r=="function"?uV(r):PE(r,"mergeProps"):()=>cV}function hV(r){r()}function pV(){let r=null,e=null;return{clear(){r=null,e=null},notify(){hV(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:r=i,function(){!n||r===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var jT={notify(){},get:()=>[]};function Pj(r,e){let t,n=jT,i=0,s=!1;function a(v){c();const b=n.subscribe(v);let y=!1;return()=>{y||(y=!0,b(),u())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function d(){return s}function c(){i++,t||(t=e?e.addNestedSub(l):r.subscribe(l),n=pV())}function u(){i--,t&&i===0&&(t(),t=void 0,n.clear(),n=jT)}function f(){s||(s=!0,c())}function g(){s&&(s=!1,u())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:d,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>n};return m}var gV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mV=gV(),vV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bV=vV(),yV=()=>mV||bV?w.useLayoutEffect:w.useEffect,$v=yV();function IT(r,e){return r===e?r!==0||e!==0||1/r===1/e:r!==r&&e!==e}function it(r,e){if(IT(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!IT(r[t[i]],e[t[i]]))return!1;return!0}var kV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_V={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},EV={[tV]:wV,[rV]:Nj};function DT(r){return iV(r)?Nj:EV[r.$$typeof]||kV}var xV=Object.defineProperty,SV=Object.getOwnPropertyNames,RT=Object.getOwnPropertySymbols,TV=Object.getOwnPropertyDescriptor,AV=Object.getPrototypeOf,PT=Object.prototype;function t_(r,e){if(typeof e!="string"){if(PT){const s=AV(e);s&&s!==PT&&t_(r,s)}let t=SV(e);RT&&(t=t.concat(RT(e)));const n=DT(r),i=DT(e);for(let s=0;s<t.length;++s){const a=t[s];if(!_V[a]&&!(i&&i[a])&&!(n&&n[a])){const o=TV(e,a);try{xV(r,a,o)}catch{}}}}return r}var jk=Symbol.for("react-redux-context"),Ik=typeof globalThis<"u"?globalThis:{};function OV(){if(!w.createContext)return{};const r=Ik[jk]??(Ik[jk]=new Map);let e=r.get(w.createContext);return e||(e=w.createContext(null),r.set(w.createContext,e)),e}var Oo=OV(),CV=[null,null];function jV(r,e,t){$v(()=>r(...e),t)}function IV(r,e,t,n,i,s){r.current=n,t.current=!1,i.current&&(i.current=null,s())}function DV(r,e,t,n,i,s,a,o,l,d,c){if(!r)return()=>{};let u=!1,f=null;const g=()=>{if(u||!o.current)return;const v=e.getState();let b,y;try{b=n(v,i.current)}catch(k){y=k,f=k}y||(f=null),b===s.current?a.current||d():(s.current=b,l.current=b,a.current=!0,c())};return t.onStateChange=g,t.trySubscribe(),g(),()=>{if(u=!0,t.tryUnsubscribe(),t.onStateChange=null,f)throw f}}function RV(r,e){return r===e}function PV(r,e,t,{pure:n,areStatesEqual:i=RV,areOwnPropsEqual:s=it,areStatePropsEqual:a=it,areMergedPropsEqual:o=it,forwardRef:l=!1,context:d=Oo}={}){const c=d,u=dV(r),f=lV(e),g=fV(t),m=!!r;return b=>{const y=b.displayName||b.name||"Component",k=`Connect(${y})`,_={shouldHandleStateChanges:m,displayName:k,wrappedComponentName:y,WrappedComponent:b,initMapStateToProps:u,initMapDispatchToProps:f,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:s,areMergedPropsEqual:o};function E(T){const[C,D,R]=w.useMemo(()=>{const{reactReduxForwardedRef:xe,...Te}=T;return[T.context,xe,Te]},[T]),L=w.useMemo(()=>{let xe=c;return C!=null&&C.Consumer,xe},[C,c]),P=w.useContext(L),F=!!T.store&&!!T.store.getState&&!!T.store.dispatch,H=!!P&&!!P.store,N=F?T.store:P.store,z=H?P.getServerState:N.getState,G=w.useMemo(()=>aV(N.dispatch,_),[N]),[Y,W]=w.useMemo(()=>{if(!m)return CV;const xe=Pj(N,F?void 0:P.subscription),Te=xe.notifyNestedSubs.bind(xe);return[xe,Te]},[N,F,P]),ue=w.useMemo(()=>F?P:{...P,subscription:Y},[F,P,Y]),M=w.useRef(void 0),K=w.useRef(R),$=w.useRef(void 0),J=w.useRef(!1),ne=w.useRef(!1),fe=w.useRef(void 0);$v(()=>(ne.current=!0,()=>{ne.current=!1}),[]);const ae=w.useMemo(()=>()=>$.current&&R===K.current?$.current:G(N.getState(),R),[N,R]),Fe=w.useMemo(()=>Te=>Y?DV(m,N,Y,G,K,M,J,ne,$,W,Te):()=>{},[Y]);jV(IV,[K,M,J,R,$,W]);let ee;try{ee=w.useSyncExternalStore(Fe,ae,z?()=>G(z(),R):ae)}catch(xe){throw fe.current&&(xe.message+=`
The error may be correlated with this previous error:
${fe.current.stack}

`),xe}$v(()=>{fe.current=void 0,$.current=void 0,M.current=ee});const le=w.useMemo(()=>w.createElement(b,{...ee,ref:D}),[D,b,ee]);return w.useMemo(()=>m?w.createElement(L.Provider,{value:ue},le):le,[L,le,ue])}const O=w.memo(E);if(O.WrappedComponent=b,O.displayName=E.displayName=k,l){const C=w.forwardRef(function(R,L){return w.createElement(O,{...R,reactReduxForwardedRef:L})});return C.displayName=k,C.WrappedComponent=b,t_(C,b)}return t_(O,b)}}var NV=PV;function MV(r){const{children:e,context:t,serverState:n,store:i}=r,s=w.useMemo(()=>{const l=Pj(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),a=w.useMemo(()=>i.getState(),[i]);$v(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||Oo;return w.createElement(o.Provider,{value:s},e)}var LV=MV;function NE(r=Oo){return function(){return w.useContext(r)}}var Mj=NE();function Lj(r=Oo){const e=r===Oo?Mj:NE(r),t=()=>{const{store:n}=e();return n};return Object.assign(t,{withTypes:()=>t}),t}var FV=Lj();function VV(r=Oo){const e=r===Oo?FV:Lj(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var HV=VV(),UV=(r,e)=>r===e;function BV(r=Oo){const e=r===Oo?Mj:NE(r),t=(n,i={})=>{const{equalityFn:s=UV}=typeof i=="function"?{equalityFn:i}:i,a=e(),{store:o,subscription:l,getServerState:d}=a;w.useRef(!0);const c=w.useCallback({[n.name](f){return n(f)}}[n.name],[n]),u=$8.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,d||o.getState,c,s);return w.useDebugValue(u),u};return Object.assign(t,{withTypes:()=>t}),t}var Z=BV();const $t=HV;function ME(r,e){const t=w.useCallback(n=>{if(n&&"detail"in n)return e(n)},[e]);w.useEffect(()=>(window.addEventListener(r,t),()=>window.removeEventListener(r,t)),[t,r])}function bn(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var $V=typeof Symbol=="function"&&Symbol.observable||"@@observable",NT=$V,Dk=()=>Math.random().toString(36).substring(7).split("").join("."),zV={INIT:`@@redux/INIT${Dk()}`,REPLACE:`@@redux/REPLACE${Dk()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dk()}`},zv=zV;function LE(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function Fj(r,e,t){if(typeof r!="function")throw new Error(bn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(bn(1));return t(Fj)(r,e)}let n=r,i=e,s=new Map,a=s,o=0,l=!1;function d(){a===s&&(a=new Map,s.forEach((b,y)=>{a.set(y,b)}))}function c(){if(l)throw new Error(bn(3));return i}function u(b){if(typeof b!="function")throw new Error(bn(4));if(l)throw new Error(bn(5));let y=!0;d();const k=o++;return a.set(k,b),function(){if(y){if(l)throw new Error(bn(6));y=!1,d(),a.delete(k),s=null}}}function f(b){if(!LE(b))throw new Error(bn(7));if(typeof b.type>"u")throw new Error(bn(8));if(typeof b.type!="string")throw new Error(bn(17));if(l)throw new Error(bn(9));try{l=!0,i=n(i,b)}finally{l=!1}return(s=a).forEach(k=>{k()}),b}function g(b){if(typeof b!="function")throw new Error(bn(10));n=b,f({type:zv.REPLACE})}function m(){const b=u;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(bn(11));function k(){const E=y;E.next&&E.next(c())}return k(),{unsubscribe:b(k)}},[NT](){return this}}}return f({type:zv.INIT}),{dispatch:f,subscribe:u,getState:c,replaceReducer:g,[NT]:m}}function WV(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:zv.INIT})>"u")throw new Error(bn(12));if(typeof t(void 0,{type:zv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bn(13))})}function r_(r){const e=Object.keys(r),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof r[a]=="function"&&(t[a]=r[a])}const n=Object.keys(t);let i;try{WV(t)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const d={};for(let c=0;c<n.length;c++){const u=n[c],f=t[u],g=a[u],m=f(g,o);if(typeof m>"u")throw o&&o.type,new Error(bn(14));d[u]=m,l=l||m!==g}return l=l||n.length!==Object.keys(a).length,l?d:a}}function Wv(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function KV(...r){return e=>(t,n)=>{const i=e(t,n);let s=()=>{throw new Error(bn(15))};const a={getState:i.getState,dispatch:(l,...d)=>s(l,...d)},o=r.map(l=>l(a));return s=Wv(...o)(i.dispatch),{...i,dispatch:s}}}function Vj(r){return LE(r)&&"type"in r&&typeof r.type=="string"}var Hj=Symbol.for("immer-nothing"),MT=Symbol.for("immer-draftable"),Fi=Symbol.for("immer-state");function Is(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Kf=Object.getPrototypeOf;function Ta(r){return!!r&&!!r[Fi]}function Co(r){var e;return r?Uj(r)||Array.isArray(r)||!!r[MT]||!!((e=r.constructor)!=null&&e[MT])||ny(r)||iy(r):!1}var GV=Object.prototype.constructor.toString();function Uj(r){if(!r||typeof r!="object")return!1;const e=Kf(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===GV}function Kv(r,e){ry(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function ry(r){const e=r[Fi];return e?e.type_:Array.isArray(r)?1:ny(r)?2:iy(r)?3:0}function n_(r,e){return ry(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function Bj(r,e,t){const n=ry(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function qV(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function ny(r){return r instanceof Map}function iy(r){return r instanceof Set}function ad(r){return r.copy_||r.base_}function i_(r,e){if(ny(r))return new Map(r);if(iy(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=Uj(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[Fi];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:r[a]})}return Object.create(Kf(r),n)}else{const n=Kf(r);if(n!==null&&t)return{...r};const i=Object.create(n);return Object.assign(i,r)}}function FE(r,e=!1){return sy(r)||Ta(r)||!Co(r)||(ry(r)>1&&(r.set=r.add=r.clear=r.delete=YV),Object.freeze(r),e&&Object.entries(r).forEach(([t,n])=>FE(n,!0))),r}function YV(){Is(2)}function sy(r){return Object.isFrozen(r)}var XV={};function Sc(r){const e=XV[r];return e||Is(0,r),e}var vp;function $j(){return vp}function ZV(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function LT(r,e){e&&(Sc("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function s_(r){a_(r),r.drafts_.forEach(JV),r.drafts_=null}function a_(r){r===vp&&(vp=r.parent_)}function FT(r){return vp=ZV(vp,r)}function JV(r){const e=r[Fi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function VT(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Fi].modified_&&(s_(e),Is(4)),Co(r)&&(r=Gv(e,r),e.parent_||qv(e,r)),e.patches_&&Sc("Patches").generateReplacementPatches_(t[Fi].base_,r,e.patches_,e.inversePatches_)):r=Gv(e,t,[]),s_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==Hj?r:void 0}function Gv(r,e,t){if(sy(e))return e;const n=e[Fi];if(!n)return Kv(e,(i,s)=>HT(r,n,e,i,s,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return qv(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Kv(s,(o,l)=>HT(r,n,i,o,l,t,a)),qv(r,i,!1),t&&r.patches_&&Sc("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function HT(r,e,t,n,i,s,a){if(Ta(i)){const o=s&&e&&e.type_!==3&&!n_(e.assigned_,n)?s.concat(n):void 0,l=Gv(r,i,o);if(Bj(t,n,l),Ta(l))r.canAutoFreeze_=!1;else return}else a&&t.add(i);if(Co(i)&&!sy(i)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Gv(r,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&qv(r,i)}}function qv(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&FE(e,t)}function QV(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:$j(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=VE;t&&(i=[n],s=bp);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var VE={get(r,e){if(e===Fi)return r;const t=ad(r);if(!n_(t,e))return eH(r,t,e);const n=t[e];return r.finalized_||!Co(n)?n:n===Rk(r.base_,e)?(Pk(r),r.copy_[e]=l_(n,r)):n},has(r,e){return e in ad(r)},ownKeys(r){return Reflect.ownKeys(ad(r))},set(r,e,t){const n=zj(ad(r),e);if(n!=null&&n.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=Rk(ad(r),e),s=i==null?void 0:i[Fi];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(qV(t,i)&&(t!==void 0||n_(r.base_,e)))return!0;Pk(r),o_(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return Rk(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,Pk(r),o_(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=ad(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){Is(11)},getPrototypeOf(r){return Kf(r.base_)},setPrototypeOf(){Is(12)}},bp={};Kv(VE,(r,e)=>{bp[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});bp.deleteProperty=function(r,e){return bp.set.call(this,r,e,void 0)};bp.set=function(r,e,t){return VE.set.call(this,r[0],e,t,r[0])};function Rk(r,e){const t=r[Fi];return(t?ad(t):r)[e]}function eH(r,e,t){var i;const n=zj(e,t);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(r.draft_):void 0}function zj(r,e){if(!(e in r))return;let t=Kf(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Kf(t)}}function o_(r){r.modified_||(r.modified_=!0,r.parent_&&o_(r.parent_))}function Pk(r){r.copy_||(r.copy_=i_(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var tH=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...d){return a.produce(l,c=>t.call(this,c,...d))}}typeof t!="function"&&Is(6),n!==void 0&&typeof n!="function"&&Is(7);let i;if(Co(e)){const s=FT(this),a=l_(e,void 0);let o=!0;try{i=t(a),o=!1}finally{o?s_(s):a_(s)}return LT(s,n),VT(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===Hj&&(i=void 0),this.autoFreeze_&&FE(i,!0),n){const s=[],a=[];Sc("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else Is(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,t,(a,o)=>{n=a,i=o}),n,i]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Co(r)||Is(8),Ta(r)&&(r=HE(r));const e=FT(this),t=l_(r,void 0);return t[Fi].isManual_=!0,a_(e),t}finishDraft(r,e){const t=r&&r[Fi];(!t||!t.isManual_)&&Is(9);const{scope_:n}=t;return LT(n,e),VT(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}t>-1&&(e=e.slice(t+1));const n=Sc("Patches").applyPatches_;return Ta(r)?n(r,e):this.produce(r,i=>n(i,e))}};function l_(r,e){const t=ny(r)?Sc("MapSet").proxyMap_(r,e):iy(r)?Sc("MapSet").proxySet_(r,e):QV(r,e);return(e?e.scope_:$j()).drafts_.push(t),t}function HE(r){return Ta(r)||Is(10,r),Wj(r)}function Wj(r){if(!Co(r)||sy(r))return r;const e=r[Fi];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=i_(r,e.scope_.immer_.useStrictShallowCopy_)}else t=i_(r,!0);return Kv(t,(n,i)=>{Bj(t,n,Wj(i))}),e&&(e.finalized_=!1),t}var Vi=new tH,UE=Vi.produce;Vi.produceWithPatches.bind(Vi);Vi.setAutoFreeze.bind(Vi);Vi.setUseStrictShallowCopy.bind(Vi);Vi.applyPatches.bind(Vi);Vi.createDraft.bind(Vi);Vi.finishDraft.bind(Vi);function rH(r,e=`expected a function, instead received ${typeof r}`){if(typeof r!="function")throw new TypeError(e)}function nH(r,e=`expected an object, instead received ${typeof r}`){if(typeof r!="object")throw new TypeError(e)}function iH(r,e="expected all items to be functions, instead received the following types: "){if(!r.every(t=>typeof t=="function")){const t=r.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${t}]`)}}var UT=r=>Array.isArray(r)?r:[r];function sH(r){const e=Array.isArray(r[0])?r[0]:r;return iH(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function aH(r,e){const t=[],{length:n}=r;for(let i=0;i<n;i++)t.push(r[i].apply(null,e));return t}var oH=class{constructor(r){this.value=r}deref(){return this.value}},lH=typeof WeakRef<"u"?WeakRef:oH,dH=0,BT=1;function wm(){return{s:dH,v:void 0,o:null,p:null}}function BE(r,e={}){let t=wm();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var u;let o=t;const{length:l}=arguments;for(let f=0,g=l;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const b=v.get(m);b===void 0?(o=wm(),v.set(m,o)):o=b}else{let v=o.p;v===null&&(o.p=v=new Map);const b=v.get(m);b===void 0?(o=wm(),v.set(m,o)):o=b}}const d=o;let c;if(o.s===BT)c=o.v;else if(c=r.apply(null,arguments),s++,n){const f=((u=i==null?void 0:i.deref)==null?void 0:u.call(i))??i;f!=null&&n(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new lH(c):c}return d.s=BT,d.v=c,c}return a.clearCache=()=>{t=wm(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Kj(r,...e){const t=typeof r=="function"?{memoize:r,memoizeOptions:e}:r,n=(...i)=>{let s=0,a=0,o,l={},d=i.pop();typeof d=="object"&&(l=d,d=i.pop()),rH(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const c={...t,...l},{memoize:u,memoizeOptions:f=[],argsMemoize:g=BE,argsMemoizeOptions:m=[]}=c,v=UT(f),b=UT(m),y=sH(i),k=u(function(){return s++,d.apply(null,arguments)},...v),_=g(function(){a++;const S=aH(y,arguments);return o=k.apply(null,S),o},...b);return Object.assign(_,{resultFunc:d,memoizedResultFunc:k,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:u,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var xt=Kj(BE),cH=Object.assign((r,e=xt)=>{nH(r,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof r}`);const t=Object.keys(r),n=t.map(s=>r[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>cH});function Gj(r){return({dispatch:t,getState:n})=>i=>s=>typeof s=="function"?s(t,n,r):i(s)}var uH=Gj(),fH=Gj,hH=(...r)=>{const e=Kj(...r),t=Object.assign((...n)=>{const i=e(...n),s=(a,...o)=>i(Ta(a)?HE(a):a,...o);return Object.assign(s,i),s},{withTypes:()=>t});return t},pH=hH(BE),gH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wv:Wv.apply(null,arguments)},mH=r=>r&&typeof r.match=="function";function ip(r,e){function t(...n){if(e){let i=e(...n);if(!i)throw new Error(ko(0));return{type:r,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>Vj(n)&&n.type===r,t}function vH(r){return Vj(r)&&Object.keys(r).every(bH)}function bH(r){return["type","payload","error","meta"].indexOf(r)>-1}var qj=class Fh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Fh.prototype)}static get[Symbol.species](){return Fh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Fh(...e[0].concat(this)):new Fh(...e.concat(this))}};function $T(r){return Co(r)?UE(r,()=>{}):r}function Em(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function yH(r){return typeof r=="boolean"}var kH=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new qj;return t&&(yH(t)?a.push(uH):a.push(fH(t.extraArgument))),a},_H="RTK_autoBatch",zT=r=>e=>{setTimeout(e,r)},wH=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let i=!0,s=!1,a=!1;const o=new Set,l=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zT(10):r.type==="callback"?r.queueNotification:zT(r.timeout),d=()=>{a=!1,s&&(s=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const u=()=>i&&c(),f=n.subscribe(u);return o.add(c),()=>{f(),o.delete(c)}},dispatch(c){var u;try{return i=!((u=c==null?void 0:c.meta)!=null&&u[_H]),s=!i,s&&(a||(a=!0,l(d))),n.dispatch(c)}finally{i=!0}}})},EH=r=>function(t){const{autoBatch:n=!0}=t??{};let i=new qj(r);return n&&i.push(wH(typeof n=="object"?n:void 0)),i};function xH(r){const e=kH(),{reducer:t=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=r||{};let o;if(typeof t=="function")o=t;else if(LE(t))o=r_(t);else throw new Error(ko(1));let l;typeof n=="function"?l=n(e):l=e();let d=Wv;i&&(d=gH({trace:!1,...typeof i=="object"&&i}));const c=KV(...l),u=EH(c);let f=typeof a=="function"?a(u):u();const g=d(...f);return Fj(o,s,g)}function Yj(r){const e={},t=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ko(28));if(o in e)throw new Error(ko(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return r(i),[e,t,n]}function SH(r){return typeof r=="function"}function TH(r,e){let[t,n,i]=Yj(e),s;if(SH(r))s=()=>$T(r());else{const o=$T(r);s=()=>o}function a(o=s(),l){let d=[t[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return d.filter(c=>!!c).length===0&&(d=[i]),d.reduce((c,u)=>{if(u)if(Ta(c)){const g=u(c,l);return g===void 0?c:g}else{if(Co(c))return UE(c,f=>u(f,l));{const f=u(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},o)}return a.getInitialState=s,a}var AH=(r,e)=>mH(r)?r.match(e):r(e);function Ea(...r){return e=>r.some(t=>AH(t,e))}function ay(r,e){if(!r||!r.meta)return!1;const t=typeof r.meta.requestId=="string",n=e.indexOf(r.meta.requestStatus)>-1;return t&&n}function oy(r){return typeof r[0]=="function"&&"pending"in r[0]&&"fulfilled"in r[0]&&"rejected"in r[0]}function Xj(...r){return r.length===0?e=>ay(e,["pending"]):oy(r)?Ea(...r.map(e=>e.pending)):Xj()(r[0])}function ly(...r){return r.length===0?e=>ay(e,["rejected"]):oy(r)?Ea(...r.map(e=>e.rejected)):ly()(r[0])}function Tc(...r){return r.length===0?e=>ay(e,["fulfilled"]):oy(r)?Ea(...r.map(e=>e.fulfilled)):Tc()(r[0])}function Zj(...r){return r.length===0?e=>ay(e,["pending","fulfilled","rejected"]):oy(r)?Ea(...r.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):Zj()(r[0])}var OH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CH=(r=21)=>{let e="",t=r;for(;t--;)e+=OH[Math.random()*64|0];return e},jH=["name","message","stack","code"],Nk=class{constructor(r,e){re(this,"_type");this.payload=r,this.meta=e}},WT=class{constructor(r,e){re(this,"_type");this.payload=r,this.meta=e}},IH=r=>{if(typeof r=="object"&&r!==null){const e={};for(const t of jH)typeof r[t]=="string"&&(e[t]=r[t]);return e}return{message:String(r)}},KT="External signal was aborted",Ct=(()=>{function r(e,t,n){const i=ip(e+"/fulfilled",(l,d,c,u)=>({payload:l,meta:{...u||{},arg:c,requestId:d,requestStatus:"fulfilled"}})),s=ip(e+"/pending",(l,d,c)=>({payload:void 0,meta:{...c||{},arg:d,requestId:l,requestStatus:"pending"}})),a=ip(e+"/rejected",(l,d,c,u,f)=>({payload:u,error:(n&&n.serializeError||IH)(l||"Rejected"),meta:{...f||{},arg:c,requestId:d,rejectedWithValue:!!u,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function o(l,{signal:d}={}){return(c,u,f)=>{const g=n!=null&&n.idGenerator?n.idGenerator(l):CH(),m=new AbortController;let v,b;function y(_){b=_,m.abort()}d&&(d.aborted?y(KT):d.addEventListener("abort",()=>y(KT),{once:!0}));const k=async function(){var S,O;let _;try{let T=(S=n==null?void 0:n.condition)==null?void 0:S.call(n,l,{getState:u,extra:f});if(RH(T)&&(T=await T),T===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((D,R)=>{v=()=>{R({name:"AbortError",message:b||"Aborted"})},m.signal.addEventListener("abort",v)});c(s(g,l,(O=n==null?void 0:n.getPendingMeta)==null?void 0:O.call(n,{requestId:g,arg:l},{getState:u,extra:f}))),_=await Promise.race([C,Promise.resolve(t(l,{dispatch:c,getState:u,extra:f,requestId:g,signal:m.signal,abort:y,rejectWithValue:(D,R)=>new Nk(D,R),fulfillWithValue:(D,R)=>new WT(D,R)})).then(D=>{if(D instanceof Nk)throw D;return D instanceof WT?i(D.payload,g,l,D.meta):i(D,g,l)})])}catch(T){_=T instanceof Nk?a(null,g,l,T.payload,T.meta):a(T,g,l)}finally{v&&m.signal.removeEventListener("abort",v)}return n&&!n.dispatchConditionRejection&&a.match(_)&&_.meta.condition||c(_),_}();return Object.assign(k,{abort:y,requestId:g,arg:l,unwrap(){return k.then(DH)}})}}return Object.assign(o,{pending:s,rejected:a,fulfilled:i,settled:Ea(a,i),typePrefix:e})}return r.withTypes=()=>r,r})();function DH(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function RH(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var PH=Symbol.for("rtk-slice-createasyncthunk");function NH(r,e){return`${r}/${e}`}function MH({creators:r}={}){var t;const e=(t=r==null?void 0:r.asyncThunk)==null?void 0:t[PH];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ko(11));const o=(typeof i.reducers=="function"?i.reducers(FH()):i.reducers)||{},l=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(E,S){const O=typeof E=="string"?E:E.type;if(!O)throw new Error(ko(12));if(O in d.sliceCaseReducersByType)throw new Error(ko(13));return d.sliceCaseReducersByType[O]=S,c},addMatcher(E,S){return d.sliceMatchers.push({matcher:E,reducer:S}),c},exposeAction(E,S){return d.actionCreators[E]=S,c},exposeCaseReducer(E,S){return d.sliceCaseReducersByName[E]=S,c}};l.forEach(E=>{const S=o[E],O={reducerName:E,type:NH(s,E),createNotation:typeof i.reducers=="function"};HH(S)?BH(O,S,c,e):VH(O,S,c)});function u(){const[E={},S=[],O=void 0]=typeof i.extraReducers=="function"?Yj(i.extraReducers):[i.extraReducers],T={...E,...d.sliceCaseReducersByType};return TH(i.initialState,C=>{for(let D in T)C.addCase(D,T[D]);for(let D of d.sliceMatchers)C.addMatcher(D.matcher,D.reducer);for(let D of S)C.addMatcher(D.matcher,D.reducer);O&&C.addDefaultCase(O)})}const f=E=>E,g=new Map,m=new WeakMap;let v;function b(E,S){return v||(v=u()),v(E,S)}function y(){return v||(v=u()),v.getInitialState()}function k(E,S=!1){function O(C){let D=C[E];return typeof D>"u"&&S&&(D=Em(m,O,y)),D}function T(C=f){const D=Em(g,S,()=>new WeakMap);return Em(D,C,()=>{const R={};for(const[L,P]of Object.entries(i.selectors??{}))R[L]=LH(P,C,()=>Em(m,C,y),S);return R})}return{reducerPath:E,getSelectors:T,get selectors(){return T(O)},selectSlice:O}}const _={name:s,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:y,...k(a),injectInto(E,{reducerPath:S,...O}={}){const T=S??a;return E.inject({reducerPath:T,reducer:b},O),{..._,...k(T,!0)}}};return _}}function LH(r,e,t,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=t()),r(o,...a)}return i.unwrapped=r,i}var Wi=MH();function FH(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function VH({type:r,reducerName:e,createNotation:t},n,i){let s,a;if("reducer"in n){if(t&&!UH(n))throw new Error(ko(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(r,s).exposeCaseReducer(e,s).exposeAction(e,a?ip(r,a):ip(r))}function HH(r){return r._reducerDefinitionType==="asyncThunk"}function UH(r){return r._reducerDefinitionType==="reducerWithPrepare"}function BH({type:r,reducerName:e},t,n,i){if(!i)throw new Error(ko(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:d,options:c}=t,u=i(r,s,c);n.exposeAction(e,u),a&&n.addCase(u.fulfilled,a),o&&n.addCase(u.pending,o),l&&n.addCase(u.rejected,l),d&&n.addMatcher(u.settled,d),n.exposeCaseReducer(e,{fulfilled:a||xm,pending:o||xm,rejected:l||xm,settled:d||xm})}function xm(){}function $H(){return{ids:[],entities:{}}}function zH(r){function e(t={},n){const i=Object.assign($H(),t);return n?r.setAll(i,n):i}return{getInitialState:e}}function WH(){function r(e,t={}){const{createSelector:n=pH}=t,i=u=>u.ids,s=u=>u.entities,a=n(i,s,(u,f)=>u.map(g=>f[g])),o=(u,f)=>f,l=(u,f)=>u[f],d=n(i,u=>u.length);if(!e)return{selectIds:i,selectEntities:s,selectAll:a,selectTotal:d,selectById:n(s,o,l)};const c=n(e,s);return{selectIds:n(e,i),selectEntities:c,selectAll:n(e,a),selectTotal:n(e,d),selectById:n(c,o,l)}}return{getSelectors:r}}var KH=Ta;function GH(r){const e=xr((t,n)=>r(n));return function(n){return e(n,void 0)}}function xr(r){return function(t,n){function i(a){return vH(a)}const s=a=>{i(n)?r(n.payload,a):r(n,a)};return KH(t)?(s(t),t):UE(t,s)}}function Iu(r,e){return e(r)}function vc(r){return Array.isArray(r)||(r=Object.values(r)),r}function Wm(r){return Ta(r)?HE(r):r}function Jj(r,e,t){r=vc(r);const n=Wm(t.ids),i=new Set(n),s=[],a=new Set([]),o=[];for(const l of r){const d=Iu(l,e);i.has(d)||a.has(d)?o.push({id:d,changes:l}):(a.add(d),s.push(l))}return[s,o,n]}function Qj(r){function e(m,v){const b=Iu(m,r);b in v.entities||(v.ids.push(b),v.entities[b]=m)}function t(m,v){m=vc(m);for(const b of m)e(b,v)}function n(m,v){const b=Iu(m,r);b in v.entities||v.ids.push(b),v.entities[b]=m}function i(m,v){m=vc(m);for(const b of m)n(b,v)}function s(m,v){m=vc(m),v.ids=[],v.entities={},t(m,v)}function a(m,v){return o([m],v)}function o(m,v){let b=!1;m.forEach(y=>{y in v.entities&&(delete v.entities[y],b=!0)}),b&&(v.ids=v.ids.filter(y=>y in v.entities))}function l(m){Object.assign(m,{ids:[],entities:{}})}function d(m,v,b){const y=b.entities[v.id];if(y===void 0)return!1;const k=Object.assign({},y,v.changes),_=Iu(k,r),E=_!==v.id;return E&&(m[v.id]=_,delete b.entities[v.id]),b.entities[_]=k,E}function c(m,v){return u([m],v)}function u(m,v){const b={},y={};m.forEach(_=>{var E;_.id in v.entities&&(y[_.id]={id:_.id,changes:{...(E=y[_.id])==null?void 0:E.changes,..._.changes}})}),m=Object.values(y),m.length>0&&m.filter(E=>d(b,E,v)).length>0&&(v.ids=Object.values(v.entities).map(E=>Iu(E,r)))}function f(m,v){return g([m],v)}function g(m,v){const[b,y]=Jj(m,r,v);t(b,v),u(y,v)}return{removeAll:GH(l),addOne:xr(e),addMany:xr(t),setOne:xr(n),setMany:xr(i),setAll:xr(s),updateOne:xr(c),updateMany:xr(u),upsertOne:xr(f),upsertMany:xr(g),removeOne:xr(a),removeMany:xr(o)}}function qH(r,e,t){let n=0,i=r.length;for(;n<i;){let s=n+i>>>1;const a=r[s];t(e,a)>=0?n=s+1:i=s}return n}function YH(r,e,t){const n=qH(r,e,t);return r.splice(n,0,e),r}function XH(r,e){const{removeOne:t,removeMany:n,removeAll:i}=Qj(r);function s(b,y){return a([b],y)}function a(b,y,k){b=vc(b);const _=new Set(k??Wm(y.ids)),E=b.filter(S=>!_.has(Iu(S,r)));E.length!==0&&v(y,E)}function o(b,y){return l([b],y)}function l(b,y){if(b=vc(b),b.length!==0){for(const k of b)delete y.entities[r(k)];v(y,b)}}function d(b,y){b=vc(b),y.entities={},y.ids=[],a(b,y,[])}function c(b,y){return u([b],y)}function u(b,y){let k=!1,_=!1;for(let E of b){const S=y.entities[E.id];if(!S)continue;k=!0,Object.assign(S,E.changes);const O=r(S);if(E.id!==O){_=!0,delete y.entities[E.id];const T=y.ids.indexOf(E.id);y.ids[T]=O,y.entities[O]=S}}k&&v(y,[],k,_)}function f(b,y){return g([b],y)}function g(b,y){const[k,_,E]=Jj(b,r,y);k.length&&a(k,y,E),_.length&&u(_,y)}function m(b,y){if(b.length!==y.length)return!1;for(let k=0;k<b.length;k++)if(b[k]!==y[k])return!1;return!0}const v=(b,y,k,_)=>{const E=Wm(b.entities),S=Wm(b.ids),O=b.entities;let T=S;_&&(T=new Set(S));let C=[];for(const L of T){const P=E[L];P&&C.push(P)}const D=C.length===0;for(const L of y)O[r(L)]=L,D||YH(C,L,e);D?C=y.slice().sort(e):k&&C.sort(e);const R=C.map(r);m(S,R)||(b.ids=R)};return{removeOne:t,removeMany:n,removeAll:i,addOne:xr(s),updateOne:xr(c),upsertOne:xr(f),setOne:xr(o),setMany:xr(l),setAll:xr(d),addMany:xr(a),updateMany:xr(u),upsertMany:xr(g)}}function e2(r={}){const{selectId:e,sortComparer:t}={sortComparer:!1,selectId:a=>a.id,...r},n=t?XH(e,t):Qj(e),i=zH(n),s=WH();return{selectId:e,sortComparer:t,...i,...s,...n}}function ko(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const ZH=r=>{if(r.length<2)return r;const e=r.replace("https://","").replace("http://","").split("/");return e.length===1?"/":[...e.slice(1)].join("/")};ZH("https://aktivitetsplan.ekstern.dev.nav.no");const Mo=r=>"",JH=Mo()+"/veilarbdialog/api",Zr=Mo()+"/veilarbaktivitet/api",t2=Mo()+"/veilarbaktivitet/graphql",QH=Mo()+"/veilarbdialog/graphql",Yl=Mo()+"/veilarboppfolging/api",r2=Mo()+"/veilarblest/api",n2=Mo()+"/veilarbperson/api",eU=Mo()+"/veilarbveileder/api",tU=Mo()+"/modiacontextholder/api";var Km=(r=>(r.Local="local",r.Dev="dev",r.Prod="prod",r))(Km||{});const rU=()=>{const{hostname:r}=window.location;return r.includes("dev.nav.no")?"dev":r.includes("nav.no")?"prod":"local"},dy={credentials:"same-origin"},GT={ERROR:5,NOT_STARTED:4,PENDING:3,RELOADING:2,OK:1};function nU(...r){return r.reduce((e,t)=>GT[e]>GT[t]?e:t)}async function cy(r){if(r.status>=200&&r.status<300&&r.ok)return r;const e={code:r.status.toString(),message:`${r.url}`,name:`${r.statusText} (${r.status})`};return Promise.reject(e)}function uy(r){return r.status!==204?r.json():r}const iU=r=>{const t=new RegExp(`${r}=([^;]+)`).exec(document.cookie);return t!==null?t[1]:""},i2={"Content-Type":"application/json",NAV_CSRF_PROTECTION:iU("NAV_CSRF_PROTECTION"),"Nav-Consumer-Id":"aktivitetsplan"};function rh(r,e={headers:i2,method:"get"}){const t={...dy,...e};return fetch(r,t).then(cy).then(uy)}function s2(r,e,t,n){return rh(e,{method:r,headers:i2,body:Object.keys(t).length===0?void 0:JSON.stringify(t),...n})}function Hn(r,e={},t={}){return s2("post",r,e,t)}function fs(r,e={},t={}){return s2("put",r,e,t)}const sU=(r,e)=>Hn(`${Zr}/aktivitet/${e}/ny`,r),aU=r=>fs(`${Zr}/aktivitet/${r.id}`,r),oU=()=>Hn(`${Zr}/innsynsrett`,{fnr:Vs(Hs.FNR)}),a2=(r,e,t)=>fs(`${Zr}/avtaltMedNav?aktivitetId=${r}`,{aktivitetVersjon:e,forhaandsorientering:t}),o2=(r,e)=>fs(`${Zr}/avtaltMedNav/lest`,{aktivitetId:r,aktivitetVersion:e}),lU=(r,e,t,n)=>fs(`${Zr}/stillingFraNav/kanDeleCV?aktivitetId=${r}`,{aktivitetVersjon:e,kanDeles:t,avtaltDato:n}),dU=r=>fs(`${Zr}/aktivitet/${r.id}/status`,r),cU=r=>fs(`${Zr}/aktivitet/${r.id}/etikett`,r),uU=r=>fs(`${Zr}/aktivitet/${r.id}/referat/publiser`,r),fU=r=>fs(`${Zr}/aktivitet/${r.id}/referat`,r),hU=r=>rh(`${Zr}/aktivitet/${r.id}/versjoner`),pU=(r,e,t)=>fs(`${Zr}/stillingFraNav/soknadStatus?aktivitetId=${r}`,{aktivitetVersjon:e,soknadsstatus:t}),gU=()=>Hn(`${Zr}/arena/tiltak`,{fnr:Vs(Hs.FNR)}),mU=({arenaaktivitetId:r,oppfolgingsPeriodeId:e,forhaandsorientering:t})=>fs(`${Zr}/arena/${e}/forhaandsorientering?arenaaktivitetId=${r}`,t),vU=r=>fs(`${Zr}/arena/forhaandsorientering/lest?aktivitetId=${r}`),bU=(r,e,t)=>Hn(`${Zr}/arkivering/journalfor?oppfolgingsperiodeId=${r}`,{forhaandsvisningOpprettet:e,journalforendeEnhet:t}),yU=(r,e)=>rh(`${Zr}/arkivering/forhaandsvisning?oppfolgingsperiodeId=${r}&journalforendeEnhet=${e}`),$E=r=>{var e;return(((e=r==null?void 0:r.errors)==null?void 0:e.length)||0)!=0?Promise.reject("Kunne ikke hente aktiviteter"):Promise.resolve(r)},l2=`
    id,
    funksjonellId,
    versjon,
    tittel,
    beskrivelse,
    lenke,
    type,
    status,
    fraDato,
    tilDato,
    opprettetDato,
    endretDato,
    endretAv,
    historisk,
    avsluttetKommentar,
    avtalt,
    forhaandsorientering {
        id,
        type,
        tekst,
        lestDato,
    }
    endretAvType,
    transaksjonsType,
    malid,
    oppfolgingsperiodeId,

    #   stillingaktivitet
    etikett,
    kontaktperson,
    arbeidsgiver,
    arbeidssted,
    stillingsTittel,

    #    // egenaktivitet
    hensikt,
    oppfolging,

    #    //sokeAvtaleAktivitet
    antallStillingerSokes,
    antallStillingerIUken,
    avtaleOppfolging,

    #    //iJobbAktivitet
    jobbStatus,
    ansettelsesforhold,
    arbeidstid,

    #    //behandlingAktivitet
    behandlingType,
    behandlingSted,
    effekt,
    behandlingOppfolging,

    #    //møte
    adresse,
    forberedelser,
    kanal,
    referat,
    erReferatPublisert,

    stillingFraNavData {
        cvKanDelesData {
            kanDeles,
            endretTidspunkt,
            endretAv,
            endretAvType,
            avtaltDato,
        }
        soknadsfrist,
        svarfrist,
        arbeidsgiver,
        bestillingsId,
        stillingsId,
        arbeidssted,
        kontaktpersonData {
            navn,
            tittel,
            mobil,
        }
        soknadsstatus,
        livslopsStatus,
        varselId,
        detaljer,
    }

    eksternAktivitet {
        type,
        oppgave {
            ekstern {
                subtekst,
                tekst,
                url
            }
            intern {
                subtekst,
                tekst,
                url
            }
        }
        handlinger {
            url,
            tekst,
            subtekst,
            lenkeType
        }
        detaljer {
            label,
            verdi
        }
        etiketter {
            tekst,
            kode,
            sentiment
        }
    }
`,kU=`
    query($fnr: String!) {
        perioder(fnr: $fnr) {
            id,
            start,
            slutt,
            aktiviteter {
                ${l2}
            },
        }
    }
`,_U=`
    query($aktivitetId: String!) {
        eier(aktivitetId: $aktivitetId) {
            fnr
        },
        aktivitet(aktivitetId: $aktivitetId) {
            ${l2}
            historikk {
                endringer {
                    endretAvType,
                    endretAv,
                    tidspunkt,
                    beskrivelseForVeileder,
                    beskrivelseForBruker,
                }
            }
        }

    }
`,wU=r=>({query:kU,variables:{fnr:r}}),EU=r=>({query:_U,variables:{aktivitetId:r}}),xU=async()=>{const r=Vs(Hs.FNR)||"";return fetch(t2,{...dy,method:"POST",headers:{"Content-Type":"application/json","Nav-Consumer-Id":"aktivitetsplan"},body:JSON.stringify(wU(r))}).then(cy).then(uy).then($E)},SU=r=>fetch(t2,{...dy,method:"POST",headers:{"Content-Type":"application/json","Nav-Consumer-Id":"aktivitetsplan"},body:JSON.stringify(EU(r))}).then(cy).then(uy).then($E).then(e=>({...e,data:{aktivitet:{...e.data.aktivitet,id:r},eier:{fnr:e.data.eier.fnr}}})),nh=r=>{const{historikk:e,...t}=r;return t},Rl=Ct("aktiviteter/hent",async()=>await xU()),yp=Ct("aktivitet/hent",async r=>await SU(r)),ih=Ct("aktivitet-etikett/oppdater",async r=>await cU(nh(r))),fy=Ct("aktivitet/oppdater",async r=>await aU(nh(r))),sh=Ct("aktivitet/fho",async({aktivitet:r,forhaandsorientering:e})=>await a2(r.id,r.versjon,e)),hy=Ct("aktivitet/fho/lest",async r=>await o2(r.id,r.versjon)),$s=Ct("aktivitet/flytt",async({aktivitet:r,status:e})=>await dU({...nh(r),status:e}));function TU(r,e,t){const n={...r,avsluttetKommentar:t};return $s({aktivitet:n,status:e})}function AU(r,e){const t={...r,avsluttetKommentar:e};return $s({aktivitet:t,status:Le.AVBRUTT})}function OU(r,e){const t={...r,avsluttetKommentar:e};return $s({aktivitet:t,status:Le.FULLFOERT})}const py=Ct("aktivitet/oppdaterCvSvar",async({aktivitetId:r,aktivitetVersjon:e,kanDeles:t,avtaltDato:n})=>await lU(r,e,t,n)),ah=Ct("aktivitet-stilling-fra-nav-status/oppdater",async({aktivitetId:r,aktivitetVersjon:e,soknadsstatus:t})=>await pU(r,e,t)),gy=Ct("aktivitet/opprett",async r=>await sU(r.aktivitet,r.oppfolgingsPeriodeId)),Gf=Ct("referat/oppdater",async r=>await fU(nh(r))),Xc=Ct("referat/publiser",async r=>await uU({...nh(r),erReferatPublisert:!0}));var oe=(r=>(r.NOT_STARTED="NOT_STARTED",r.PENDING="PENDING",r.OK="OK",r.RELOADING="RELOADING",r.ERROR="ERROR",r))(oe||{});const Xl=({name:r,initialState:e={status:"NOT_STARTED"},reducers:t})=>Wi({name:r,initialState:e,reducers:{...t},extraReducers:n=>{n.addMatcher(i=>i.type.startsWith(`${r}/`)&&i.type.endsWith("/pending"),i=>{i.status=i.status==="NOT_STARTED"?"PENDING":"RELOADING"}),n.addMatcher(i=>i.type.startsWith(`${r}/`)&&i.type.endsWith("/fulfilled"),(i,s)=>{i.data=s.payload||e.data,i.status="OK"}),n.addMatcher(i=>i.type.startsWith(`${r}/`)&&i.type.endsWith("/rejected"),i=>{i.status="ERROR"})}}),CU=`
    query($fnr: String!, $bareMedAktiviteter: Boolean) {
        dialoger(fnr: $fnr, bareMedAktiviteter: $bareMedAktiviteter) {
            id,
            aktivitetId,
            overskrift,
            oppfolgingsperiode,
            opprettetDato,
            egenskaper,
            lest,
            sisteDato,
            henvendelser {
                id,
                lest,
                avsender,
                avsenderId,
                dialogId,
                sendt,
                tekst
            }
        }
        stansVarsel(fnr: $fnr) {
            id,
            tilhorendeDialogId,
            opprettetAv,
            opprettetDato,
            opprettetBegrunnelse
        }
    }
`,jU=r=>({query:CU,variables:{fnr:r,bareMedAktiviteter:!1}}),IU=async()=>{const r=Vs(Hs.FNR)||"";return fetch(QH,{...dy,method:"POST",headers:{"Content-Type":"application/json","Nav-Consumer-Id":"aktivitetsplan"},body:JSON.stringify(jU(r))}).then(cy).then(uy).then($E)},d2=Wi({name:"eskaleringsvarsel",initialState:{data:void 0},reducers:{setForhaandsVarselOmStans(r,e){r.data=e.payload}}}),DU=d2.actions.setForhaandsVarselOmStans,RU=d2.reducer,PU={data:[],status:oe.NOT_STARTED,sistOppdatert:new Date().toISOString()},c2=Wi({name:"dialog",initialState:PU,reducers:{},extraReducers:r=>{r.addCase(Aa.fulfilled,(e,t)=>{e.data=t.payload.data.dialoger,e.status=oe.OK,e.sistOppdatert=new Date().toISOString()}),r.addCase(Aa.rejected,(e,t)=>{e.status=oe.ERROR})}}),Aa=Ct(`${c2.name}/fetchDialoger`,async(r,e)=>{var n;const t=await IU();return(n=t==null?void 0:t.data)!=null&&n.stansVarsel&&e.dispatch(DU(t.data.stansVarsel)),t}),NU=c2.reducer,MU=()=>rh(`${Yl}/v3/oppfolging/me`),LU=r=>Hn(`${Yl}/v3/oppfolging/settDigital`,r?{fnr:r}:void 0),FU=r=>Hn(`${Yl}/v3/oppfolging/hent-status`,r?{fnr:r}:void 0),VU=r=>Hn(`${Yl}/v3/hent-maal`,r?{fnr:r}:void 0),HU=r=>Hn(`${Yl}/v3/maal/hent-alle`,r?{fnr:r}:void 0),UU=(r,e)=>Hn(`${Yl}/v3/maal`,{maalInnhold:{maal:r},fnr:e}),BU=r=>Hn(`${Yl}/v3/oppfolging/harFlereAktorIderMedOppfolging`,r?{fnr:r}:void 0),$U=r=>Hn(`${Yl}/v3/veileder/lest-aktivitetsplan`,{fnr:r}),zE=Xl({name:"oppfolging",initialState:{data:void 0,status:oe.NOT_STARTED},reducers:{}}),my=Ct(`${zE.name}/fetchOppfolging`,async()=>{const r=Vs(Hs.FNR);return await FU(r??void 0)}),zU=Ct(`${zE.name}/settDigital`,async()=>{const r=Vs(Hs.FNR);return await LU(r??void 0)}),WU=zE.reducer;var vd=(r=>(r.Dialog="DIALOG",r.Oppfolging="OPPFOLGING",r.Aktivitet="AKTIVITET",r))(vd||{});const u2="uppdate";function Du(r){window.dispatchEvent(new CustomEvent(u2,{detail:{uppdate:r,avsender:"aktivitetsplan"}}))}function KU(){const r=$t();return ME(u2,e=>{const t=e.detail.uppdate;if(e.detail.avsender!=="aktivitetsplan")switch(t){case"AKTIVITET":return r(Rl());case"DIALOG":return r(Aa());case"OPPFOLGING":return r(my())}}),p.jsx(p.Fragment,{})}const f2=w.createContext({dragDropManager:void 0});function qi(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}var qT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),YT=function(){return Math.random().toString(36).substring(7).split("").join(".")},XT={INIT:"@@redux/INIT"+YT(),REPLACE:"@@redux/REPLACE"+YT()};function GU(r){if(typeof r!="object"||r===null)return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function h2(r,e,t){var n;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(qi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(qi(1));return t(h2)(r,e)}if(typeof r!="function")throw new Error(qi(2));var i=r,s=e,a=[],o=a,l=!1;function d(){o===a&&(o=a.slice())}function c(){if(l)throw new Error(qi(3));return s}function u(v){if(typeof v!="function")throw new Error(qi(4));if(l)throw new Error(qi(5));var b=!0;return d(),o.push(v),function(){if(b){if(l)throw new Error(qi(6));b=!1,d();var k=o.indexOf(v);o.splice(k,1),a=null}}}function f(v){if(!GU(v))throw new Error(qi(7));if(typeof v.type>"u")throw new Error(qi(8));if(l)throw new Error(qi(9));try{l=!0,s=i(s,v)}finally{l=!1}for(var b=a=o,y=0;y<b.length;y++){var k=b[y];k()}return v}function g(v){if(typeof v!="function")throw new Error(qi(10));i=v,f({type:XT.REPLACE})}function m(){var v,b=u;return v={subscribe:function(k){if(typeof k!="object"||k===null)throw new Error(qi(11));function _(){k.next&&k.next(c())}_();var E=b(_);return{unsubscribe:E}}},v[qT]=function(){return this},v}return f({type:XT.INIT}),n={dispatch:f,subscribe:u,getState:c,replaceReducer:g},n[qT]=m,n}function rt(r,e,...t){if(qU()&&e===void 0)throw new Error("invariant requires an error message argument");if(!r){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return t[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function qU(){return typeof process<"u"&&!0}function YU(r,e,t){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:t||null,r)}function XU(r,e){return r.filter(t=>t!==e)}function p2(r){return typeof r=="object"}function ZU(r,e){const t=new Map,n=s=>{t.set(s,t.has(s)?t.get(s)+1:1)};r.forEach(n),e.forEach(n);const i=[];return t.forEach((s,a)=>{s===1&&i.push(a)}),i}function JU(r,e){return r.filter(t=>e.indexOf(t)>-1)}const WE="dnd-core/INIT_COORDS",vy="dnd-core/BEGIN_DRAG",KE="dnd-core/PUBLISH_DRAG_SOURCE",by="dnd-core/HOVER",yy="dnd-core/DROP",ky="dnd-core/END_DRAG";function ZT(r,e){return{type:WE,payload:{sourceClientOffset:e||null,clientOffset:r||null}}}const QU={type:WE,payload:{clientOffset:null,sourceClientOffset:null}};function eB(r){return function(t=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:a}=n,o=r.getMonitor(),l=r.getRegistry();r.dispatch(ZT(s)),tB(t,o,l);const d=iB(t,o);if(d==null){r.dispatch(QU);return}let c=null;if(s){if(!a)throw new Error("getSourceClientOffset must be defined");rB(a),c=a(d)}r.dispatch(ZT(s,c));const f=l.getSource(d).beginDrag(o,d);if(f==null)return;nB(f),l.pinSource(d);const g=l.getSourceType(d);return{type:vy,payload:{itemType:g,item:f,sourceId:d,clientOffset:s||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}function tB(r,e,t){rt(!e.isDragging(),"Cannot call beginDrag while dragging."),r.forEach(function(n){rt(t.getSource(n),"Expected sourceIds to be registered.")})}function rB(r){rt(typeof r=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function nB(r){rt(p2(r),"Item must be an object.")}function iB(r,e){let t=null;for(let n=r.length-1;n>=0;n--)if(e.canDragSource(r[n])){t=r[n];break}return t}function sB(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function aB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){sB(r,i,t[i])})}return r}function oB(r){return function(t={}){const n=r.getMonitor(),i=r.getRegistry();lB(n),uB(n).forEach((a,o)=>{const l=dB(a,o,i,n),d={type:yy,payload:{dropResult:aB({},t,l)}};r.dispatch(d)})}}function lB(r){rt(r.isDragging(),"Cannot call drop while not dragging."),rt(!r.didDrop(),"Cannot call drop twice during one drag operation.")}function dB(r,e,t,n){const i=t.getTarget(r);let s=i?i.drop(n,r):void 0;return cB(s),typeof s>"u"&&(s=e===0?{}:n.getDropResult()),s}function cB(r){rt(typeof r>"u"||p2(r),"Drop result must either be an object or undefined.")}function uB(r){const e=r.getTargetIds().filter(r.canDropOnTarget,r);return e.reverse(),e}function fB(r){return function(){const t=r.getMonitor(),n=r.getRegistry();hB(t);const i=t.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(t,i),n.unpinSource()),{type:ky}}}function hB(r){rt(r.isDragging(),"Cannot call endDrag while not dragging.")}function d_(r,e){return e===null?r===null:Array.isArray(r)?r.some(t=>t===e):r===e}function pB(r){return function(t,{clientOffset:n}={}){gB(t);const i=t.slice(0),s=r.getMonitor(),a=r.getRegistry(),o=s.getItemType();return vB(i,a,o),mB(i,s,a),bB(i,s,a),{type:by,payload:{targetIds:i,clientOffset:n||null}}}}function gB(r){rt(Array.isArray(r),"Expected targetIds to be an array.")}function mB(r,e,t){rt(e.isDragging(),"Cannot call hover while not dragging."),rt(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<r.length;n++){const i=r[n];rt(r.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const s=t.getTarget(i);rt(s,"Expected targetIds to be registered.")}}function vB(r,e,t){for(let n=r.length-1;n>=0;n--){const i=r[n],s=e.getTargetType(i);d_(s,t)||r.splice(n,1)}}function bB(r,e,t){r.forEach(function(n){t.getTarget(n).hover(e,n)})}function yB(r){return function(){if(r.getMonitor().isDragging())return{type:KE}}}function kB(r){return{beginDrag:eB(r),publishDragSource:yB(r),hover:pB(r),drop:oB(r),endDrag:fB(r)}}class _B{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function n(s){return(...a)=>{const o=s.apply(e,a);typeof o<"u"&&t(o)}}const i=kB(this);return Object.keys(i).reduce((s,a)=>{const o=i[a];return s[a]=n(o),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function wB(r,e){return{x:r.x+e.x,y:r.y+e.y}}function g2(r,e){return{x:r.x-e.x,y:r.y-e.y}}function EB(r){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:n}=r;return!e||!t||!n?null:g2(wB(e,n),t)}function xB(r){const{clientOffset:e,initialClientOffset:t}=r;return!e||!t?null:g2(e,t)}const sp=[],GE=[];sp.__IS_NONE__=!0;GE.__IS_ALL__=!0;function SB(r,e){return r===sp?!1:r===GE||typeof e>"u"?!0:JU(e,r).length>0}class TB{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;rt(typeof e=="function","listener must be a function."),rt(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const a=this.store.getState(),o=a.stateId;try{o===i||o===i+1&&!SB(a.dirtyHandlerIds,n)||e()}finally{i=o}};return this.store.subscribe(s)}subscribeToOffsetChange(e){rt(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==t&&(t=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return rt(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(rt(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return d_(n,i)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(rt(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();if(s&&!d_(i,s))return!1;const a=this.getTargetIds();if(!a.length)return!1;const o=a.indexOf(e);return n?o===a.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return EB(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return xB(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const JT=typeof global<"u"?global:self,m2=JT.MutationObserver||JT.WebKitMutationObserver;function v2(r){return function(){const t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),r()}}}function AB(r){let e=1;const t=new m2(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const OB=typeof m2=="function"?AB:v2;class CB{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=OB(this.flush),this.requestErrorThrow=v2(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class jB{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class IB{create(e){const t=this.freeTasks,n=t.length?t.pop():new jB(this.onError,i=>t[t.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const b2=new CB,DB=new IB(b2.registerPendingError);function RB(r){b2.enqueueTask(DB.create(r))}const qE="dnd-core/ADD_SOURCE",YE="dnd-core/ADD_TARGET",XE="dnd-core/REMOVE_SOURCE",_y="dnd-core/REMOVE_TARGET";function PB(r){return{type:qE,payload:{sourceId:r}}}function NB(r){return{type:YE,payload:{targetId:r}}}function MB(r){return{type:XE,payload:{sourceId:r}}}function LB(r){return{type:_y,payload:{targetId:r}}}function FB(r){rt(typeof r.canDrag=="function","Expected canDrag to be a function."),rt(typeof r.beginDrag=="function","Expected beginDrag to be a function."),rt(typeof r.endDrag=="function","Expected endDrag to be a function.")}function VB(r){rt(typeof r.canDrop=="function","Expected canDrop to be a function."),rt(typeof r.hover=="function","Expected hover to be a function."),rt(typeof r.drop=="function","Expected beginDrag to be a function.")}function c_(r,e){if(e&&Array.isArray(r)){r.forEach(t=>c_(t,!1));return}rt(typeof r=="string"||typeof r=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var rs;(function(r){r.SOURCE="SOURCE",r.TARGET="TARGET"})(rs||(rs={}));let HB=0;function UB(){return HB++}function BB(r){const e=UB().toString();switch(r){case rs.SOURCE:return`S${e}`;case rs.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${r}`)}}function QT(r){switch(r[0]){case"S":return rs.SOURCE;case"T":return rs.TARGET;default:throw new Error(`Cannot parse handler ID: ${r}`)}}function e1(r,e){const t=r.entries();let n=!1;do{const{done:i,value:[,s]}=t.next();if(s===e)return!0;n=!!i}while(!n);return!1}class $B{addSource(e,t){c_(e),FB(t);const n=this.addHandler(rs.SOURCE,e,t);return this.store.dispatch(PB(n)),n}addTarget(e,t){c_(e,!0),VB(t);const n=this.addHandler(rs.TARGET,e,t);return this.store.dispatch(NB(n)),n}containsHandler(e){return e1(this.dragSources,e)||e1(this.dropTargets,e)}getSource(e,t=!1){return rt(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return rt(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return rt(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return rt(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return QT(e)===rs.SOURCE}isTargetId(e){return QT(e)===rs.TARGET}removeSource(e){rt(this.getSource(e),"Expected an existing source."),this.store.dispatch(MB(e)),RB(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){rt(this.getTarget(e),"Expected an existing target."),this.store.dispatch(LB(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);rt(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){rt(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const i=BB(e);return this.types.set(i,t),e===rs.SOURCE?this.dragSources.set(i,n):e===rs.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const zB=(r,e)=>r===e;function WB(r,e){return!r&&!e?!0:!r||!e?!1:r.x===e.x&&r.y===e.y}function KB(r,e,t=zB){if(r.length!==e.length)return!1;for(let n=0;n<r.length;++n)if(!t(r[n],e[n]))return!1;return!0}function GB(r=sp,e){switch(e.type){case by:break;case qE:case YE:case _y:case XE:return sp;case vy:case KE:case ky:case yy:default:return GE}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,i=ZU(t,n);if(!(i.length>0||!KB(t,n)))return sp;const a=n[n.length-1],o=t[t.length-1];return a!==o&&(a&&i.push(a),o&&i.push(o)),i}function qB(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function YB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){qB(r,i,t[i])})}return r}const t1={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function XB(r=t1,e){const{payload:t}=e;switch(e.type){case WE:case vy:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case by:return WB(r.clientOffset,t.clientOffset)?r:YB({},r,{clientOffset:t.clientOffset});case ky:case yy:return t1;default:return r}}function ZB(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){ZB(r,i,t[i])})}return r}const JB={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function QB(r=JB,e){const{payload:t}=e;switch(e.type){case vy:return hu({},r,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case KE:return hu({},r,{isSourcePublic:!0});case by:return hu({},r,{targetIds:t.targetIds});case _y:return r.targetIds.indexOf(t.targetId)===-1?r:hu({},r,{targetIds:XU(r.targetIds,t.targetId)});case yy:return hu({},r,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case ky:return hu({},r,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return r}}function e$(r=0,e){switch(e.type){case qE:case YE:return r+1;case XE:case _y:return r-1;default:return r}}function t$(r=0){return r+1}function r$(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function n$(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){r$(r,i,t[i])})}return r}function i$(r={},e){return{dirtyHandlerIds:GB(r.dirtyHandlerIds,{type:e.type,payload:n$({},e.payload,{prevTargetIds:YU(r,"dragOperation.targetIds",[])})}),dragOffset:XB(r.dragOffset,e),refCount:e$(r.refCount,e),dragOperation:QB(r.dragOperation,e),stateId:t$(r.stateId)}}function s$(r,e=void 0,t={},n=!1){const i=a$(n),s=new TB(i,new $B(i)),a=new _B(i,s),o=r(a,e,t);return a.receiveBackend(o),a}function a$(r){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return h2(i$,r&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function o$(r,e){if(r==null)return{};var t=l$(r,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function l$(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}let r1=0;const Gm=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var d$=w.memo(function(e){var{children:t}=e,n=o$(e,["children"]);const[i,s]=c$(n);return w.useEffect(()=>{if(s){const a=y2();return++r1,()=>{--r1===0&&(a[Gm]=null)}}},[]),p.jsx(f2.Provider,{value:i,children:t})});function c$(r){if("manager"in r)return[{dragDropManager:r.manager},!1];const e=u$(r.backend,r.context,r.options,r.debugMode),t=!r.context;return[e,t]}function u$(r,e=y2(),t,n){const i=e;return i[Gm]||(i[Gm]={dragDropManager:s$(r,e,t,n)}),i[Gm]}function y2(){return typeof global<"u"?global:window}var Mk,n1;function f$(){return n1||(n1=1,Mk=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){var a=s[i];if(!r(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}),Mk}var h$=f$();const p$=Vb(h$),Ac=typeof window<"u"?w.useLayoutEffect:w.useEffect;function g$(r,e,t){const[n,i]=w.useState(()=>e(r)),s=w.useCallback(()=>{const a=e(r);p$(n,a)||(i(a),t&&t())},[n,r,t]);return Ac(s),[n,s]}function m$(r,e,t){const[n,i]=g$(r,e,t);return Ac(function(){const a=r.getHandlerId();if(a!=null)return r.subscribeToStateChange(i,{handlerIds:[a]})},[r,i]),n}function k2(r,e,t){return m$(e,r||(()=>({})),()=>t.reconnect())}function _2(r,e){const t=[];return typeof r!="function"&&t.push(r),w.useMemo(()=>typeof r=="function"?r():r,t)}function v$(r){return w.useMemo(()=>r.hooks.dragSource(),[r])}function b$(r){return w.useMemo(()=>r.hooks.dragPreview(),[r])}let Lk=!1,Fk=!1;class y${receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){rt(!Lk,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Lk=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Lk=!1}}isDragging(){if(!this.sourceId)return!1;rt(!Fk,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Fk=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Fk=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Vk=!1;class k${receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;rt(!Vk,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Vk=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Vk=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function _$(r,e,t){const n=t.getRegistry(),i=n.addTarget(r,e);return[i,()=>n.removeTarget(i)]}function w$(r,e,t){const n=t.getRegistry(),i=n.addSource(r,e);return[i,()=>n.removeSource(i)]}function u_(r,e,t,n){let i;if(i!==void 0)return!!i;if(r===e)return!0;if(typeof r!="object"||!r||typeof e!="object"||!e)return!1;const s=Object.keys(r),a=Object.keys(e);if(s.length!==a.length)return!1;const o=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<s.length;l++){const d=s[l];if(!o(d))return!1;const c=r[d],u=e[d];if(i=void 0,i===!1||i===void 0&&c!==u)return!1}return!0}function f_(r){return r!==null&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function E$(r){if(typeof r.type=="string")return;const e=r.type.displayName||r.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function x$(r){return(e=null,t=null)=>{if(!w.isValidElement(e)){const s=e;return r(s,t),s}const n=e;return E$(n),S$(n,t?s=>r(s,t):r)}}function w2(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];if(t.endsWith("Ref"))e[t]=r[t];else{const i=x$(n);e[t]=()=>i}}),e}function i1(r,e){typeof r=="function"?r(e):r.current=e}function S$(r,e){const t=r.ref;return rt(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?w.cloneElement(r,{ref:n=>{i1(t,n),i1(e,n)}}):w.cloneElement(r,{ref:e})}class T${receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!u_(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!u_(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=w2({dragSource:(t,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,f_(t)?this.dragSourceRef=t:this.dragSourceNode=t,this.reconnectDragSource()},dragPreview:(t,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,f_(t)?this.dragPreviewRef=t:this.dragPreviewNode=t,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class A${get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!u_(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=w2({dropTarget:(t,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,f_(t)?this.dropTargetRef=t:this.dropTargetNode=t,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function oh(){const{dragDropManager:r}=w.useContext(f2);return rt(r!=null,"Expected drag drop context"),r}function O$(r,e){const t=oh(),n=w.useMemo(()=>new T$(t.getBackend()),[t]);return Ac(()=>(n.dragSourceOptions=r||null,n.reconnect(),()=>n.disconnectDragSource()),[n,r]),Ac(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function C$(){const r=oh();return w.useMemo(()=>new y$(r),[r])}class j${beginDrag(){const e=this.spec,t=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(t):n={},n??null}canDrag(){const e=this.spec,t=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(t):!0}isDragging(e,t){const n=this.spec,i=this.monitor,{isDragging:s}=n;return s?s(i):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:i}=e;i&&i(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function I$(r,e,t){const n=w.useMemo(()=>new j$(r,e,t),[e,t]);return w.useEffect(()=>{n.spec=r},[r]),n}function D$(r){return w.useMemo(()=>{const e=r.type;return rt(e!=null,"spec.type must be defined"),e},[r])}function R$(r,e,t){const n=oh(),i=I$(r,e,t),s=D$(r);Ac(function(){if(s!=null){const[o,l]=w$(s,i,n);return e.receiveHandlerId(o),t.receiveHandlerId(o),l}},[n,e,t,i,s])}function P$(r,e){const t=_2(r);rt(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=C$(),i=O$(t.options,t.previewOptions);return R$(t,n,i),[k2(t.collect,n,i),v$(i),b$(i)]}function N$(r){return w.useMemo(()=>r.hooks.dropTarget(),[r])}function M$(r){const e=oh(),t=w.useMemo(()=>new A$(e.getBackend()),[e]);return Ac(()=>(t.dropTargetOptions=r||null,t.reconnect(),()=>t.disconnectDropTarget()),[r]),t}function L$(){const r=oh();return w.useMemo(()=>new k$(r),[r])}function F$(r){const{accept:e}=r;return w.useMemo(()=>(rt(r.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class V${canDrop(){const e=this.spec,t=this.monitor;return e.canDrop?e.canDrop(t.getItem(),t):!0}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function H$(r,e){const t=w.useMemo(()=>new V$(r,e),[e]);return w.useEffect(()=>{t.spec=r},[r]),t}function U$(r,e,t){const n=oh(),i=H$(r,e),s=F$(r);Ac(function(){const[o,l]=_$(s,i,n);return e.receiveHandlerId(o),t.receiveHandlerId(o),l},[n,e,i,t,s.map(a=>a.toString()).join("|")])}function B$(r,e){const t=_2(r),n=L$(),i=M$(t.options);return U$(t,n,i),[k2(t.collect,n,i),N$(i)]}function E2(r){let e=null;return()=>(e==null&&(e=r()),e)}function $$(r,e){return r.filter(t=>t!==e)}function z$(r,e){const t=new Set,n=s=>t.add(s);r.forEach(n),e.forEach(n);const i=[];return t.forEach(s=>i.push(s)),i}class W${enter(e){const t=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=z$(this.entered.filter(n),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=$$(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class K${initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(t[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const x2="__NATIVE_FILE__",S2="__NATIVE_URL__",T2="__NATIVE_TEXT__",A2="__NATIVE_HTML__",s1=Object.freeze(Object.defineProperty({__proto__:null,FILE:x2,HTML:A2,TEXT:T2,URL:S2},Symbol.toStringTag,{value:"Module"}));function Hk(r,e,t){const n=e.reduce((i,s)=>i||r.getData(s),"");return n??t}const h_={[x2]:{exposeProperties:{files:r=>Array.prototype.slice.call(r.files),items:r=>r.items,dataTransfer:r=>r},matchesTypes:["Files"]},[A2]:{exposeProperties:{html:(r,e)=>Hk(r,e,""),dataTransfer:r=>r},matchesTypes:["Html","text/html"]},[S2]:{exposeProperties:{urls:(r,e)=>Hk(r,e,"").split(`
`),dataTransfer:r=>r},matchesTypes:["Url","text/uri-list"]},[T2]:{exposeProperties:{text:(r,e)=>Hk(r,e,""),dataTransfer:r=>r},matchesTypes:["Text","text/plain"]}};function G$(r,e){const t=h_[r];if(!t)throw new Error(`native type ${r} has no configuration`);const n=new K$(t);return n.loadDataTransfer(e),n}function Uk(r){if(!r)return null;const e=Array.prototype.slice.call(r.types||[]);return Object.keys(h_).filter(t=>{const n=h_[t];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const q$=E2(()=>/firefox/i.test(navigator.userAgent)),O2=E2(()=>!!window.safari);class a1{interpolate(e){const{xs:t,ys:n,c1s:i,c2s:s,c3s:a}=this;let o=t.length-1;if(e===t[o])return n[o];let l=0,d=a.length-1,c;for(;l<=d;){c=Math.floor(.5*(l+d));const g=t[c];if(g<e)l=c+1;else if(g>e)d=c-1;else return n[c]}o=Math.max(0,d);const u=e-t[o],f=u*u;return n[o]+i[o]*u+s[o]*f+a[o]*u*f}constructor(e,t){const{length:n}=e,i=[];for(let g=0;g<n;g++)i.push(g);i.sort((g,m)=>e[g]<e[m]?-1:1);const s=[],a=[];let o,l;for(let g=0;g<n-1;g++)o=e[g+1]-e[g],l=t[g+1]-t[g],s.push(o),a.push(l/o);const d=[a[0]];for(let g=0;g<s.length-1;g++){const m=a[g],v=a[g+1];if(m*v<=0)d.push(0);else{o=s[g];const b=s[g+1],y=o+b;d.push(3*y/((y+b)/m+(y+o)/v))}}d.push(a[a.length-1]);const c=[],u=[];let f;for(let g=0;g<d.length-1;g++){f=a[g];const m=d[g],v=1/s[g],b=m+d[g+1]-f-f;c.push((f-m-b)*v),u.push(b*v*v)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=c,this.c3s=u}}const Y$=1;function C2(r){const e=r.nodeType===Y$?r:r.parentElement;if(!e)return null;const{top:t,left:n}=e.getBoundingClientRect();return{x:n,y:t}}function Sm(r){return{x:r.clientX,y:r.clientY}}function X$(r){var e;return r.nodeName==="IMG"&&(q$()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(r)))}function Z$(r,e,t,n){let i=r?e.width:t,s=r?e.height:n;return O2()&&r&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function J$(r,e,t,n,i){const s=X$(e),o=C2(s?r:e),l={x:t.x-o.x,y:t.y-o.y},{offsetWidth:d,offsetHeight:c}=r,{anchorX:u,anchorY:f}=n,{dragPreviewWidth:g,dragPreviewHeight:m}=Z$(s,e,d,c),v=()=>{let O=new a1([0,.5,1],[l.y,l.y/c*m,l.y+m-c]).interpolate(f);return O2()&&s&&(O+=(window.devicePixelRatio-1)*m),O},b=()=>new a1([0,.5,1],[l.x,l.x/d*g,l.x+g-d]).interpolate(u),{offsetX:y,offsetY:k}=i,_=y===0||y,E=k===0||k;return{x:_?y:b(),y:E?k:v()}}class Q${get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function ez(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function o1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),n.forEach(function(i){ez(r,i,t[i])})}return r}class tz{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const i=a=>this.handleDragStart(a,e),s=a=>this.handleSelectStart(a);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",s),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=a=>this.handleDragEnter(a,e),i=a=>this.handleDragOver(a,e),s=a=>this.handleDrop(a,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",i),t.addEventListener("drop",s),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",i),t.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return o1({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return o1({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(s1).some(t=>s1[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=G$(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&C2(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const a=Sm(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:o}=i,l=Uk(o);if(this.monitor.isDragging()){if(o&&typeof o.setDragImage=="function"){const c=this.monitor.getSourceId(),u=this.sourceNodes.get(c),f=this.sourcePreviewNodes.get(c)||u;if(f){const{anchorX:g,anchorY:m,offsetX:v,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),_=J$(u,f,a,{anchorX:g,anchorY:m},{offsetX:v,offsetY:b});o.setDragImage(f,_.x,_.y)}}try{o==null||o.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(o&&!o.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:o}=i,l=Uk(o);l&&this.beginDragNativeItem(l,o)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:Sm(i)}),s.some(o=>this.monitor.canDropOnTarget(o))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Sm(i),this.scheduleHover(s),(s||[]).some(o=>this.monitor.canDropOnTarget(o))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else Uk(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:Sm(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new Q$(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new W$(this.isNodeInDocument)}}const rz=function(e,t,n){return new tz(e,t,n)},nz=({children:r})=>p.jsx(p.Fragment,{children:r}),iz={dragging:!1,aktivitet:void 0},j2=Wi({name:"drag",initialState:iz,reducers:{startDragging:(r,e)=>{r.dragging=!0,r.aktivitet=e.payload},stopDragging:r=>{r.dragging=!1,r.aktivitet=void 0}}}),sz=r=>r.view.dragAndDrop,I2=r=>sz(r).aktivitet,{startDragging:az,stopDragging:oz}=j2.actions,lz=j2.reducer,dz=r=>Hn(`${tU}/context`,{eventType:"NY_AKTIV_BRUKER",verdi:r}),wy=e2({selectId:r=>r.id}),Ey=e2({selectId:r=>r.id}),{selectById:cz,selectAll:Xg}=Ey.getSelectors(),{selectById:uz,selectAll:ZE}=wy.getSelectors(),Zg=r=>r.data.aktiviteter,fz=(r,e)=>Xg(Zg(r)).map(n=>uz(n.aktiviteter,e)).find(n=>!!n),D2=xt(Zg,r=>Xg(r).flatMap(e=>ZE(e.aktiviteter)).filter(e=>e)||[]),hz=xt(Zg,r=>(Xg(r)||[]).map(t=>({id:t.id,aktiviteter:ZE(t.aktiviteter)}))),pz=Ey.getInitialState({status:oe.NOT_STARTED});function pu(r,e){const t=R2(r,e.oppfolgingsperiodeId);return Ey.upsertOne(r,{id:t.id,aktiviteter:wy.upsertOne(t.aktiviteter,e),start:t.start,slutt:t.slutt})}const R2=(r,e)=>cz(r,e)||{id:e,aktiviteter:wy.getInitialState(),start:"NaN",slutt:void 0},gz=Wi({name:"aktivitet",initialState:pz,reducers:{},extraReducers:r=>{r.addCase(Rl.fulfilled,(e,t)=>{e.status=oe.OK;const n=t.payload.data.perioder.map(i=>{const s=R2(e,i.id);return{id:i.id,aktiviteter:wy.upsertMany(s.aktiviteter,i.aktiviteter),start:i.start,slutt:i.slutt}});Ey.upsertMany(e,n)}),r.addCase(yp.fulfilled,(e,t)=>{const n=t.payload.data.aktivitet,i=t.payload.data.eier;!Xg(e).map(o=>ZE(o.aktiviteter).map(l=>l.id)).flat().includes(n.id)&&(e9(),dz(i.fnr)),pu(e,n)}),r.addCase(gy.fulfilled,(e,t)=>{Du(vd.Aktivitet),pu(e,t.payload)}),r.addCase(hy.fulfilled,(e,t)=>{Du(vd.Aktivitet),pu(e,t.payload)}),r.addCase(sh.fulfilled,(e,t)=>{Du(vd.Aktivitet),pu(e,t.payload)}),r.addMatcher(Ea(py.fulfilled,ih.fulfilled,ah.fulfilled),(e,t)=>pu(e,t.payload)),r.addMatcher(Ea($s.fulfilled,Gf.fulfilled,Xc.fulfilled),(e,t)=>(Du(vd.Aktivitet),pu(e,t.payload))),r.addMatcher(Ea(Rl.rejected,yp.rejected),e=>{e.status=oe.ERROR})}}),mz=gz.reducer,l1={data:[],status:oe.NOT_STARTED},JE=Wi({name:"versjoner",initialState:l1,reducers:{fjernVersjoner:()=>l1},extraReducers:r=>{r.addCase(Bk.pending,e=>{e.status=e.status===oe.NOT_STARTED?oe.PENDING:oe.RELOADING}),r.addCase(Bk.fulfilled,(e,t)=>{e.data=t.payload,e.status=oe.OK}),r.addCase(Bk.rejected,e=>{e.status=oe.ERROR}),r.addMatcher(Ea(ih.fulfilled,fy.fulfilled,ah.fulfilled,Gf.fulfilled,Xc.fulfilled,hy.fulfilled,sh.fulfilled,$s.fulfilled),(e,t)=>e.status===oe.NOT_STARTED?e:{...e,data:[t.payload,...e.data]})}}),Bk=Ct(`${JE.name}/fetchVersjonerForAktivitet`,async r=>await hU(r)),{fjernVersjoner:nce}=JE.actions,vz=JE.reducer,bz={data:[]},P2=Wi({name:"aktivitetsview",initialState:bz,reducers:{settAktivitetSomVist:(r,e)=>{r.data=[...r.data,e.payload]}}}),{settAktivitetSomVist:yz}=P2.actions,kz=P2.reducer,_z={data:[],status:oe.NOT_STARTED},d1=(r,e)=>{const t=r.data.findIndex(i=>i.id===e.id),n=[...r.data];return n[t]=e,{...r,data:n}},xy=Wi({name:"arenaAktivitet",initialState:_z,reducers:{},extraReducers:r=>{r.addCase(Pl.fulfilled,(e,t)=>{e.data=t.payload,e.status=oe.OK}),r.addCase(Pl.rejected,e=>{e.status=oe.ERROR}),r.addCase(N2.fulfilled,(e,t)=>(Du(vd.Aktivitet),d1({...e},t.payload))),r.addCase(M2.fulfilled,(e,t)=>(Du(vd.Aktivitet),d1({...e},t.payload)))}}),Pl=Ct(`${xy.name}/fetchArenaAktiviteter`,async()=>await gU()),wz=["TA","UA","GA","ARENATA","ARENAUA","ARENAGA"],QE=r=>wz.some(e=>r.startsWith(e)),N2=Ct(`${xy.name}/oppdater`,async({arenaAktivitet:r,forhaandsorientering:e,oppfolgingsPeriodeId:t})=>QE(r.id)?await mU({arenaaktivitetId:r.id,forhaandsorientering:e,oppfolgingsPeriodeId:t}):await a2(r.id,r.versjon.toString(),e)),M2=Ct(`${xy.name}/fho/lest`,async r=>{if(QE(r.id))return await vU(r.id);{const e=await o2(r.id,r.versjon.toString());return{...r,forhaandsorientering:e.forhaandsorientering}}}),Ez=xy.reducer,L2=r=>r.data.feature,xz=["aktivitetsplan.tryggtekst","aktivitetsplan.journalforing"],Sz=xz.map(r=>"feature="+r).join("&"),Tz=r=>{const e=$t();w.useEffect(()=>{e(V2())},[]);const{status:t,data:n}=Z(L2);return t===oe.OK&&n&&n[r]};function Az(){return rh(`${Zr}/feature?${Sz}`)}const Oz={"aktivitetsplan.tryggtekst":!1},F2=Xl({name:"feature",initialState:{data:Oz,status:oe.NOT_STARTED},reducers:{}}),V2=Ct(`${F2.name}/fetchFeatures`,async()=>await Az()),Cz=F2.reducer,jz={data:{},status:oe.NOT_STARTED},ex=Wi({name:"mal",initialState:jz,reducers:{},extraReducers:r=>{r.addCase(bc.pending,e=>{e.status=e.status===oe.NOT_STARTED?oe.PENDING:oe.RELOADING}),r.addCase(bc.fulfilled,(e,t)=>{e.status=oe.OK,e.data=t.payload}),r.addCase(bc.rejected,e=>{e.status=oe.ERROR}),r.addCase(Jg.fulfilled,(e,t)=>{e.data=t.payload})}}),bc=Ct(`${ex.name}/fetchMal`,async()=>{const r=Vs(Hs.FNR);return await VU(r??void 0)}),Jg=Ct(`${ex.name}/oppdaterMal`,async r=>{const e=Vs(Hs.FNR);return await UU(r.mal,e??void 0)}),Iz=ex.reducer,Dz=[$s.rejected.type,gy.rejected.type,fy.rejected.type,ih.rejected.type,ah.rejected.type,sh.rejected.type,Gf.rejected.type,Xc.rejected.type,py.rejected.type,hy.rejected.type,Jg.rejected.type],H2=Wi({name:"feil",initialState:{},reducers:{fjernDismissableErrors:r=>{Dz.forEach(e=>{delete r[e]})}},extraReducers:r=>{r.addMatcher(e=>Zj(e)&&ly(e),(e,t)=>{e[t.type]={...t.error,type:t.type}}),r.addMatcher(Ea(Tc,Xj),(e,t)=>{const n=t.type.replace("pending","rejected").replace("fulfilled","rejected");delete e[n]})}}),{fjernDismissableErrors:ice}=H2.actions,Rz=H2.reducer,Pz={aktivitetTyper:{ARENA_TILTAK:!1,BEHANDLING:!1,EGEN:!1,GRUPPEAKTIVITET:!1,IJOBB:!1,MOTE:!1,SAMTALEREFERAT:!1,SOKEAVTALE:!1,STILLING:!1,STILLING_FRA_NAV:!1,TILTAKSAKTIVITET:!1,UTDANNINGSAKTIVITET:!1,MIDLERTIDIG_LONNSTILSKUDD:!1,VARIG_LONNSTILSKUDD:!1,ARBEIDSTRENING:!1,VARIG_TILRETTELAGT_ARBEID_I_ORDINAER_VIRKSOMHET:!1,MENTOR:!1,REKRUTTERINGSTREFF:!1,ENKELAMO:!1,ENKFAGYRKE:!1,HOYERE_UTDANNING:!1},aktivitetEtiketter:{AVSLAG:!1,CV_DELT:!1,IKKE_FATT_JOBBEN:!1,INGEN_VALGT:!1,INNKALT_TIL_INTERVJU:!1,JOBBTILBUD:!1,SKAL_PAA_INTERVJU:!1,SOKNAD_SENDT:!1,VENTER:!1},arenaAktivitetEtiketter:{AKTUELL:!1,AVSLAG:!1,IKKAKTUELL:!1,IKKEM:!1,INFOMOETE:!1,JATAKK:!1,NEITAKK:!1,TILBUD:!1,VENTELISTE:!1},aktivitetAvtaltMedNav:{AVTALT_MED_NAV:!1,IKKE_AVTALT_MED_NAV:!1}},U2=Wi({name:"filter",initialState:Pz,reducers:{toggleAktivitetsType:(r,e)=>{r.aktivitetTyper[e.payload]=!r.aktivitetTyper[e.payload]},toggleAktivitetsEtikett:(r,e)=>{r.aktivitetEtiketter[e.payload]=!r.aktivitetEtiketter[e.payload]},toggleArenaAktivitetsEtikett:(r,e)=>{r.arenaAktivitetEtiketter[e.payload]=!r.arenaAktivitetEtiketter[e.payload]},toggleAktivitetAvtaltMedNav:(r,e)=>{r.aktivitetAvtaltMedNav[e.payload]=!r.aktivitetAvtaltMedNav[e.payload]}}}),{toggleAktivitetsEtikett:B2,toggleArenaAktivitetsEtikett:$2,toggleAktivitetsType:z2,toggleAktivitetAvtaltMedNav:W2}=U2.actions,Nz=U2.reducer,K2=Xl({name:"identitet",initialState:{data:{},status:oe.NOT_STARTED},reducers:{}}),tx=Ct(`${K2.name}/fetchIdentitet`,async()=>await MU()),Mz=K2.reducer,Lz=()=>{const r=Vs(Hs.FNR);return Hn(`${r2}/aktivitetsplan/les`,{fnr:r})},Fz=r=>fs(`${r2}/informasjon/les?versjon=${r}`),G2=Xl({name:"lest",initialState:{data:[],status:oe.NOT_STARTED},reducers:{}}),q2=Ct(`${G2.name}/fetchSisteLest`,async()=>await Lz()),Vz=G2.reducer,Y2=Xl({name:"malListe",initialState:{data:[],status:oe.NOT_STARTED},reducers:{}}),Sy=Ct(`${Y2.name}/fetchMalListe`,async()=>{const r=Vs(Hs.FNR);return await HU(r??void 0)}),Hz=Y2.reducer,Uz=()=>rh(`${eU}/veileder/me`),X2=Xl({name:"veileder",reducers:{}}),Bz=Ct(`${X2.name}/fetchVeilederInfo`,async()=>await Uz()),$z=X2.reducer,rx=Wi({name:"arkiv",initialState:{forhaandsvisningStatus:oe.NOT_STARTED},reducers:{},extraReducers:r=>{r.addCase(Ym.pending,e=>{e.forhaandsvisningStatus=e.forhaandsvisningStatus===oe.NOT_STARTED?oe.PENDING:oe.RELOADING,e.journalføringStatus=oe.NOT_STARTED}),r.addCase(Ym.fulfilled,(e,t)=>{e.forhaandsvisning=t.payload,e.forhaandsvisningStatus=oe.OK}),r.addCase(Ym.rejected,e=>{e.forhaandsvisningStatus=oe.ERROR}),r.addCase(qm.pending,e=>{e.journalføringStatus=e.journalføringStatus===oe.NOT_STARTED?oe.PENDING:oe.RELOADING}),r.addCase(qm.rejected,e=>{e.journalføringStatus=oe.ERROR}),r.addCase(qm.fulfilled,(e,t)=>{e.forhaandsvisning&&(e.forhaandsvisning.sistJournalført=t.payload.sistJournalført),e.journalføringStatus=oe.OK})}}),qm=Ct(`${rx.name}/journalfoering`,async({forhaandsvisningOpprettet:r,journalførendeEnhet:e,oppfolgingsperiodeId:t})=>await bU(t,r,e));function nx(r){return r.data.arkiv.journalføringStatus}const Ym=Ct(`${rx.name}/forhaandsvisning`,async({journalførendeEnhet:r,oppfolgingsperiodeId:e})=>await yU(e,r));function ix(r){return r.data.arkiv.forhaandsvisningStatus}function zz(r){var e,t;return(t=(e=r.data.arkiv)==null?void 0:e.forhaandsvisning)==null?void 0:t.pdf}function Wz(r){var e,t;return(t=(e=r.data.arkiv)==null?void 0:e.forhaandsvisning)==null?void 0:t.forhaandsvisningOpprettet}function Kz(r){var e,t;return(t=(e=r.data.arkiv)==null?void 0:e.forhaandsvisning)==null?void 0:t.sistJournalført}const Gz=rx.reducer,Z2=Xl({name:"innsynsrett",reducers:{}}),qz=Ct(`${Z2.name}/fetchInnsynsrett`,async()=>await oU()),Yz=Z2.reducer,J2=Wi({name:"valgtPeriodeSlice",initialState:{valgtPeriodeId:null},reducers:{velgPeriode:(r,e)=>{r.valgtPeriodeId=e.payload}}}),{velgPeriode:c1}=J2.actions,Xz=r=>r.data.valgtPeriode,lh=xt(Xz,r=>r.valgtPeriodeId),Zz=J2.reducer;async function Jz(r){return await fetch("/tryggtekst/proxy/completion",{method:"POST",body:JSON.stringify({payload:r}),headers:{Pragma:"no-cache","Cache-Control":"no-cache","Content-Type":"application/json"}}).then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).catch(e=>(console.log(e),e))}const Qz=async r=>{let e="",t=[];if(console.log("useSensitive",r),r)console.log("verdi som ska til llm",r),await Jz(r).then(async n=>{const i=JSON.parse(n.content);return console.log("containsSensitive",i),i.kategorier&&i.kategorier.length>0?(t=i.kategorier.map(s=>({kategori:s.kategori,trigger:s.trigger})),e=`⚠️ Det ser ut som du har skrevet inn personopplysninger om ${t.map(s=>s.kategori).join(", ")} i skjemaet.`):e="👌✅",{kategorier:t,feilmedling:e}});else return{kategorier:[]};return{kategorier:t,feilmedling:e}},Q2=Xl({name:"trykkTekst",reducers:{}}),eW=Ct(`${Q2.name}/postSjekkForPersonopplysninger`,async r=>await Qz(r)),tW=Q2.reducer,rW={data:r_({aktiviteter:mz,arenaAktiviteter:Ez,dialog:NU,filter:Nz,identitet:Mz,mal:Iz,malListe:Hz,oppfolging:WU,versjoner:vz,arkiv:Gz,lest:Vz,veileder:$z,eskaleringsvarsel:RU,feature:Cz,errors:Rz,innsynsrett:Yz,valgtPeriode:Zz,tryggTekst:tW}),view:r_({visteAktiviteterMedEndringer:kz,dragAndDrop:lz})};let Xm=null;const nW=(r=void 0)=>{const e=xH({reducer:rW,preloadedState:r});return Xm=e,e},Yv="aktivitetsplan-state",sce=r=>{var t,n;if(!r)return;const e=sessionStorage.getItem(Yv);if(e)try{const i=JSON.parse(e);if(r===((n=(t=i.data.oppfolging)==null?void 0:t.data)==null?void 0:n.fnr))return JSON.parse(e);sessionStorage.removeItem(Yv);return}catch(i){console.warn(i);return}},ace=()=>{const r=Xm==null?void 0:Xm.getState();sessionStorage.setItem(Yv,JSON.stringify(r))},oce=()=>sessionStorage.removeItem(Yv),eI=x.createContext(!1),jt=()=>w.useContext(eI),tI=x.createContext({fnr:void 0,aktivEnhet:void 0}),Qg=()=>w.useContext(tI),iW=r=>{},lce=({children:r,setFnrRef:e,fnr:t,aktivEnhet:n,preloadedState:i})=>{const[s,a]=w.useState(t),[o,l]=w.useState(n);w.useEffect(()=>(e&&e(a),()=>{e&&e(iW)}),[]);const d=w.useMemo(()=>nW(i),[s]);return p.jsx(tI.Provider,{value:{fnr:s,aktivEnhet:o},children:p.jsx(eI.Provider,{value:r5,children:p.jsx(LV,{store:d,children:p.jsx(d$,{backend:rz,children:p.jsx(nz,{children:r})})})})})};function dce({createRoutesForUser:r}){const e=jt(),t=$t(),{aktivEnhet:n}=Qg(),i=r(t,e,n);return p.jsxs("div",{className:"aktivitetsplanfs",id:xO,children:[p.jsx("div",{className:"aktivitetsplan-wrapper w-full",children:p.jsx(N8,{router:i})}),p.jsx(KU,{})]})}const qr=(r,...e)=>Object.entries(r).filter(([t,n])=>e.includes(t)).map(([t,n])=>n),Un=r=>r.data.errors,sW=[my.rejected.type,tx.rejected.type,Rl.rejected.type,Pl.rejected.type,q2.rejected.type,Aa.rejected.type,$s.rejected.type],aW=xt(Un,r=>qr(r,...sW)),oW=xt(Un,r=>qr(r,gy.rejected.type)),lW=xt(Un,r=>qr(r,$s.rejected.type)),dW=xt(Un,r=>qr(r,ih.rejected.type)),cW=xt(Un,r=>qr(r,ah.rejected.type)),uW=xt(Un,r=>qr(r,py.rejected.type)),fW=xt(Un,r=>qr(r,sh.rejected.type)),hW=xt(Un,r=>qr(r,Rl.rejected.type,Aa.rejected.type).length===0),pW=xt(Un,r=>qr(r,bc.rejected.type,Sy.rejected.type)),gW=xt(Un,r=>qr(r,Jg.rejected.type)),mW=xt(Un,r=>qr(r,Xc.rejected.type)),vW=xt(Un,r=>qr(r,Xc.rejected.type,Gf.rejected.type));function rI(r,e=166,t=!1){let n;function i(...s){const a=()=>{n=void 0,r.apply(this,s)};!n&&t&&a(),clearTimeout(n),n=setTimeout(a,e)}return i.clear=()=>{clearTimeout(n)},i}const Nl=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},sx=w.createContext({headingSize:"small",size:"medium",openItems:[],mounted:!1});var bW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const ax=w.createContext(null),yW=w.forwardRef((r,e)=>{var{children:t,className:n,open:i,defaultOpen:s=!1,onOpenChange:a}=r,o=bW(r,["children","className","open","defaultOpen","onOpenChange"]);const[l,d]=Cl({defaultValue:s,value:i,onChange:a}),c=w.useContext(sx),{cn:u}=Ce(),f=w.useRef(!(i||s)),g=()=>{d(m=>!m),f.current=!0};return c!=null&&c.mounted||console.error("<Accordion.Item> has to be used within an <Accordion>"),x.createElement("div",Object.assign({className:u("navds-accordion__item",n,{"navds-accordion__item--open":l,"navds-accordion__item--neutral":(c==null?void 0:c.variant)==="neutral","navds-accordion__item--no-animation":!f.current}),"data-expanded":l,ref:e},jl(o,["onClick"])),x.createElement(ax.Provider,{value:{open:l,toggleOpen:g}},t))});var kW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const _W=w.forwardRef((r,e)=>{var{children:t,className:n}=r,i=kW(r,["children","className"]);const s=w.useContext(ax),a=Bi(!1),{cn:o}=Ce();return s===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):x.createElement(Mi,Object.assign({},i,{as:"div",ref:e,className:o("navds-accordion__content",{"navds-accordion__content--closed":!s.open},n),"aria-hidden":!s.open||void 0}),a!=null&&a.isDarkside?x.createElement("div",{className:o("navds-accordion__content-inner")},t):t)});var wW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const EW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=wW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",d:"M8.97 6.97a.75.75 0 1 1 1.06 1.06l-3.22 3.22H19a.75.75 0 0 1 0 1.5H6.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06z"}))});var xW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const SW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=xW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",d:"M14.087 6.873a.75.75 0 0 1 .943.097l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 0 1-1.06-1.06l3.22-3.22H5a.75.75 0 0 1-.75-.74V12a.75.75 0 0 1 .75-.75h12.19l-3.22-3.22a.75.75 0 0 1 .117-1.157"}))});var TW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const AW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=TW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.47 21.03a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 1 0-1.06-1.06l-2.22 2.22V9.5a.75.75 0 0 0-1.5 0v9.19l-2.22-2.22a.75.75 0 1 0-1.06 1.06zM4.03 7.53l2.22-2.22v9.19a.75.75 0 0 0 1.5 0V5.31l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06",clipRule:"evenodd"}))});var OW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const CW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=OW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 7.5c0-.69.56-1.25 1.25-1.25h4.25V5c0-.966.784-1.75 1.75-1.75h5c.966 0 1.75.784 1.75 1.75v1.25h4.25c.69 0 1.25.56 1.25 1.25v5c0 .69-.56 1.25-1.25 1.25h-.25v4.75c0 .69-.56 1.25-1.25 1.25H5c-.69 0-1.25-.56-1.25-1.25v-4.75H3.5c-.69 0-1.25-.56-1.25-1.25zm7-2.5a.25.25 0 0 1 .25-.25h5a.25.25 0 0 1 .25.25v1.25h-5.5zM12 15.75a.75.75 0 0 0 .75-.75v-1.25h6v4.5H5.25v-4.5h6V15c0 .414.336.75.75.75m0-5.5a.75.75 0 0 1 .75.75v1.25h7.5v-4.5H3.75v4.5h7.5V11a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))});var jW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const IW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=jW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.75 6c0-.69.56-1.25 1.25-1.25h12c.69 0 1.25.56 1.25 1.25v9c0 .69-.56 1.25-1.25 1.25H9a.75.75 0 0 0-.386.107L4.75 18.675zM6 3.25A2.75 2.75 0 0 0 3.25 6v14a.75.75 0 0 0 1.136.643l4.822-2.893H18A2.75 2.75 0 0 0 20.75 15V6A2.75 2.75 0 0 0 18 3.25zm3 6.5a.75.75 0 0 0 0 1.5h.01a.75.75 0 0 0 0-1.5zm2.25.75a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75M15 9.75a.75.75 0 0 0 0 1.5h.01a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var DW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const RW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=DW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 21.75c5.385 0 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25 2.25 6.615 2.25 12s4.365 9.75 9.75 9.75m4.954-12.475a.813.813 0 0 0-1.24-1.05l-5.389 6.368L7.7 11.967a.812.812 0 0 0-1.15 1.15l3.25 3.25a.81.81 0 0 0 1.195-.05z",clipRule:"evenodd"}))});var PW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const nI=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=PW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.53 5.97a.75.75 0 0 1 0 1.06L9.56 12l4.97 4.97a.75.75 0 1 1-1.06 1.06l-5.5-5.5a.75.75 0 0 1 0-1.06l5.5-5.5a.75.75 0 0 1 1.06 0",clipRule:"evenodd"}))});var NW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Ty=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=NW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 5.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 0 1 0 1.06l-5.5 5.5a.75.75 0 1 1-1.06-1.06L14.44 12 9.47 7.03a.75.75 0 0 1 0-1.06",clipRule:"evenodd"}))});var MW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const LW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=MW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06z",clipRule:"evenodd"}))});var FW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const VW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=FW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .656.387l9.527 17.25A.75.75 0 0 1 21.526 21H2.474a.75.75 0 0 1-.657-1.113l9.526-17.25A.75.75 0 0 1 12 2.25M12 8.75a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0v-4a.75.75 0 0 1 .75-.75m-1 7.75a1 1 0 1 1 2 0 1 1 0 0 1-2 0",clipRule:"evenodd"}))});var HW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const UW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=HW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.148 12.317A10 10 0 0 1 3.905 12q.103-.14.243-.317c.35-.438.878-1.025 1.582-1.61C7.136 8.902 9.222 7.75 12 7.75a4.25 4.25 0 0 0 0 8.5c-2.778 0-4.864-1.152-6.27-2.323a11.3 11.3 0 0 1-1.582-1.61M12 16.25a4.25 4.25 0 0 0 0-8.5c2.778 0 4.864 1.152 6.27 2.323A11.3 11.3 0 0 1 20.095 12q-.103.14-.243.317a11.3 11.3 0 0 1-1.582 1.61c-1.406 1.171-3.492 2.323-6.27 2.323m0-10c-3.222 0-5.636 1.343-7.23 2.67a12.8 12.8 0 0 0-1.793 1.826 10 10 0 0 0-.576.796l-.05.08-.011.022a1 1 0 0 0-.037.078c-.012.032-.045.17-.053.278.008.108.041.246.053.278l.037.078.012.022.05.08q.04.069.12.182c.103.152.254.363.455.614.4.5.997 1.163 1.793 1.826 1.594 1.327 4.008 2.67 7.23 2.67s5.636-1.343 7.23-2.67a12.8 12.8 0 0 0 1.793-1.826 10 10 0 0 0 .576-.796l.035-.056.005-.009.01-.015.011-.022.016-.03c.004-.01.015-.033.02-.048.013-.032.046-.17.054-.278a1.4 1.4 0 0 0-.053-.278l-.021-.047q-.012-.024-.016-.031l-.02-.034-.006-.012a4 4 0 0 0-.155-.238 10 10 0 0 0-.456-.614c-.4-.5-.997-1.163-1.793-1.826-1.594-1.327-4.008-2.67-7.23-2.67M9.25 12a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0",clipRule:"evenodd"}))});var BW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const $W=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=BW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.5 2.25a.75.75 0 0 1 .75.75v2.25H17a.75.75 0 0 1 .6.3l3 4c.2.267.2.633 0 .9l-3 4a.75.75 0 0 1-.6.3h-4.75V21a.75.75 0 0 1-1.5 0v-6.25H4a.75.75 0 0 1-.6-1.2L6.063 10 3.4 6.45a.75.75 0 0 1 .6-1.2h6.75V3a.75.75 0 0 1 .75-.75m-3.9 8.2-2.1 2.8h11.125L19.063 10l-2.438-3.25H5.5l2.1 2.8c.2.267.2.633 0 .9",clipRule:"evenodd"}))});var zW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const WW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=zW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.25 4A.75.75 0 0 1 4 3.25h16a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-.75.75H4a.75.75 0 0 1-.75-.75zM11 7.75a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-1.25 3a.75.75 0 0 1 .75-.75H12a.75.75 0 0 1 .75.75v4.75h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5h.75v-4h-.75a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var KW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const GW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=KW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.638 4.417a3.25 3.25 0 0 0-4.608-.008l-9.378 9.379a.75.75 0 0 0-.191.324l-1.414 4.95a.75.75 0 0 0 .925.927l4.94-1.398a.75.75 0 0 0 .327-.191l9.39-9.391a3.25 3.25 0 0 0 .01-4.592M16.091 5.47a1.752 1.752 0 1 1 2.478 2.478l-.23.23-2.477-2.479zM14.8 6.76 6.85 14.71l-.991 3.47 3.457-.979 7.963-7.963z",clipRule:"evenodd"}))});var qW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const YW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=qW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.75 3.75v16.5h12.5V3.75zm-1.5-.25c0-.69.56-1.25 1.25-1.25h13c.69 0 1.25.56 1.25 1.25v17c0 .69-.56 1.25-1.25 1.25h-13c-.69 0-1.25-.56-1.25-1.25zM12 7.25a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5M8.25 9.5a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0m1.805 7.055a2.75 2.75 0 0 1 4.667 1.552.75.75 0 1 0 1.484-.214 4.25 4.25 0 0 0-8.413 0 .75.75 0 0 0 1.485.214 2.75 2.75 0 0 1 .777-1.552",clipRule:"evenodd"}))});var XW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const ZW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=XW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",d:"M12.75 5.5a.75.75 0 0 0-1.5 0v5.75H5.5a.75.75 0 0 0 0 1.5h5.75v5.75a.75.75 0 0 0 1.5 0v-5.75h5.75a.75.75 0 0 0 0-1.5h-5.75z"}))});var JW=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const QW=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=JW(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 2.25a.75.75 0 0 0-.75.75v4.25H4A1.75 1.75 0 0 0 2.25 9v9c0 .414.336.75.75.75h3.25V21c0 .414.336.75.75.75h10a.75.75 0 0 0 .75-.75v-2.25H21a.75.75 0 0 0 .75-.75V9A1.75 1.75 0 0 0 20 7.25h-2.25V3a.75.75 0 0 0-.75-.75zM3.75 9A.25.25 0 0 1 4 8.75h16a.25.25 0 0 1 .25.25v8.25h-2.5V12a.75.75 0 0 0-.75-.75H7a.75.75 0 0 0-.75.75v5.25h-2.5zm12.5-1.75v-3.5h-8.5v3.5zm-8.5 5.5v7.5h8.5v-7.5zM9.25 15a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75m0 3a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H10a.75.75 0 0 1-.75-.75",clipRule:"evenodd"}))});var eK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const tK=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=eK(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.03 18.53a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06l2.22 2.22V6a.75.75 0 0 1 1.5 0v10.19l2.22-2.22a.75.75 0 1 1 1.06 1.06zM2.75 6.25a.75.75 0 0 0 0 1.5h9.5a.75.75 0 0 0 0-1.5zm0 5a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5zM2 17a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5A.75.75 0 0 1 2 17",clipRule:"evenodd"}))});var rK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const nK=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=rK(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M18.03 5.47a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 1 0 1.06 1.06l2.22-2.22V18a.75.75 0 0 0 1.5 0V7.81l2.22 2.22a.75.75 0 1 0 1.06-1.06zM2.75 17.75a.75.75 0 0 1 0-1.5h9.5a.75.75 0 0 1 0 1.5zm0-5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zM2 7c0 .414.336.75.75.75h5.5a.75.75 0 0 0 0-1.5h-5.5A.75.75 0 0 0 2 7",clipRule:"evenodd"}))});var iK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const sK=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=iK(r,["title","titleId"]);let s=Ur();return s=t?n||"title-"+s:void 0,x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?x.createElement("title",{id:s},t):null,x.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.742 2.47a.75.75 0 0 1 .53-.22h7.456a.75.75 0 0 1 .53.22l5.272 5.272c.141.14.22.331.22.53v7.456a.75.75 0 0 1-.22.53l-5.272 5.272a.75.75 0 0 1-.53.22H8.272a.75.75 0 0 1-.53-.22L2.47 16.258a.75.75 0 0 1-.22-.53V8.272a.75.75 0 0 1 .22-.53zm1.288 5.5a.75.75 0 0 0-1.06 1.06L10.94 12l-2.97 2.97a.75.75 0 1 0 1.06 1.06L12 13.06l2.97 2.97a.75.75 0 1 0 1.06-1.06L13.06 12l2.97-2.97a.75.75 0 0 0-1.06-1.06L12 10.94z",clipRule:"evenodd"}))});var aK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const oK=w.forwardRef((r,e)=>{var t,{children:n,className:i,onClick:s}=r,a=aK(r,["children","className","onClick"]);const o=w.useContext(ax),l=w.useContext(sx),d=Bi(!1),{cn:c}=Ce();if(o===null)return console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null;let u=(t=l==null?void 0:l.headingSize)!==null&&t!==void 0?t:"small";return d!=null&&d.isDarkside&&(u=(l==null?void 0:l.size)==="small"?"xsmall":"small"),x.createElement("button",Object.assign({ref:e},a,{className:c("navds-accordion__header",i),onClick:At(s,o.toggleOpen),"aria-expanded":o.open,type:"button"}),x.createElement("span",{className:c("navds-accordion__icon-wrapper")},x.createElement(Hb,{className:c("navds-accordion__header-chevron"),"aria-hidden":!0})),x.createElement(Be,{size:u,as:"span",className:c("navds-accordion__header-content")},n))});var lK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const ye=w.forwardRef((r,e)=>{var{className:t,variant:n="default",headingSize:i="small",size:s="medium",indent:a=!0}=r,o=lK(r,["className","variant","headingSize","size","indent"]);const{cn:l}=Ce();return x.createElement(sx.Provider,{value:{variant:n,headingSize:i,size:s,mounted:!0}},x.createElement("div",Object.assign({},o,{className:l("navds-accordion",t,`navds-accordion--${s}`,{"navds-accordion--indent":a}),ref:e})))});ye.Header=oK;ye.Content=_W;ye.Item=yW;const dK=typeof window<"u"&&window.matchMedia===void 0,cK=(r,e)=>{const[t,n]=w.useState(e);return w.useEffect(()=>{if(dK)return;const i=window.matchMedia(r);n(i.matches);const s=a=>{n(a.matches)};return i.addEventListener("change",s),()=>{i.removeEventListener("change",s)}},[r]),t},uK=r=>{if(!x.isValidElement(r))throw Error(`Expected a single React Element child, but got: ${x.Children.toArray(r).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return r};var fK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const hK=w.forwardRef((r,e)=>{var t,n,i,{rootElement:s,asChild:a}=r,o=fK(r,["rootElement","asChild"]);const l=Bi(!1),d=(t=h5())===null||t===void 0?void 0:t.rootElement,c=(n=s??d)!==null&&n!==void 0?n:(i=globalThis==null?void 0:globalThis.document)===null||i===void 0?void 0:i.body,u=a?Kl:"div";return l!=null&&l.isDarkside?c?Uf.createPortal(x.createElement(p5,{theme:l.theme,asChild:!0,hasBackground:!1,"data-color":l.color},x.createElement(u,Object.assign({ref:e,"data-aksel-portal":""},o))),c):null:c?Uf.createPortal(x.createElement(u,Object.assign({ref:e,"data-aksel-portal":""},o)),c):null});function u1(r){return r.sort((e,t)=>{const n=e.compareDocumentPosition(t);if(n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(n&Node.DOCUMENT_POSITION_DISCONNECTED||n&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const pK=r=>typeof r=="object"&&"nodeType"in r&&r.nodeType===Node.ELEMENT_NODE;function f1(r,e,t){let n=r+1;return t&&n>=e&&(n=0),n}function h1(r,e,t){let n=r-1;return t&&n<0&&(n=e),n}const $k=r=>r;class gK{constructor(){this.descendants=new Map,this.register=e=>{if(e!=null)return pK(e)?this.registerNode(e):t=>{this.registerNode(t,e)}},this.unregister=e=>{this.descendants.delete(e);const t=u1(Array.from(this.descendants.keys()));this.assignIndex(t)},this.destroy=()=>{this.descendants.clear()},this.assignIndex=e=>{this.descendants.forEach(t=>{const n=e.indexOf(t.node);t.index=n,t.node.dataset.index=t.index.toString()})},this.count=()=>this.descendants.size,this.enabledCount=()=>this.enabledValues().length,this.values=()=>Array.from(this.descendants.values()).sort((t,n)=>t.index-n.index),this.enabledValues=()=>this.values().filter(e=>!e.disabled),this.item=e=>{if(this.count()!==0)return this.values()[e]},this.enabledItem=e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]},this.first=()=>this.item(0),this.firstEnabled=()=>this.enabledItem(0),this.last=()=>this.item(this.descendants.size-1),this.lastEnabled=()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)},this.indexOf=e=>{var t,n;return e&&(n=(t=this.descendants.get(e))===null||t===void 0?void 0:t.index)!==null&&n!==void 0?n:-1},this.enabledIndexOf=e=>e==null?-1:this.enabledValues().findIndex(t=>t.node.isSameNode(e)),this.next=(e,t=!0)=>{const n=f1(e,this.count(),t);return this.item(n)},this.nextEnabled=(e,t=!0)=>{const n=this.item(e);if(!n)return;const i=this.enabledIndexOf(n.node),s=f1(i,this.enabledCount(),t);return this.enabledItem(s)},this.prev=(e,t=!0)=>{const n=h1(e,this.count()-1,t);return this.item(n)},this.prevEnabled=(e,t=!0)=>{const n=this.item(e);if(!n)return;const i=this.enabledIndexOf(n.node),s=h1(i,this.enabledCount()-1,t);return this.enabledItem(s)},this.registerNode=(e,t)=>{if(!e)return;const n=this.descendants.get(e);if(n){this.descendants.set(e,Object.assign({index:n.index,node:e},t));return}const i=Array.from(this.descendants.keys()).concat(e),s=u1(i);t!=null&&t.disabled&&(t.disabled=!!t.disabled);const a=Object.assign({node:e,index:-1},t);this.descendants.set(e,a),this.assignIndex(s)}}}function iI(){const[r,e]=Po({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"}),t=$k(s=>x.createElement(r,Object.assign({},s.value),s.children));function n(s){const a=e(),[o,l]=w.useState(-1),d=w.useRef(null);Nl(()=>()=>{d.current&&a.unregister(d.current)},[]),Nl(()=>{if(!d.current)return;const u=Number(d.current.dataset.index);o!==u&&!Number.isNaN(u)&&l(u)});const c=$k(s?a.register(s):a.register);return{descendants:a,index:o,enabledIndex:a.enabledIndexOf(d.current),register:g5([c,d])}}function i(){return w.useRef(new gK).current}return[t,e,i,n]}function mK(r,e=globalThis==null?void 0:globalThis.document){const t=Sa(r);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",n,!0),()=>e.removeEventListener("keydown",n,!0)},[t,e])}const sI={FOCUS_OUTSIDE:"AKSEL_FOCUS_OUTSIDE",POINTER_DOWN_OUTSIDE:"AKSEL_POINTER_DOWN_OUTSIDE"};function aI(r,e,t,{discrete:n}={discrete:!1}){if(!e)return;const i=t.originalEvent.target,s=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});i.addEventListener(r,e,{once:!0}),n&&i?Uf.flushSync(()=>i.dispatchEvent(s)):i.dispatchEvent(s)}function vK(r,e=globalThis==null?void 0:globalThis.document){const t=Sa(r),n=w.useRef(!1);return w.useEffect(()=>{const i=s=>{if(s.target&&!n.current){const a={originalEvent:s};aI(sI.FOCUS_OUTSIDE,t,a)}};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>{n.current=!0},onBlurCapture:()=>{n.current=!1}}}function bK(r,e=globalThis==null?void 0:globalThis.document){const t=Sa(r),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=o=>{function l(){aI(sI.POINTER_DOWN_OUTSIDE,t,{originalEvent:o},{discrete:!0})}o.target&&!n.current?o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l():e.removeEventListener("click",i.current),n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>{n.current=!0}}}var yK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const[kK,_K,wK,EK]=iI();let gu=0,p1;const oI=w.forwardRef((r,e)=>_K(!1)?x.createElement(g1,Object.assign({ref:e},r)):x.createElement(xK,null,x.createElement(g1,Object.assign({ref:e},r)))),xK=({children:r})=>{const e=wK();return x.createElement(kK,{value:e},r)},g1=w.forwardRef((r,e)=>{var t,{children:n,asChild:i,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:d,safeZone:c,disableOutsidePointerEvents:u=!1,enabled:f=!0}=r,g=yK(r,["children","asChild","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","safeZone","disableOutsidePointerEvents","enabled"]);const[,m]=w.useState({}),{register:v,index:b,descendants:y}=EK({disableOutsidePointerEvents:u,disabled:!f,forceUpdate:()=>m({})}),[k,_]=w.useState(null),E=Zn(_,v,e),S=(t=k==null?void 0:k.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,O=w.useRef(!1),T=w.useRef(!1),C=(()=>{let F=-1;return y.enabledValues().forEach((N,z)=>{N.disableOutsidePointerEvents&&(F=z)}),{isPointerEventsEnabled:b>=F,isBodyPointerEventsDisabled:gu>0,pointerStyle:b>=F&&gu>0?"auto":void 0}})();function D(F){var H,N;if(!(c!=null&&c.anchor)&&!(c!=null&&c.dismissable)||!f)return;F.defaultPrevented||(O.current=!0,F.detail.originalEvent.type==="pointerdown"&&(T.current=!0));const z=F.target;F.detail.originalEvent.type==="pointerdown"?(!((H=c==null?void 0:c.anchor)===null||H===void 0)&&H.contains(z)||z===(c==null?void 0:c.anchor))&&F.preventDefault():!(z instanceof HTMLElement&&![c==null?void 0:c.anchor,c==null?void 0:c.dismissable].some(Y=>Y==null?void 0:Y.contains(z))&&!z.contains((N=c==null?void 0:c.dismissable)!==null&&N!==void 0?N:null))&&F.preventDefault(),F.detail.originalEvent.type==="focusin"&&T.current&&F.preventDefault(),T.current=!1,O.current=!1}const R=bK(F=>{!C.isPointerEventsEnabled||!f||(a==null||a(F),l==null||l(F),c&&D(F),!F.defaultPrevented&&d&&d())},S),L=vK(F=>{f&&(o==null||o(F),l==null||l(F),c&&D(F),!F.defaultPrevented&&d&&d())},S);mK(F=>{!f||!(b===y.enabledCount()-1)||(s==null||s(F),!F.defaultPrevented&&d&&(F.preventDefault(),d()))},S),w.useEffect(()=>{if(!(!k||!f||!u))return gu===0&&(p1=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),gu++,()=>{gu===1&&(S.body.style.pointerEvents=p1),gu--}},[k,S,u,y,f]),w.useEffect(()=>()=>y.values().forEach(F=>F.forceUpdate()),[y,k]);const P=i?Kl:"div";return x.createElement(P,Object.assign({ref:E},g,{onFocusCapture:L.onFocusCapture,onBlurCapture:L.onBlurCapture,onPointerDownCapture:R.onPointerDownCapture,style:Object.assign({pointerEvents:C.pointerStyle},g.style)}),n)}),m1={};function lI(r,e){const t=w.useRef(m1);return t.current===m1&&(t.current=r(e)),t}const zk=x[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],SK=zk&&zk!==w.useLayoutEffect?zk:r=>r();function dI(r){const e=lI(TK).current;return e.next=r,SK(e.effect),e.trampoline}function TK(){const r={next:void 0,callback:AK,trampoline:(...e)=>{var t;return(t=r.callback)===null||t===void 0?void 0:t.call(r,...e)},effect:()=>{r.callback=r.next}};return r}function AK(){}function OK(r,e=!1){const t=x.useRef(null),n=x.useRef(null),i=w.useCallback(()=>{for(const s of[t,n])s.current!==null&&(cancelAnimationFrame(s.current),s.current=null)},[]);return w.useEffect(()=>()=>i(),[i]),dI((s,a=null)=>{if(i(),r==null)return;const o="current"in r?r.current:r;if(o!=null){if(typeof o.getAnimations!="function"||globalThis.AKSEL_ANIMATIONS_DISABLED){s();return}t.current=requestAnimationFrame(()=>{function l(){o&&Promise.allSettled(o.getAnimations().map(d=>d.finished)).then(()=>{a!=null&&a.aborted||Uf.flushSync(s)})}e?n.current=requestAnimationFrame(l):l()})}})}function CK(r){const e=lI(jK,r).current;return e.next=r,Nl(e.effect),e}function jK(r){const e={current:r,next:r,effect:()=>{e.current=e.next}};return e}function IK(r){const{enabled:e=!0,open:t,ref:n=null,onComplete:i}=r,s=CK(t),a=dI(i),o=OK(n,t);w.useEffect(()=>{e&&o(()=>{t===s.current&&a()})},[e,t,a,o,s])}function DK(r){return{name:"transformOrigin",options:r,fn(e){var t,n,i,s,a;const{placement:o,rects:l,middlewareData:d}=e,u=((t=d.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,f=u?0:r.arrowWidth,g=u?0:r.arrowHeight,[m,v]=cI(o),b={start:"0%",center:"50%",end:"100%"}[v],y=((i=(n=d.arrow)===null||n===void 0?void 0:n.x)!==null&&i!==void 0?i:0)+f/2,k=((a=(s=d.arrow)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0)+g/2;let _="",E="";return m==="bottom"?(_=u?b:`${y}px`,E=`${-g}px`):m==="top"?(_=u?b:`${y}px`,E=`${l.floating.height+g}px`):m==="right"?(_=`${-g}px`,E=u?b:`${k}px`):m==="left"&&(_=`${l.floating.width+g}px`,E=u?b:`${k}px`),{data:{x:_,y:E}}}}}function cI(r){const[e,t="center"]=r.split("-");return[e,t]}var uI=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const[RK,fI]=Po({name:"FloatingContext",hookName:"useFloating",providerName:"FloatingProvider"}),dh=({children:r})=>{const[e,t]=w.useState(null);return x.createElement(RK,{anchor:e,onAnchorChange:t},r)},PK=w.forwardRef((r,e)=>{var{virtualRef:t,asChild:n}=r,i=uI(r,["virtualRef","asChild"]);const s=fI(),a=w.useRef(null),o=Zn(e,a);w.useEffect(()=>{s.onAnchorChange((t==null?void 0:t.current)||a.current)});const l=n?Kl:"div";return t?null:x.createElement(l,Object.assign({ref:o},i))}),NK={top:"bottom",right:"left",bottom:"top",left:"right"},MK=({width:r,height:e,className:t})=>{const n=FK(),i=NK[n.placedSide];return x.createElement("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.hideArrow?"hidden":void 0},"aria-hidden":!0},x.createElement("svg",{className:t,width:r,height:e,viewBox:"0 0 30 10",preserveAspectRatio:"none",style:{display:"block"}},x.createElement("polygon",{points:"0,0 30,0 15,10"})))},[LK,FK]=Po({name:"FloatingContentContext",hookName:"useFloatingContentContext",providerName:"FloatingContentProvider"}),VK=w.forwardRef((r,e)=>{var t,n,i,s,a,o,{children:l,side:d="bottom",sideOffset:c=0,align:u="center",alignOffset:f=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:v=0,hideWhenDetached:b=!1,updatePositionStrategy:y="optimized",onPlaced:k,arrow:_,fallbackPlacements:E,enabled:S=!0,autoUpdateWhileMounted:O=!0}=r,T=uI(r,["children","side","sideOffset","align","alignOffset","avoidCollisions","collisionBoundary","collisionPadding","hideWhenDetached","updatePositionStrategy","onPlaced","arrow","fallbackPlacements","enabled","autoUpdateWhileMounted"]);const C=fI(),D=Ub(!1),R=Object.assign({padding:5,width:0,height:0},_),[L,P]=w.useState(null),F=R.width,H=R.height,N=d+(u!=="center"?"-"+u:""),z=typeof v=="number"?v:Object.assign({top:0,right:0,bottom:0,left:0},v),G=Array.isArray(m)?m:[m],Y=G.length>0;function W(qe){return qe!==null}const ue={padding:z,boundary:G.filter(W),altBoundary:Y,fallbackAxisSideDirection:"end",fallbackPlacements:E},{refs:M,floatingStyles:K,placement:$,isPositioned:J,middlewareData:ne,elements:fe,update:ae}=m5({open:S,strategy:"fixed",placement:N,whileElementsMounted:O?(...qe)=>N0(...qe,{animationFrame:y==="always"}):void 0,elements:{reference:C.anchor},middleware:[SO({mainAxis:c+H,alignmentAxis:f}),g&&TO({mainAxis:!0,crossAxis:!1,limiter:y5()}),g&&AO(Object.assign({},ue)),v5(Object.assign(Object.assign({},ue),{apply:({elements:qe,rects:vt,availableWidth:lt,availableHeight:jr})=>{const{width:Qr,height:Ir}=vt.reference,V=qe.floating.style;V.setProperty("--ac-floating-available-width",`${lt}px`),V.setProperty("--ac-floating-available-height",`${jr}px`),V.setProperty("--ac-floating-anchor-width",`${Qr}px`),V.setProperty("--ac-floating-anchor-height",`${Ir}px`)}})),L&&OO({element:L,padding:R.padding}),DK({arrowWidth:F,arrowHeight:H}),b&&b5(Object.assign({strategy:"referenceHidden"},ue))]});w.useEffect(()=>{if(!(O||!S)&&fe.reference&&fe.floating){const qe=N0(fe.reference,fe.floating,ae);return()=>{qe()}}},[O,S,fe,ae]),IK({enabled:!!(D!=null&&D.ref),open:S,ref:D==null?void 0:D.ref,onComplete:ae});const[Fe,ee]=cI($),le=Sa(k);Nl(()=>{J&&(le==null||le())},[J,le]);const Pe=(t=ne.arrow)===null||t===void 0?void 0:t.x,xe=(n=ne.arrow)===null||n===void 0?void 0:n.y,Te=((i=ne.arrow)===null||i===void 0?void 0:i.centerOffset)!==0;return x.createElement("div",{ref:M.setFloating,"data-aksel-floating-content-wrapper":"",style:Object.assign(Object.assign({},K),{transform:J?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:"9999999","--ac-floating-transform-origin":[(s=ne.transformOrigin)===null||s===void 0?void 0:s.x,(a=ne.transformOrigin)===null||a===void 0?void 0:a.y].join(" ")}),dir:"ltr"},x.createElement(LK,{placedSide:Fe,onArrowChange:P,arrowX:Pe,arrowY:xe,hideArrow:Te},x.createElement("div",Object.assign({ref:e,"data-side":Fe,"data-align":ee},T,{style:Object.assign(Object.assign({},T.style),{animation:J?void 0:"none",opacity:!((o=ne.hide)===null||o===void 0)&&o.referenceHidden?0:void 0})}),l,(_==null?void 0:_.height)&&(_==null?void 0:_.width)&&x.createElement(MK,{width:_.width,height:_.height,className:_.className}))))});dh.Anchor=PK;dh.Content=VK;var HK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Wk="focusScope.autoFocusOnMount",Kk="focusScope.autoFocusOnUnmount",v1={bubbles:!1,cancelable:!0},UK=w.forwardRef((r,e)=>{var{onMountHandler:t,onUnmountHandler:n}=r,i=HK(r,["onMountHandler","onUnmountHandler"]);const[s,a]=w.useState(null),o=Sa(t),l=Sa(n),d=Zn(e,a);return w.useEffect(()=>{var c;if(!s)return;const u=(c=s.ownerDocument)!==null&&c!==void 0?c:globalThis==null?void 0:globalThis.document;if(!s.contains(u.activeElement)){const g=new CustomEvent(Wk,v1);s.addEventListener(Wk,o),s.dispatchEvent(g)}return()=>{s.removeEventListener(Wk,o),setTimeout(()=>{const g=new CustomEvent(Kk,v1);s.addEventListener(Kk,l),s.dispatchEvent(g),s.removeEventListener(Kk,l)},0)}},[s,o,l]),x.createElement(Kl,Object.assign({tabIndex:-1},i,{ref:d}))});var BK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Gk="rovingFocusGroup.onEntryFocus",$K={bubbles:!1,cancelable:!0},zK=w.forwardRef((r,e)=>{var{children:t,asChild:n,descendants:i,onKeyDown:s,onEntryFocus:a,onMouseDown:o,onFocus:l}=r,d=BK(r,["children","asChild","descendants","onKeyDown","onEntryFocus","onMouseDown","onFocus"]);const c=x.useRef(null),u=Zn(e,c),f=Sa(a),g=w.useRef(!1);w.useEffect(()=>{const b=c.current;if(b)return b.addEventListener(Gk,f),()=>b.removeEventListener(Gk,f)},[f]);const m=w.useCallback(b=>{var y,k;const E=(k=(y=c==null?void 0:c.current)===null||y===void 0?void 0:y.ownerDocument)!==null&&k!==void 0?k:globalThis==null?void 0:globalThis.document,S=i.values().findIndex(P=>P.node.isSameNode(E.activeElement)),L={ArrowUp:()=>{var P;const F=i.prevEnabled(S,!1);(P=F==null?void 0:F.node)===null||P===void 0||P.focus()},ArrowDown:()=>{var P;const F=i.nextEnabled(S,!1);(P=F==null?void 0:F.node)===null||P===void 0||P.focus()},Home:()=>{var P;const F=i.firstEnabled();(P=F==null?void 0:F.node)===null||P===void 0||P.focus()},End:()=>{var P;const F=i.lastEnabled();(P=F==null?void 0:F.node)===null||P===void 0||P.focus()}}[b.key];L&&(b.preventDefault(),L(b))},[i]),v=n?Kl:"div";return x.createElement(v,Object.assign({ref:u},d,{tabIndex:i.enabledCount()===0?-1:0,style:Object.assign({outline:"none"},d.style),onKeyDown:At(s,m),onMouseDown:At(o,()=>{g.current=!0}),onFocus:At(l,b=>{var y;if(b.target===b.currentTarget){const k=new CustomEvent(Gk,$K);b.currentTarget.dispatchEvent(k),k.defaultPrevented||(y=i.firstEnabled())===null||y===void 0||y.node.focus({preventScroll:!0})}g.current=!1})}),t)});var WK=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Ay=w.forwardRef((r,e)=>{var{asChild:t}=r,n=WK(r,["asChild"]);const i=t?Kl:"div";return x.createElement(i,Object.assign({},n,{ref:e}))});var Zc=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const KK=["ArrowDown","PageUp","Home"],hI=["ArrowUp","PageDown","End"],GK=[...KK,...hI],[pI,gI,mI,qK]=iI(),[vI,Zl]=Po({providerName:"MenuProvider",hookName:"useMenuContext"}),[YK,Oy]=Po({providerName:"MenuRootProvider",hookName:"useMenuRootContext"}),XK=({open:r=!1,children:e,onOpenChange:t,modal:n=!0})=>{const[i,s]=w.useState(null),a=w.useRef(!1),o=Sa(t);return w.useEffect(()=>{const l=globalThis.document,d=()=>{a.current=!1},c=()=>{a.current=!0,l.addEventListener("pointerdown",d,{capture:!0,once:!0}),l.addEventListener("pointermove",d,{capture:!0,once:!0})};return l.addEventListener("keydown",c,{capture:!0}),()=>{l.removeEventListener("keydown",c,{capture:!0}),l.removeEventListener("pointerdown",d,{capture:!0}),l.removeEventListener("pointermove",d,{capture:!0})}},[]),x.createElement(dh,null,x.createElement(vI,{open:r,onOpenChange:o,content:i,onContentChange:s},x.createElement(YK,{onClose:x.useCallback(()=>o(!1),[o]),isUsingKeyboardRef:a,modal:n},e)))},Bt=XK,bI=w.forwardRef((r,e)=>x.createElement(dh.Anchor,Object.assign({},r,{ref:e}))),ZK=x.forwardRef((r,e)=>{const t=mI(),n=Oy();return x.createElement(pI,{value:t},n.modal?x.createElement(QK,Object.assign({},r,{ref:e})):x.createElement(JK,Object.assign({},r,{ref:e})))}),JK=x.forwardRef((r,e)=>{const t=Zl();return x.createElement(ox,Object.assign({},r,{ref:e,disableOutsidePointerEvents:!1,onDismiss:()=>t.onOpenChange(!1)}))}),QK=w.forwardRef((r,e)=>{const t=Zl();return x.createElement(ox,Object.assign({},r,{ref:e,disableOutsidePointerEvents:t.open,onFocusOutside:At(r.onFocusOutside,n=>n.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)}))}),ox=w.forwardRef((r,e)=>{var{onOpenAutoFocus:t,onCloseAutoFocus:n,disableOutsidePointerEvents:i,onEntryFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:c,safeZone:u}=r,f=Zc(r,["onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","safeZone"]);const g=gI(),m=Zl(),v=Oy(),b=w.useRef(null),y=Zn(e,b,m.onContentChange);return x.createElement(UK,{onMountHandler:At(t,k=>{var _;k.preventDefault(),(_=b.current)===null||_===void 0||_.focus({preventScroll:!0})}),onUnmountHandler:n},x.createElement(oI,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:c,safeZone:u},x.createElement(zK,{asChild:!0,descendants:g,onEntryFocus:At(s,k=>{v.isUsingKeyboardRef.current||k.preventDefault()})},x.createElement(dh.Content,Object.assign({role:"menu","aria-orientation":"vertical","data-state":EI(m.open),"data-aksel-menu-content":"",dir:"ltr"},f,{ref:y,style:Object.assign({outline:"none"},f.style),onKeyDown:At(f.onKeyDown,k=>{var _,E,S,O;k.target.closest("[data-aksel-menu-content]")===k.currentTarget&&k.key==="Tab"&&k.preventDefault();const D=b.current;if(k.target===D&&GK.includes(k.key)){if(k.preventDefault(),hI.includes(k.key)){(E=(_=g.lastEnabled())===null||_===void 0?void 0:_.node)===null||E===void 0||E.focus();return}(O=(S=g.firstEnabled())===null||S===void 0?void 0:S.node)===null||O===void 0||O.focus()}})})))))}),b1="menu.itemSelect",lx=w.forwardRef((r,e)=>{var{disabled:t=!1,onSelect:n,onClick:i,onPointerUp:s,onPointerDown:a,onKeyDown:o,onKeyUp:l}=r,d=Zc(r,["disabled","onSelect","onClick","onPointerUp","onPointerDown","onKeyDown","onKeyUp"]);const c=w.useRef(null),u=Oy(),f=Zn(e,c),g=w.useRef(!1),m=()=>{const b=c.current;if(!t&&b&&n){const y=new CustomEvent(b1,{bubbles:!0,cancelable:!0});b.addEventListener(b1,n,{once:!0}),Uf.flushSync(()=>b.dispatchEvent(y)),y.defaultPrevented?g.current=!1:u.onClose()}else!t&&b&&u.onClose()},v=(b,y)=>{t||b.repeat||y===b.key&&(b.currentTarget.click(),b.preventDefault())};return x.createElement(yI,Object.assign({},d,{tabIndex:t?-1:0,ref:f,disabled:t,onClick:At(i,m,{checkForDefaultPrevented:!1}),onPointerDown:At(a,()=>{g.current=!0},{checkForDefaultPrevented:!1}),onPointerUp:At(s,b=>{var y;g.current||(y=b.currentTarget)===null||y===void 0||y.click()}),onKeyDown:At(o,b=>v(b,"Enter")),onKeyUp:At(l,b=>v(b," "))}))}),yI=w.forwardRef((r,e)=>{var{disabled:t=!1,onPointerMove:n,onPointerLeave:i}=r,s=Zc(r,["disabled","onPointerMove","onPointerLeave"]);const a=Zl(),{register:o}=qK({disabled:t,closeMenu:()=>{s["data-submenu-trigger"]&&a.open&&a.onOpenChange(!1)}}),l=w.useRef(null),d=Zn(e,l,o);return x.createElement(Ay,Object.assign({role:"menuitem","aria-disabled":t||void 0,"data-disabled":t?"":void 0,tabIndex:-1},s,{style:Object.assign({userSelect:"none"},s==null?void 0:s.style),ref:d,onPointerMove:At(n,y1(c=>{var u;t?(u=a.content)===null||u===void 0||u.focus():c.currentTarget.focus()})),onPointerLeave:At(i,y1(()=>{var c;return(c=a.content)===null||c===void 0?void 0:c.focus()}))}))}),kI=w.forwardRef((r,e)=>x.createElement(Ay,Object.assign({role:"group"},r,{ref:e}))),eG=w.forwardRef(({children:r,rootElement:e},t)=>Zl().open?x.createElement(hK,{asChild:!0,rootElement:e,ref:t},r):null),[tG,rG]=Po({providerName:"MenuRadioGroupProvider",hookName:"useMenuRadioGroupContext",defaultValue:{value:void 0,onValueChange:()=>{}}}),nG=x.forwardRef((r,e)=>{var{value:t,onValueChange:n}=r,i=Zc(r,["value","onValueChange"]);const s=Sa(n);return x.createElement(tG,{value:t,onValueChange:s},x.createElement(kI,Object.assign({},i,{ref:e})))}),[_I,iG]=Po({providerName:"MenuItemIndicatorProvider",hookName:"useMenuItemIndicatorContext"}),sG=w.forwardRef((r,e)=>{var{asChild:t}=r,n=Zc(r,["asChild"]);const i=iG();return x.createElement(Ay,Object.assign({},n,{ref:e,"data-state":dx(i.state),"aria-hidden":!0,asChild:t}))}),aG=w.forwardRef((r,e)=>{var{value:t,onSelect:n}=r,i=Zc(r,["value","onSelect"]);const s=rG(),a=t===s.value;return x.createElement(_I,{state:a},x.createElement(lx,Object.assign({role:"menuitemradio","aria-checked":a},i,{ref:e,"data-state":dx(a),onSelect:At(n,()=>{var o;return(o=s.onValueChange)===null||o===void 0?void 0:o.call(s,t)},{checkForDefaultPrevented:!1})})))}),oG=w.forwardRef((r,e)=>{var{checked:t=!1,onCheckedChange:n,onSelect:i}=r,s=Zc(r,["checked","onCheckedChange","onSelect"]);return x.createElement(_I,{state:t},x.createElement(lx,Object.assign({role:"menuitemcheckbox","aria-checked":p_(t)?"mixed":t},s,{ref:e,"data-state":dx(t),onSelect:At(i,()=>n==null?void 0:n(p_(t)?!0:!t),{checkForDefaultPrevented:!1})})))}),lG=w.forwardRef((r,e)=>x.createElement(Ay,Object.assign({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))),[dG,wI]=Po({providerName:"MenuSubProvider",hookName:"useMenuSubContext"}),cG=({children:r,onOpenChange:e,open:t=!1})=>{const n=Zl(),{values:i}=gI(),[s,a]=w.useState(null),[o,l]=w.useState(null),d=Sa(e);return w.useEffect(()=>(n.open===!1&&d(!1),()=>d(!1)),[n.open,d]),x.createElement(dh,null,x.createElement(vI,{open:t,onOpenChange:c=>{d(c),c&&i().forEach(u=>{u.node!==s&&u.closeMenu()})},content:o,onContentChange:l},x.createElement(dG,{contentId:os(),triggerId:os(),trigger:s,onTriggerChange:a},r)))},uG=w.forwardRef((r,e)=>{const t=Zl(),n=wI(),i=Zn(e,n.onTriggerChange),s=(a,o)=>{var l;r.disabled||o.includes(a.key)&&(t.onOpenChange(!0),(l=t.content)===null||l===void 0||l.focus(),a.preventDefault())};return x.createElement(bI,{asChild:!0},x.createElement(yI,Object.assign({id:n.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":n.contentId,"data-state":EI(t.open)},r,{ref:i,"data-submenu-trigger":!0,onClick:a=>{var o;r.disabled||a.defaultPrevented||((o=r.onClick)===null||o===void 0||o.call(r,a),a.currentTarget.focus(),t.onOpenChange(!t.open))},onKeyDown:At(r.onKeyDown,a=>s(a,["Enter","ArrowRight"])),onKeyUp:At(r.onKeyUp,a=>s(a,[" "]))})))}),fG=w.forwardRef((r,e)=>{const t=mI(),n=Zl(),i=Oy(),s=wI(),a=w.useRef(null),o=Zn(e,a);return x.createElement(pI,{value:t},x.createElement(ox,Object.assign({id:s.contentId,"aria-labelledby":s.triggerId},r,{ref:o,align:"start",side:"right",disableOutsidePointerEvents:!1,onOpenAutoFocus:l=>{var d;i.isUsingKeyboardRef.current&&((d=a.current)===null||d===void 0||d.focus()),l.preventDefault()},onCloseAutoFocus:l=>l.preventDefault(),onEscapeKeyDown:At(r.onEscapeKeyDown,l=>{i.onClose(),l.preventDefault()}),onKeyDown:At(r.onKeyDown,l=>{var d,c;const u=l.currentTarget.contains(l.target);let f=l.key==="ArrowLeft";((d=n.content)===null||d===void 0?void 0:d.dataset.side)==="left"&&(f=f||l.key==="ArrowRight"),u&&f&&(n.onOpenChange(!1),(c=s.trigger)===null||c===void 0||c.focus(),l.preventDefault())})})))});function EI(r){return r?"open":"closed"}function p_(r){return r==="indeterminate"}function dx(r){return p_(r)?"indeterminate":r?"checked":"unchecked"}function y1(r){return e=>e.pointerType==="mouse"?r(e):void 0}Bt.Anchor=bI;Bt.Portal=eG;Bt.Content=ZK;Bt.Group=kI;Bt.Item=lx;Bt.CheckboxItem=oG;Bt.RadioGroup=nG;Bt.RadioItem=aG;Bt.Divider=lG;Bt.Sub=cG;Bt.SubTrigger=uG;Bt.SubContent=fG;Bt.ItemIndicator=sG;var zs=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const[hG,cx]=Po({name:"ActionMenuContext",errorMessage:"ActionMenu sub-components cannot be rendered outside the ActionMenu component."}),pG=({children:r,open:e,onOpenChange:t,rootElement:n})=>{const i=w.useRef(null),s=Ub(!1),a=s?s.ref.current:n,[o=!1,l]=Cl({value:e,defaultValue:!1,onChange:t});return x.createElement(hG,{triggerId:os(),triggerRef:i,contentId:os(),open:o,onOpenChange:l,onOpenToggle:()=>l(d=>!d),rootElement:a},x.createElement(Bt,{open:o,onOpenChange:l,modal:!0},r))},Fr=pG,gG=w.forwardRef((r,e)=>{var{children:t,onKeyDown:n,style:i,onClick:s}=r,a=zs(r,["children","onKeyDown","style","onClick"]);const o=cx(),l=Zn(e,o.triggerRef);return x.createElement(Bt.Anchor,{asChild:!0},x.createElement(Kl,Object.assign({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed",ref:l},a,{style:Object.assign(Object.assign({},i),{pointerEvents:o.open?"auto":void 0}),onClick:At(s,o.onOpenToggle),onKeyDown:At(n,d=>{d.key==="ArrowDown"&&(o.onOpenChange(!0),d.preventDefault())})}),uK(t)))}),mG=w.forwardRef((r,e)=>{var{children:t,className:n,style:i,align:s="start"}=r,a=zs(r,["children","className","style","align"]);const o=cx(),{cn:l}=Ce();return x.createElement(Bt.Portal,{rootElement:o.rootElement,asChild:!0},x.createElement(Bt.Content,Object.assign({ref:e,id:o.contentId,"aria-labelledby":o.triggerId,className:l("navds-action-menu__content",n)},a,{align:s,sideOffset:4,collisionPadding:10,onCloseAutoFocus:()=>{var d;(d=o.triggerRef.current)===null||d===void 0||d.focus()},safeZone:{anchor:o.triggerRef.current},style:Object.assign(Object.assign({},i),{"--__ac-action-menu-content-transform-origin":"var(--ac-floating-transform-origin)","--__ac-action-menu-content-available-height":"var(--ac-floating-available-height)"})}),x.createElement("div",{className:l("navds-action-menu__content-inner")},t)))}),vG=w.forwardRef((r,e)=>{var{children:t,className:n}=r,i=zs(r,["children","className"]);const{cn:s}=Ce();return x.createElement("div",Object.assign({ref:e},i,{className:s("navds-action-menu__label",n)}),t)}),bG=w.forwardRef((r,e)=>{var{children:t,className:n,label:i}=r,s=zs(r,["children","className","label"]);const a=os(),{cn:o}=Ce();return x.createElement(Bt.Group,Object.assign({ref:e},s,{className:o("navds-action-menu__group",n),asChild:!1,"aria-labelledby":i?a:void 0}),i&&x.createElement(Fr.Label,{id:a,"aria-hidden":!0},i),t)}),qf=({children:r,className:e,placement:t})=>{const{cn:n}=Ce();return x.createElement("div",{"aria-hidden":!0,className:n(e,"navds-action-menu__marker",`navds-action-menu__marker--${t}`)},r)},xI=({children:r})=>{const{cn:e}=Ce(),t=r.split("+").filter(n=>n!=="");return x.createElement(qf,{placement:"right"},t.map((n,i)=>x.createElement("span",{key:n+i,className:e("navds-action-menu__shortcut")},n)))},yG=w.forwardRef((r,e)=>{var{children:t,as:n="div",className:i,icon:s,shortcut:a,variant:o}=r,l=zs(r,["children","as","className","icon","shortcut","variant"]);const{cn:d}=Ce();return x.createElement(Bt.Item,Object.assign({},l,{className:d("navds-action-menu__item",i,{"navds-action-menu__item--danger":o==="danger","navds-action-menu__item--has-icon":s}),"aria-keyshortcuts":a??void 0,asChild:!0}),x.createElement(n,{ref:e},t,s&&x.createElement(qf,{placement:"left",className:d("navds-action-menu__marker-icon")},s),a&&x.createElement(xI,null,a)))}),kG=w.forwardRef((r,e)=>{var{children:t,className:n,shortcut:i,onSelect:s}=r,a=zs(r,["children","className","shortcut","onSelect"]);const{cn:o}=Ce();return x.createElement(Bt.CheckboxItem,Object.assign({ref:e},a,{onSelect:At(s,l=>{l.preventDefault()}),asChild:!1,className:o("navds-action-menu__item navds-action-menu__item--has-icon",n),"aria-keyshortcuts":i}),t,x.createElement(qf,{placement:"left"},x.createElement(Bt.ItemIndicator,{className:o("navds-action-menu__indicator")},x.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o("navds-action-menu__indicator-icon"),"aria-hidden":!0},x.createElement("g",{className:o("navds-action-menu__indicator-icon--unchecked")},x.createElement("rect",{width:"24",height:"24",rx:"4",fill:"var(--ax-border-neutral, var(--a-border-default))"}),x.createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"3",fill:"var(--ax-bg-default, var(--a-surface-default))",strokeWidth:"2"})),x.createElement("g",{className:o("navds-action-menu__indicator-icon--indeterminate")},x.createElement("rect",{width:"24",height:"24",rx:"4",fill:"var(--ax-bg-strong-pressed, var(--a-surface-action-selected))"}),x.createElement("rect",{x:"6",y:"10",width:"12",height:"4",rx:"1",fill:"var(--ax-bg-default, var(--a-surface-default))"})),x.createElement("g",{className:o("navds-action-menu__indicator-icon--checked")},x.createElement("rect",{width:"24",height:"24",rx:"4",fill:"var(--ax-bg-strong-pressed, var(--a-surface-action-selected))"}),x.createElement("path",{d:"M10.0352 13.4148L16.4752 7.40467C17.0792 6.83965 18.029 6.86933 18.5955 7.47478C19.162 8.08027 19.1296 9.03007 18.5245 9.59621L11.0211 16.5993C10.741 16.859 10.3756 17 10.0002 17C9.60651 17 9.22717 16.8462 8.93914 16.5611L6.43914 14.0611C5.85362 13.4756 5.85362 12.5254 6.43914 11.9399C7.02467 11.3544 7.97483 11.3544 8.56036 11.9399L10.0352 13.4148Z",fill:"var(--ax-bg-default, var(--a-surface-default))"}))))),i&&x.createElement(xI,null,i))}),_G=w.forwardRef((r,e)=>{var{children:t,label:n}=r,i=zs(r,["children","label"]);const s=os();return x.createElement(Bt.RadioGroup,Object.assign({ref:e},i,{asChild:!1,"aria-labelledby":n?s:void 0}),n&&x.createElement(Fr.Label,{id:s,"aria-hidden":!0},n),t)}),wG=w.forwardRef((r,e)=>{var{children:t,className:n,onSelect:i}=r,s=zs(r,["children","className","onSelect"]);const{cn:a}=Ce(),o=Bi(!1);return x.createElement(Bt.RadioItem,Object.assign({ref:e},s,{onSelect:At(i,l=>{l.preventDefault()}),asChild:!1,className:a("navds-action-menu__item navds-action-menu__item--has-icon",n)}),t,x.createElement(qf,{placement:"left"},x.createElement(Bt.ItemIndicator,{className:a("navds-action-menu__indicator")},x.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a("navds-action-menu__indicator-icon"),"aria-hidden":!0},x.createElement("g",{className:a("navds-action-menu__indicator-icon--unchecked")},x.createElement("rect",{width:"24",height:"24",rx:"12",fill:"var(--ax-border-neutral, var(--a-border-default))"}),x.createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"11",strokeWidth:"2",fill:"var(--ax-bg-default, var(--a-surface-default))"})),o!=null&&o.isDarkside?x.createElement("g",{className:a("navds-action-menu__indicator-icon--checked")},x.createElement("rect",{width:"24",height:"24",rx:"12",fill:"var(--ax-bg-strong-pressed)"}),x.createElement("rect",{x:"8",y:"8",width:"8",height:"8",rx:"4",fill:"var(--ax-bg-default, var(--a-surface-default))"})):x.createElement("g",{className:a("navds-action-menu__indicator-icon--checked")},x.createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"11",fill:"var(--ax-bg-default, var(--a-surface-default))"}),x.createElement("rect",{x:"1",y:"1",width:"22",height:"22",rx:"11",stroke:"var(--ax-bg-strong-pressed, var(--a-surface-action-selected))",strokeWidth:"2"}),x.createElement("path",{d:"M20 12C20 16.4178 16.4178 20 12 20C7.58222 20 4 16.4178 4 12C4 7.58222 7.58222 4 12 4C16.4178 4 20 7.58222 20 12Z",fill:"var(--ax-bg-strong-pressed, var(--a-surface-action-selected))"}))))))}),EG=w.forwardRef((r,e)=>{var{className:t}=r,n=zs(r,["className"]);const{cn:i}=Ce();return x.createElement(Bt.Divider,Object.assign({ref:e,asChild:!1},n,{className:i("navds-action-menu__divider",t)}))}),xG=r=>{const{children:e,open:t,onOpenChange:n}=r,[i=!1,s]=Cl({value:t,defaultValue:!1,onChange:n});return x.createElement(Bt.Sub,{open:i,onOpenChange:s},e)},SG=w.forwardRef((r,e)=>{var{children:t,className:n,icon:i}=r,s=zs(r,["children","className","icon"]);const{cn:a}=Ce();return x.createElement(Bt.SubTrigger,Object.assign({ref:e},s,{asChild:!1,className:a("navds-action-menu__item navds-action-menu__sub-trigger",n,{"navds-action-menu__item--has-icon":i})}),t,i&&x.createElement(qf,{placement:"left",className:a("navds-action-menu__marker-icon")},i),x.createElement(qf,{placement:"right",className:a("navds-action-menu__marker-icon")},x.createElement(Ty,{"aria-hidden":!0})))}),TG=w.forwardRef((r,e)=>{var{children:t,className:n,style:i}=r,s=zs(r,["children","className","style"]);const{cn:a}=Ce(),o=cx();return x.createElement(Bt.Portal,{rootElement:o.rootElement},x.createElement(Bt.SubContent,Object.assign({ref:e,alignOffset:-4,sideOffset:1,collisionPadding:10},s,{className:a("navds-action-menu__content navds-action-menu__sub-content",n),style:Object.assign(Object.assign({},i),{"--ac-action-menu-content-transform-origin":"var(--ac-floating-transform-origin)","--ac-action-menu-content-available-width":"var(--ac-floating-available-width)","--ac-action-menu-content-available-height":"var(--ac-floating-available-height)","--ac-action-menu-trigger-width":"var(--ac-floating-anchor-width)","--ac-action-menu-trigger-height":"var(--ac-floating-anchor-height)"})}),x.createElement("div",{className:a("navds-action-menu__content-inner")},t)))});Fr.Trigger=gG;Fr.Content=mG;Fr.Group=bG;Fr.Label=vG;Fr.Item=yG;Fr.CheckboxItem=kG;Fr.RadioGroup=_G;Fr.RadioItem=wG;Fr.Divider=EG;Fr.Sub=xG;Fr.SubTrigger=SG;Fr.SubContent=TG;var AG=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const OG={error:sK,warning:VW,info:WW,success:RW},Rt=w.forwardRef((r,e)=>{var{children:t,className:n,variant:i,size:s="medium",fullWidth:a=!1,contentMaxWidth:o=!0,inline:l=!1,closeButton:d=!1,onClose:c}=r,u=AG(r,["children","className","variant","size","fullWidth","contentMaxWidth","inline","closeButton","onClose"]);const{cn:f}=Ce(),g=$i("Alert"),m=OG[i];return x.createElement("div",Object.assign({},u,{"data-color":CG(i),"data-variant":i,ref:e,className:f(n,"navds-alert",`navds-alert--${i}`,`navds-alert--${s}`,{"navds-alert--full-width":a,"navds-alert--inline":l,"navds-alert--close-button":d})}),x.createElement(m,{title:g(i),className:f("navds-alert__icon")}),x.createElement(Mi,{as:"div",size:s,className:f("navds-alert__wrapper",o&&"navds-alert__wrapper--maxwidth")},t),d&&!l&&x.createElement("div",{className:f("navds-alert__button-wrapper")},x.createElement(ft,{className:f("navds-alert__button"),size:"small",variant:"tertiary-neutral",onClick:c,type:"button",icon:x.createElement(CO,{title:["error","warning"].includes(i)?g("closeAlert"):g("closeMessage")})})))});function CG(r){switch(r){case"warning":return"warning";case"error":return"danger";case"info":return"info";case"success":return"success";default:return"info"}}var jG=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const IG=w.forwardRef((r,e)=>{var{children:t,variant:n,onDelete:i,className:s,onClick:a,type:o="button","data-color":l}=r,d=jG(r,["children","variant","onDelete","className","onClick","type","data-color"]);const c=$i("Chips"),u=Bi(!1),{cn:f}=Ce();let g;return u!=null&&u.isDarkside?g=n:g=n??"action",x.createElement("button",Object.assign({"data-color":l??DG(g)},d,{ref:e,type:o,className:f("navds-chips__chip navds-chips__removable navds-chips--icon-right",s,{[`navds-chips__removable--${g}`]:g}),"aria-label":`${t} ${c("Removable.labelSuffix")}`,onClick:At(a,i)}),x.createElement("span",{className:f("navds-chips__chip-text")},t),x.createElement("span",{className:f("navds-chips__removable-icon")},x.createElement(CO,{"aria-hidden":!0})))});function DG(r){switch(r){case"action":return"accent";case"neutral":return"neutral";default:return}}var RG=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const PG=w.forwardRef((r,e)=>{var{className:t,children:n,selected:i,variant:s,checkmark:a=!0,as:o="button","data-color":l}=r,d=RG(r,["className","children","selected","variant","checkmark","as","data-color"]);const{cn:c}=Ce(),u=Bi(!1);let f;return u!=null&&u.isDarkside?f=s:f=s??"action",x.createElement(o,Object.assign({"data-color":l??NG(f)},d,{ref:e,className:c("navds-chips__chip navds-chips__toggle",t,{"navds-chips__toggle--with-checkmark":a,[`navds-chips__toggle--${f}`]:f}),"aria-pressed":i,"data-pressed":i}),a&&x.createElement("svg",{"aria-hidden":!0,className:c("navds-chips__toggle-icon"),width:"1.25em",height:"1.25em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img"},i?x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 18.125C14.4873 18.125 18.125 14.4873 18.125 10C18.125 5.51269 14.4873 1.875 10 1.875C5.51269 1.875 1.875 5.51269 1.875 10C1.875 14.4873 5.51269 18.125 10 18.125ZM14.128 7.72904C14.3695 7.44357 14.3339 7.01635 14.0485 6.7748C13.763 6.53326 13.3358 6.56886 13.0942 6.85432L8.60428 12.1606L6.41627 9.97263C6.15185 9.70822 5.72315 9.70822 5.45873 9.97263C5.19431 10.2371 5.19431 10.6658 5.45873 10.9302L8.16706 13.6385C8.30095 13.7724 8.48479 13.8441 8.67397 13.8362C8.86316 13.8284 9.0404 13.7416 9.16271 13.5971L14.128 7.72904Z",fill:"currentColor"}):x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 3.125C6.20304 3.125 3.125 6.20304 3.125 10C3.125 13.797 6.20304 16.875 10 16.875C13.797 16.875 16.875 13.797 16.875 10C16.875 6.20304 13.797 3.125 10 3.125ZM1.875 10C1.875 5.51269 5.51269 1.875 10 1.875C14.4873 1.875 18.125 5.51269 18.125 10C18.125 14.4873 14.4873 18.125 10 18.125C5.51269 18.125 1.875 14.4873 1.875 10Z",fill:"var(--ax-text-default, var(--ac-chip-toggle-circle-border, var(--a-border-default)))"})),x.createElement("span",{className:c("navds-chips__chip-text")},n))});function NG(r){switch(r){case"action":return"accent";case"neutral":return"neutral";default:return}}var MG=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Cy=w.forwardRef((r,e)=>{var{className:t,size:n="medium",children:i}=r,s=MG(r,["className","size","children"]);const{cn:a}=Ce();return x.createElement("ul",Object.assign({},s,{ref:e,className:a("navds-chips",t,`navds-chips--${n}`,{"navds-body-short navds-body-short--small":n==="medium","navds-detail navds-detail--small":n==="small"})}),x.Children.map(i,(o,l)=>x.createElement("li",{key:(o==null?void 0:o.toString())||l},o)))});Cy.Toggle=PG;Cy.Removable=IG;var LG=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const FG=w.forwardRef((r,e)=>{var{className:t}=r,n=LG(r,["className"]);const{cn:i}=Ce();return x.createElement("div",Object.assign({},n,{ref:e,className:i("navds-popover__content",t)}))});var VG=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Xv=w.forwardRef((r,e)=>{var{className:t,children:n,anchorEl:i,arrow:s=!0,open:a,onClose:o,placement:l="top",offset:d,strategy:c,flip:u=!0}=r,f=VG(r,["className","children","anchorEl","arrow","open","onClose","placement","offset","strategy","flip"]);const{cn:g}=Ce(),m=w.useRef(null),v=Ub(!1)!==void 0,b=k5(!1),y=c??(v?"fixed":"absolute"),k=b?!1:u,_=Bi(!1),{update:E,refs:S,placement:O,middlewareData:{arrow:{x:T,y:C}={}},floatingStyles:D}=_5({strategy:y,placement:l,open:a,middleware:[SO(d??(_!=null&&_.isDarkside?8:s?16:4)),k&&AO({padding:5,fallbackPlacements:["bottom","top"]}),TO({padding:12}),OO({element:m,padding:8})]});Nl(()=>{S.setReference(i)},[i]);const R=Zn(S.setFloating,e);Nl(()=>{if(!S.reference.current||!S.floating.current||!a)return;const P=N0(S.reference.current,S.floating.current,E);return()=>P()},[S.floating,S.reference,E,a,i]);const L={top:"bottom",right:"left",bottom:"top",left:"right"}[O.split("-")[0]];return x.createElement(oI,{asChild:!0,safeZone:{anchor:i,dismissable:S.floating.current},onDismiss:()=>a&&(o==null?void 0:o()),enabled:a},x.createElement("div",Object.assign({ref:R},f,{className:g("navds-popover",t,{"navds-popover--hidden":!a||!i}),style:Object.assign(Object.assign({},f.style),D),"data-placement":O,"aria-hidden":!a||!i}),n,s&&!(_!=null&&_.isDarkside)&&x.createElement("div",{ref:P=>{m.current=P},style:Object.assign(Object.assign(Object.assign({},T!=null?{left:T}:{}),C!=null?{top:C}:{}),L?{[L]:"-0.5rem"}:{}),className:g("navds-popover__arrow")})))});Xv.Content=FG;const HG={single:"chooseDate",multiple:"chooseDates",range:"chooseDateRange",month:"chooseMonth"},UG=({open:r,children:e,onClose:t,anchor:n,locale:i,translate:s,variant:a,popoverProps:o})=>{const l=$i("global",w5(i)),{cn:d}=Ce(),c=w.useRef(null),u=Ub(!1)!==void 0;return cK("screen and (min-width: 768px)",!0)&&!u?x.createElement(Xv,Object.assign({arrow:!1,anchorEl:n,open:r,onClose:t,placement:"bottom-start",role:"dialog",className:d("navds-date__popover",{"navds-date":a==="month"}),flip:!1},o),e):x.createElement(gc,{ref:c,open:r,onClose:g=>{g.stopPropagation(),t()},"aria-label":s(HG[a]),className:d("navds-date__modal",{"navds-date__nested-modal":u,"navds-date":a==="month"}),closeOnBackdropClick:!0,placement:"top"},x.createElement("div",{className:d("navds-date__modal-body")},e,x.createElement(ft,{variant:"tertiary",onClick:()=>{var g;return(g=c==null?void 0:c.current)===null||g===void 0?void 0:g.close()},size:"small",type:"button"},l("close"))))};function SI(r){return!!(r&&typeof r=="object"&&"from"in r)}const qk={},Vh={};function ap(r,e){try{const n=(qk[r]||(qk[r]=new Intl.DateTimeFormat("en-GB",{timeZone:r,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return n in Vh?Vh[n]:k1(n,n.split(":"))}catch{if(r in Vh)return Vh[r];const t=r==null?void 0:r.match(BG);return t?k1(r,t.slice(1)):NaN}}const BG=/([+-]\d\d):?(\d\d)?/;function k1(r,e){const t=+e[0],n=+(e[1]||0);return Vh[r]=t>0?t*60+n:t*60-n}class _a extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(ap(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),TI(this),g_(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new _a(...t,e):new _a(Date.now(),e)}withTimeZone(e){return new _a(+this,e)}getTimezoneOffset(){return-ap(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),g_(this),+this}[Symbol.for("constructDateFrom")](e){return new _a(+new Date(e),this.timeZone)}}const _1=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(r=>{if(!_1.test(r))return;const e=r.replace(_1,"$1UTC");_a.prototype[e]&&(r.startsWith("get")?_a.prototype[r]=function(){return this.internal[e]()}:(_a.prototype[r]=function(){return Date.prototype[e].apply(this.internal,arguments),$G(this),+this},_a.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),g_(this),+this}))});function g_(r){r.internal.setTime(+r),r.internal.setUTCMinutes(r.internal.getUTCMinutes()-r.getTimezoneOffset())}function $G(r){Date.prototype.setFullYear.call(r,r.internal.getUTCFullYear(),r.internal.getUTCMonth(),r.internal.getUTCDate()),Date.prototype.setHours.call(r,r.internal.getUTCHours(),r.internal.getUTCMinutes(),r.internal.getUTCSeconds(),r.internal.getUTCMilliseconds()),TI(r)}function TI(r){const e=ap(r.timeZone,r),t=new Date(+r);t.setUTCHours(t.getUTCHours()-1);const n=-new Date(+r).getTimezoneOffset(),i=-new Date(+t).getTimezoneOffset(),s=n-i,a=Date.prototype.getHours.apply(r)!==r.internal.getUTCHours();s&&a&&r.internal.setUTCMinutes(r.internal.getUTCMinutes()+s);const o=n-e;o&&Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+o);const l=ap(r.timeZone,r),c=-new Date(+r).getTimezoneOffset()-l,u=l!==e,f=c-o;if(u&&f){Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+f);const g=ap(r.timeZone,r),m=l-g;m&&(r.internal.setUTCMinutes(r.internal.getUTCMinutes()+m),Date.prototype.setUTCMinutes.call(r,Date.prototype.getUTCMinutes.call(r)+m))}}class Cn extends _a{static tz(e,...t){return t.length?new Cn(...t,e):new Cn(Date.now(),e)}toISOString(){const[e,t,n]=this.tzComponents(),i=`${e}${t}:${n}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,n,i]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${n} ${t} ${i}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,n,i]=this.tzComponents();return`${e} GMT${t}${n}${i} (${zG(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",n=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),i=String(Math.abs(e)%60).padStart(2,"0");return[t,n,i]}withTimeZone(e){return new Cn(+this,e)}[Symbol.for("constructDateFrom")](e){return new Cn(+new Date(e),this.timeZone)}}function zG(r,e){return new Intl.DateTimeFormat("en-GB",{timeZone:r,timeZoneName:"long"}).format(e).slice(12)}var Ue;(function(r){r.Root="root",r.Chevron="chevron",r.Day="day",r.DayButton="day_button",r.CaptionLabel="caption_label",r.Dropdowns="dropdowns",r.Dropdown="dropdown",r.DropdownRoot="dropdown_root",r.Footer="footer",r.MonthGrid="month_grid",r.MonthCaption="month_caption",r.MonthsDropdown="months_dropdown",r.Month="month",r.Months="months",r.Nav="nav",r.NextMonthButton="button_next",r.PreviousMonthButton="button_previous",r.Week="week",r.Weeks="weeks",r.Weekday="weekday",r.Weekdays="weekdays",r.WeekNumber="week_number",r.WeekNumberHeader="week_number_header",r.YearsDropdown="years_dropdown"})(Ue||(Ue={}));var cr;(function(r){r.disabled="disabled",r.hidden="hidden",r.outside="outside",r.focused="focused",r.today="today"})(cr||(cr={}));var Ps;(function(r){r.range_end="range_end",r.range_middle="range_middle",r.range_start="range_start",r.selected="selected"})(Ps||(Ps={}));var Oi;(function(r){r.weeks_before_enter="weeks_before_enter",r.weeks_before_exit="weeks_before_exit",r.weeks_after_enter="weeks_after_enter",r.weeks_after_exit="weeks_after_exit",r.caption_after_enter="caption_after_enter",r.caption_after_exit="caption_after_exit",r.caption_before_enter="caption_before_enter",r.caption_before_exit="caption_before_exit"})(Oi||(Oi={}));const w1=5,WG=4;function KG(r,e){const t=e.startOfMonth(r),n=t.getDay()>0?t.getDay():7,i=e.addDays(r,-n+1),s=e.addDays(i,w1*7-1);return e.getMonth(r)===e.getMonth(s)?w1:WG}function AI(r,e){const t=e.startOfMonth(r),n=t.getDay();return n===1?t:n===0?e.addDays(t,-1*6):e.addDays(t,-1*(n-1))}function GG(r,e){const t=AI(r,e),n=KG(r,e);return e.addDays(t,n*7-1)}class Lo{constructor(e,t){this.Date=Date,this.today=()=>{var n;return(n=this.overrides)!=null&&n.today?this.overrides.today():this.options.timeZone?Cn.tz(this.options.timeZone):new this.Date},this.newDate=(n,i,s)=>{var a;return(a=this.overrides)!=null&&a.newDate?this.overrides.newDate(n,i,s):this.options.timeZone?new Cn(n,i,s,this.options.timeZone):new Date(n,i,s)},this.addDays=(n,i)=>{var s;return(s=this.overrides)!=null&&s.addDays?this.overrides.addDays(n,i):$c(n,i)},this.addMonths=(n,i)=>{var s;return(s=this.overrides)!=null&&s.addMonths?this.overrides.addMonths(n,i):$b(n,i)},this.addWeeks=(n,i)=>{var s;return(s=this.overrides)!=null&&s.addWeeks?this.overrides.addWeeks(n,i):D5(n,i)},this.addYears=(n,i)=>{var s;return(s=this.overrides)!=null&&s.addYears?this.overrides.addYears(n,i):dE(n,i)},this.differenceInCalendarDays=(n,i)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,i):jn(n,i)},this.differenceInCalendarMonths=(n,i)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,i):UO(n,i)},this.eachMonthOfInterval=n=>{var i;return(i=this.overrides)!=null&&i.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):WO(n)},this.endOfBroadcastWeek=n=>{var i;return(i=this.overrides)!=null&&i.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):GG(n,this)},this.endOfISOWeek=n=>{var i;return(i=this.overrides)!=null&&i.endOfISOWeek?this.overrides.endOfISOWeek(n):U5(n)},this.endOfMonth=n=>{var i;return(i=this.overrides)!=null&&i.endOfMonth?this.overrides.endOfMonth(n):fE(n)},this.endOfWeek=(n,i)=>{var s;return(s=this.overrides)!=null&&s.endOfWeek?this.overrides.endOfWeek(n,i):KO(n,this.options)},this.endOfYear=n=>{var i;return(i=this.overrides)!=null&&i.endOfYear?this.overrides.endOfYear(n):Wb(n)},this.format=(n,i,s)=>{var o;const a=(o=this.overrides)!=null&&o.format?this.overrides.format(n,i,this.options):ui(n,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=n=>{var i;return(i=this.overrides)!=null&&i.getISOWeek?this.overrides.getISOWeek(n):hE(n)},this.getMonth=(n,i)=>{var s;return(s=this.overrides)!=null&&s.getMonth?this.overrides.getMonth(n,this.options):mE(n,this.options)},this.getYear=(n,i)=>{var s;return(s=this.overrides)!=null&&s.getYear?this.overrides.getYear(n,this.options):vE(n,this.options)},this.getWeek=(n,i)=>{var s;return(s=this.overrides)!=null&&s.getWeek?this.overrides.getWeek(n,this.options):gE(n,this.options)},this.isAfter=(n,i)=>{var s;return(s=this.overrides)!=null&&s.isAfter?this.overrides.isAfter(n,i):Us(n,i)},this.isBefore=(n,i)=>{var s;return(s=this.overrides)!=null&&s.isBefore?this.overrides.isBefore(n,i):Ls(n,i)},this.isDate=n=>{var i;return(i=this.overrides)!=null&&i.isDate?this.overrides.isDate(n):cE(n)},this.isSameDay=(n,i)=>{var s;return(s=this.overrides)!=null&&s.isSameDay?this.overrides.isSameDay(n,i):zb(n,i)},this.isSameMonth=(n,i)=>{var s;return(s=this.overrides)!=null&&s.isSameMonth?this.overrides.isSameMonth(n,i):i3(n,i)},this.isSameYear=(n,i)=>{var s;return(s=this.overrides)!=null&&s.isSameYear?this.overrides.isSameYear(n,i):tC(n,i)},this.max=n=>{var i;return(i=this.overrides)!=null&&i.max?this.overrides.max(n):R5(n)},this.min=n=>{var i;return(i=this.overrides)!=null&&i.min?this.overrides.min(n):P5(n)},this.setMonth=(n,i)=>{var s;return(s=this.overrides)!=null&&s.setMonth?this.overrides.setMonth(n,i):nC(n,i)},this.setYear=(n,i)=>{var s;return(s=this.overrides)!=null&&s.setYear?this.overrides.setYear(n,i):iC(n,i)},this.startOfBroadcastWeek=(n,i)=>{var s;return(s=this.overrides)!=null&&s.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):AI(n,this)},this.startOfDay=n=>{var i;return(i=this.overrides)!=null&&i.startOfDay?this.overrides.startOfDay(n):dn(n)},this.startOfISOWeek=n=>{var i;return(i=this.overrides)!=null&&i.startOfISOWeek?this.overrides.startOfISOWeek(n):wc(n)},this.startOfMonth=n=>{var i;return(i=this.overrides)!=null&&i.startOfMonth?this.overrides.startOfMonth(n):Ec(n)},this.startOfWeek=(n,i)=>{var s;return(s=this.overrides)!=null&&s.startOfWeek?this.overrides.startOfWeek(n,this.options):Ao(n,this.options)},this.startOfYear=n=>{var i;return(i=this.overrides)!=null&&i.startOfYear?this.overrides.startOfYear(n):Wg(n)},this.options={locale:Kg,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),n={};for(let i=0;i<10;i++)n[i.toString()]=t.format(i);return n}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,n=>t[n]||n)}formatNumber(e){return this.replaceDigits(e.toString())}}const ja=new Lo;class OI{constructor(e,t,n=ja){this.date=e,this.displayMonth=t,this.outside=!!(t&&!n.isSameMonth(e,t)),this.dateLib=n}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class qG{constructor(e,t){this.date=e,this.weeks=t}}class YG{constructor(e,t){this.days=t,this.weekNumber=e}}function go(r,e,t=!1,n=ja){let{from:i,to:s}=r;const{differenceInCalendarDays:a,isSameDay:o}=n;return i&&s?(a(s,i)<0&&([i,s]=[s,i]),a(e,i)>=(t?1:0)&&a(s,e)>=(t?1:0)):!t&&s?o(s,e):!t&&i?o(i,e):!1}function CI(r){return!!(r&&typeof r=="object"&&"before"in r&&"after"in r)}function ux(r){return!!(r&&typeof r=="object"&&"from"in r)}function jI(r){return!!(r&&typeof r=="object"&&"after"in r)}function II(r){return!!(r&&typeof r=="object"&&"before"in r)}function DI(r){return!!(r&&typeof r=="object"&&"dayOfWeek"in r)}function RI(r,e){return Array.isArray(r)&&r.every(e.isDate)}function yn(r,e,t=ja){const n=Array.isArray(e)?e:[e],{isSameDay:i,differenceInCalendarDays:s,isAfter:a}=t;return n.some(o=>{if(typeof o=="boolean")return o;if(t.isDate(o))return i(r,o);if(RI(o,t))return o.includes(r);if(ux(o))return go(o,r,!1,t);if(DI(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(r.getDay()):o.dayOfWeek===r.getDay();if(CI(o)){const l=s(o.before,r),d=s(o.after,r),c=l>0,u=d<0;return a(o.before,o.after)?u&&c:c||u}return jI(o)?s(r,o.after)>0:II(o)?s(o.before,r)>0:typeof o=="function"?o(r):!1})}function XG(r,e,t){const{disabled:n,hidden:i,modifiers:s,showOutsideDays:a,broadcastCalendar:o,today:l}=e,{isSameDay:d,isSameMonth:c,startOfMonth:u,isBefore:f,endOfMonth:g,isAfter:m}=t,v=e.startMonth&&u(e.startMonth),b=e.endMonth&&g(e.endMonth),y={[cr.focused]:[],[cr.outside]:[],[cr.disabled]:[],[cr.hidden]:[],[cr.today]:[]},k={};for(const _ of r){const{date:E,displayMonth:S}=_,O=!!(S&&!c(E,S)),T=!!(v&&f(E,v)),C=!!(b&&m(E,b)),D=!!(n&&yn(E,n,t)),R=!!(i&&yn(E,i,t))||T||C||!o&&!a&&O||o&&a===!1&&O,L=d(E,l??t.today());O&&y.outside.push(_),D&&y.disabled.push(_),R&&y.hidden.push(_),L&&y.today.push(_),s&&Object.keys(s).forEach(P=>{const F=s==null?void 0:s[P];F&&yn(E,F,t)&&(k[P]?k[P].push(_):k[P]=[_])})}return _=>{const E={[cr.focused]:!1,[cr.disabled]:!1,[cr.hidden]:!1,[cr.outside]:!1,[cr.today]:!1},S={};for(const O in y){const T=y[O];E[O]=T.some(C=>C===_)}for(const O in k)S[O]=k[O].some(T=>T===_);return{...E,...S}}}function ZG(r,e,t={}){return Object.entries(r).filter(([,i])=>i===!0).reduce((i,[s])=>(t[s]?i.push(t[s]):e[cr[s]]?i.push(e[cr[s]]):e[Ps[s]]&&i.push(e[Ps[s]]),i),[e[Ue.Day]])}function JG(r){return x.createElement("button",{...r})}function QG(r){return x.createElement("span",{...r})}function eq(r){const{size:e=24,orientation:t="left",className:n}=r;return x.createElement("svg",{className:n,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&x.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&x.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&x.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&x.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function tq(r){const{day:e,modifiers:t,...n}=r;return x.createElement("td",{...n})}function rq(r){const{day:e,modifiers:t,...n}=r,i=x.useRef(null);return x.useEffect(()=>{var s;t.focused&&((s=i.current)==null||s.focus())},[t.focused]),x.createElement("button",{ref:i,...n})}function nq(r){const{options:e,className:t,components:n,classNames:i,...s}=r,a=[i[Ue.Dropdown],t].join(" "),o=e==null?void 0:e.find(({value:l})=>l===s.value);return x.createElement("span",{"data-disabled":s.disabled,className:i[Ue.DropdownRoot]},x.createElement(n.Select,{className:a,...s},e==null?void 0:e.map(({value:l,label:d,disabled:c})=>x.createElement(n.Option,{key:l,value:l,disabled:c},d))),x.createElement("span",{className:i[Ue.CaptionLabel],"aria-hidden":!0},o==null?void 0:o.label,x.createElement(n.Chevron,{orientation:"down",size:18,className:i[Ue.Chevron]})))}function iq(r){return x.createElement("div",{...r})}function sq(r){return x.createElement("div",{...r})}function aq(r){const{calendarMonth:e,displayIndex:t,...n}=r;return x.createElement("div",{...n},r.children)}function oq(r){const{calendarMonth:e,displayIndex:t,...n}=r;return x.createElement("div",{...n})}function lq(r){return x.createElement("table",{...r})}function dq(r){return x.createElement("div",{...r})}const PI=w.createContext(void 0);function Jc(){const r=w.useContext(PI);if(r===void 0)throw new Error("useDayPicker() must be used within a custom component.");return r}function cq(r){const{components:e}=Jc();return x.createElement(e.Dropdown,{...r})}function uq(r){const{onPreviousClick:e,onNextClick:t,previousMonth:n,nextMonth:i,...s}=r,{components:a,classNames:o,labels:{labelPrevious:l,labelNext:d}}=Jc(),c=w.useCallback(f=>{i&&(t==null||t(f))},[i,t]),u=w.useCallback(f=>{n&&(e==null||e(f))},[n,e]);return x.createElement("nav",{...s},x.createElement(a.PreviousMonthButton,{type:"button",className:o[Ue.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":l(n),onClick:u},x.createElement(a.Chevron,{disabled:n?void 0:!0,className:o[Ue.Chevron],orientation:"left"})),x.createElement(a.NextMonthButton,{type:"button",className:o[Ue.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":d(i),onClick:c},x.createElement(a.Chevron,{disabled:i?void 0:!0,orientation:"right",className:o[Ue.Chevron]})))}function fq(r){const{components:e}=Jc();return x.createElement(e.Button,{...r})}function hq(r){return x.createElement("option",{...r})}function pq(r){const{components:e}=Jc();return x.createElement(e.Button,{...r})}function gq(r){const{rootRef:e,...t}=r;return x.createElement("div",{...t,ref:e})}function mq(r){return x.createElement("select",{...r})}function vq(r){const{week:e,...t}=r;return x.createElement("tr",{...t})}function bq(r){return x.createElement("th",{...r})}function yq(r){return x.createElement("thead",{"aria-hidden":!0},x.createElement("tr",{...r}))}function kq(r){const{week:e,...t}=r;return x.createElement("th",{...t})}function _q(r){return x.createElement("th",{...r})}function wq(r){return x.createElement("tbody",{...r})}function Eq(r){const{components:e}=Jc();return x.createElement(e.Dropdown,{...r})}const xq=Object.freeze(Object.defineProperty({__proto__:null,Button:JG,CaptionLabel:QG,Chevron:eq,Day:tq,DayButton:rq,Dropdown:nq,DropdownNav:iq,Footer:sq,Month:aq,MonthCaption:oq,MonthGrid:lq,Months:dq,MonthsDropdown:cq,Nav:uq,NextMonthButton:fq,Option:hq,PreviousMonthButton:pq,Root:gq,Select:mq,Week:vq,WeekNumber:kq,WeekNumberHeader:_q,Weekday:bq,Weekdays:yq,Weeks:wq,YearsDropdown:Eq},Symbol.toStringTag,{value:"Module"}));function Sq(r){return{...xq,...r}}function Tq(r){const e={"data-mode":r.mode??void 0,"data-required":"required"in r?r.required:void 0,"data-multiple-months":r.numberOfMonths&&r.numberOfMonths>1||void 0,"data-week-numbers":r.showWeekNumber||void 0,"data-broadcast-calendar":r.broadcastCalendar||void 0,"data-nav-layout":r.navLayout||void 0};return Object.entries(r).forEach(([t,n])=>{t.startsWith("data-")&&(e[t]=n)}),e}function Aq(){const r={};for(const e in Ue)r[Ue[e]]=`rdp-${Ue[e]}`;for(const e in cr)r[cr[e]]=`rdp-${cr[e]}`;for(const e in Ps)r[Ps[e]]=`rdp-${Ps[e]}`;for(const e in Oi)r[Oi[e]]=`rdp-${Oi[e]}`;return r}function NI(r,e,t){return(t??new Lo(e)).format(r,"LLLL y")}const Oq=NI;function Cq(r,e,t){return(t??new Lo(e)).format(r,"d")}function jq(r,e=ja){return e.format(r,"LLLL")}function Iq(r,e=ja){return r<10?e.formatNumber(`0${r.toLocaleString()}`):e.formatNumber(`${r.toLocaleString()}`)}function Dq(){return""}function Rq(r,e,t){return(t??new Lo(e)).format(r,"cccccc")}function MI(r,e=ja){return e.format(r,"yyyy")}const Pq=MI,Nq=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:NI,formatDay:Cq,formatMonthCaption:Oq,formatMonthDropdown:jq,formatWeekNumber:Iq,formatWeekNumberHeader:Dq,formatWeekdayName:Rq,formatYearCaption:Pq,formatYearDropdown:MI},Symbol.toStringTag,{value:"Module"}));function Mq(r){return r!=null&&r.formatMonthCaption&&!r.formatCaption&&(r.formatCaption=r.formatMonthCaption),r!=null&&r.formatYearCaption&&!r.formatYearDropdown&&(r.formatYearDropdown=r.formatYearCaption),{...Nq,...r}}function Lq(r,e,t,n,i){const{startOfMonth:s,startOfYear:a,endOfYear:o,eachMonthOfInterval:l,getMonth:d}=i;return l({start:a(r),end:o(r)}).map(f=>{const g=n.formatMonthDropdown(f,i),m=d(f),v=e&&f<s(e)||t&&f>s(t)||!1;return{value:m,label:g,disabled:v}})}function Fq(r,e={},t={}){let n={...e==null?void 0:e[Ue.Day]};return Object.entries(r).filter(([,i])=>i===!0).forEach(([i])=>{n={...n,...t==null?void 0:t[i]}}),n}function Vq(r,e,t){const n=r.today(),i=e?r.startOfISOWeek(n):r.startOfWeek(n),s=[];for(let a=0;a<7;a++){const o=r.addDays(i,a);s.push(o)}return s}function Hq(r,e,t,n){if(!r||!e)return;const{startOfYear:i,endOfYear:s,addYears:a,getYear:o,isBefore:l,isSameYear:d}=n,c=i(r),u=s(e),f=[];let g=c;for(;l(g,u)||d(g,u);)f.push(g),g=a(g,1);return f.map(m=>{const v=t.formatYearDropdown(m,n);return{value:o(m),label:v,disabled:!1}})}function LI(r,e,t){return(t??new Lo(e)).format(r,"LLLL y")}const Uq=LI;function Bq(r,e,t,n){let i=(n??new Lo(t)).format(r,"PPPP");return e!=null&&e.today&&(i=`Today, ${i}`),i}function FI(r,e,t,n){let i=(n??new Lo(t)).format(r,"PPPP");return e.today&&(i=`Today, ${i}`),e.selected&&(i=`${i}, selected`),i}const $q=FI;function zq(){return""}function Wq(r){return"Choose the Month"}function Kq(r){return"Go to the Next Month"}function Gq(r){return"Go to the Previous Month"}function qq(r,e,t){return(t??new Lo(e)).format(r,"cccc")}function Yq(r,e){return`Week ${r}`}function Xq(r){return"Week Number"}function Zq(r){return"Choose the Year"}const Jq=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Uq,labelDay:$q,labelDayButton:FI,labelGrid:LI,labelGridcell:Bq,labelMonthDropdown:Wq,labelNav:zq,labelNext:Kq,labelPrevious:Gq,labelWeekNumber:Yq,labelWeekNumberHeader:Xq,labelWeekday:qq,labelYearDropdown:Zq},Symbol.toStringTag,{value:"Module"})),em=r=>r instanceof HTMLElement?r:null,Yk=r=>[...r.querySelectorAll("[data-animated-month]")??[]],Qq=r=>em(r.querySelector("[data-animated-month]")),Xk=r=>em(r.querySelector("[data-animated-caption]")),Zk=r=>em(r.querySelector("[data-animated-weeks]")),eY=r=>em(r.querySelector("[data-animated-nav]")),tY=r=>em(r.querySelector("[data-animated-weekdays]"));function rY(r,e,{classNames:t,months:n,focused:i,dateLib:s}){const a=w.useRef(null),o=w.useRef(n),l=w.useRef(!1);w.useLayoutEffect(()=>{const d=o.current;if(o.current=n,!e||!r.current||!(r.current instanceof HTMLElement)||n.length===0||d.length===0||n.length!==d.length)return;const c=s.isSameMonth(n[0].date,d[0].date),u=s.isAfter(n[0].date,d[0].date),f=u?t[Oi.caption_after_enter]:t[Oi.caption_before_enter],g=u?t[Oi.weeks_after_enter]:t[Oi.weeks_before_enter],m=a.current,v=r.current.cloneNode(!0);if(v instanceof HTMLElement?(Yk(v).forEach(_=>{if(!(_ instanceof HTMLElement))return;const E=Qq(_);E&&_.contains(E)&&_.removeChild(E);const S=Xk(_);S&&S.classList.remove(f);const O=Zk(_);O&&O.classList.remove(g)}),a.current=v):a.current=null,l.current||c||i)return;const b=m instanceof HTMLElement?Yk(m):[],y=Yk(r.current);if(y&&y.every(k=>k instanceof HTMLElement)&&b&&b.every(k=>k instanceof HTMLElement)){l.current=!0,r.current.style.isolation="isolate";const k=eY(r.current);k&&(k.style.zIndex="1"),y.forEach((_,E)=>{const S=b[E];if(!S)return;_.style.position="relative",_.style.overflow="hidden";const O=Xk(_);O&&O.classList.add(f);const T=Zk(_);T&&T.classList.add(g);const C=()=>{l.current=!1,r.current&&(r.current.style.isolation=""),k&&(k.style.zIndex=""),O&&O.classList.remove(f),T&&T.classList.remove(g),_.style.position="",_.style.overflow="",_.contains(S)&&_.removeChild(S)};S.style.pointerEvents="none",S.style.position="absolute",S.style.overflow="hidden",S.setAttribute("aria-hidden","true");const D=tY(S);D&&(D.style.opacity="0");const R=Xk(S);R&&(R.classList.add(u?t[Oi.caption_before_exit]:t[Oi.caption_after_exit]),R.addEventListener("animationend",C));const L=Zk(S);L&&L.classList.add(u?t[Oi.weeks_before_exit]:t[Oi.weeks_after_exit]),_.insertBefore(S,_.firstChild)})}})}function nY(r,e,t,n){const i=r[0],s=r[r.length-1],{ISOWeek:a,fixedWeeks:o,broadcastCalendar:l}=t??{},{addDays:d,differenceInCalendarDays:c,differenceInCalendarMonths:u,endOfBroadcastWeek:f,endOfISOWeek:g,endOfMonth:m,endOfWeek:v,isAfter:b,startOfBroadcastWeek:y,startOfISOWeek:k,startOfWeek:_}=n,E=l?y(i,n):a?k(i):_(i),S=l?f(s):a?g(m(s)):v(m(s)),O=c(S,E),T=u(s,i)+1,C=[];for(let L=0;L<=O;L++){const P=d(E,L);if(e&&b(P,e))break;C.push(P)}const R=(l?35:42)*T;if(o&&C.length<R){const L=R-C.length;for(let P=0;P<L;P++){const F=d(C[C.length-1],1);C.push(F)}}return C}function iY(r){const e=[];return r.reduce((t,n)=>{const i=n.weeks.reduce((s,a)=>[...s,...a.days],e);return[...t,...i]},e)}function sY(r,e,t,n){const{numberOfMonths:i=1}=t,s=[];for(let a=0;a<i;a++){const o=n.addMonths(r,a);if(e&&o>e)break;s.push(o)}return s}function E1(r,e){const{month:t,defaultMonth:n,today:i=e.today(),numberOfMonths:s=1,endMonth:a,startMonth:o}=r;let l=t||n||i;const{differenceInCalendarMonths:d,addMonths:c,startOfMonth:u}=e;if(a&&d(a,l)<0){const f=-1*(s-1);l=c(a,f)}return o&&d(l,o)<0&&(l=o),u(l)}function aY(r,e,t,n){const{addDays:i,endOfBroadcastWeek:s,endOfISOWeek:a,endOfMonth:o,endOfWeek:l,getISOWeek:d,getWeek:c,startOfBroadcastWeek:u,startOfISOWeek:f,startOfWeek:g}=n,m=r.reduce((v,b)=>{const y=t.broadcastCalendar?u(b,n):t.ISOWeek?f(b):g(b),k=t.broadcastCalendar?s(b):t.ISOWeek?a(o(b)):l(o(b)),_=e.filter(T=>T>=y&&T<=k),E=t.broadcastCalendar?35:42;if(t.fixedWeeks&&_.length<E){const T=e.filter(C=>{const D=E-_.length;return C>k&&C<=i(k,D)});_.push(...T)}const S=_.reduce((T,C)=>{const D=t.ISOWeek?d(C):c(C),R=T.find(P=>P.weekNumber===D),L=new OI(C,b,n);return R?R.days.push(L):T.push(new YG(D,[L])),T},[]),O=new qG(b,S);return v.push(O),v},[]);return t.reverseMonths?m.reverse():m}function oY(r,e){let{startMonth:t,endMonth:n}=r;const{startOfYear:i,startOfDay:s,startOfMonth:a,endOfMonth:o,addYears:l,endOfYear:d,newDate:c,today:u}=e,{fromYear:f,toYear:g,fromMonth:m,toMonth:v}=r;!t&&m&&(t=m),!t&&f&&(t=e.newDate(f,0,1)),!n&&v&&(n=v),!n&&g&&(n=c(g,11,31));const b=r.captionLayout==="dropdown"||r.captionLayout==="dropdown-years";return t?t=a(t):f?t=c(f,0,1):!t&&b&&(t=i(l(r.today??u(),-100))),n?n=o(n):g?n=c(g,11,31):!n&&b&&(n=d(r.today??u())),[t&&s(t),n&&s(n)]}function lY(r,e,t,n){if(t.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s=1}=t,{startOfMonth:a,addMonths:o,differenceInCalendarMonths:l}=n,d=i?s:1,c=a(r);if(!e)return o(c,d);if(!(l(e,r)<s))return o(c,d)}function dY(r,e,t,n){if(t.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s}=t,{startOfMonth:a,addMonths:o,differenceInCalendarMonths:l}=n,d=i?s??1:1,c=a(r);if(!e)return o(c,-d);if(!(l(c,e)<=0))return o(c,-d)}function cY(r){const e=[];return r.reduce((t,n)=>[...t,...n.weeks],e)}function jy(r,e){const[t,n]=w.useState(r);return[e===void 0?t:e,n]}function uY(r,e){const[t,n]=oY(r,e),{startOfMonth:i,endOfMonth:s}=e,a=E1(r,e),[o,l]=jy(a,r.month?a:void 0);w.useEffect(()=>{const O=E1(r,e);l(O)},[r.timeZone]);const d=sY(o,n,r,e),c=nY(d,r.endMonth?s(r.endMonth):void 0,r,e),u=aY(d,c,r,e),f=cY(u),g=iY(u),m=dY(o,t,r,e),v=lY(o,n,r,e),{disableNavigation:b,onMonthChange:y}=r,k=O=>f.some(T=>T.days.some(C=>C.isEqualTo(O))),_=O=>{if(b)return;let T=i(O);t&&T<i(t)&&(T=i(t)),n&&T>i(n)&&(T=i(n)),l(T),y==null||y(T)};return{months:u,weeks:f,days:g,navStart:t,navEnd:n,previousMonth:m,nextMonth:v,goToMonth:_,goToDay:O=>{k(O)||_(O.date)}}}var Zs;(function(r){r[r.Today=0]="Today",r[r.Selected=1]="Selected",r[r.LastFocused=2]="LastFocused",r[r.FocusedModifier=3]="FocusedModifier"})(Zs||(Zs={}));function x1(r){return!r[cr.disabled]&&!r[cr.hidden]&&!r[cr.outside]}function fY(r,e,t,n){let i,s=-1;for(const a of r){const o=e(a);x1(o)&&(o[cr.focused]&&s<Zs.FocusedModifier?(i=a,s=Zs.FocusedModifier):n!=null&&n.isEqualTo(a)&&s<Zs.LastFocused?(i=a,s=Zs.LastFocused):t(a.date)&&s<Zs.Selected?(i=a,s=Zs.Selected):o[cr.today]&&s<Zs.Today&&(i=a,s=Zs.Today))}return i||(i=r.find(a=>x1(e(a)))),i}function hY(r,e,t,n,i,s,a){const{ISOWeek:o,broadcastCalendar:l}=s,{addDays:d,addMonths:c,addWeeks:u,addYears:f,endOfBroadcastWeek:g,endOfISOWeek:m,endOfWeek:v,max:b,min:y,startOfBroadcastWeek:k,startOfISOWeek:_,startOfWeek:E}=a;let O={day:d,week:u,month:c,year:f,startOfWeek:T=>l?k(T,a):o?_(T):E(T),endOfWeek:T=>l?g(T):o?m(T):v(T)}[r](t,e==="after"?1:-1);return e==="before"&&n?O=b([n,O]):e==="after"&&i&&(O=y([i,O])),O}function VI(r,e,t,n,i,s,a,o=0){if(o>365)return;const l=hY(r,e,t.date,n,i,s,a),d=!!(s.disabled&&yn(l,s.disabled,a)),c=!!(s.hidden&&yn(l,s.hidden,a)),u=l,f=new OI(l,u,a);return!d&&!c?f:VI(r,e,f,n,i,s,a,o+1)}function pY(r,e,t,n,i){const{autoFocus:s}=r,[a,o]=w.useState(),l=fY(e.days,t,n||(()=>!1),a),[d,c]=w.useState(s?l:void 0);return{isFocusTarget:v=>!!(l!=null&&l.isEqualTo(v)),setFocused:c,focused:d,blur:()=>{o(d),c(void 0)},moveFocus:(v,b)=>{if(!d)return;const y=VI(v,b,d,e.navStart,e.navEnd,r,i);y&&(e.goToDay(y),c(y))}}}function gY(r,e){const{selected:t,required:n,onSelect:i}=r,[s,a]=jy(t,i?t:void 0),o=i?t:s,{isSameDay:l}=e,d=g=>(o==null?void 0:o.some(m=>l(m,g)))??!1,{min:c,max:u}=r;return{selected:o,select:(g,m,v)=>{let b=[...o??[]];if(d(g)){if((o==null?void 0:o.length)===c||n&&(o==null?void 0:o.length)===1)return;b=o==null?void 0:o.filter(y=>!l(y,g))}else(o==null?void 0:o.length)===u?b=[g]:b=[...b,g];return i||a(b),i==null||i(b,g,m,v),b},isSelected:d}}function mY(r,e,t=0,n=0,i=!1,s=ja){const{from:a,to:o}=e||{},{isSameDay:l,isAfter:d,isBefore:c}=s;let u;if(!a&&!o)u={from:r,to:t>0?void 0:r};else if(a&&!o)l(a,r)?i?u={from:a,to:void 0}:u=void 0:c(r,a)?u={from:r,to:a}:u={from:a,to:r};else if(a&&o)if(l(a,r)&&l(o,r))i?u={from:a,to:o}:u=void 0;else if(l(a,r))u={from:a,to:t>0?void 0:r};else if(l(o,r))u={from:r,to:t>0?void 0:r};else if(c(r,a))u={from:r,to:o};else if(d(r,a))u={from:a,to:r};else if(d(r,o))u={from:a,to:r};else throw new Error("Invalid range");if(u!=null&&u.from&&(u!=null&&u.to)){const f=s.differenceInCalendarDays(u.to,u.from);n>0&&f>n?u={from:r,to:void 0}:t>1&&f<t&&(u={from:r,to:void 0})}return u}function vY(r,e,t=ja){const n=Array.isArray(e)?e:[e];let i=r.from;const s=t.differenceInCalendarDays(r.to,r.from),a=Math.min(s,6);for(let o=0;o<=a;o++){if(n.includes(i.getDay()))return!0;i=t.addDays(i,1)}return!1}function S1(r,e,t=ja){return go(r,e.from,!1,t)||go(r,e.to,!1,t)||go(e,r.from,!1,t)||go(e,r.to,!1,t)}function bY(r,e,t=ja){const n=Array.isArray(e)?e:[e];if(n.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:t.isDate(o)?go(r,o,!1,t):RI(o,t)?o.some(l=>go(r,l,!1,t)):ux(o)?o.from&&o.to?S1(r,{from:o.from,to:o.to},t):!1:DI(o)?vY(r,o.dayOfWeek,t):CI(o)?t.isAfter(o.before,o.after)?S1(r,{from:t.addDays(o.after,1),to:t.addDays(o.before,-1)},t):yn(r.from,o,t)||yn(r.to,o,t):jI(o)||II(o)?yn(r.from,o,t)||yn(r.to,o,t):!1))return!0;const a=n.filter(o=>typeof o=="function");if(a.length){let o=r.from;const l=t.differenceInCalendarDays(r.to,r.from);for(let d=0;d<=l;d++){if(a.some(c=>c(o)))return!0;o=t.addDays(o,1)}}return!1}function yY(r,e){const{disabled:t,excludeDisabled:n,selected:i,required:s,onSelect:a}=r,[o,l]=jy(i,a?i:void 0),d=a?i:o;return{selected:d,select:(f,g,m)=>{const{min:v,max:b}=r,y=f?mY(f,d,v,b,s,e):void 0;return n&&t&&(y!=null&&y.from)&&y.to&&bY({from:y.from,to:y.to},t,e)&&(y.from=f,y.to=void 0),a||l(y),a==null||a(y,f,g,m),y},isSelected:f=>d&&go(d,f,!1,e)}}function kY(r,e){const{selected:t,required:n,onSelect:i}=r,[s,a]=jy(t,i?t:void 0),o=i?t:s,{isSameDay:l}=e;return{selected:o,select:(u,f,g)=>{let m=u;return!n&&o&&o&&l(u,o)&&(m=void 0),i||a(m),i==null||i(m,u,f,g),m},isSelected:u=>o?l(o,u):!1}}function _Y(r,e){const t=kY(r,e),n=gY(r,e),i=yY(r,e);switch(r.mode){case"single":return t;case"multiple":return n;case"range":return i;default:return}}function wY(r){var $o;let e=r;e.timeZone&&(e={...r},e.today&&(e.today=new Cn(e.today,e.timeZone)),e.month&&(e.month=new Cn(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Cn(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Cn(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Cn(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Cn(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=($o=e.selected)==null?void 0:$o.map(tt=>new Cn(tt,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Cn(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Cn(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:n,labels:i,dateLib:s,locale:a,classNames:o}=w.useMemo(()=>{const tt={...Kg,...e.locale};return{dateLib:new Lo({locale:tt,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:Sq(e.components),formatters:Mq(e.formatters),labels:{...Jq,...e.labels},locale:tt,classNames:{...Aq(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:l,mode:d,navLayout:c,numberOfMonths:u=1,onDayBlur:f,onDayClick:g,onDayFocus:m,onDayKeyDown:v,onDayMouseEnter:b,onDayMouseLeave:y,onNextClick:k,onPrevClick:_,showWeekNumber:E,styles:S}=e,{formatCaption:O,formatDay:T,formatMonthDropdown:C,formatWeekNumber:D,formatWeekNumberHeader:R,formatWeekdayName:L,formatYearDropdown:P}=n,F=uY(e,s),{days:H,months:N,navStart:z,navEnd:G,previousMonth:Y,nextMonth:W,goToMonth:ue}=F,M=XG(H,e,s),{isSelected:K,select:$,selected:J}=_Y(e,s)??{},{blur:ne,focused:fe,isFocusTarget:ae,moveFocus:Fe,setFocused:ee}=pY(e,F,M,K??(()=>!1),s),{labelDayButton:le,labelGridcell:Pe,labelGrid:xe,labelMonthDropdown:Te,labelNav:qe,labelPrevious:vt,labelNext:lt,labelWeekday:jr,labelWeekNumber:Qr,labelWeekNumberHeader:Ir,labelYearDropdown:V}=i,X=w.useMemo(()=>Vq(s,e.ISOWeek),[s,e.ISOWeek]),te=d!==void 0||g!==void 0,ge=w.useCallback(()=>{Y&&(ue(Y),_==null||_(Y))},[Y,ue,_]),de=w.useCallback(()=>{W&&(ue(W),k==null||k(W))},[ue,W,k]),ce=w.useCallback((tt,Gt)=>It=>{It.preventDefault(),It.stopPropagation(),ee(tt),$==null||$(tt.date,Gt,It),g==null||g(tt.date,Gt,It)},[$,g,ee]),Re=w.useCallback((tt,Gt)=>It=>{ee(tt),m==null||m(tt.date,Gt,It)},[m,ee]),Qe=w.useCallback((tt,Gt)=>It=>{ne(),f==null||f(tt.date,Gt,It)},[ne,f]),et=w.useCallback((tt,Gt)=>It=>{const Gi={ArrowLeft:["day",e.dir==="rtl"?"after":"before"],ArrowRight:["day",e.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[It.shiftKey?"year":"month","before"],PageDown:[It.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Gi[It.key]){It.preventDefault(),It.stopPropagation();const[gi,ed]=Gi[It.key];Fe(gi,ed)}v==null||v(tt.date,Gt,It)},[Fe,v,e.dir]),Pt=w.useCallback((tt,Gt)=>It=>{b==null||b(tt.date,Gt,It)},[b]),pi=w.useCallback((tt,Gt)=>It=>{y==null||y(tt.date,Gt,It)},[y]),Bn=w.useCallback(tt=>Gt=>{const It=Number(Gt.target.value),Gi=s.setMonth(s.startOfMonth(tt),It);ue(Gi)},[s,ue]),gh=w.useCallback(tt=>Gt=>{const It=Number(Gt.target.value),Gi=s.setYear(s.startOfMonth(tt),It);ue(Gi)},[s,ue]),{className:Qn,style:Uo}=w.useMemo(()=>({className:[o[Ue.Root],e.className].filter(Boolean).join(" "),style:{...S==null?void 0:S[Ue.Root],...e.style}}),[o,e.className,e.style,S]),su=Tq(e),Bo=w.useRef(null);rY(Bo,!!e.animate,{classNames:o,months:N,focused:fe,dateLib:s});const mh={dayPickerProps:e,selected:J,select:$,isSelected:K,months:N,nextMonth:W,previousMonth:Y,goToMonth:ue,getModifiers:M,components:t,classNames:o,styles:S,labels:i,formatters:n};return x.createElement(PI.Provider,{value:mh},x.createElement(t.Root,{rootRef:e.animate?Bo:void 0,className:Qn,style:Uo,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...su},x.createElement(t.Months,{className:o[Ue.Months],style:S==null?void 0:S[Ue.Months]},!e.hideNavigation&&!c&&x.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:o[Ue.Nav],style:S==null?void 0:S[Ue.Nav],"aria-label":qe(),onPreviousClick:ge,onNextClick:de,previousMonth:Y,nextMonth:W}),N.map((tt,Gt)=>{const It=Lq(tt.date,z,G,n,s),Gi=Hq(z,G,n,s);return x.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:o[Ue.Month],style:S==null?void 0:S[Ue.Month],key:Gt,displayIndex:Gt,calendarMonth:tt},c==="around"&&!e.hideNavigation&&Gt===0&&x.createElement(t.PreviousMonthButton,{type:"button",className:o[Ue.PreviousMonthButton],tabIndex:Y?void 0:-1,"aria-disabled":Y?void 0:!0,"aria-label":vt(Y),onClick:ge,"data-animated-button":e.animate?"true":void 0},x.createElement(t.Chevron,{disabled:Y?void 0:!0,className:o[Ue.Chevron],orientation:e.dir==="rtl"?"right":"left"})),x.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:o[Ue.MonthCaption],style:S==null?void 0:S[Ue.MonthCaption],calendarMonth:tt,displayIndex:Gt},l!=null&&l.startsWith("dropdown")?x.createElement(t.DropdownNav,{className:o[Ue.Dropdowns],style:S==null?void 0:S[Ue.Dropdowns]},l==="dropdown"||l==="dropdown-months"?x.createElement(t.MonthsDropdown,{className:o[Ue.MonthsDropdown],"aria-label":Te(),classNames:o,components:t,disabled:!!e.disableNavigation,onChange:Bn(tt.date),options:It,style:S==null?void 0:S[Ue.Dropdown],value:s.getMonth(tt.date)}):x.createElement("span",null,C(tt.date,s)),l==="dropdown"||l==="dropdown-years"?x.createElement(t.YearsDropdown,{className:o[Ue.YearsDropdown],"aria-label":V(s.options),classNames:o,components:t,disabled:!!e.disableNavigation,onChange:gh(tt.date),options:Gi,style:S==null?void 0:S[Ue.Dropdown],value:s.getYear(tt.date)}):x.createElement("span",null,P(tt.date,s)),x.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},O(tt.date,s.options,s))):x.createElement(t.CaptionLabel,{className:o[Ue.CaptionLabel],role:"status","aria-live":"polite"},O(tt.date,s.options,s))),c==="around"&&!e.hideNavigation&&Gt===u-1&&x.createElement(t.NextMonthButton,{type:"button",className:o[Ue.NextMonthButton],tabIndex:W?void 0:-1,"aria-disabled":W?void 0:!0,"aria-label":lt(W),onClick:de,"data-animated-button":e.animate?"true":void 0},x.createElement(t.Chevron,{disabled:W?void 0:!0,className:o[Ue.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Gt===u-1&&c==="after"&&!e.hideNavigation&&x.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:o[Ue.Nav],style:S==null?void 0:S[Ue.Nav],"aria-label":qe(),onPreviousClick:ge,onNextClick:de,previousMonth:Y,nextMonth:W}),x.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":xe(tt.date,s.options,s)||void 0,className:o[Ue.MonthGrid],style:S==null?void 0:S[Ue.MonthGrid]},!e.hideWeekdays&&x.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:o[Ue.Weekdays],style:S==null?void 0:S[Ue.Weekdays]},E&&x.createElement(t.WeekNumberHeader,{"aria-label":Ir(s.options),className:o[Ue.WeekNumberHeader],style:S==null?void 0:S[Ue.WeekNumberHeader],scope:"col"},R()),X.map((gi,ed)=>x.createElement(t.Weekday,{"aria-label":jr(gi,s.options,s),className:o[Ue.Weekday],key:ed,style:S==null?void 0:S[Ue.Weekday],scope:"col"},L(gi,s.options,s)))),x.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:o[Ue.Weeks],style:S==null?void 0:S[Ue.Weeks]},tt.weeks.map((gi,ed)=>x.createElement(t.Week,{className:o[Ue.Week],key:gi.weekNumber,style:S==null?void 0:S[Ue.Week],week:gi},E&&x.createElement(t.WeekNumber,{week:gi,style:S==null?void 0:S[Ue.WeekNumber],"aria-label":Qr(gi.weekNumber,{locale:a}),className:o[Ue.WeekNumber],scope:"row",role:"rowheader"},D(gi.weekNumber,s)),gi.days.map(en=>{const{date:mi}=en,bt=M(en);if(bt[cr.focused]=!bt.hidden&&!!(fe!=null&&fe.isEqualTo(en)),bt[Ps.selected]=(K==null?void 0:K(mi))||bt.selected,ux(J)){const{from:B,to:q}=J;bt[Ps.range_start]=!!(B&&q&&s.isSameDay(mi,B)),bt[Ps.range_end]=!!(B&&q&&s.isSameDay(mi,q)),bt[Ps.range_middle]=go(J,mi,!0,s)}const au=Fq(bt,S,e.modifiersStyles),ck=ZG(bt,o,e.modifiersClassNames),uk=!te&&!bt.hidden?Pe(mi,bt,s.options,s):void 0;return x.createElement(t.Day,{key:`${s.format(mi,"yyyy-MM-dd")}_${s.format(en.displayMonth,"yyyy-MM")}`,day:en,modifiers:bt,className:ck.join(" "),style:au,role:"gridcell","aria-selected":bt.selected||void 0,"aria-label":uk,"data-day":s.format(mi,"yyyy-MM-dd"),"data-month":en.outside?s.format(mi,"yyyy-MM"):void 0,"data-selected":bt.selected||void 0,"data-disabled":bt.disabled||void 0,"data-hidden":bt.hidden||void 0,"data-outside":en.outside||void 0,"data-focused":bt.focused||void 0,"data-today":bt.today||void 0},!bt.hidden&&te?x.createElement(t.DayButton,{className:o[Ue.DayButton],style:S==null?void 0:S[Ue.DayButton],type:"button",day:en,modifiers:bt,disabled:bt.disabled||void 0,tabIndex:ae(en)?0:-1,"aria-label":le(mi,bt,s.options,s),onClick:ce(en,bt),onBlur:Qe(en,bt),onFocus:Re(en,bt),onKeyDown:et(en,bt),onMouseEnter:Pt(en,bt),onMouseLeave:pi(en,bt)},T(mi,s.options,s)):!bt.hidden&&T(en.date,s.options,s))}))))))})),e.footer&&x.createElement(t.Footer,{className:o[Ue.Footer],style:S==null?void 0:S[Ue.Footer],role:"status","aria-live":"polite"},e.footer)))}var EY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const HI=w.forwardRef((r,e)=>{var{as:t="div",className:n,above:i,below:s,variant:a,asChild:o}=r,l=EY(r,["as","className","above","below","variant","asChild"]);const{cn:d}=Ce(),c=a==="show"?i:s,u=a==="show"?s:i,f=o?Kl:t;return x.createElement(f,Object.assign({},l,{ref:e,className:d("navds-responsive",n,{[`navds-responsive__above--${c}`]:c,[`navds-responsive__below--${u}`]:u})}))}),xY=w.forwardRef((r,e)=>x.createElement(HI,Object.assign({},r,{ref:e,variant:"hide"}))),fx=w.forwardRef((r,e)=>x.createElement(HI,Object.assign({},r,{ref:e,variant:"show"})));function Dn(r){return!!(r&&!Number.isNaN(r.getTime())&&r.getFullYear()>999)}function SY({day:r,fromDate:e,toDate:t}){const n=t&&jn(r,dn(t))>0,i=e&&jn(dn(e),r)>0;return n||i||!1}const UI="dd.MM.yyyy",TY="MMMM yyyy",BI=[UI,"ddMMyyyy","dd/MM/yyyy","dd-MM-yyyy"];[...BI];const Tm=(r,e,t,n,i)=>{let s;const a=BI;if(i){for(const o of a)if(s=Ms(r,o,e,{locale:t}),Dn(s)&&!Jk(r,e,t,a))return s;for(const o of[...a.map(l=>l.replace("yyyy","yy"))])if(s=Ms(r,o,e,{locale:t}),Dn(s)&&Jk(r,e,t,a)){const l=AY(r,o,e,t);return Dn(new Date(l))?new Date(l):new Date("Invalid date")}return new Date("Invalid date")}for(const o of a)if(s=Ms(r,o,e,{locale:t}),Dn(s)&&!Jk(r,e,t,a))return s;return new Date("Invalid date")};function Jk(r,e,t,n){let i;const s=n.map(a=>a.replace("yyyy","yy"));for(const a of s)if(i=Ms(r,a,e,{locale:t}),Dn(i))return!0;return!1}function AY(r,e,t,n){const i=Ms(T1(r,"19"),e.replace("yy","yyyy"),t,{locale:n}),s=Ms(T1(r,"20"),e.replace("yy","yyyy"),t,{locale:n});return Dn(i)&&Dn(s)?Ls(i,aC(new Date,{years:80}))?s:i:new Date("Invalid date")}function T1(r,e){const t=r.slice(-2);return`${r.slice(0,r.length-2)}${e}${t}`}const vi=(r,e,t,n)=>ui(r,n??UI,{locale:e}),OY=({month:r,start:e,end:t})=>{if(!r)return;let n=r;return e&&Ls(n,e)&&(n=e),t&&Us(n,t)&&(n=t),Ec(n)};function CY(r,e,t,n){return WO({start:Wg(r),end:Wb(r)}).map(a=>{const o=ui(a,"LLLL",{locale:n}),l=mE(a),d=e&&a<Ec(e)||t&&a>Ec(t)||!1;return{value:l,label:o,disabled:d}})}function jY(r,e,t){if(!r||!e)return;const n=Wg(r),i=Wb(e),s=[];let a=n;for(;Ls(a,i)||tC(a,i);)s.push(a),a=dE(a,1);return s.map(o=>{const l=ui(o,"yyyy",{locale:t});return{value:vE(o),label:l,disabled:!1}})}function IY({captionLayout:r,startMonth:e,endMonth:t,today:n}){const i=r==="dropdown",s=n??new Date;return e?e=Ec(e):!e&&i&&(e=Wg(dE(s,-100))),t?t=fE(t):!t&&i&&(t=Wb(s)),[e&&dn(e),t&&dn(t)]}var DY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const RY=r=>{var{day:e,modifiers:t,locale:n,children:i}=r,s=DY(r,["day","modifiers","locale","children"]);const{cn:a}=Ce(),o=w.useRef(null);return w.useEffect(()=>{var l;t.focused&&((l=o.current)===null||l===void 0||l.focus())},[t.focused]),t.hidden?x.createElement(x.Fragment,null):x.createElement("button",Object.assign({},s,{ref:o,"aria-hidden":e.outside,"aria-pressed":!!t.selected,"aria-label":ui(e.date,"cccc d",{locale:n}),"data-pressed":t.selected,"data-today":t.today||void 0,className:a(s.className,{"rdp-day_disabled":t.disabled,"rdp-day_selected":t.selected,"rdp-day_range_start":t.range_start,"rdp-day_range_middle":t.range_middle,"rdp-day_range_end":t.range_end,"rdp-day_today":t.today,"rdp-day_outside":t.outside,"rdp-day__weekend":t.weekend})}),i)},$I=({week:{weekNumber:r,days:e},onWeekNumberClick:t,className:n,style:i,showOnDesktop:s})=>{const a=rE().translate,{cn:o}=Ce(),{getModifiers:l}=Jc(),d=w.useMemo(()=>e.filter(u=>{const f=l(u);return!(f.hidden||f.outside||f.disabled)}).length===0,[e,l]),c=s?fx:xY;return!t||d?x.createElement(c,{above:"sm",asChild:!0},x.createElement("td",{className:"rdp-cell"},x.createElement(Hc,{as:"span",textColor:"subtle",className:n,style:i,"aria-label":a("weekNumber",{week:r})},r))):x.createElement(c,{above:"sm",asChild:!0},x.createElement("td",{className:o("rdp-cell",{"navds-date__week-wrapper":!s})},x.createElement(ft,{variant:"secondary-neutral",size:"small",name:"week-number","aria-label":a("selectWeekNumber",{week:r}),style:i,className:o("navds-date__weeknumber","rdp-weeknumber"),onClick:()=>{t(r,e.map(u=>u.date))},icon:x.createElement("span",{className:o("navds-date__weeknumber-number")},r)})))},PY=({onWeekNumberClick:r,weeks:e})=>{const t=rE().translate,{cn:n}=Ce(),i=os();return r?x.createElement(fx,{below:"sm",asChild:!0},x.createElement("table",{className:"rdp-table",role:"grid"},x.createElement("tbody",{className:"rdp-tbody"},x.createElement("tr",{className:n("rdp-row navds-date__week-row")},x.createElement(Hc,{as:"th",weight:"semibold",className:n("rdp-cell navds-date__week-cell")},x.createElement("span",{className:n("navds-date__week-wrapper"),id:i},t("week"))),e==null?void 0:e.map(s=>x.createElement($I,{key:s.weekNumber,week:s,onWeekNumberClick:r,showOnDesktop:!1,className:n("navds-date__week-wrapper")})))))):null};var NY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const MY=r=>{var{children:e,calendarMonth:t,locale:n,onWeekNumberClick:i}=r,s=NY(r,["children","calendarMonth","locale","onWeekNumberClick"]);const{dayPickerProps:a,goToMonth:o,previousMonth:l,nextMonth:d}=Jc(),{captionLayout:c}=a,{cn:u}=Ce(),f=rE().translate,g=w.useCallback((_,E)=>{const S=Number(E.target.value),O=nC(Ec(_),S);o(O)},[o]),m=w.useCallback((_,E)=>{const S=Number(E.target.value),O=iC(Ec(_),S);o(O)},[o]),[v,b]=IY({captionLayout:c==="dropdown"?"dropdown":"label",startMonth:a.startMonth,endMonth:a.endMonth,today:a.today}),y=CY(t.date,v,b,n),k=jY(v,b,n);return x.createElement("div",Object.assign({},jl(s,["displayIndex"])),x.createElement("div",{className:u("navds-date__caption")},(c==null?void 0:c.startsWith("dropdown"))&&x.createElement("span",{"aria-live":"polite","aria-atomic":"true",className:u("navds-sr-only")},ui(t.date,"LLLL y",{locale:n})),x.createElement(ft,{variant:"tertiary-neutral",disabled:!l,onClick:()=>l&&o(l),icon:x.createElement(EW,{title:f("goToPreviousMonth")}),className:u("navds-date__caption-button"),type:"button"}),c!=null&&c.startsWith("dropdown")?x.createElement("div",{className:u("navds-date__caption")},x.createElement(To,{label:f("month"),hideLabel:!0,className:u("navds-date__caption__month"),onChange:_=>g(t.date,_),value:mE(t.date)},y==null?void 0:y.map(({value:_,label:E,disabled:S})=>x.createElement("option",{key:_,value:_,disabled:S},E))),x.createElement(To,{label:f("year"),hideLabel:!0,className:u("navds-date__caption__year"),onChange:_=>m(t.date,_),value:vE(t.date)},k==null?void 0:k.map(({value:_,label:E,disabled:S})=>x.createElement("option",{key:_,value:_,disabled:S},E)))):x.createElement(pe,{weight:"semibold",as:"span","aria-live":"polite",role:"status",className:u("navds-date__caption-label")},ui(t.date,"LLLL y",{locale:n})),x.createElement(ft,{variant:"tertiary-neutral",icon:x.createElement(SW,{title:f("goToNextMonth")}),onClick:()=>d&&o(d),disabled:!d,className:u("navds-date__caption-button"),type:"button"})),x.createElement(PY,{weeks:t.weeks,onWeekNumberClick:i}),e)};var LY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const FY={root:"rdp",button_next:"button",day:"rdp-cell",day_button:"rdp-day rdp-button",disabled:"",hidden:"rdp-day_hidden",outside:"rdp-day_outside",selected:"rdp-day_selected",weekday:"rdp-head_cell",weekdays:"rdp-head_row",week:"rdp-row",weeks:"rdp-tbody",month_grid:"rdp-table",week_number:"rdp-weeknumber"},zI=r=>{var{className:e,dropdownCaption:t,disabled:n=[],disableWeekends:i=!1,showWeekNumber:s=!1,selected:a,fixedWeeks:o=!1,onWeekNumberClick:l,fromDate:d,toDate:c,month:u,mode:f,handleSelect:g,locale:m}=r,v=LY(r,["className","dropdownCaption","disabled","disableWeekends","showWeekNumber","selected","fixedWeeks","onWeekNumberClick","fromDate","toDate","month","mode","handleSelect","locale"]);const{cn:b}=Ce(),y=jO(),k=m?IO(m):y,_=f??"single";return x.createElement(wY,Object.assign({captionLayout:t?"dropdown":"label",hideNavigation:!0,locale:k,mode:_,onSelect:(E,S)=>{if(_!=="range"||E||!SI(a)){g(E);return}if(!a.to){g({from:S,to:void 0});return}let O;zb(a.to,S)?O=void 0:Ls(S,a.to)?O={from:S,to:a.to}:O={from:a.to,to:S},g(O)},selected:a,classNames:FY,components:{MonthCaption:()=>x.createElement(x.Fragment,null),DayButton:w.useCallback(E=>x.createElement(RY,Object.assign({},E,{locale:k})),[k]),Month:w.useCallback(E=>x.createElement(MY,Object.assign({},E,{locale:k,onWeekNumberClick:_==="multiple"?l:void 0})),[k,_,l]),Day:w.useCallback(E=>x.createElement("td",Object.assign({},jl(E,["day","modifiers"]),{className:"rdp-cell",role:void 0})),[]),WeekNumber:w.useCallback(E=>x.createElement($I,Object.assign({},E,{showOnDesktop:!0,onWeekNumberClick:_==="multiple"?l:void 0})),[_,l]),WeekNumberHeader:w.useCallback(E=>x.createElement(fx,{above:"sm",asChild:!0},x.createElement("th",Object.assign({},E))),[]),Weekdays:w.useCallback(E=>x.createElement("thead",Object.assign({},E,{className:"rdp-head","aria-hidden":!0}),x.createElement("tr",{className:"rdp-head_row"},E.children)),[])},className:b("navds-date",e),disabled:E=>i&&mo(E)||yn(E,n)||SY({day:E,fromDate:d,toDate:c}),weekStartsOn:1,modifiers:{weekend:E=>i&&mo(E)},modifiersClassNames:{weekend:"rdp-day__weekend"},autoFocus:!1,showWeekNumber:s,fixedWeeks:o,showOutsideDays:!0,startMonth:d,endMonth:c,month:OY({month:u,start:d,end:c})},jl(v,["onSelect","role","id","defaultSelected"])))};var VY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const HY=w.forwardRef((r,e)=>{var{className:t,locale:n,translations:i,selected:s,defaultSelected:a,onSelect:o,mode:l}=r,d=VY(r,["className","locale","translations","selected","defaultSelected","onSelect","mode"]);const{cn:c}=Ce(),u=$i("DatePicker",i,DO(n)),[f,g]=Cl({defaultValue:a,value:s,onChange:m=>o==null?void 0:o(m)});return x.createElement(RO,{translate:u},x.createElement("div",{ref:e,className:c("navds-date__standalone-wrapper",t)},x.createElement(zI,Object.assign({},d,{locale:n,handleSelect:g,selected:f,mode:l}))))});var UY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const yc=w.forwardRef((r,e)=>{var{children:t,locale:n,translations:i,selected:s,id:a,defaultSelected:o,wrapperClassName:l,open:d,onClose:c,onOpenToggle:u,strategy:f,mode:g}=r,m=UY(r,["children","locale","translations","selected","id","defaultSelected","wrapperClassName","open","onClose","onOpenToggle","strategy","mode"]);const v=$i("DatePicker",i,DO(n)),{cn:b}=Ce(),y=os(a),[k,_]=Cl({defaultValue:!1,value:d}),[E,S]=w.useState(null),O=Zn(S,e),[T,C]=Cl({defaultValue:o,value:s,onChange:D=>{var R;let L=!1;g==="single"&&D?L=!0:SI(D)&&D.from&&D.to&&(L=!0,zb(D.from,D.to)&&(L=!1)),L&&(c==null||c(),_(!1)),(R=m==null?void 0:m.onSelect)===null||R===void 0||R.call(m,D)}});return x.createElement(RO,{translate:v},x.createElement(E5,{open:k,onOpen:()=>{_(D=>!D),u==null||u()},ariaId:y,defined:!0},x.createElement("div",{ref:O,className:b("navds-date__wrapper",l)},t,x.createElement(UG,{open:k,anchor:E,onClose:()=>{c==null||c(),k&&_(!1)},locale:n,translate:v,variant:g??"single",popoverProps:{id:y,strategy:f}},x.createElement(zI,Object.assign({},m,{locale:n,handleSelect:C,selected:T,mode:g}))))))});yc.Standalone=HY;yc.Input=x5;const m_=(r={},e={})=>({from:Object.assign({isDisabled:!1,isWeekend:!1,isEmpty:!1,isInvalid:!1,isBefore:!1,isAfter:!1,isValidDate:!0},r),to:Object.assign({isDisabled:!1,isWeekend:!1,isEmpty:!1,isInvalid:!1,isBefore:!1,isAfter:!1,isBeforeFrom:!1,isValidDate:!0},e)}),qs={FROM:"FROM",TO:"TO"},BY=(r,e)=>{const t=(e==null?void 0:e.fromDate)&&r&&jn(e==null?void 0:e.fromDate,r)>0,n=(e==null?void 0:e.toDate)&&r&&jn(r,e==null?void 0:e.toDate)>0;if(Dn(r)&&!(e!=null&&e.disableWeekends&&mo(r))&&!(e!=null&&e.disabled&&yn(r,e.disabled)))return{isValidDate:!1,isInvalid:!Dn(r),isWeekend:(e==null?void 0:e.disableWeekends)&&mo(r),isDisabled:(e==null?void 0:e.disabled)&&yn(r,e.disabled),isBefore:t,isAfter:n};if(t||n)return{isValidDate:!1,isBefore:t,isAfter:n}},$Y=(r,e,t)=>{var n;const i=(t==null?void 0:t.fromDate)&&r&&jn(t==null?void 0:t.fromDate,r)>0,s=(t==null?void 0:t.toDate)&&r&&jn(r,t==null?void 0:t.toDate)>0,a=(n=e&&jn(e,r)>0)!==null&&n!==void 0?n:!1;if(Dn(r)&&!(t!=null&&t.disableWeekends&&mo(r))&&!(t!=null&&t.disabled&&yn(r,t.disabled)))return{isValidDate:!1,isInvalid:!Dn(r),isWeekend:(t==null?void 0:t.disableWeekends)&&mo(r),isDisabled:(t==null?void 0:t.disabled)&&yn(r,t.disabled),isBefore:i,isAfter:s,isBeforeFrom:a};if(i||s||a)return{isValidDate:!1,isBefore:i,isAfter:s,isBeforeFrom:a}},Qk=(r,e)=>{if(!r||!(r!=null&&r.from))return m_({isEmpty:!0,isValidDate:!1},{isEmpty:!0,isValidDate:!1});const t=BY(r.from,e),n=r.to?$Y(r.to,r.from,e):{isEmpty:!0,isValidDate:!1};return m_(Object.assign({},t),Object.assign({},n))},zY=(r={})=>{const{locale:e,defaultSelected:t,today:n=new Date,fromDate:i,toDate:s,disabled:a,disableWeekends:o,onRangeChange:l,inputFormat:d,onValidate:c,defaultMonth:u,allowTwoDigitYear:f=!0}=r,[g,m]=w.useState(null),v=jO(),b=e?IO(e):v,[y,k]=w.useState(t),[_,E]=w.useState(y?y==null?void 0:y.from:u??n),[S,O]=w.useState(y??{from:void 0,to:void 0}),[T,C]=w.useState(y!=null&&y.from?vi(y.from,b,"date",d):""),[D,R]=w.useState(y!=null&&y.to?vi(y.to,b,"date",d):""),[L,P]=w.useState(Qk(S,r)),[F,H]=w.useState(!1),N=ee=>{l==null||l(ee),O(ee)},z=(ee={},le={})=>{const Pe=m_(ee,le);P(Pe),c==null||c(Pe)},G=()=>{N(y??{from:void 0,to:void 0}),E(y?y==null?void 0:y.from:u??n),P(Qk(y??{from:void 0,to:void 0},r)),C(y!=null&&y.from?vi(y.from,b,"date",d):""),R(y!=null&&y.to?vi(y.to,b,"date",d):""),k(t)},Y=ee=>{N(ee),C(ee!=null&&ee.from?vi(ee.from,b,"date",d):""),R(ee!=null&&ee.to?vi(ee==null?void 0:ee.to,b,"date",d):""),P(Qk(ee,r))},W=(ee,le)=>{if(ee.target.readOnly)return;const Pe=Tm(ee.target.value,n,b,"date",f);if(Dn(Pe)){le===qs.FROM?C(vi(Pe,b,"date",d)):R(vi(Pe,b,"date",d));const xe=i&&Pe&&jn(i,Pe)>0,Te=s&&Pe&&jn(Pe,s)>0;!xe&&!Te&&E(Pe)}},ue=(ee,le)=>{const Pe=Tm(ee.target.value,n,b,"date",f);Dn(Pe)&&(le===qs.FROM?C(vi(Pe,b,"date",d)):le===qs.TO&&R(vi(Pe,b,"date",d)))},M=ee=>Dn(ee)&&!(o&&mo(ee))&&!(a&&yn(ee,a)),K=ee=>{ee!=null&&ee.from&&(ee!=null&&ee.to)&&(zb(ee.from,ee.to)||(H(!1),g==null||g.focus())),C(ee!=null&&ee.from?vi(ee.from,b,"date",d):""),R(ee!=null&&ee.to?vi(ee.to,b,"date",d):""),N({from:ee==null?void 0:ee.from,to:ee==null?void 0:ee.to}),z({isValidDate:!!(ee!=null&&ee.from),isEmpty:!(ee!=null&&ee.from)},{isValidDate:!!(ee!=null&&ee.to),isEmpty:!(ee!=null&&ee.to)})},$=(ee="",le,Pe=!1,xe=!1)=>{if(C(ee),!M(le)){N(Object.assign(Object.assign({},S),{from:void 0})),z({isEmpty:!ee,isValidDate:!1,isInvalid:!Dn(le),isWeekend:o&&mo(le),isDisabled:a&&yn(le,a),isBefore:Pe,isAfter:xe},L.to);return}if(Pe||xe){N(Object.assign(Object.assign({},S),{from:void 0})),z({isValidDate:!1,isBefore:Pe,isAfter:xe},L.to);return}if(S!=null&&S.to&&jn(le,S==null?void 0:S.to)>0){N({to:le,from:le}),R(vi(le,b,"date",d)),E(le),z();return}if(D&&!(S!=null&&S.to)){const Te=Tm(D,n,b,"date",f);if(M(Te)){N({from:le,to:Te}),E(le),z();return}}N(Object.assign(Object.assign({},S),{from:le})),z({},L.to),E(le)},J=(ee="",le,Pe=!1,xe=!1)=>{if(R(ee),!M(le)){N({from:S==null?void 0:S.from,to:void 0}),z(L.from,{isEmpty:!ee,isValidDate:!1,isInvalid:!Dn(le),isWeekend:o&&mo(le),isDisabled:a&&yn(le,a),isBefore:Pe,isAfter:xe});return}if(Pe||xe){N({from:S==null?void 0:S.from,to:void 0}),z(L.from,{isValidDate:!1,isBefore:Pe,isAfter:xe});return}if(S!=null&&S.from&&jn(S==null?void 0:S.from,le)>0){N({from:S==null?void 0:S.from,to:void 0}),z(L.from,{isValidDate:!1,isBeforeFrom:!0});return}N({from:S==null?void 0:S.from,to:le}),z(L.from,{}),E(le)},ne=(ee,le)=>{const Pe=Tm(ee.target.value,n,b,"date",f),xe=i&&jn(i,Pe)>0,Te=s&&jn(Pe,s)>0;return le===qs.FROM?$(ee.target.value,Pe,xe,Te):J(ee.target.value,Pe,xe,Te)};return{datepickerProps:{month:_,onMonthChange:E,onSelect:K,selected:S,locale:e,fromDate:i,toDate:s,today:n,mode:"range",open:F,onOpenToggle:()=>H(ee=>!ee),onClose:()=>{H(!1),g==null||g.focus()},disabled:a,disableWeekends:o},fromInputProps:{onChange:ee=>ne(ee,qs.FROM),onFocus:ee=>W(ee,qs.FROM),onBlur:ee=>ue(ee,qs.FROM),value:T,setAnchorRef:m},toInputProps:{onChange:ee=>ne(ee,qs.TO),onFocus:ee=>W(ee,qs.TO),onBlur:ee=>ue(ee,qs.TO),value:D,setAnchorRef:m},reset:G,selectedRange:S,setSelected:Y}},Iy=w.createContext({open:!1,toggleOpen:()=>{},size:"medium"});var WY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const KY=w.forwardRef((r,e)=>{var{children:t,className:n}=r,i=WY(r,["children","className"]);const{cn:s}=Ce(),a=w.useContext(Iy),o=Bi(!1);return a===null?(console.error("<ExpansionCard.Content> has to be used within an <ExpansionCard>"),null):x.createElement(Mi,Object.assign({"data-color":o==null?void 0:o.color},i,{ref:e,as:"div",className:s("navds-expansioncard__content",n,{"navds-expansioncard__content--closed":!a.open}),"aria-hidden":!a.open,size:a.size,"data-open":a.open}),x.createElement("div",{className:s("navds-expansioncard__content-inner")},t))});var GY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const qY=w.forwardRef((r,e)=>{var{className:t}=r,n=GY(r,["className"]);const{cn:i}=Ce(),s=w.useContext(Iy);return s===null?(console.error("<ExpansionCard.Description> has to be used within an <ExpansionCard>"),null):x.createElement(Mi,Object.assign({},n,{as:"p",ref:e,className:i("navds-link-panel__description",t),size:s.size}))});var YY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const XY=w.forwardRef((r,e)=>{var{children:t,className:n}=r,i=YY(r,["children","className"]);const{cn:s}=Ce(),a=w.useContext(Iy),o=$i("global");return a===null?(console.error("<ExpansionCard.Header> has to be used within an <ExpansionCard>"),null):x.createElement("div",Object.assign({ref:e},i,{className:s("navds-expansioncard__header",n),"data-open":a.open}),x.createElement("div",{className:s("navds-expansioncard__header-content")},t),x.createElement("button",{className:s("navds-expansioncard__header-button"),onClick:a.toggleOpen,type:"button","aria-expanded":a.open},x.createElement(Hb,{className:s("navds-expansioncard__header-chevron"),title:o("showMore")})))});var ZY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const JY=w.forwardRef((r,e)=>{var{className:t,as:n="h3",size:i="medium"}=r,s=ZY(r,["className","as","size"]);const{cn:a}=Ce();return x.createElement(n,Object.assign({},s,{ref:e,className:a("navds-expansioncard__title",`navds-expansioncard__title--${i}`,"navds-heading",`navds-heading--${i}`,t)}))});var QY=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const kc=w.forwardRef((r,e)=>{var{className:t,onToggle:n,open:i,defaultOpen:s=!1,size:a="medium","data-color":o="neutral"}=r,l=QY(r,["className","onToggle","open","defaultOpen","size","data-color"]);const{cn:d}=Ce(),c=w.useRef(!(i||s)),[u,f]=Cl({value:i,onChange:g=>{n==null||n(g),c.current=!0},defaultValue:s});return x.createElement(Iy.Provider,{value:{open:i??u,toggleOpen:()=>f(g=>!g),size:a}},x.createElement("section",Object.assign({"data-color":o},l,{className:d("navds-expansioncard",t,`navds-expansioncard--${a}`,{"navds-expansioncard--open":i??u,"navds-expansioncard--no-animation":!c.current}),ref:e})))});kc.Header=XY;kc.Content=KY;kc.Title=JY;kc.Description=qY;const eX=()=>{const r=$i("GuidePanel");return x.createElement("svg",{width:"56",height:"85",viewBox:"0 0 56 85",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":r("illustrationLabel"),focusable:!1,role:"img"},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.1888 40.4308C41.795 44.9808 39.0663 48.7576 35.5693 51.069L35.7484 53.0952L35.7474 53.1777L33.857 69.8797H21.8679L21.8181 69.5289L19.5004 53.1489L19.5862 51.1002C16.0715 48.795 13.3274 45.0119 11.9257 40.4499C11.8781 40.4544 11.83 40.4566 11.7812 40.4566C10.8745 40.4566 10.1562 39.6595 10.1562 38.6939V33.2298C10.1562 32.5825 10.479 32.0106 10.9648 31.7039C11.7229 21.5028 18.8443 13.4855 27.554 13.4855C36.2401 13.4855 43.3472 21.4596 44.1376 31.6211C44.7049 31.8986 45.0937 32.5184 45.0937 33.2298V38.6939C45.0937 39.66 44.3765 40.4566 43.4687 40.4566C43.3731 40.4566 43.2796 40.4478 43.1888 40.4308Z",fill:"#F7F7F7"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.1471 51.6345C35.0789 55.2819 31.7373 59.0239 27.625 59.0239C23.4949 59.0239 20.142 55.2493 20.1022 51.5869C17.9622 52.1325 14.6956 53.7781 11.9995 56.5281C9.38852 59.1912 7.3125 63.1941 7.3125 66.2993V85.0001H47.9375V66.2993C47.9375 63.1878 45.8167 59.178 43.1575 56.5119C40.4983 53.8458 37.3007 52.2225 35.1471 51.6345Z",fill:"#005B82"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9671 51.7134C17.9959 52.4333 14.6891 54.0068 12.1875 56.3964C4.875 54.7595 1.625 50.87 1.625 50.87C1.625 50.87 8.36213 44.2596 8.3662 32.698V32.6857C8.3662 19.1478 15.6319 9.80762 27.6022 9.80762C39.5742 9.80762 46.8399 19.1478 46.8399 32.6857H46.883C46.883 44.2555 53.625 50.87 53.625 50.87C53.625 50.87 50.375 54.7595 43.0625 56.3942L43.0515 56.3964C40.6353 54.1853 37.1309 52.4799 35.2243 51.7589L35.2265 51.7582L35.1508 50.9012L35.1917 50.8302C38.7891 48.5155 41.5804 44.6159 42.9262 39.904C43.0909 39.9961 43.277 40.048 43.4739 40.048C44.1476 40.048 44.6928 39.4431 44.6928 38.6939V33.2298C44.6928 32.5887 44.2936 32.0528 43.7564 31.9114C43.7559 31.904 43.7554 31.8966 43.7549 31.8892C26.7466 33.7984 20.6199 22.068 20.117 22.0672C20.117 22.0672 14.4686 26.1538 11.769 31.0124C11.769 31.0124 11.3576 31.9296 11.3556 31.9605C10.8934 32.1527 10.5637 32.648 10.5637 33.2298V38.6939C10.5637 39.4431 11.1103 40.048 11.7826 40.048C11.9316 40.048 12.0743 40.0184 12.2062 39.9642C13.5668 44.6785 16.3759 48.5738 19.9901 50.8732L20.0035 50.9012L19.9695 51.7134H19.9671Z",fill:"#F25C5C"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.8159 35.8563C20.766 35.9417 20.4722 34.2696 20.7885 33.1776C20.848 32.9706 21.1956 32.0283 21.8109 32.0283C22.4254 32.0283 22.6968 32.5434 22.7345 32.632C23.1865 33.6965 22.9645 35.7622 21.8159 35.8563",fill:"#262626"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.9927 35.8563C35.0425 35.9417 35.3364 34.2696 35.0201 33.1776C34.9606 32.9706 34.613 32.0283 33.9977 32.0283C33.3832 32.0283 33.1118 32.5434 33.0741 32.632C32.6221 33.6965 32.8441 35.7622 33.9927 35.8563",fill:"#262626"}),x.createElement("path",{d:"M28.2935 37.5041C28.9213 37.396 29.3501 37.4638 29.5036 37.6748C30.0833 38.4721 29.8979 39.3156 28.9035 40.0081C28.3806 40.372 27.661 40.5001 27.28 40.3114C27.0937 40.2191 26.8758 40.3133 26.7934 40.5218C26.7109 40.7304 26.7951 40.9742 26.9814 41.0665C27.6111 41.3784 28.5794 41.206 29.2931 40.7092C30.6445 39.7682 30.9537 38.3611 30.0758 37.1534C29.7042 36.643 29.0465 36.5389 28.1812 36.688C27.9799 36.7227 27.8418 36.9335 27.8728 37.1589C27.9038 37.3842 28.0921 37.5388 28.2935 37.5041Z",fill:"#262626"}),x.createElement("path",{d:"M32.8337 42.9837C32.7968 43.0623 32.7122 43.2128 32.5763 43.411C32.3463 43.7465 32.0574 44.0829 31.7066 44.3966C30.6611 45.3314 29.3002 45.872 27.5683 45.8225C25.8795 45.7743 24.5247 45.2421 23.4626 44.3839C23.0726 44.0688 22.7506 43.7314 22.4933 43.395C22.3415 43.1967 22.2468 43.0463 22.2053 42.9679C22.1056 42.7794 21.8606 42.7018 21.6581 42.7946C21.4555 42.8873 21.3721 43.1153 21.4718 43.3039C21.5318 43.4174 21.6487 43.6029 21.8273 43.8363C22.1206 44.2196 22.4852 44.6018 22.9266 44.9584C24.1256 45.9272 25.6579 46.5292 27.5432 46.583C29.5064 46.6391 31.0759 46.0156 32.273 44.9453C32.6733 44.5874 33.0023 44.2042 33.2656 43.8202C33.4257 43.5867 33.5298 43.4014 33.5829 43.2881C33.6733 43.0955 33.5788 42.8713 33.3719 42.7872C33.165 42.7032 32.924 42.7911 32.8337 42.9837Z",fill:"#262626"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.8629 70.5H30.8865C30.3966 70.5 30 70.0974 30 69.6001V63.609C30 63.1117 30.3966 62.7084 30.8865 62.7084H41.8629C42.3527 62.7084 42.75 63.1117 42.75 63.609V69.6001C42.75 70.0974 42.3527 70.5 41.8629 70.5",fill:"white"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.0345 63.9451H35.8971C35.8128 63.9451 35.7449 63.8775 35.7449 63.7937V63.6029C35.7449 63.5197 35.8128 63.4515 35.8971 63.4515H37.0345C37.1188 63.4515 37.1867 63.5197 37.1867 63.6029V63.7937C37.1867 63.8775 37.1188 63.9451 37.0345 63.9451",fill:"#262626"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.1365 63.7708H36.7955V62H36.1365V63.7708Z",fill:"#8F8F8F"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.5417 65.5H39.6457C39.6457 65.5 39.5839 65.5 39.5621 65.5545L39.0662 67.0725L38.5708 65.5545C38.5489 65.5 38.4868 65.5 38.4868 65.5H36.764C36.7267 65.5 36.6954 65.5311 36.6954 65.5682V66.0837C36.6954 65.6748 36.2603 65.5 36.0055 65.5C35.4349 65.5 35.053 65.8758 34.934 66.4472C34.9276 66.0681 34.8961 65.9323 34.794 65.7932C34.7471 65.7251 34.6793 65.6678 34.6055 65.6204C34.4535 65.5314 34.317 65.5 34.0237 65.5H33.6794C33.6794 65.5 33.6171 65.5 33.5952 65.5545L33.2818 66.331V65.5682C33.2818 65.5311 33.2508 65.5 33.2136 65.5H32.4167C32.4167 65.5 32.3552 65.5 32.3328 65.5545L32.0071 66.362C32.0071 66.362 31.9746 66.4427 32.0489 66.4427H32.3552V67.9813C32.3552 68.0195 32.3853 68.0497 32.4236 68.0497H33.2136C33.2508 68.0497 33.2818 68.0195 33.2818 67.9813V66.4427H33.5898C33.7664 66.4427 33.8039 66.4475 33.8726 66.4796C33.914 66.4952 33.9513 66.5268 33.9716 66.5633C34.0133 66.6417 34.0237 66.7359 34.0237 67.0135V67.9813C34.0237 68.0195 34.0544 68.0497 34.0923 68.0497H34.8494C34.8494 68.0497 34.935 68.0497 34.9688 67.9652L35.1366 67.5505C35.3597 67.863 35.7269 68.0497 36.1833 68.0497H36.283C36.283 68.0497 36.3691 68.0497 36.4032 67.9652L36.6954 67.2415V67.9813C36.6954 68.0195 36.7267 68.0497 36.764 68.0497H37.5368C37.5368 68.0497 37.6221 68.0497 37.6564 67.9652C37.6564 67.9652 37.9655 67.1978 37.9667 67.192H37.9671C37.979 67.1281 37.8983 67.1281 37.8983 67.1281H37.6225V65.8113L38.4904 67.9652C38.5243 68.0497 38.6097 68.0497 38.6097 68.0497H39.5228C39.5228 68.0497 39.6087 68.0497 39.6426 67.9652L40.6048 65.5826C40.6381 65.5 40.5417 65.5 40.5417 65.5V65.5ZM36.6954 67.128H36.1763C35.9696 67.128 35.8015 66.9607 35.8015 66.7538C35.8015 66.5473 35.9696 66.3789 36.1763 66.3789H36.3215C36.5276 66.3789 36.6954 66.5473 36.6954 66.7538V67.128Z",fill:"#C30000"}))},tX=()=>{const r=$i("GuidePanel");return x.createElement("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":r("illustrationLabel"),focusable:!1,role:"img"},x.createElement("g",{clipPath:"url(#clip0_1387_21067)"},x.createElement("rect",{width:"80",height:"80",rx:"40",fill:"var(--ax-bg-moderate)"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55.1888 40.4309C53.795 44.9809 51.0663 48.7578 47.5693 51.0691L47.7484 53.0953L47.7474 53.1777L45.857 69.8798H33.8679L33.8181 69.5289L31.5004 53.149L31.5862 51.1003C28.0715 48.7951 25.3274 45.012 23.9257 40.4499C23.8781 40.4544 23.83 40.4567 23.7812 40.4567C22.8745 40.4567 22.1562 39.6596 22.1562 38.694V33.2299C22.1562 32.5826 22.479 32.0107 22.9648 31.704C23.7229 21.5029 30.8443 13.4856 39.554 13.4856C48.2401 13.4856 55.3472 21.4598 56.1376 31.6212C56.7049 31.8987 57.0938 32.5185 57.0938 33.2299V38.694C57.0938 39.6601 56.3765 40.4567 55.4688 40.4567C55.3731 40.4567 55.2796 40.4479 55.1888 40.4309Z",fill:"#F5F6F7"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.1471 51.6344C47.0789 55.2818 43.7373 59.0238 39.625 59.0238C35.4948 59.0238 32.142 55.2492 32.1022 51.5868C29.9622 52.1324 26.6956 53.778 23.9995 56.528C21.3885 59.191 19.3125 63.194 19.3125 66.2992V85H59.9375V66.2992C59.9375 63.1877 57.8167 59.1779 55.1575 56.5118C52.4983 53.8457 49.3007 52.2224 47.1471 51.6344Z",fill:"#156389"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.9671 51.7135C29.9959 52.4334 26.6891 54.0069 24.1875 56.3965C16.875 54.7596 13.625 50.8701 13.625 50.8701C13.625 50.8701 20.3621 44.2597 20.3662 32.698V32.6858C20.3662 19.1479 27.6319 9.80769 39.6022 9.80769C51.5742 9.80769 58.8399 19.1479 58.8399 32.6858H58.883C58.883 44.2556 65.625 50.8701 65.625 50.8701C65.625 50.8701 62.375 54.7596 55.0625 56.3942L55.0515 56.3965C52.6353 54.1854 49.1309 52.48 47.2243 51.759L47.2265 51.7583L47.1508 50.9013L47.1917 50.8303C50.7891 48.5155 53.5804 44.616 54.9262 39.904C55.0909 39.9962 55.277 40.0481 55.4739 40.0481C56.1476 40.0481 56.6928 39.4432 56.6928 38.694V33.2299C56.6928 32.5888 56.2936 32.0529 55.7564 31.9115C55.7559 31.9041 55.7554 31.8967 55.7549 31.8893C38.7466 33.7984 32.6199 22.0681 32.117 22.0673C32.117 22.0673 26.4686 26.1538 23.769 31.0125C23.769 31.0125 23.3576 31.9297 23.3556 31.9605C22.8934 32.1528 22.5637 32.648 22.5637 33.2299V38.694C22.5637 39.4432 23.1103 40.0481 23.7826 40.0481C23.9316 40.0481 24.0743 40.0185 24.2062 39.9643C25.5668 44.6786 28.3759 48.5739 31.9901 50.8733L32.0035 50.9013L31.9695 51.7135H31.9671Z",fill:"#A93D70"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.8159 35.8563C32.766 35.9417 32.4722 34.2696 32.7885 33.1775C32.848 32.9706 33.1956 32.0283 33.8109 32.0283C34.4254 32.0283 34.6968 32.5433 34.7345 32.6319C35.1865 33.6965 34.9645 35.7622 33.8159 35.8563",fill:"#202733"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.9927 35.8563C47.0425 35.9417 47.3364 34.2696 47.0201 33.1775C46.9606 32.9706 46.613 32.0283 45.9977 32.0283C45.3832 32.0283 45.1118 32.5433 45.0741 32.6319C44.6221 33.6965 44.8441 35.7622 45.9927 35.8563",fill:"#202733"}),x.createElement("path",{d:"M40.2935 37.5041C40.9213 37.396 41.3501 37.4638 41.5036 37.6748C42.0833 38.4721 41.8979 39.3156 40.9035 40.0081C40.3806 40.372 39.661 40.5001 39.28 40.3114C39.0937 40.2191 38.8758 40.3133 38.7934 40.5218C38.7109 40.7304 38.7951 40.9742 38.9814 41.0665C39.6111 41.3784 40.5794 41.206 41.2931 40.7092C42.6445 39.7682 42.9537 38.3611 42.0758 37.1534C41.7042 36.643 41.0465 36.5389 40.1812 36.688C39.9799 36.7227 39.8418 36.9335 39.8728 37.1589C39.9038 37.3842 40.0921 37.5388 40.2935 37.5041Z",fill:"#202733"}),x.createElement("path",{d:"M44.8337 42.9837C44.7968 43.0623 44.7122 43.2128 44.5763 43.4111C44.3463 43.7466 44.0574 44.083 43.7066 44.3967C42.6611 45.3315 41.3002 45.8721 39.5683 45.8226C37.8795 45.7744 36.5247 45.2422 35.4626 44.384C35.0726 44.0689 34.7506 43.7315 34.4933 43.3951C34.3415 43.1967 34.2468 43.0464 34.2053 42.968C34.1056 42.7795 33.8606 42.7019 33.6581 42.7946C33.4555 42.8874 33.3721 43.1154 33.4718 43.3039C33.5318 43.4175 33.6487 43.6029 33.8273 43.8364C34.1206 44.2197 34.4852 44.6019 34.9266 44.9585C36.1256 45.9273 37.6579 46.5293 39.5432 46.5831C41.5064 46.6391 43.0759 46.0157 44.273 44.9453C44.6733 44.5875 45.0023 44.2043 45.2656 43.8203C45.4257 43.5868 45.5298 43.4015 45.5829 43.2882C45.6733 43.0956 45.5788 42.8714 45.3719 42.7873C45.165 42.7033 44.924 42.7912 44.8337 42.9837Z",fill:"#202733"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M53.8629 70.5H42.8865C42.3966 70.5 42 70.0974 42 69.6V63.609C42 63.1117 42.3966 62.7083 42.8865 62.7083H53.8629C54.3527 62.7083 54.75 63.1117 54.75 63.609V69.6C54.75 70.0974 54.3527 70.5 53.8629 70.5",fill:"white"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.0346 63.9451H47.8971C47.8128 63.9451 47.7449 63.8775 47.7449 63.7937V63.6029C47.7449 63.5197 47.8128 63.4515 47.8971 63.4515H49.0346C49.1188 63.4515 49.1867 63.5197 49.1867 63.6029V63.7937C49.1867 63.8775 49.1188 63.9451 49.0346 63.9451",fill:"#202733"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.1365 63.7708H48.7955V62H48.1365V63.7708Z",fill:"#818997"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.5417 65.5H51.6457C51.6457 65.5 51.5839 65.5 51.5621 65.5545L51.0662 67.0725L50.5708 65.5545C50.5489 65.5 50.4868 65.5 50.4868 65.5H48.764C48.7267 65.5 48.6954 65.5311 48.6954 65.5682V66.0837C48.6954 65.6748 48.2603 65.5 48.0055 65.5C47.4349 65.5 47.053 65.8758 46.934 66.4472C46.9276 66.0681 46.8961 65.9323 46.794 65.7932C46.7471 65.7251 46.6793 65.6678 46.6055 65.6204C46.4535 65.5314 46.317 65.5 46.0237 65.5H45.6794C45.6794 65.5 45.6171 65.5 45.5952 65.5545L45.2818 66.331V65.5682C45.2818 65.5311 45.2508 65.5 45.2136 65.5H44.4167C44.4167 65.5 44.3552 65.5 44.3328 65.5545L44.0071 66.362C44.0071 66.362 43.9746 66.4427 44.0489 66.4427H44.3552V67.9813C44.3552 68.0195 44.3853 68.0497 44.4236 68.0497H45.2136C45.2508 68.0497 45.2818 68.0195 45.2818 67.9813V66.4427H45.5898C45.7664 66.4427 45.8039 66.4475 45.8726 66.4796C45.914 66.4952 45.9513 66.5268 45.9716 66.5633C46.0133 66.6417 46.0237 66.7359 46.0237 67.0135V67.9813C46.0237 68.0195 46.0544 68.0497 46.0923 68.0497H46.8494C46.8494 68.0497 46.935 68.0497 46.9688 67.9652L47.1366 67.5505C47.3597 67.863 47.7269 68.0497 48.1833 68.0497H48.283C48.283 68.0497 48.3691 68.0497 48.4032 67.9652L48.6954 67.2415V67.9813C48.6954 68.0195 48.7267 68.0497 48.764 68.0497H49.5368C49.5368 68.0497 49.6221 68.0497 49.6564 67.9652C49.6564 67.9652 49.9655 67.1978 49.9667 67.192H49.9671C49.979 67.1281 49.8983 67.1281 49.8983 67.1281H49.6225V65.8113L50.4904 67.9652C50.5243 68.0497 50.6097 68.0497 50.6097 68.0497H51.5228C51.5228 68.0497 51.6087 68.0497 51.6426 67.9652L52.6048 65.5826C52.6381 65.5 52.5417 65.5 52.5417 65.5V65.5ZM48.6954 67.128H48.1763C47.9696 67.128 47.8015 66.9607 47.8015 66.7538C47.8015 66.5473 47.9696 66.3789 48.1763 66.3789H48.3215C48.5276 66.3789 48.6954 66.5473 48.6954 66.7538V67.128Z",fill:"#C30000"})),x.createElement("defs",null,x.createElement("clipPath",{id:"clip0_1387_21067"},x.createElement("rect",{width:"80",height:"80",rx:"40",fill:"white"}))))};var rX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const WI=w.forwardRef((r,e)=>{var{children:t,className:n,illustration:i,poster:s,"data-color":a="info"}=r,o=rX(r,["children","className","illustration","poster","data-color"]);const{cn:l}=Ce(),d=Bi(!1);return x.createElement("div",Object.assign({"data-color":a},o,{ref:e,className:l("navds-guide-panel",n,{"navds-guide-panel--poster":s===!0,"navds-guide-panel--not-poster":s===!1,"navds-guide-panel--responsive-poster":s===void 0}),"data-responsive":s===void 0,"data-poster":s}),x.createElement("div",{className:l("navds-guide")},i??(d!=null&&d.isDarkside?x.createElement(tX,null):x.createElement(eX,null))),x.createElement("div",{className:l("navds-guide-panel__content")},(d==null?void 0:d.isDarkside)&&x.createElement("svg",{viewBox:"0 0 33 22",width:"33",height:"22",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:l("navds-guide-panel__tail")},x.createElement("path",{d:"M8.74229e-08 22L0 20L33 20V22L8.74229e-08 22Z",fill:"var(--ax-bg-raised)"}),x.createElement("path",{d:"M31 20.0001L2 20.0001C2.09817 10.0296 3 7.00011 6 2.00011C8 12.5001 20 20.0001 31 20.0001Z",fill:"var(--ax-bg-raised)"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 20C-2.87106e-10 19.9934 3.21047e-05 19.987 9.68646e-05 19.9804C0.0494722 14.9659 0.299239 11.5341 0.964025 8.68212C1.64231 5.77217 2.72947 3.56367 4.28501 0.971094C4.71185 0.259692 5.53358 -0.114327 6.35038 0.0310157C7.16718 0.176359 7.80944 0.810884 7.96467 1.62586C8.84145 6.22896 11.9453 10.3172 16.2599 13.2908C20.5715 16.2623 25.9294 18.0001 31 18.0001C32.1046 18.0001 33 18.8954 33 20L0 20ZM6.755 4.70521C8.97688 10.7068 14.4934 15.469 20.8803 18.0001C24.1345 19.2897 27.6146 20.0001 31 20.0001L2 20.0001C2.00689 19.3003 2.01774 18.6346 2.033 18.0001C2.19625 11.2107 2.86405 7.98363 4.58479 4.54371C4.9944 3.72487 5.46367 2.89399 6 2.00011C6.17639 2.92619 6.43058 3.82889 6.755 4.70521Z",fill:"var(--ax-border-default)"})),d!=null&&d.isDarkside?x.createElement("div",{className:l("navds-guide-panel__content-inner")},t):t))}),A1=({title:r,filled:e=!1})=>{const{cn:t}=Ce();let n=os();return n=r?`title-${n}`:void 0,x.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img","aria-labelledby":n,className:t("navds-help-text__icon",{"navds-help-text__icon--filled":e})},r?x.createElement("title",{id:n},r):null,x.createElement("circle",{cx:"12",cy:"12",r:"11",strokeWidth:"1.5",stroke:"currentColor",fill:e?"currentColor":"transparent"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.75 9C9.75 7.75736 10.7574 6.75 12 6.75H12.1716C13.3195 6.75 14.25 7.68054 14.25 8.82843C14.25 9.37966 14.031 9.90832 13.6412 10.2981L12.6412 11.2981C11.7504 12.1889 11.25 13.3971 11.25 14.6569C11.25 15.0711 11.5858 15.4069 12 15.4069C12.4142 15.4069 12.75 15.0711 12.75 14.6569C12.75 13.7949 13.0924 12.9682 13.7019 12.3588L14.7019 11.3588C15.373 10.6877 15.75 9.77748 15.75 8.82843C15.75 6.85212 14.1479 5.25 12.1716 5.25H12C9.92893 5.25 8.25 6.92893 8.25 9V9.5C8.25 9.91421 8.58579 10.25 9 10.25C9.41421 10.25 9.75 9.91421 9.75 9.5V9ZM12 16.5C11.4477 16.5 11 16.9477 11 17.5C11 18.0523 11.4477 18.5 12 18.5C12.5523 18.5 13 18.0523 13 17.5C13 16.9477 12.5523 16.5 12 16.5Z",fill:e?"var(--ax-text-accent-contrast, var(--a-surface-default))":"currentColor"}))};var nX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const KI=w.forwardRef((r,e)=>{var{className:t,children:n,placement:i,strategy:s="absolute",title:a,onClick:o,wrapperClassName:l,"data-color":d="info"}=r,c=nX(r,["className","children","placement","strategy","title","onClick","wrapperClassName","data-color"]);const{cn:u}=Ce(),f=w.useRef(null),g=Zn(f,e),[m,v]=w.useState(!1),b=Bi(!1),y=$i("HelpText"),k=a||y("title");return x.createElement("div",{className:u("navds-help-text",l),"data-color":d},x.createElement("button",Object.assign({},c,{ref:g,onClick:At(o,()=>v(_=>!_)),className:u(t,"navds-help-text__button"),type:"button","aria-expanded":m}),x.createElement(A1,{title:k}),x.createElement(A1,{filled:!0,title:k})),x.createElement(Xv,{onClose:()=>v(!1),className:u("navds-help-text__popover"),open:m,anchorEl:f.current,placement:i,strategy:s,offset:b!=null&&b.isDarkside?8:12,arrow:!(b!=null&&b.isDarkside)},x.createElement(Xv.Content,{className:u("navds-body-short")},n)))});var iX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Or=w.forwardRef((r,e)=>{var{as:t="a",className:n,underline:i=!0,variant:s,inlineText:a=!1,"data-color":o}=r,l=iX(r,["as","className","underline","variant","inlineText","data-color"]);const d=Bi(!1),{cn:c}=Ce();let u;return d!=null&&d.isDarkside?u=s:u=s??"action",x.createElement(t,Object.assign({"data-color":o??sX(u),"data-variant":u},l,{ref:e,className:c("navds-link",n,{[`navds-link--${u}`]:u,"navds-link--remove-underline":!i,"navds-link--inline-text":a})}))});function sX(r){switch(r){case"action":return"accent";case"neutral":return"neutral";case"subtle":return"neutral";default:return}}const Zm=w.createContext({listType:"ul",size:"medium"});var aX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const GI=w.forwardRef((r,e)=>{var{className:t,children:n,title:i,icon:s}=r,a=aX(r,["className","children","title","icon"]);const{listType:o,size:l}=w.useContext(Zm),{cn:d}=Ce();return o==="ol"&&s&&console.warn("<List />: Icon prop is not supported for ordered lists. Please remove the icon prop."),x.createElement("li",Object.assign({},a,{ref:e,className:d("navds-list__item",t)}),o==="ul"&&x.createElement("div",{className:d("navds-list__item-marker",{"navds-list__item-marker--icon":s,"navds-list__item-marker--bullet":!s})},s||x.createElement("svg",{viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1,role:"img"},x.createElement("rect",{width:"6",height:"6",rx:"3",fill:"currentColor"}))),x.createElement("div",null,i&&x.createElement(Mi,{as:"p",size:l,weight:"semibold"},i),n))});GI.displayName="List.Item";var oX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const lX={small:"xsmall",medium:"small",large:"medium"},In=w.forwardRef((r,e)=>{var{children:t,className:n,as:i="ul",title:s,description:a,headingTag:o,size:l,"aria-label":d,"aria-labelledby":c}=r,u=oX(r,["children","className","as","title","description","headingTag","size","aria-label","aria-labelledby"]);const{size:f}=w.useContext(Zm),{cn:g}=Ce(),m=Bi(!1),v=l??f;return m!=null&&m.isDarkside?x.createElement(Zm.Provider,{value:{listType:i,size:v}},x.createElement(Mi,Object.assign({as:"div"},u,{size:v,ref:e,className:g("navds-list",`navds-list--${v}`,n)}),x.createElement(i,{role:"list","aria-label":d,"aria-labelledby":c},t))):x.createElement(Zm.Provider,{value:{listType:i,size:v}},x.createElement(Mi,Object.assign({as:"div"},u,{size:v,ref:e,className:g("navds-list",`navds-list--${v}`,n)}),s&&x.createElement(Be,{size:lX[v],as:o??"h3"},s),a&&x.createElement(pe,{size:v},a),x.createElement(i,{role:"list","aria-label":d,"aria-labelledby":c},t)))});In.Item=GI;var dX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const qI=w.forwardRef((r,e)=>{var{children:t,as:n="button",selected:i=!1,className:s,page:a,"data-color":o}=r,l=dX(r,["children","as","selected","className","page","data-color"]);const d=Bi(!1),{cn:c}=Ce();return x.createElement(ft,Object.assign({as:n,variant:d!=null&&d.isDarkside?"tertiary-neutral":"tertiary","data-color":o,"aria-current":i,"data-pressed":i,ref:e,className:c("navds-pagination__item",s,{"navds-pagination__item--selected":i}),"data-page":a,page:a},n==="button"&&{type:"button"},l),t)});var cX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const uX=({page:r,count:e,boundaryCount:t=1,siblingCount:n=1})=>{var i,s;const a=(u,f)=>Array.from({length:f-u+1},(g,m)=>u+m);if(e<=(t+n)*2+3)return a(1,e);const o=a(1,t),l=a(e-t+1,e),d=Math.max(Math.min(r-n,e-t-n*2-1),t+2),c=d+n*2;return[...o,d-((i=o[o.length-1])!==null&&i!==void 0?i:0)===2?d-1:"ellipsis",...a(d,c),((s=l[0])!==null&&s!==void 0?s:e+1)-c===2?c+1:"ellipsis",...l]},tm=w.forwardRef((r,e)=>{var{page:t,onPageChange:n,count:i,boundaryCount:s=1,siblingCount:a=1,className:o,size:l="medium",prevNextTexts:d=!1,srHeading:c,"aria-labelledby":u,renderItem:f=qI,"data-color":g}=r,m=cX(r,["page","onPageChange","count","boundaryCount","siblingCount","className","size","prevNextTexts","srHeading","aria-labelledby","renderItem","data-color"]);const{cn:v}=Ce(),b=os(),y=$i("Pagination");return t<1?(console.error("page cannot be less than 1"),null):i<1?(console.error("count cannot be less than 1"),null):s<0?(console.error("boundaryCount cannot be less than 0"),null):a<0?(console.error("siblingCount cannot be less than 0"),null):x.createElement("nav",Object.assign({ref:e},m,{"data-color":g,"aria-labelledby":c?Qf(b,u):u,className:v("navds-pagination",`navds-pagination--${l}`,o)}),c&&x.createElement(Be,{size:"xsmall",visuallyHidden:!0,as:c.tag,id:b},c.text),x.createElement("ul",{className:v("navds-pagination__list")},x.createElement("li",null,x.createElement(f,{"data-color":g,className:v("navds-pagination__prev-next",{"navds-pagination--invisible":t===1,"navds-pagination--prev-next--with-text":d}),disabled:t===1,onClick:()=>n==null?void 0:n(t-1),page:t-1,size:l,icon:x.createElement(nI,Object.assign({},d?{"aria-hidden":!0}:{title:y("previous")}))},d&&y("previous"))),uX({page:t,count:i,siblingCount:a,boundaryCount:s}).map((k,_)=>{const E=Number(k);return Number.isNaN(E)?x.createElement("li",{className:v("navds-pagination__ellipsis"),key:`${k}${_}`},x.createElement(pe,{size:l==="xsmall"?"small":l,as:"span"},"...")):x.createElement("li",{key:k},x.createElement(f,{"data-color":g,onClick:()=>n==null?void 0:n(E),selected:t===E,page:E,size:l},E))}),x.createElement("li",null,x.createElement(f,{"data-color":g,className:v("navds-pagination__prev-next",{"navds-pagination--invisible":t===i,"navds-pagination--prev-next--with-text":d}),disabled:t===i,onClick:()=>n==null?void 0:n(t+1),page:t+1,size:l,icon:x.createElement(Ty,Object.assign({},d?{"aria-hidden":!0}:{title:y("next")})),iconPosition:"right"},d&&y("next")))))});tm.Item=qI;var fX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const v_=w.forwardRef((r,e)=>{var{className:t,children:n,height:i,width:s,style:a,variant:o="text",as:l="div"}=r,d=fX(r,["className","children","height","width","style","variant","as"]);const{cn:c}=Ce();return x.createElement(l,Object.assign({},d,{ref:e,className:c("navds-skeleton",t,`navds-skeleton--${o}`,{"navds-skeleton--has-children":!!n,"navds-skeleton--no-height":!i,"navds-skeleton--no-width":!s,"navds-skeleton--inline":l==="span"}),style:Object.assign(Object.assign({},a),{width:s,height:i}),"aria-hidden":!0}),n)});var hX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const pX=w.forwardRef((r,e)=>{var{className:t}=r,n=hX(r,["className"]);const{cn:i}=Ce();return x.createElement("tbody",Object.assign({},n,{ref:e,className:i("navds-table__body",t)}))});var gX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const YI=w.forwardRef((r,e)=>{var{className:t,children:n,align:i,textSize:s}=r,a=gX(r,["className","children","align","textSize"]);const{cn:o}=Ce();return x.createElement("th",Object.assign({ref:e,className:o("navds-table__header-cell","navds-label",t,{[`navds-table__header-cell--align-${i}`]:i,"navds-label--small":s==="small"})},a),n)}),XI=w.createContext(null);var mX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const vX=w.forwardRef((r,e)=>{var t,n,i,s,{className:a,children:o,sortable:l=!1,sortKey:d}=r,c=mX(r,["className","children","sortable","sortKey"]);const u=w.useContext(XI),{cn:f}=Ce();return l&&!d&&console.warn("ColumnHeader with `sortable=true` must have a sortKey."),x.createElement(YI,Object.assign({scope:"col",ref:e,className:f(a),"aria-sort":l?((t=u==null?void 0:u.sort)===null||t===void 0?void 0:t.orderBy)===d?(n=u==null?void 0:u.sort)===null||n===void 0?void 0:n.direction:"none":void 0},c),l?x.createElement("button",{type:"button",className:f("navds-table__sort-button"),onClick:l&&d?()=>{var g;return(g=u==null?void 0:u.onSortChange)===null||g===void 0?void 0:g.call(u,d)}:void 0},o,((i=u==null?void 0:u.sort)===null||i===void 0?void 0:i.orderBy)===d?((s=u==null?void 0:u.sort)===null||s===void 0?void 0:s.direction)==="descending"?x.createElement(tK,{"aria-hidden":!0}):x.createElement(nK,{"aria-hidden":!0}):x.createElement(AW,{"aria-hidden":!0})):o)});var bX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const ZI=w.forwardRef((r,e)=>{var{className:t,children:n="",align:i,textSize:s}=r,a=bX(r,["className","children","align","textSize"]);const{cn:o}=Ce();return x.createElement(pe,Object.assign({as:"td",ref:e,className:o("navds-table__data-cell",t,{[`navds-table__data-cell--align-${i}`]:i}),size:s},a),n)});var yX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const kX=globalThis!=null&&globalThis.matchMedia?globalThis.matchMedia("(prefers-reduced-motion: reduce)").matches:!1;function _X(r){const e=parseFloat(r);return!Number.isNaN(e)&&Number.isFinite(e)}function O1(r){return typeof r=="string"&&r[r.length-1]==="%"&&_X(r.substring(0,r.length-1))}function e0(r,e){e===0&&(r!=null&&r.style)&&(r.style.display="none")}function wX(r,e){e===0&&(r!=null&&r.style)&&(r.style.display="")}const EX=r=>{var{children:e,className:t,innerClassName:n,duration:i=250,easing:s="ease",height:a}=r,o=yX(r,["children","className","innerClassName","duration","easing","height"]);const{cn:l}=Ce(),d=w.useRef(a),c=w.useRef(null),u=w.useRef(),f=w.useRef(),g=w.useRef(a),m=w.useRef("visible"),v=kX?0:i;typeof g.current=="number"?(typeof a!="string"&&(g.current=a<0?0:a),m.current="hidden"):O1(g.current)&&(g.current=a==="0%"?0:a,m.current="hidden");const[b,y]=w.useState(g.current),[k,_]=w.useState(m.current),[E,S]=w.useState(!1);w.useEffect(()=>{e0(c.current,g.current)},[]),w.useEffect(()=>{if(a!==d.current&&c.current){wX(c.current,d.current),c.current.style.overflow="hidden";const D=c.current.offsetHeight;c.current.style.overflow="";const R=v;let L,P,F="hidden",H;const N=d.current==="auto";typeof a=="number"?(L=a<0?0:a,P=L):O1(a)?(L=a==="0%"?0:a,P=L):(L=D,P="auto",F=void 0),N&&(P=L,L=D),y(L),_("hidden"),S(!N),clearTimeout(f.current),clearTimeout(u.current),N?(H=!0,f.current=setTimeout(()=>{y(P),_(F),S(H)},50),u.current=setTimeout(()=>{S(!1),e0(c.current,P)},R)):f.current=setTimeout(()=>{y(P),_(F),S(!1),a!=="auto"&&e0(c.current,L)},R)}return d.current=a,()=>{clearTimeout(f.current),clearTimeout(u.current)}},[a]);const O={height:b,overflow:k};E&&(O.transition=`height ${v}ms ${s} 0ms`,O.WebkitTransition=O.transition);const C=typeof o["aria-hidden"]<"u"?o["aria-hidden"]:a===0;return x.createElement("div",Object.assign({},o,{className:l(t),style:O}),x.createElement("div",{"aria-hidden":C,className:l(n),ref:c},e))},xX=new Set(["BUTTON","A","INPUT","SELECT","TEXTAREA","DETAILS","SUMMARY","LABEL"]),SX=new Set(["button","link","checkbox","radio","switch","menuitem","option","tab","textbox","combobox","spinbutton","slider"]);function JI(r){for(let e=r;e&&e.nodeName!=="TR"&&e.nodeName!=="TH";e=e.parentElement){const t=e.nodeName;if(xX.has(t))return!0;const n=e.getAttribute("role");if(n&&SX.has(n)||e.hasAttribute("tabindex")&&e.getAttribute("tabindex")!=="-1")return!0}return!1}var TX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const QI=w.forwardRef((r,e)=>{var{className:t,selected:n=!1,shadeOnHover:i=!0,onClick:s,onRowClick:a}=r,o=TX(r,["className","selected","shadeOnHover","onClick","onRowClick"]);const{cn:l}=Ce(),d=c=>{a&&(JI(c.target)||a(c))};return x.createElement("tr",Object.assign({},o,{ref:e,className:l("navds-table__row",t,{"navds-table__row--selected":n,"navds-table__row--shade-on-hover":i}),onClick:At(s,d),"data-interactive":!!a}))});var AX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const OX=w.forwardRef((r,e)=>{var{className:t,children:n,content:i,togglePlacement:s="left",defaultOpen:a=!1,open:o,onOpenChange:l,expansionDisabled:d=!1,expandOnRowClick:c=!1,colSpan:u=999,contentGutter:f,onClick:g}=r,m=AX(r,["className","children","content","togglePlacement","defaultOpen","open","onOpenChange","expansionDisabled","expandOnRowClick","colSpan","contentGutter","onClick"]);const{cn:v}=Ce(),[b,y]=Cl({defaultValue:a,value:o,onChange:l}),k=$i("global"),_=os(),E=O=>{y(T=>!T),O.stopPropagation()},S=O=>{c&&!d&&!JI(O.target)&&E(O)};return x.createElement(x.Fragment,null,x.createElement(QI,Object.assign({},m,{ref:e,className:v("navds-table__expandable-row",t,{"navds-table__expandable-row--open":b,"navds-table__expandable-row--expansion-disabled":d,"navds-table__expandable-row--clickable":c}),onClick:At(g,S)}),s==="right"&&n,x.createElement(ZI,{className:v("navds-table__toggle-expand-cell",{"navds-table__toggle-expand-cell--open":b}),onClick:d?()=>null:E},!d&&x.createElement("button",{className:v("navds-table__toggle-expand-button"),type:"button","aria-controls":_,"aria-expanded":b,onClick:E},x.createElement(Hb,{className:v("navds-table__expandable-icon"),title:k(b?"showLess":"showMore")}))),s==="left"&&n),x.createElement("tr",{"data-state":b?"open":"closed",className:v("navds-table__expanded-row"),"aria-hidden":!b,id:_},x.createElement("td",{colSpan:u,className:v("navds-table__expanded-row-cell")},x.createElement(EX,{className:v("navds-table__expanded-row-collapse"),innerClassName:v(`navds-table__expanded-row-content navds-table__expanded-row-content--gutter-${f??s}`),height:b?"auto":0,duration:150,easing:"cubic-bezier(0.39,0.57,0.56,1)"},i))))});var CX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const jX=w.forwardRef((r,e)=>{var{className:t}=r,n=CX(r,["className"]);const{cn:i}=Ce();return x.createElement("thead",Object.assign({},n,{ref:e,className:i("navds-table__header",t)}))});var IX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const er=w.forwardRef((r,e)=>{var{className:t,zebraStripes:n=!1,size:i="medium",onSortChange:s,sort:a,stickyHeader:o=!1}=r,l=IX(r,["className","zebraStripes","size","onSortChange","sort","stickyHeader"]);const{cn:d}=Ce();return x.createElement(XI.Provider,{value:{onSortChange:s,sort:a}},x.createElement("table",Object.assign({},l,{ref:e,className:d("navds-table",`navds-table--${i}`,t,{"navds-table--zebra-stripes":n,"navds-table--sticky-header":o})})))});er.Header=jX;er.Body=pX;er.Row=QI;er.ColumnHeader=vX;er.HeaderCell=YI;er.DataCell=ZI;er.ExpandableRow=OX;var DX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Qc=w.forwardRef((r,e)=>{var{children:t,className:n,variant:i,size:s="medium",icon:a,"data-color":o}=r,l=DX(r,["children","className","variant","size","icon","data-color"]);const{cn:d}=Ce(),c=(i==null?void 0:i.endsWith("-filled"))&&"strong",u=(i==null?void 0:i.endsWith("-moderate"))&&"moderate";return x.createElement(pe,Object.assign({"data-color":o??RX(i),"data-variant":c||u||"outline"},l,{ref:e,as:"span",size:s==="medium"?"medium":"small",className:d("navds-tag",n,`navds-tag--${i}`,`navds-tag--${s}`)}),a&&x.createElement("span",{className:d("navds-tag__icon--left")},a),t)});function RX(r){switch(r){case"warning":case"warning-filled":case"warning-moderate":return"warning";case"error":case"error-filled":case"error-moderate":return"danger";case"info":case"info-filled":case"info-moderate":case"alt3":case"alt3-filled":case"alt3-moderate":return"info";case"success":case"success-filled":case"success-moderate":return"success";case"neutral":case"neutral-filled":case"neutral-moderate":return"neutral";case"alt1":case"alt1-filled":case"alt1-moderate":return"meta-purple";case"alt2":case"alt2-filled":case"alt2-moderate":return"meta-lime";default:return"neutral"}}var PX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const NX=w.forwardRef((r,e)=>{var{children:t,as:n="a",className:i}=r,s=PX(r,["children","as","className"]);const{cn:a}=Ce();return x.createElement("li",null,x.createElement(n,Object.assign({},s,{ref:e,className:a(i,"navds-error-summary__item","navds-link")}),t))});var MX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Jm=w.forwardRef((r,e)=>{var{children:t,className:n,size:i="medium",headingTag:s="h2",heading:a}=r,o=MX(r,["children","className","size","headingTag","heading"]);const{cn:l}=Ce(),d=$i("ErrorSummary"),c=w.useRef(null),u=w.useRef(null),f=Zn(e,c);return x.createElement("div",Object.assign({ref:f},o,{className:l(n,"navds-error-summary",`navds-error-summary--${i}`),tabIndex:-1,onFocus:At(o.onFocus,g=>{var m;g.target===c.current&&((m=u==null?void 0:u.current)===null||m===void 0||m.focus())})}),x.createElement(Be,{className:l("navds-error-summary__heading"),as:s,size:i==="medium"?"small":"xsmall",ref:u,tabIndex:-1},a??d("heading")),x.createElement(pe,{as:"ul",size:i,className:l("navds-error-summary__list")},t))});Jm.Item=NX;var LX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const eD=w.forwardRef((r,e)=>{var t,n,i;const{inputProps:s,size:a,readOnly:o}=nE(r,"switch"),{children:l,className:d,description:c,hideLabel:u=!1,loading:f,checked:g,defaultChecked:m,position:v="left"}=r,b=LX(r,["children","className","description","hideLabel","loading","checked","defaultChecked","position"]),{cn:y}=Ce(),[k,_]=w.useState((t=m??g)!==null&&t!==void 0?t:!1);w.useEffect(()=>{g!==void 0&&_(g)},[g]);const E=g??k;return x.createElement("div",{className:y("navds-switch",r.className,`navds-switch--${a}`,`navds-switch--${v}`,{"navds-switch--loading":f,"navds-switch--disabled":(n=s.disabled)!==null&&n!==void 0?n:f,"navds-switch--readonly":o,"navds-switch--standalone":u})},x.createElement("input",Object.assign({},jl(b,["size","readOnly"]),jl(s,["aria-invalid","aria-describedby"]),{disabled:(i=s.disabled)!==null&&i!==void 0?i:f,checked:g,defaultChecked:m,ref:e,type:"checkbox",onChange:S=>{var O;o||(_(S.target.checked),(O=r.onChange)===null||O===void 0||O.call(r,S))},onClick:S=>{var O;if(o){S.preventDefault();return}(O=r.onClick)===null||O===void 0||O.call(r,S)},className:y(d,"navds-switch__input")})),x.createElement("span",{className:y("navds-switch__track")},x.createElement("span",{className:y("navds-switch__thumb")},x.createElement(FX,{size:a,checked:E,loading:f}))),x.createElement("label",{htmlFor:s.id,className:y("navds-switch__label-wrapper")},x.createElement("div",{className:y("navds-switch__content",{"navds-sr-only":u,"navds-switch--with-description":c&&!u})},x.createElement(pe,{as:"div",size:a,className:y("navds-switch__label")},o&&x.createElement(S5,null),l),c&&x.createElement(pe,{size:a,as:"div",className:y("navds-form-field__subdescription navds-switch__description")},c))))}),FX=({size:r,checked:e,loading:t})=>{if(t){let n=16;return r==="small"&&(n=12),e&&(n+=2),x.createElement(Uc,{size:"small","aria-live":"polite",variant:e?"interaction":"inverted",width:`${n/16}rem`,height:`${n/16}rem`})}return e?r==="small"?x.createElement("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img","aria-hidden":!0},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.62013 0.530226C10.1194 0.952686 10.1817 1.6999 9.7592 2.19917L5.4171 7.33075C5.20318 7.58356 4.89318 7.73525 4.5623 7.74901C4.23142 7.76277 3.90989 7.63735 3.67572 7.40318L1.3073 5.03476C0.844833 4.5723 0.844833 3.8225 1.3073 3.36003C1.76976 2.89757 2.51956 2.89757 2.98202 3.36003L4.4404 4.81841L7.95118 0.669304C8.37364 0.170033 9.12085 0.107765 9.62013 0.530226Z",fill:"currentColor"})):x.createElement("svg",{width:"12",height:"10",viewBox:"0 0 12 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img","aria-hidden":!0},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2674 0.647802C11.8762 1.20971 11.9141 2.1587 11.3522 2.76743L5.35221 9.26743C5.07531 9.56739 4.68813 9.74155 4.27998 9.74971C3.87184 9.75787 3.478 9.59933 3.18934 9.31067L0.68934 6.81067C0.103553 6.22488 0.103553 5.27513 0.68934 4.68935C1.27513 4.10356 2.22487 4.10356 2.81066 4.68935L4.20673 6.08541L9.14779 0.732587C9.7097 0.123856 10.6587 0.0858967 11.2674 0.647802Z",fill:"currentColor"})):null};var VX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const C1=(r,e,t)=>{const{outerHeightStyle:n,overflow:i}=e;return t.current<20&&(n>0&&Math.abs((r.outerHeightStyle||0)-n)>1||r.overflow!==i)?(t.current+=1,e):r},j1=r=>((r==null?void 0:r.ownerDocument)||document).defaultView||window;function Am(r){return parseInt(r,10)||0}const HX=w.forwardRef((r,e)=>{var t,n,{className:i,onChange:s,maxRows:a,minRows:o=1,autoScrollbar:l,style:d,value:c}=r,u=VX(r,["className","onChange","maxRows","minRows","autoScrollbar","style","value"]);const{current:f}=w.useRef(c!=null),g=w.useRef(null),m=Zn(g,e),v=w.useRef(null),b=w.useRef(0),[y,k]=w.useState({outerHeightStyle:0}),_=x.useCallback(()=>{const T=g.current,D=j1(T).getComputedStyle(T);if(D.width==="0px")return{outerHeightStyle:0};const R=v.current;R.style.width=D.width,R.value=T.value||u.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const L=D.boxSizing,P=Am(D.paddingBottom)+Am(D.paddingTop),F=Am(D.borderBottomWidth)+Am(D.borderTopWidth),H=R.scrollHeight-P;R.value="x";const N=R.scrollHeight-P;let z=H;o&&(z=Math.max(Number(o)*N,z)),a&&(z=Math.min(Number(a)*N,z)),z=Math.max(z,N);const G=z+(L==="border-box"?P+F:0),Y=Math.abs(z-H)<=1;return{outerHeightStyle:G,overflow:Y}},[a,o,u.placeholder]),E=()=>{const T=_();I1(T)||k(C=>C1(C,T,b))};Nl(()=>{const T=()=>{const P=_();I1(P)||Uf.flushSync(()=>{k(F=>C1(F,P,b))})},C=rI(()=>{var P,F,H;if(b.current=0,!((P=g.current)===null||P===void 0)&&P.style.height||!((F=g.current)===null||F===void 0)&&F.style.width){((H=g.current)===null||H===void 0?void 0:H.style.overflow)==="hidden"&&k(N=>Object.assign(Object.assign({},N),{overflow:!1}));return}T()},166,!0),D=g.current,R=j1(D);R.addEventListener("resize",C);let L;return typeof ResizeObserver<"u"&&(L=new ResizeObserver(C),L.observe(D)),()=>{C.clear(),R.removeEventListener("resize",C),L&&L.disconnect()}},[_]),Nl(()=>{E()}),w.useEffect(()=>{b.current=0},[c]);const S=T=>{b.current=0,f||E(),s&&s(T)},O=Object.assign({"--__ac-textarea-height":y.outerHeightStyle+"px","--__axc-textarea-height":y.outerHeightStyle+"px",overflow:y.overflow&&!l&&!(!((t=g.current)===null||t===void 0)&&t.style.height)&&!(!((n=g.current)===null||n===void 0)&&n.style.width)?"hidden":void 0},d);return x.createElement(x.Fragment,null,x.createElement("textarea",Object.assign({value:c,onChange:S,ref:m,rows:o,style:O},u,{className:i})),x.createElement("textarea",{"aria-hidden":!0,className:i,readOnly:!0,ref:v,tabIndex:-1,style:Object.assign({visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},d)}))});function I1(r){return r==null||Object.keys(r).length===0||r.outerHeightStyle===0&&!r.overflow}const UX=({maxLengthId:r,maxLength:e,currentLength:t,size:n,i18n:i})=>{const{cn:s}=Ce(),a=$i("Textarea",{charsLeft:i!=null&&i.counterLeft?`{chars} ${i.counterLeft}`:void 0,charsTooMany:i!=null&&i.counterTooMuch?`{chars} ${i.counterTooMuch}`:void 0}),o=e-t,[l,d]=w.useState(o);return w.useEffect(()=>{const c=rI(()=>{d(o)},2e3);return c(),()=>{c.clear()}},[o]),x.createElement(x.Fragment,null,x.createElement("span",{id:r,className:s("navds-sr-only")},a("maxLength",{maxLength:e})),o<20&&x.createElement("span",{role:"status",className:s("navds-textarea__sr-counter navds-sr-only")},D1(l,a)),x.createElement(pe,{className:s("navds-textarea__counter",{"navds-textarea__counter--error":o<0}),size:n},D1(o,a)))},D1=(r,e)=>r<0?e("charsTooMany",{chars:Math.abs(r)}):e("charsLeft",{chars:r});var BX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Vn=w.forwardRef((r,e)=>{var t,n,i;const{inputProps:s,errorId:a,showErrorMsg:o,hasError:l,size:d,inputDescriptionId:c}=nE(r,"textarea"),{label:u,className:f,description:g,maxLength:m,hideLabel:v=!1,resize:b,UNSAFE_autoScrollbar:y,i18n:k,readOnly:_}=r,E=BX(r,["label","className","description","maxLength","hideLabel","resize","UNSAFE_autoScrollbar","i18n","readOnly"]),{cn:S}=Ce(),O=os(),T=m!==void 0&&m>0,[C,D]=w.useState((t=r==null?void 0:r.defaultValue)!==null&&t!==void 0?t:""),R=()=>{let P=E!=null&&E.minRows?E==null?void 0:E.minRows:3;return d==="small"&&(P=E!=null&&E.minRows?E==null?void 0:E.minRows:2),P},L=Qf(s["aria-describedby"],{[O??""]:T});return x.createElement("div",{className:S(f,"navds-form-field",`navds-form-field--${d}`,{"navds-form-field--disabled":!!s.disabled,"navds-form-field--readonly":_,"navds-textarea--readonly":_,"navds-textarea--error":l,"navds-textarea--autoscrollbar":y,[`navds-textarea--resize-${b===!0?"both":b}`]:b})},x.createElement(Bc,{htmlFor:s.id,size:d,className:S("navds-form-field__label",{"navds-sr-only":v})},_&&x.createElement(PO,null),u),!!g&&x.createElement(pe,{className:S("navds-form-field__description",{"navds-sr-only":v}),id:c,size:d,as:"div"},g),x.createElement(HX,Object.assign({},jl(E,["error","errorId","size"]),s,{onChange:At(r.onChange,r.value===void 0?P=>D(P.target.value):void 0),minRows:R(),autoScrollbar:y,ref:e,readOnly:_,className:S("navds-textarea__input","navds-body-short",`navds-body-short--${d??"medium"}`)},L?{"aria-describedby":L}:{})),T&&!_&&!s.disabled&&x.createElement(UX,{maxLengthId:O,maxLength:m,currentLength:(i=(n=r.value)===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:C.length,size:d,i18n:k}),x.createElement("div",{className:S("navds-form-field__error"),id:a,"aria-relevant":"additions removals","aria-live":"polite"},o&&x.createElement(NO,{size:d,showIcon:!0},r.error)))});var $X=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const kr=w.forwardRef((r,e)=>{const{cn:t}=Ce(),{inputProps:n,errorId:i,showErrorMsg:s,hasError:a,size:o,inputDescriptionId:l}=nE(r,"textField"),{label:d,className:c,description:u,htmlSize:f,hideLabel:g=!1,type:m="text",readOnly:v}=r,b=$X(r,["label","className","description","htmlSize","hideLabel","type","readOnly"]);return x.createElement("div",{className:t(c,"navds-form-field",`navds-form-field--${o}`,{"navds-text-field--error":a,"navds-text-field--disabled":!!n.disabled,"navds-form-field--disabled":!!n.disabled,"navds-form-field--readonly":v,"navds-text-field--readonly":v})},x.createElement(Bc,{htmlFor:n.id,size:o,className:t("navds-form-field__label",{"navds-sr-only":g})},v&&x.createElement(PO,null),d),!!u&&x.createElement(pe,{className:t("navds-form-field__description",{"navds-sr-only":g}),id:l,size:o,as:"div"},u),x.createElement("input",Object.assign({},jl(b,["error","errorId","size"]),n,{ref:e,type:m,readOnly:v,className:t("navds-text-field__input","navds-body-short",`navds-body-short--${o??"medium"}`),size:f})),x.createElement("div",{className:t("navds-form-field__error"),id:i,"aria-relevant":"additions removals","aria-live":"polite"},s&&x.createElement(NO,{size:o,showIcon:!0},r.error)))});var zX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const WX=w.forwardRef((r,e)=>{var{children:t,className:n,border:i=!1,as:s="div"}=r,a=zX(r,["children","className","border","as"]);const{cn:o}=Ce();return x.createElement(s,Object.assign({ref:e,className:o("navds-panel",n,{"navds-panel--border":i})},a),t)});var KX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const GX=w.forwardRef((r,e)=>{var{className:t}=r,n=KX(r,["className"]);const{cn:i}=Ce();return x.createElement(Mi,Object.assign({},n,{as:"div",ref:e,className:i("navds-link-panel__description",t)}))});var qX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const YX=w.forwardRef((r,e)=>{var{className:t,as:n="div"}=r,i=qX(r,["className","as"]);const{cn:s}=Ce();return x.createElement(n,Object.assign({},i,{ref:e,className:s("navds-link-panel__title","navds-heading","navds-heading--medium",t)}))});var XX=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const ZX=w.forwardRef((r,e)=>{var{children:t,as:n="a",border:i=!0,className:s}=r,a=XX(r,["children","as","border","className"]);const{cn:o}=Ce();return x.createElement(WX,Object.assign({},a,{as:n,border:i,ref:e,className:o("navds-link-panel",s)}),x.createElement("div",{className:o("navds-link-panel__content")},t),x.createElement(Ty,{className:o("navds-link-panel__chevron"),"aria-hidden":!0}))}),hx=ZX;hx.Title=YX;hx.Description=GX;var t0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var R1;function JX(){return R1||(R1=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,n(o)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(t0)),t0.exports}var QX=JX();const fi=Vb(QX),eZ=r=>{const e=r.length,t=r[0];switch(t.code){case"401":return"Du er blitt logget ut. Ta vare på alt ulagret arbeid før du logger inn ved å laste siden på nytt.";case"403":return"Noe gikk dessverre galt med aktivitetsplanen. Du har ikke tilgang til å se dette"}if(e>1)return"Noe gikk dessverre galt med aktivitetsplanen. Prøv igjen senere.";switch(t.type){case Rl.rejected.type:case yp.rejected.type:case Pl.rejected.type:return"Noe gikk galt, og du får dessverre ikke sett alle aktiviteter. Prøv igjen senere.";case Aa.rejected.type:return"Noe gikk galt, og du får dessverre ikke sett dialogmeldinger. Prøv igjen senere.";case $s.rejected.type:return"Noe gikk galt, og du får dessverre ikke oppdatert status på aktiviteten. Prøv igjen senere.";case Jg.rejected.type:return"Noe gikk galt, og du får dessverre ikke oppdatert mål. Prøv igjen senere.";case Xc.rejected.type:return"Noe gikk dessverre galt med deling av referat. Prøv igjen senere.";default:return"Noe gikk dessverre galt med aktivitetsplanen. Prøv igjen senere."}};function hs(r){const{feilmeldinger:e,inline:t=!1}=r;if(e.length===0)return null;const n=eZ(e);return p.jsx("div",{className:fi("my-4"),children:p.jsx(Rt,{variant:"error",inline:t,children:n})})}const b_=(r,e=0)=>{if(r===void 0)return;let t=3735928559^e,n=1103547991^e;for(let i=0,s;i<r.length;i++)s=r.charCodeAt(i),t=Math.imul(t^s,2654435761),n=Math.imul(n^s,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),(4294967296*(2097151&n)+(t>>>0)).toString()};function rr(r,e,t){if([Km.Prod.toString(),Km.Dev.toString(),Km.Local.toString()].includes(rU()))return;const n={name:r,fields:e,tags:t},i=`${Zr}/logger/event`,s={headers:{"Nav-Consumer-Id":"aktivitetsplan","Content-Type":"application/json"},credentials:"same-origin",method:"post",body:JSON.stringify(n)};return fetch(i,s)}const Qm="aktivitetsplan.forhandsorientering",tZ="avtaltMedNavKrrKvpManuell",rZ="avtaltMedNavMindreEnnSyvDager",nZ="tilltakSpesialTilltakBruker",iZ="aktivitetsplan.mittmal.klikk",sZ="aktivitetsplan.mittmal.lagre",aZ="aktivitetsplan.stillingfranav.stillingslenke.klikk",oZ="aktivitetsplan.antallSluttBrukere",lZ="aktivitetsplan.antallVeiledere",dZ="aktivitetsplan.antallBrukerIkkeOppfolging",cZ="aktivitetsplan.printmodal",uZ="aktivitetsplan.printmodalprint",fZ="aktivitetsplan.omTjenesten.trykk",hZ="aktivitetsplan.endreAktivitet.trykk",pZ="aktivitetsplan.aktivitetfilter.opne",Dy="aktivitetsplan.filter.",gZ=`${Dy}aktivitestype`,mZ=`${Dy}avtalt`,vZ=`${Dy}etikett`,bZ=`${Dy}arenatEtikett`,yZ="aktivitetsplan.aktivitet.flyttet",kZ="aktivitetsplan.forhaandsorientering.lest";function _Z(r,e){rr(kZ,{},{aktivitetType:r,lestKnappTrykket:e})}function wZ(r){const e=!r||window.defaultSelectedTab==="AKTIVITETSPLAN";if(!window.aktivitesplanTimeToAktivitestavlePaint&&e){const t=performance.now();window.aktivitesplanTimeToAktivitestavlePaint=t,rr("aktivitetsplan.timeToAktivitestavlePaintv3",{timeToAktivitestavlePaint:t},{erVeileder:r})}}function EZ(r,e,t,n){const i={underOppfolging:e,veileder:b_(t),bruker:b_(n)};rr(lZ,i,{servicegruppe:r})}function xZ(r,e,t){e?rr(oZ,{bruker:b_(t)},{servicegruppe:r}):rr(dZ,{},{servicegruppe:r})}function SZ(){rr(Qm,{forhandsorienteringType:nZ})}function TZ(r){rr("aktivitetsplan.aktivitet.forste.avtalt.v2",{tidSidenOppfolging:r})}function tD(r,e,t){rr(yZ,{fraStatus:e.status,tilStatus:t,aktivitetType:e.type,flytteMetode:r})}function AZ(r,e,t,n){return r?rr(Qm,{forhandsorienteringType:tZ,aktivitettype:n}):e?rr(Qm,{forhandsorienteringType:rZ,aktivitettype:n}):rr(Qm,{forhandsorienteringType:t,aktivitettype:n})}function OZ(r){rr(iZ,{erVeileder:r})}function CZ(r){rr(sZ,{erVeileder:r})}function jZ(r){rr(aZ,{erVeileder:r})}function IZ(r){const e=w.useRef(new Set),t=w.useRef(new Set),n=w.useRef(!1);n.current||(rr("aktivitesplan.lastet"),n.current=!0),w.useEffect(()=>{DZ(r,e),RZ(r,t)},[r])}function DZ(r,e){const t=r.map(n=>rD(n));new Set(t).forEach(n=>{e.current.has(n)||(e.current.add(n),rr("aktivitetsplan.feil",{feil_kategori:n},{feil_kategori_tag:n}))})}function RZ(r,e){const t=r.filter(n=>n.code!=="403"&&n.code!=="401");new Set(t).forEach(n=>{const i=n.type;e.current.has(i)||(e.current.add(i),rr("aktivitetsplan.feiltype",{feil:i,feil_kategori:rD(n)}))})}function rD(r){if(r.code==="403")return"forbidden";if(r.code==="401")return"unauthorized";switch(r.type){case tx.rejected.type:case Rl.rejected.type:case my.rejected.type:return"critical";case Pl.rejected.type:case Aa.rejected.type:return"degraded";default:return"unknown"}}function PZ(){const r=Z(aW);return IZ(r),p.jsx(hs,{feilmeldinger:r})}const Jl="/aktivitetsplan",NZ=(r,e)=>`${e?Jl:""}/aktivitet/vis/${r}`,MZ=r=>`${r?Jl:""}/aktivitet/ny`,LZ=(r,e)=>`${e?Jl:""}/aktivitet/endre/${r}`,FZ=(r,e)=>`${e?Jl:""}/aktivitet/fullfor/${r}`,VZ=(r,e)=>`${e?Jl:""}/aktivitet/avbryt/${r}`,HZ=r=>`${r?Jl:""}/`,UZ=r=>`${r?Jl:""}/mal`,BZ=r=>`${r?Jl:""}/informasjon`,Jr=()=>{const r=jt();return{aktivitetRoute:e=>NZ(e,r),nyAktivitetRoute:()=>MZ(r),endreAktivitetRoute:e=>LZ(e,r),fullforAktivitetRoute:e=>FZ(e,r),avbrytAktivitetRoute:e=>VZ(e,r),hovedsideRoute:()=>HZ(r),malRoute:()=>UZ(r),informasjonRoute:()=>BZ(r)}};function nD(r){return r.data.identitet}function Ry(r){return nD(r).data}function Ws(r){return Ry(r).erBruker}function $Z(r){return Ry(r).id}function px(r){return nD(r).status}function iD(r){return r.data.lest}function zZ(r){return iD(r).data}function sD(r,e){return zZ(r).filter(t=>t.ressurs===e)[0]}function aD(r){return sD(r,"informasjon")}function oD(r){return sD(r,"aktivitetsplan")}function gx(r){return iD(r).status}var r0={exports:{}},n0,P1;function WZ(){if(P1)return n0;P1=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return n0=r,n0}var i0,N1;function KZ(){if(N1)return i0;N1=1;var r=WZ();function e(){}function t(){}return t.resetWarningCache=e,i0=function(){function n(a,o,l,d,c,u){if(u!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},i0}var M1;function lD(){return M1||(M1=1,r0.exports=KZ()()),r0.exports}var GZ=lD();const ie=Vb(GZ);function dD(r){return Array.isArray(r)?r:[r]}const Py=(...r)=>e=>dD(r).includes(e),L1=r=>r.some(Py(oe.ERROR)),cD=r=>r.some(Py(oe.OK)),qZ=r=>r.every(Py(oe.OK,oe.RELOADING)),YZ=r=>r.every(Py(oe.OK)),uD=r=>r?dD(r).map(e=>!e||typeof e=="string"?e:e.status).map(e=>e||"NOT_SETT"):[],kp=r=>{const{avhengigheter:e,spinnerSize:t="2xlarge",className:n,children:i,minstEn:s=!1,visChildrenVedFeil:a=!1,alleOK:o=!1,...l}=r,d=uD(e);return(o?YZ(d):qZ(d)||s&&cD(d)||a&&L1(d))?typeof i=="function"?i(e,l):(Array.isArray(i),i):L1(d)?null:p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsx(Uc,{size:t,className:fi(n,"m-3")})})},eu=r=>{const{heading:e,subHeading:t,children:n,avhengigheter:i,onRequestClose:s,minstEnAvhengighet:a=!1,feilmeldinger:o,tilbakeLenke:l,onClose:d,lukkPåKlikkUtenfor:c}=r,u=Xr(),{hovedsideRoute:f,nyAktivitetRoute:g}=Jr(),m=()=>s?s():(u(f()),!0);return p.jsxs(gc,{closeOnBackdropClick:c!==void 0?c:!0,open:!0,onClose:d,onBeforeClose:m,className:"lg:w-120","aria-labelledby":"modal-heading",children:[p.jsx(gc.Header,{closeButton:!0,children:p.jsxs("div",{className:"space-y-2",children:[p.jsx(Be,{id:"modal-heading",size:"large",children:e}),l?p.jsx(p.Fragment,{children:p.jsx(mc,{className:"hover:cursor-pointer text-text-action underline",to:g(),tabIndex:0,children:l.tekst})}):null]})}),p.jsx(gc.Body,{children:p.jsxs("div",{className:"flex flex-col max-w-2xl mx-auto",children:[t?p.jsx(Be,{className:"",level:"2",size:"xsmall",children:t}):null,o&&p.jsx(hs,{feilmeldinger:o}),p.jsx(kp,{className:"flex m-auto my-8",minstEn:a,avhengigheter:i,children:n})]})})]})},fD=r=>{const{className:e,children:t}=r;return p.jsx("div",{className:fi(e,"modal-container"),children:t})},XZ=ie.shape({tittel:ie.string,fraDato:ie.string,tilDato:ie.string,opprettetDato:ie.string.isRequired,endretDato:ie.string,historisk:ie.bool,endretAvType:ie.string,detaljer:ie.object,beskrivelse:ie.string,avtalt:ie.bool,tiltaksarrangor:ie.string,deltakelsesprosent:ie.number,dagerPerUke:ie.number});ie.arrayOf(XZ);const ZZ=ie.shape({dialogId:ie.string.isRequired,tekst:ie.string.isRequired,avsender:ie.string.isRequired,avsenderId:ie.string,sendt:ie.string.isRequired,lest:ie.bool.isRequired});ie.shape({id:ie.string.isRequired,overskrift:ie.string.isRequired,aktivitetId:ie.string,lest:ie.bool,sisteDato:ie.string,erLestAvBruker:ie.bool,venterPaSvar:ie.bool,ferdigBehandlet:ie.bool,henvendelser:ie.arrayOf(ZZ).isRequired,egenskaper:ie.arrayOf(ie.string)});ie.shape({id:ie.string,type:ie.string,visningsTekst:ie.string});const JZ=ie.shape({status:ie.string,data:ie.any}),QZ=ie.oneOf(Object.keys(oe)),eJ=ie.oneOfType([JZ,QZ]);ie.arrayOf(eJ);const tJ=ie.shape({kanAvslutte:ie.bool,underOppfolging:ie.bool,harYtelser:ie.bool,harTiltak:ie.bool,underKvp:ie.bool,inaktiveringsDato:ie.string}),rJ=ie.shape({varselId:ie.number,aktorId:ie.string,opprettetAv:ie.string,opprettetDato:ie.string,avsluttetDato:ie.string,tilhorendeDialogId:ie.number});ie.shape({status:ie.string,data:ie.shape({fnr:ie.string,veileder:ie.string,reservasjonKRR:ie.bool,manuell:ie.bool,underOppfolging:ie.bool,oppfolgingUtgang:ie.string,gjeldendeEkskaleringsvarsel:rJ,kanStarteOppfolging:ie.bool,underKvp:ie.bool,avslutningStatus:tJ,oppfolgingsPerioder:ie.arrayOf(ie.object),harSkriveTilgang:ie.bool})});const nJ=ie.shape({mal:ie.string,endretAv:ie.string,dato:ie.string});ie.arrayOf(nJ);ie.shape({status:ie.string,data:ie.shape({navn:ie.string})});ie.shape({id:ie.string,fra:ie.string,vistFra:ie.string,til:ie.string});ie.shape({type:ie.string,httpStatus:ie.number,melding:ie.shape({id:ie.string,type:ie.string.isRequired,detaljer:ie.object})});ie.shape({etternavn:ie.string,fornavn:ie.string,ident:ie.string,navn:ie.string});ie.shape({overskrift:ie.string,beskrivelse:ie.string});ie.oneOf([Jw,Mb,Jf,Qw,Lb,eE,Fb,zg,hi,cs]);const iJ=ie.shape({tidspunkt:ie.string.isRequired,verdi:ie.string,ressurs:ie.string.isRequired});function hD(r){return r.data.oppfolging}function Ks(r){return hD(r).data}function ch(r){return hD(r).status}const Ny=r=>{var e;return(e=Ks(r))==null?void 0:e.reservasjonKRR},sJ=r=>{var e;return((e=Ks(r))==null?void 0:e.registrertKRR)||!1};function aJ(r){var e;return(e=Ks(r))==null?void 0:e.servicegruppe}const oJ=xt(Ks,r=>(r==null?void 0:r.oppfolgingsPerioder)||[]);function pD(r){return uh(r).find(e=>!e.slutt)}const uh=xt(Zg,r=>Xg(r).map(e=>({id:e.id,start:e.start,slutt:e.slutt}))),lJ=xt(uh,r=>Array.from(r).sort((t,n)=>N5(t.start,n.start)));function dJ(r){const e=lh(r),n=oJ(r).find(i=>i.uuid===e);return n&&n.kvpPerioder}const gD=xt(lh,uh,(r,e)=>e.find(t=>t.id===r)),fh=xt(gD,r=>!!(r!=null&&r.slutt)),mD=xt(fh,r=>!r);function wn(r){var e;return((e=Ks(r))==null?void 0:e.underOppfolging)||!1}function My(r){var e;return(e=Ks(r))==null?void 0:e.manuell}function cJ(r){var e;return(e=Ks(r))==null?void 0:e.aktorId}function vD(r){var e;return(e=Ks(r))==null?void 0:e.underKvp}function Ly(r){var e;return((e=Ks(r))==null?void 0:e.harSkriveTilgang)||!1}function uJ(r){var e;return(e=Ks(r))==null?void 0:e.kanReaktiveres}function fJ(r){var e;return(e=Ks(r))==null?void 0:e.inaktiveringsdato}const hJ=()=>p.jsx("div",{children:p.jsx("iframe",{title:"Video: Aktivitetskort",src:"https://video.qbrick.com/play2/embed/qbrick-player?accountId=763558&mediaId=418eb7de-64bc-403f-a711-a57762aa6454&configId=qbrick-player&pageStyling=adaptive&autoplay=false&repeat=false&sharing=true&download=false&volume&language=nb",allow:"fullscreen",className:" w-full h-300px mt-4"})}),pJ=()=>{const[r,e]=w.useState(!1);function t(){r||Kc("Slik bruker du aktivitetsplanen"),e(!r)}return p.jsxs(ye.Item,{children:[p.jsx(ye.Header,{onClick:t,children:p.jsx(Be,{level:"2",size:"small",children:"Slik bruker du aktivitetsplanen"})}),p.jsxs(ye.Content,{children:[p.jsx(pe,{className:"pb-4",children:"Bestem deg først for hva som er målet ditt. Du kan endre dette senere. Vurder så hvilke aktiviteter du ønsker å gjøre for å nå målet, for eksempel å søke jobber, gjennomføre et kurs eller arbeidstrening."}),p.jsx(pe,{children:"I aktivitetsplanen kan du og veilederen din samarbeide om hva som skal til for at du skal komme i aktivitet eller jobb. Du og veilederen din ser den samme planen."}),p.jsx(Be,{level:"3",size:"xsmall",className:"pt-4",children:"Avtalt med Nav"}),p.jsx(pe,{className:"pb-4",children:"Når du har avtalt å gjennomføre en aktivitet med veilederen din, vil veilederen merke den «Avtalt med Nav». Du må gjennomføre slike aktiviteter. Hvis du ikke følger opp avtalte aktiviteter, kan du risikere å miste pengestøtte fra Nav."}),p.jsx(pe,{children:'Når en aktivitet er markert med "avtalt med Nav" kan teksten ikke lenger endres på. Noen datoer kan likevel endres på, men ingen annen tekst. Det er laget slik for at ingen skal kunne endre på detaljer som kan være viktige for din sak i Nav.'}),p.jsx(Be,{level:"3",size:"xsmall",className:"pt-4",children:"Flytte på en aktivitet"}),p.jsx(pe,{children:"Aktivitetsplanen har fem kolonner med statusene forslag, planlegger, gjennomfører, fullført og avbrutt. Statusen på aktiviteten viser til hvor langt du har kommet i gjennomføringen. Du kan oppdatere statusen inne i aktiviteten, for eksempel fra «gjennomfører» til «fullført»."}),p.jsx(Be,{level:"3",size:"xsmall",className:"pt-4",children:"Fullførte eller avbrutte aktiviteter"}),p.jsx(pe,{children:'Når en aktivitet flyttes til "fullført" eller "avbrutt", blir aktiviteten låst slik at hverken du eller veilederen din kan endre innholdet i etterkant. Pass på å gjøre viktige endringer før aktiviteten låses.'}),p.jsx(Be,{level:"3",size:"xsmall",className:"pt-4",children:"Blå prikk"}),p.jsx(pe,{children:"Hvis du ser at en aktivitet er merket med blå prikk, er det veilederen din som har gjort noe nytt siden sist du var inne i aktiviteten."}),p.jsx(Be,{level:"3",size:"xsmall",className:"pt-4",children:"Tidligere planer"}),p.jsx(pe,{children:"Hvis du har vært registrert hos Nav før, kan du se aktivitetsplanen fra denne perioden."}),p.jsx(hJ,{})]})]})},gJ=()=>{const[r,e]=w.useState(!1);function t(){r||Kc("Aktivitetsplanen handler ikke om økonomi"),e(!r)}return p.jsxs(ye.Item,{children:[p.jsx(ye.Header,{onClick:t,children:p.jsx(Be,{level:"2",size:"small",children:"Aktivitetsplanen handler ikke om økonomi"})}),p.jsxs(ye.Content,{children:[p.jsx(pe,{children:"Aktivitetsplanen og dialogen skal bare handle om jobbrettede aktiviteter. Har du spørsmål om økonomisk støtte, økonomisk sosialhjelp, boligsituasjon eller andre ting som ikke handler om å komme i jobb, kan du"}),p.jsxs("ul",{className:"list-disc mt-4 pl-8",children:[p.jsx("li",{children:p.jsxs(pe,{children:["kontakte Nav i tjenesten"," ",p.jsx(Or,{href:"https://www.nav.no/person/kontakt-oss/skriv-til-oss",children:"«Skriv til oss»"})]})}),p.jsxs("li",{children:[p.jsx(pe,{children:"ringe Nav på 55 55 33 33"})," "]})]})]})]})};function mJ(){const[r,e]=w.useState(!1);function t(){r||Kc("Rettigheter og personvern"),e(!r)}return p.jsxs(ye.Item,{children:[p.jsx(ye.Header,{onClick:t,children:p.jsx(Be,{level:"2",size:"small",children:"Rettigheter og personvern"})}),p.jsxs(ye.Content,{children:[p.jsx(pe,{children:"Du har rett til å få en aktivitetsplan når du har registrert deg hos Nav. Informasjonen i aktivitetsplanen og annen informasjon du gir til veilederen din brukes til å vurdere ditt behov for hjelp fra Nav."}),p.jsx(Be,{level:"3",size:"xsmall",className:"pt-4",children:"Manuell oppfølging"}),p.jsx(pe,{children:"Nav henter informasjon om deg fra Folkeregisteret og sjekker mot Kontakt- og reservasjonsregisteret for å se om du har reservert deg mot digital kommunikasjon med det offentlige. Hvis du har reservert deg, eller ikke er i stand til å bruke aktivitetsplanen, vil Nav følge deg opp manuelt. Det betyr at en veileder følger deg opp, uten at du selv bruker den digitale aktivitetsplanen. Du får aktivitetsplanen skrevet ut på papir."}),p.jsx(Be,{level:"3",size:"xsmall",className:"pt-4",children:"Deling og lagring"}),p.jsx(pe,{className:"pb-4",children:"Opplysningene i aktivitetsplanen blir ikke delt med andre offentlige etater, med mindre de har rett til å hente slike opplysninger."}),p.jsx(pe,{className:"pb-4",children:"Opplysningene i aktivitetsplanen din blir lagret og oppbevart etter arkivloven. Aktiviteter og meldinger i dialogen kan ikke slettes når de først er opprettet."}),p.jsxs(pe,{children:["Les mer om"," ",p.jsx(Or,{href:"https://www.nav.no/no/NAV+og+samfunn/Om+NAV/personvern-i-arbeids-og-velferdsetaten",children:"hvordan Nav behandler personopplysninger"}),"."]})]})]})}const vJ=()=>p.jsx("div",{children:p.jsx("iframe",{title:"Video: Dialogen",src:"https://video.qbrick.com/play2/embed/qbrick-player?accountId=763558&mediaId=9b22ccf2-e8ba-43d2-ad57-1740db0e6b33&configId=qbrick-player&pageStyling=adaptive&autoplay=false&repeat=false&sharing=true&download=false&volume&language=nb",allow:"fullscreen",className:" w-full h-300px mt-4"})}),bJ=()=>{const[r,e]=w.useState(!1);function t(){r||Kc("Dialog med veilederen din"),e(!r)}return p.jsxs(ye.Item,{children:[p.jsx(ye.Header,{onClick:t,children:p.jsx(Be,{level:"2",size:"small",children:"Dialog med veilederen din"})}),p.jsxs(ye.Content,{children:[p.jsx(pe,{className:"pb-4",children:"I dialogen kan du og veilederen din skrive til hverandre om arbeid og oppfølging. Dere kan blant annet sende meldinger om aktivitetene dine i aktivitetsplanen."}),p.jsx(pe,{children:"Vær oppmerksom på at hverken du eller veilederen din kan endre meldinger etter at de er sendt. Hvis det er noe du ønsker å rette på, kan du sende en ny melding der du forteller om hva som ikke stemte i den forrige meldingen."}),p.jsx(vJ,{})]})]})},yJ=()=>p.jsx("div",{className:"color-black",children:p.jsx("iframe",{title:"Video: Aktivitetsplan - Introduksjon",src:"https://video.qbrick.com/play2/embed/qbrick-player?accountId=763558&mediaId=fb0502e7-2ed9-4f27-a6d5-3a40a68975d2&configId=qbrick-player&pageStyling=adaptive&autoplay=false&repeat=false&sharing=true&download=false&volume&language=nb",allow:"fullscreen",className:"w-full h-300px mt-4 ",id:"introduksjonsvideo"})}),kJ=()=>{const[r,e]=w.useState(!1);function t(){r||Kc("Er du under 18 år?"),e(!r)}return p.jsxs(ye.Item,{children:[p.jsx(ye.Header,{onClick:t,children:p.jsx(Be,{level:"2",size:"small",children:"Er du under 18 år?"})}),p.jsxs(ye.Content,{children:[p.jsx(Be,{level:"3",size:"xsmall",className:"pt-4",children:"Er du under 18 år?"}),p.jsx(pe,{className:"pb-4",children:"Når du er under 18 år så har dine foresatte rett til å be om å få se alt du skriver i Nav sine tjenester. Derfor bør du ikke skrive noe her som du ikke vil at dine foresatte skal lese."}),p.jsx(pe,{children:"Når du blir 18 år vil de ikke kunne lese nye ting du skriver, men de kan fortsatt lese det du skrev før du fylte 18 år."})]})]})},y_="v1",mx=({erBruker:r,underOppfolging:e,lestInfo:t})=>{const n=Xr(),{hovedsideRoute:i}=Jr(),s=()=>n(i());return w.useEffect(()=>{r&&e&&(!t||t.verdi!==y_)&&Fz(y_)},[]),p.jsx(eu,{onClose:s,className:"informasjon-visning",heading:"Hva er aktivitetsplanen?",children:p.jsxs(fD,{className:"max-w-2xl",children:[p.jsx(pe,{className:"pb-4",children:"I aktivitetsplanen holder du oversikt over det du gjør for å komme i jobb eller annen aktivitet. Både du og veilederen din kan se og endre aktivitetsplanen."}),p.jsxs(pe,{children:["Du kan legge inn målet ditt, aktiviteter du skal gjøre og stillinger du vil søke på. Veilederen kan blant annet legge inn forslag til aktiviteter eller skrive referat fra et møte dere har hatt. Du kan kommunisere med veilederen din om aktivitetene i"," ",p.jsx(Or,{href:"https://pto.ekstern.dev.nav.no/arbeid/dialog",children:"dialogen"}),"."]}),p.jsx(yJ,{}),p.jsxs(ye,{className:"mt-4",children:[p.jsx(kJ,{}),p.jsx(pJ,{}),p.jsx(bJ,{}),p.jsx(gJ,{}),p.jsx(mJ,{})]})]})})};mx.defaultProps={lestInfo:null,erBruker:!1,underOppfolging:!1};mx.propTypes={erBruker:ie.bool,underOppfolging:ie.bool,lestInfo:iJ};const _J=r=>({lestInfo:aD(r),erBruker:Ws(r),underOppfolging:wn(r)}),wJ=NV(_J)(mx);let F1=!1;function EJ(){const r=Z(gx,it),e=Z(aD,it),t=Z(Ws,it),{fnr:n}=Qg();w.useEffect(()=>{BU(n)},[]);const{informasjonRoute:i,hovedsideRoute:s}=Jr(),{pathname:a}=qc(),o=a===s();return r===oe.OK&&(!e||e.verdi!==y_)&&o&&t&&!F1?(F1=!0,p.jsx(zf,{to:i()})):null}const bD=({visible:r})=>r?p.jsx("div",{className:"w-2.5 m-1",children:p.jsxs("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("title",{children:"Ulest aktivitet"}),p.jsx("circle",{cx:"50",cy:"50",r:"50",fill:"#0067c5"})]})}):null,Fy=r=>r.type===De.EKSTERN_AKTIVITET_TYPE?Zv[r.eksternAktivitet.type]:Zv[r.type],Zv={EGEN:"Jobbrettet egenaktivitet",STILLING:"Stilling",TILTAKSAKTIVITET:"Tiltak gjennom Nav",GRUPPEAKTIVITET:"Gruppeaktivitet",UTDANNINGSAKTIVITET:"Utdanning",SOKEAVTALE:"Jobbsøking",IJOBB:"Jobb jeg har nå",BEHANDLING:"Behandling",MOTE:"Møte med Nav",SAMTALEREFERAT:"Samtalereferat",STILLING_FRA_NAV:"Stilling fra Nav",ARENA_TILTAK:"Tiltak gjennom Nav",MIDLERTIDIG_LONNSTILSKUDD:"Midlertidig lønnstilskudd",VARIG_LONNSTILSKUDD:"Varig lønnstilskudd",ARBEIDSTRENING:"Arbeidstrening",VARIG_TILRETTELAGT_ARBEID_I_ORDINAER_VIRKSOMHET:"Varig tilrettelagt arbeid i ordinær virksomhet",MENTOR:"Mentor",INDOPPFAG:"Oppfølging",ARBFORB:"Arbeidsforberedende trening",AVKLARAG:"Avklaring",VASV:"Varig tilrettelagt arbeid i skjermet virksomhet",ARBRRHDAG:"Arbeidsrettet rehabilitering",DIGIOPPARB:"Digitalt jobbsøkerkurs",JOBBK:"Jobbklubb",GRUPPEAMO:"Arbeidsmarkedsopplæring (Gruppe)",GRUFAGYRKE:"Fag- og yrkesopplæring (Gruppe)",REKRUTTERINGSTREFF:"Rekrutteringstreff",ENKELAMO:"Arbeidsmarkedsopplæring (enkeltplass)",ENKFAGYRKE:"Fag- og yrkesopplæring (enkeltplass)",HOYERE_UTDANNING:"Høyere utdanning"},vx={PLANLAGT:"Planlegger",BRUKER_ER_INTERESSERT:"Forslag",GJENNOMFORES:"Gjennomfører",FULLFORT:"Fullført",AVBRUTT:"Avbrutt"},xJ={DELTID:"Deltid",HELTID:"Heltid"},yD={INTERNETT:"Videomøte",OPPMOTE:"Oppmøte",TELEFON:"Telefonmøte"},kD={AVTALT_MED_NAV:"Avtalt med Nav",IKKE_AVTALT_MED_NAV:"Ikke avtalt med Nav"},SJ={INGEN_VALGT:"Ingen",SOKNAD_SENDT:"Søknaden er sendt",INNKALT_TIL_INTERVJU:"Skal på intervju",AVSLAG:"Ikke fått jobben",JOBBTILBUD:"Fått jobbtilbud"},TJ={VENTER:"Venter på å bli kontaktet",CV_DELT:"CV er delt med arbeidsgiver",SKAL_PAA_INTERVJU:"Skal på intervju",JOBBTILBUD:"Fått jobbtilbud",AVSLAG:"Ikke fått jobben",IKKE_FATT_JOBBEN:"Ikke fått jobben",FATT_JOBBEN:"Fått jobben"},_D={...SJ,...TJ},wD={[ln.AKTUELL]:"Søkt inn på tiltaket",[ln.AVSLAG]:"Fått avslag",[ln.IKKAKTUELL]:"Ikke aktuell for tiltaket",[ln.IKKEM]:"Ikke møtt på tiltaket",[ln.INFOMOETE]:"Infomøte før tiltaket",[ln.JATAKK]:"Takket ja til tilbud",[ln.NEITAKK]:"Takket nei til tilbud",[ln.TILBUD]:"Fått plass på tiltaket",[ln.VENTELISTE]:"På venteliste"},AJ={SOKT_INN:"Søkt inn på tiltaket",AVSLAG:"Fått avslag",IKKE_AKTUELL:"Ikke aktuell for tiltaket",IKKE_MOETT:"Ikke møtt på tiltaket",INFOMOETE:"Infomøte før tiltaket",TAKKET_JA:"Takket ja til tilbud",TAKKET_NEI:"Takket nei til tilbud",FATT_PLASS:"Fått plass på tiltaket",VENTELISTE:"På venteliste"},ED={...wD,...AJ};function Ki(r){return Zg(r).status}function bx(r){return Ki(r)!==oe.OK}const xD=xt(Ki,Un,(r,e)=>r===oe.ERROR?qr(e,yp.rejected.type):[]),OJ=xt(Un,r=>{const e=qr(r,fy.rejected.type),t=qr(r,ih.rejected.type),n=qr(r,ah.rejected.type),i=qr(r,$s.rejected.type);return[...e,...t,...n,...i]}),CJ=xt([fz,(r,e)=>e],(r,e)=>{if(e)return r.historikk}),SD=r=>r.data.arenaAktiviteter,TD=r=>SD(r).data||[],rm=r=>SD(r).status,jJ=xt(rm,Un,(r,e)=>r===oe.ERROR?qr(e,Pl.rejected.type):[]),IJ=xt([D2,TD],(r,e)=>r.concat(e)),hh=xt(TD,lh,hz,(r,e,t)=>{var n;return[...((n=t.find(i=>i.id===e))==null?void 0:n.aktiviteter)||[],...r.filter(i=>i.oppfolgingsperiodeId===e)]}),Vy=r=>hh(r).filter(e=>JJ(e,r)),Hy=(r,e)=>IJ(r).find(t=>t.id===e),DJ=r=>({status:nU(ch(r),px(r),Ki(r)),data:Vy(r)}),Uy=r=>DJ(r).status,AD=(r,e)=>{if(!r)return!1;const{historisk:t,status:n,type:i}=r;return!t&&i!==De.EKSTERN_AKTIVITET_TYPE&&(e||i!==hi)&&n!==Le.AVBRUTT&&n!==Le.FULLFOERT},RJ=(r,e)=>{if(!r)return!1;const{historisk:t,type:n}=r;return!t&&(e||n!==hi)},PJ=(r,e)=>{if(!r||Ln(r))return!1;const{avtalt:t,type:n}=r;return AD(r,e)&&(e||n!==cs)&&n!==tE&&(!t||e||n===zg)};function NJ(r){return typeof r=="function"?r:()=>r}function MJ(r){Object.getOwnPropertyNames(r.constructor.prototype).filter(e=>typeof r[e]=="function").forEach(e=>{r[e]=r[e].bind(r)})}function LJ(...r){return r.filter(t=>t).join(" ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function FJ(r){return class extends x.Component{render(){const{visible:t,...n}=this.props,i=NJ(t)(n);return i||i===void 0?x.createElement(r,n):null}}}function OD(r){const{children:e}=r;return p.jsx("div",{...r,children:e})}OD.propTypes={children:ie.node.isRequired};const Oc=FJ(OD);function nm(r){return r.data.filter}function CD(r){return nm(r).aktivitetTyper}function jD(r){return nm(r).aktivitetEtiketter}function ID(r){return nm(r).arenaAktivitetEtiketter}function DD(r){return nm(r).aktivitetAvtaltMedNav}const VJ=r=>{const{filterTekst:e,nokkel:t,metrikkNavn:n,filter:i,doToggle:s}=r,[a,o]=w.useState(!1);w.useEffect(()=>{o(!!i[t])},[i,t]);const l=()=>{!i[t]&&n&&rr(n,{filter:t}),s(t)};return p.jsx(iE,{onChange:l,checked:a,onClick:()=>Q7(e),children:e})},HJ={avtalt:DD,aktivitet:CD,tiltakstatus:ID,etikett:jD},UJ={avtalt:W2,aktivitet:z2,tiltakstatus:$2,etikett:B2},BJ=r=>{const e=Z(HJ[r]),t=$t(),n=UJ[r];return{filterState:e,toggle:s=>t(n(s))}};function By(r){const{tekst:e,metrikkNavn:t,className:n,textMapper:i,filterKategori:s,filters:a}=r,{toggle:o,filterState:l}=BJ(s),d=(a||[]).length>0,c=(a||[]).map((u,f)=>p.jsx(VJ,{filterTekst:i[u],filter:l,nokkel:u,metrikkNavn:t,doToggle:o},f));return p.jsx(Oc,{visible:d,className:fi(n,"filter"),children:p.jsxs("form",{children:[p.jsx(Be,{level:"2",size:"small",className:"filter__tittel",children:e}),c]})})}const RD=r=>r.type===De.EKSTERN_AKTIVITET_TYPE?r.eksternAktivitet.type:r.type,$J=r=>[RD(r)];function zJ(){const r=Z(hh),e=Array.from(new Set(r.flatMap($J)));return p.jsx(By,{filterKategori:"aktivitet",filters:e,tekst:"Aktivitetstype",metrikkNavn:gZ,textMapper:Zv})}const WJ=r=>r.type===De.EKSTERN_AKTIVITET_TYPE,PD=r=>{var e,t;return((t=(e=r.eksternAktivitet)==null?void 0:e.etiketter)==null?void 0:t.map(n=>n.kode))||[]},ND=r=>[r.etikett].filter(e=>!!e),KJ=r=>r.flatMap(e=>e.eksternAktivitet.etiketter).filter(e=>!!e).reduce((e,t)=>t!=null&&t.tekst?{[t.kode]:t.tekst,...e}:e,{}),GJ=()=>{const r=Z(hh),e=r.filter(WJ),t=e.flatMap(PD),n=r.filter(Ln).flatMap(ND),i=new Set([...t,...n]),a={...KJ(e),...ED};return p.jsx(By,{filters:Array.from(i),filterKategori:"tiltakstatus",tekst:"Tiltaksstatus",metrikkNavn:bZ,textMapper:a})};function V1(r){return!!r}const MD=r=>r.type===De.STILLING_FRA_NAV_TYPE?[r.stillingFraNavData.soknadsstatus].map(e=>e===ya.AVSLAG?ya.IKKE_FATT_JOBBEN:e).filter(V1):[r.etikett].filter(V1),qJ=()=>{const r=Z(hh),e=Array.from(new Set(r.filter(eh).flatMap(MD)));return p.jsx(By,{filters:e,filterKategori:"etikett",tekst:"Stillingsstatus",metrikkNavn:vZ,textMapper:_D})};function s0(r){return Object.values(r).indexOf(!0)>=0}function YJ(r,e){const t=gD(e);if(!t)return!1;const n={start:new Date(t.start),end:t.slutt?new Date(t.slutt):new Date};return s3(r,n)}const H1=(r,e)=>r.every(t=>!e.includes(t)),XJ=r=>Object.entries(r).filter(([e,t])=>t).map(([e,t])=>e),ZJ=r=>Ln(r)?ND(r):oE(r)?PD(r):[];function JJ(r,e){const t=CD(e),n=RD(r);if(s0(t)&&!t[n])return!1;const i=jD(e);if(s0(i))return!(!eh(r)||H1(MD(r),XJ(i)));const s=ID(e);if(s0(s)){const f=Object.entries(s).filter(([m,v])=>!!v).map(([m,v])=>m),g=ZJ(r);if(H1(g,f))return!1}const a=DD(e),o=a.AVTALT_MED_NAV,l=a.IKKE_AVTALT_MED_NAV,{avtalt:d}=r;return!([o,l].filter(f=>f).length===1&&(o&&!d||l&&d))}function QJ(r){return r.data.malListe}function eQ(r){return QJ(r).data}function $y(r){var e;return((e=eQ(r))==null?void 0:e.filter(t=>t.dato?YJ(t.dato,r):!0))||[]}const LD=r=>r.data.mal,tQ=r=>LD(r).data,yx=r=>LD(r).status;function zy(r){return mD(r)?tQ(r):$y(r)[0]}const rQ=r=>w.createElement("svg",{width:96,height:96,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r},w.createElement("g",{clipPath:"url(#clip0_5085_99244)"},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 0H50V12H46V0ZM46 84H50V96H46V84ZM12 50V46H0V50H12ZM96 46V50H84V46H96ZM35.1846 81.7012L31.5304 80.0742L26.6496 91.0368L30.3037 92.6637L35.1846 81.7012ZM65.6963 3.33643L69.3505 4.96337L64.4696 15.9259L60.8154 14.299L65.6963 3.33643ZM23.4931 74.4462L20.7145 71.5688L12.0824 79.9047L14.861 82.7821L23.4931 74.4462ZM81.139 13.2178L83.9177 16.0951L75.2856 24.431L72.507 21.5537L81.139 13.2178ZM15.3706 63.3401L13.8722 59.6313L2.74599 64.1266L4.24441 67.8354L15.3706 63.3401ZM91.7556 28.1646L93.254 31.8733L82.1278 36.3686L80.6294 32.6598L91.7556 28.1646ZM13.9625 35.1845L15.5895 31.5303L4.62693 26.6494L2.99999 30.3036L13.9625 35.1845ZM92.3273 65.6963L90.7003 69.3505L79.7378 64.4696L81.3647 60.8154L92.3273 65.6963ZM21.2174 23.4935L24.0947 20.7148L15.7588 12.0828L12.8815 14.8614L21.2174 23.4935ZM82.446 81.1392L79.5687 83.9178L71.2328 75.2857L74.1101 72.5071L82.446 81.1392ZM32.3236 15.371L36.0323 13.8726L31.5371 2.74635L27.8283 4.24478L32.3236 15.371ZM67.4994 91.7559L63.7907 93.2543L59.2954 82.1281L63.0041 80.6297L67.4994 91.7559ZM47 73C61.3594 73 73 61.3594 73 47C73 32.6406 61.3594 21 47 21C32.6406 21 21 32.6406 21 47C21 61.3594 32.6406 73 47 73Z",fill:"#CCF1D6"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 53V59.1307H39.7392C40.4227 59.1307 41.061 59.4725 41.4399 60.0414L49 71.3916L41.4399 82.7418C41.061 83.3107 40.4227 83.6524 39.7392 83.6524H26V100H23V83.6524H1.90822C1.09235 83.6524 0.605567 82.7433 1.05785 82.0643L8.16669 71.3916L1.05785 60.7188C0.605567 60.0398 1.09235 59.1307 1.90822 59.1307H23V53C23 52.1716 23.6716 51.5 24.5 51.5C25.3284 51.5 26 52.1716 26 53ZM5.60282 62.1307L11.7713 71.3916L5.60282 80.6524H39.227L45.3955 71.3916L39.227 62.1307H5.60282Z",fill:"#262626"}),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 3H63C62.4477 3 62 3.44772 62 4V9H74V4C74 3.44772 73.5523 3 73 3ZM59 4V9H42C40.8954 9 40 9.89543 40 11V26C40 27.6569 41.3431 29 43 29L43 43C43 44.6569 44.3431 46 46 46H90C91.6569 46 93 44.6569 93 43V29C94.6569 29 96 27.6569 96 26V11C96 9.89543 95.1046 9 94 9H77V4C77 1.79086 75.2091 0 73 0H63C60.7909 0 59 1.79086 59 4ZM59 12H77H93V26H92H69.5V23C69.5 22.1716 68.8284 21.5 68 21.5C67.1716 21.5 66.5 22.1716 66.5 23V26H44H43L43 12H59ZM66.5 29H46V43H90V29H69.5V31C69.5 31.8284 68.8284 32.5 68 32.5C67.1716 32.5 66.5 31.8284 66.5 31V29Z",fill:"#262626"})),w.createElement("defs",null,w.createElement("clipPath",{id:"clip0_5085_99244"},w.createElement("rect",{width:96,height:96,fill:"white"})))),nQ=/((?:[\w-]+:\/\/?|www(?:-\w+)?\.)[^\s()<>]+)/g,Ml=r=>{const{children:e,className:t,size:n="medium",formatLinks:i=!1,formatLinebreaks:s=!1}=r;if(!e)return null;let a=[e];i&&(a=a.flatMap(l=>typeof l=="string"?iQ(l,nQ,(d,c)=>{const u=d.toLowerCase().startsWith("www.")?`https://${d}`:d;return p.jsx(Or,{target:"_blank",href:u,children:`${d} (åpnes i ny fane)`},`link-${c}`)}):l));const o=fi(t,s&&"whitespace-pre-wrap");return p.jsx(Mi,{className:o,size:n,children:a})},iQ=(r,e,t)=>{const n=r.match(e),i=r.split(e);return n!==null?i.map((s,a)=>n.includes(s)?t(s,a):s):[r]};function sQ(r){return r.disabled?p.jsx(p.Fragment,{children:"Trykk her for å se dine tidligere mål"}):r.mal?p.jsx(Ml,{formatLinebreaks:!0,children:r.mal}):p.jsx(p.Fragment,{children:"Du har ikke skrevet hva målet ditt er. Beskriv målet ditt, gjerne både kortsiktige og langsiktige mål og hva slags arbeidsoppgaver du ønsker deg."})}function aQ(r){const{disabled:e,mal:t}=r,n=jt(),i=Xr(),{malRoute:s}=Jr(),a=l=>{i(s()),OZ(n),bo(l)},o=Z(mD,it);return!t&&!e?p.jsxs("div",{children:[p.jsx(pe,{children:"Skriv litt om hva som er målet ditt slik at vi kan hjelpe deg bedre."}),p.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[p.jsx("li",{children:p.jsx(pe,{children:"Hva er målet på kort og på lang sikt?"})}),p.jsx("li",{children:p.jsx(pe,{children:"Hva slags jobb ønsker du deg?"})})]}),p.jsx(ft,{onClick:()=>a("Sett et mål"),variant:"secondary",size:"small",children:"Sett et mål"})]}):p.jsxs("div",{className:"flex flex-col items-start gap-4",children:[p.jsx(sQ,{disabled:e,mal:t}),p.jsx(ft,{onClick:()=>a("Endre målet"),variant:"secondary",size:"small",children:o?"Endre målet":"Se tidligere mål"})]})}function oQ(){const r=Z(yx,it),e=Z(zy,it),t=e&&e.mal,n=Z(wn,it),i=Z(fh,it),s=Z(Ly,it),a=!n||i||!s,o=dQ(e,Z(oD),Z(Ry))&&s,l=r==="ERROR",{mal:d,oppfolging:c}=ey("root");return l?p.jsx(Rt,{variant:"error",children:"Kunne ikke hente mål"}):p.jsx(p.Fragment,{children:p.jsx("div",{className:fi("border-border-default flex rounded-md p-4",{"border-2 border-dashed ":!t&&!a,border:t||a}),children:p.jsxs("div",{className:"flex sm:flex-row items-center gap-6",children:[p.jsx(rQ,{"aria-hidden":!0,role:"img",className:"hidden sm:block mx-4 min-w-fit"}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex mb-2 items-center",children:[p.jsx(bD,{visible:o}),p.jsx(Be,{level:"2",size:"medium",className:"flex",children:"Mitt mål"})]}),p.jsx(w.Suspense,{fallback:p.jsx(lQ,{}),children:p.jsx(ty,{resolve:Promise.all([c,d]),children:p.jsx(aQ,{disabled:a,mal:t})})})]})]})})})}const lQ=()=>p.jsxs("div",{className:"flex flex-col items-start gap-4",children:[p.jsx(v_,{variant:"text",className:"-mb-1",width:"100%"}),p.jsx(ft,{size:"small",variant:"secondary",disabled:!0,children:"Endre målet"})]});function dQ(r,e,t){if(!(r!=null&&r.mal)||!r.dato)return!1;const n=!e,i=r.endretAv==="BRUKER"&&t.erBruker||r.endretAv==="VEILEDER"&&t.erVeileder;if(n)return!i;const s=Us(cn(r.dato),cn(e.tidspunkt));return!i&&!r.lest&&s}const FD=({event:r,aktivitetId:e,dialogId:t})=>{r.preventDefault(),window.history.pushState("","Dialog",kx({erVeileder:!0,aktivitetId:e,dialogId:t})),window.dispatchEvent(new CustomEvent("visDialog",{detail:{dialogId:t,aktivitetId:e}}))},kx=({dialogId:r,aktivitetId:e,erVeileder:t})=>t?r?`/dialog/${r}`:e?`/dialog/ny?aktivitetId=${e}`:"/dialog":r?`${Nm}/${r}`:e?`${Nm}/ny?aktivitetId=${e}`:`${Nm}`,VD=r=>{const{className:e,dialogId:t,aktivitetId:n,hidden:i,children:s}=r,a=Xr(),o=jt(),{hovedsideRoute:l}=Jr(),d=c=>{o&&(a(l(),{replace:!0}),FD({event:c,aktivitetId:n,dialogId:t}))};return i?null:p.jsx(Or,{href:kx({erVeileder:o,aktivitetId:n,dialogId:t}),onClick:d,className:e,children:s})},cQ=r=>{const{lenkeTekst:e,tekst:t,hidden:n,dialogId:i}=r;return n?null:p.jsx(Rt,{variant:"warning",className:"mb-5 mt-4",children:p.jsxs(pe,{children:[t," ",p.jsx(VD,{dialogId:i,children:e})]})})},U1=r=>{const{hidden:e,tekst:t,lenkeTekst:n,href:i}=r;return e?null:p.jsxs(Rt,{variant:"warning",className:"mb-5 mt-4",children:[t," ",p.jsx(Or,{href:i,children:n})]})},uQ=r=>{if(!r)return'Du er ikke lenger registrert hos Nav og din tidligere aktivitetsplan er lagt under "Tidligere plan". Hvis du fortsatt skal motta ytelser og få oppfølging fra Nav må du være registrert.';const e=r<=28&&r>=10,t=r<10&&r>=1;return e?"Du er ikke lenger registrert hos Nav. Hvis du fortsatt skal motta ytelser, få oppfølging fra Nav og bruke aktivitetsplanen må du være registrert.":t?`Du er ikke lenger registrert hos Nav. Hvis du fortsatt skal motta ytelser, få oppfølging fra Nav og bruke aktivitetsplanen må du være registrert. Om ${r} dager vil denne aktivitetsplanen bli avsluttet.`:'Du er ikke lenger registrert hos Nav og din tidligere aktivitetsplan er lagt under "Tidligere plan". Hvis du fortsatt skal motta ytelser og få oppfølging fra Nav må du være registrert.'},fQ=r=>{const{tilhorendeDialogId:e,erEskalert:t}=r,n=Z(fJ,it),i=Z(wn),s=Z(uJ),a=dn(new Date),o=n?BO($c(cn(n),28),a):void 0,{oppfolging:l}=ey("root");return p.jsx(w.Suspense,{fallback:null,children:p.jsx(ty,{resolve:l,children:p.jsxs("div",{className:"container",children:[p.jsx(cQ,{lenkeTekst:"Les hva du må gjøre.",tekst:"Du har fått en viktig melding fra Nav.",dialogId:e,hidden:!t}),p.jsx(U1,{hidden:!s,tekst:uQ(o),lenkeTekst:"Gå til registrering",href:P0}),p.jsx(U1,{hidden:i,tekst:'Du er ikke lenger registrert hos Nav og din tidligere aktivitetsplan er lagt under "Tidligere planer". Hvis du fortsatt skal motta ytelser, få oppfølging fra Nav og bruke aktivitetsplanen må du være registrert.',lenkeTekst:"Register deg hos Nav",href:P0})]})})})},hQ=r=>r.data.eskaleringsvarsel,HD=r=>hQ(r).data,pQ=r=>{var e;return!!((e=HD(r))!=null&&e.id)},gQ=r=>!!(r&&Pi(cn(r)));function Wy(r,e){if(r){const t=typeof r=="string"?cn(r):r;return Pi(t)?ui(t,e,{locale:sE}):void 0}}function _o(r){return Wy(r,"PPP")}function kn(r){return Wy(r,"PP")}function UD(r){return Wy(r,"PP 'kl' HH.mm")}function k_(r){return Wy(r,"HH.mm")}function mQ(r){const e=cn(r);return Pi(e)?sL(e,new Date,{addSuffix:!0,locale:sE}):void 0}function vQ(r){const e=cn(r),t=LO(GO(),2);return Pi(e)?Ls(e,t):!1}function _x(r){const e=cn(r);return Pi(e)?Us(e,dn($c(new Date,7))):!1}function BD(r){if(!r)return;const e=cn(r);if(Pi(e))return vQ(r)?UD(r):mQ(r)}const bQ=r=>uE(new Date,cn(r)),B1=r=>r?1:0;function $D(r,e){return r==null||e==null?B1(r)-B1(e):cn(r).getTime()-cn(e).getTime()}function yQ(r){return BO(dn(cn(r)),dn(new Date))}const _c=r=>!!(r&&!Number.isNaN(r.getTime())&&r.getFullYear()>999),kQ=r=>{const{tilhorendeDialogId:e,opprettetDato:t,erEskalert:n}=r;if(!n)return null;const i=kn(t);return p.jsx("div",{className:"container",children:p.jsx(Rt,{variant:"warning",className:"my-4",children:p.jsxs(pe,{children:["Nav har sendt varsel ",i,"."," ",p.jsx(VD,{dialogId:e,children:"Les meldingen."})]})})})},_Q=()=>{const r=Z(Ws),e=Z(HD,it),t=Z(pQ);return r?p.jsx(fQ,{tilhorendeDialogId:e==null?void 0:e.tilhorendeDialogId,erEskalert:t}):p.jsx(kQ,{tilhorendeDialogId:e==null?void 0:e.tilhorendeDialogId,opprettetDato:e==null?void 0:e.opprettetDato,erEskalert:t})},wQ=()=>{const r=Vs(Hs.FNR);return Hn(`${JH}/dialog/sistOppdatert`,{fnr:r})},Ky=r=>r.data.dialog,wx=r=>Ky(r).status,zD=r=>Ky(r).data,EQ=r=>Ky(r).sistOppdatert,xQ=xt([zD,lh],(r,e)=>r.filter(t=>t.oppfolgingsperiode===e)),Ex=r=>e=>zD(e).find(t=>t.aktivitetId===r),SQ=xt(Ky,Un,(r,e)=>r.status===oe.ERROR?qr(e,Aa.rejected.type):[]);function TQ(r){const[e,t]=w.useState(!1);return w.useEffect(()=>{function n(s){t(s.matches)}const i=matchMedia(r);return i.addEventListener("change",n),t(i.matches),()=>i.removeEventListener("change",n)},[r]),e}function AQ(){const r=jt(),e=Z(EQ,it),t=Z(lh),n=$t();w.useEffect(()=>{const l=()=>n(Aa());if(!r){let d;return d=setInterval(()=>wQ().then(u=>{const f=new Date(e),g=u.sistOppdatert;u.sistOppdatert&&Us(g,f)&&l()}).catch(()=>clearInterval(d)),1e4),()=>clearInterval(d)}},[n,r,e]);const i=Z(hW),s=TQ("(max-width: 768px)"),a=Tz("aktivitetsplan.journalforing");function o(){rr(fZ),bo("Hva er aktivitetsplanen?")}return p.jsxs("div",{className:"flex flex-col gap-y-2",children:[p.jsxs("div",{className:"flex gap-y-2 gap-x-8 flex-col sm:flex-row mt-8 mb-4",children:[r?null:p.jsxs(p.Fragment,{children:[p.jsx(Or,{href:n5,children:"Min side"}),p.jsx(Or,{href:Nm,children:p.jsx("span",{children:"Min dialog med veileder"})})]}),p.jsx(mc,{to:"informasjon",className:"text-text-action underline hover:no-underline",onClick:o,children:"Hva er aktivitetsplanen?"}),i&&p.jsx(mc,{hidden:s,to:"utskrift",className:"text-text-action underline hover:no-underline",onClick:()=>bo("Skriv ut"),children:"Skriv ut"}),a?r&&p.jsx(mc,{to:`journalforing/${t}`,className:"text-text-action underline hover:no-underline",onClick:()=>bo("Journalføring"),children:"Journalføring"}):null]}),p.jsx(Be,{level:"1",size:"xlarge",children:"Aktivitetsplan"})]})}function mu(r){return e=>{r.filter(t=>t).forEach(t=>t(e))}}const Hh=r=>{if(!(r===void 0||r===""||r===null))return typeof r=="string"?new Date(r):r},xx=(r,e)=>{w.useEffect(()=>(r&&window.addEventListener("click",e),()=>window.removeEventListener("click",e)),[e])},Sx=r=>{r.stopPropagation()};function OQ(){const r=Z(hh),n=r.filter(i=>i.avtalt).length>0&&r.filter(i=>!i.avtalt).length>0?["AVTALT_MED_NAV","IKKE_AVTALT_MED_NAV"]:[];return p.jsx(By,{filterKategori:"avtalt",filters:n,tekst:"Avtalt aktivitet",metrikkNavn:mZ,textMapper:kD})}const WD=()=>{const[r,e]=w.useState(!1),n=Z(hh).length>1,i=[Z(Uy)],s=uD(i),a=cD(s);return xx(r,()=>e(!1)),n?p.jsxs("div",{onClick:Sx,className:"self-stretch sm:self-auto",children:[p.jsx(ft,{disabled:!a,variant:"secondary",name:"filter",className:"relative w-full",onClick:()=>{e(!r),rr(pZ)},children:"Filtrer"}),r?p.jsxs("div",{className:"scroll-auto max-h-screen-h-1/2 rounded-md absolute p-4 bg-white border z-10 w-96 max-h-screen-h-1/2 overflow-auto flex flex-col gap-y-4",children:[p.jsx(OQ,{}),p.jsx(qJ,{}),p.jsx(GJ,{}),p.jsx(zJ,{})]}):null]}):null},CQ=()=>{const r=Z(lJ),t=r.filter(o=>!!o.slutt).length>0,n=$t(),i=r.length>0?r[0]:null,s=Z(lh);if(w.useEffect(()=>{i&&!s&&n(c1(i.id))},[r]),!t)return null;const a=o=>{const l=o.target.value;n(c1(l))};return p.jsx("div",{className:"flex items-start",children:p.jsx(To,{className:"w-full sm:w-64",hideLabel:!0,autoComplete:"on",defaultValue:i==null?void 0:i.id,label:"Periode",value:s||void 0,onChange:a,children:r.map(({start:o,slutt:l,id:d})=>{const c=ui(new Date(o),"dd. MMM yyyy"),u=l==null?"Nåværende periode":`${c} - ${ui(new Date(l),"dd. MMM yyyy")}`;return p.jsx("option",{value:d,children:u},d)})})})},jQ=({label:r,slettFilter:e})=>p.jsx(Cy.Removable,{variant:"neutral","aria-label":"slett-filter",onClick:e,children:r}),KD=()=>{const r=Z(nm),e=$t(),t=l=>e(B2(l)),n=l=>e($2(l)),i=l=>e(z2(l)),s=l=>e(W2(l)),a=(l,d)=>{switch(l){case"aktivitetTyper":return{tekst:Zv[d],func:i};case"aktivitetEtiketter":return{tekst:_D[d],func:t};case"arenaAktivitetEtiketter":return{tekst:ED[d],func:n};case"aktivitetAvtaltMedNav":return{tekst:kD[d],func:s};default:return l}};return Object.values(r).some(l=>l?Object.values(l).some(d=>d===!0):!1)?p.jsxs("div",{className:"flex flex-wrap flex-col",children:[p.jsx(Bc,{className:"mb-2",children:"Valgte filter"}),p.jsx(Cy,{children:Object.entries(r).map(([l,d])=>d===null?null:Object.entries(d).filter(([c,u])=>u).map(([c,u])=>{const f=a(l,c);return typeof f=="string"?null:p.jsx(jQ,{label:f.tekst,slettFilter:()=>{f.func(c)}},c)}))})]}):null},IQ=r=>[{groupTittel:"For NAV-ansatt",groupedItems:[{tittle:"Avtale om å søke jobber",link:`${r}/sokeavtale`},{tittle:"Møte med NAV",link:`${r}/mote`},{tittle:"Samtalereferat",link:`${r}/samtalereferat`}]},{groupTittel:"For bruker og NAV-ansatt",groupedItems:[{tittle:" En jobb jeg vil søke på",link:`${r}/stilling`},{tittle:" En jobb jeg har nå",link:`${r}/ijobb`},{tittle:"Jobbrettet egenaktivitet ",link:`${r}/egen`},{tittle:" Medisinsk behandling",link:`${r}/behandling`}]}],DQ=r=>[{groupTittel:"Velg type aktivitet",groupedItems:[{tittle:" En jobb jeg vil søke på",link:`${r}/stilling`},{tittle:" En jobb jeg har nå",link:`${r}/ijobb`},{tittle:"Jobbrettet egenaktivitet ",link:`${r}/egen`},{tittle:" Medisinsk behandling",link:`${r}/behandling`}]}],GD=()=>{const r=Z(fh),e=Z(Ki),{nyAktivitetRoute:t}=Jr(),n=t(),s=jt()?IQ(n):DQ(n);return p.jsx("div",{className:"self-stretch sm:self-auto",children:p.jsxs(Fr,{children:[p.jsx(Fr.Trigger,{children:p.jsx(ft,{loading:[oe.RELOADING,oe.PENDING].includes(e),className:"relative w-full",icon:p.jsx(ZW,{role:"img","aria-hidden":!0,fontSize:"1.5rem"}),disabled:e!==oe.OK||r,children:"Legg til aktivitet"})}),p.jsx(Fr.Content,{children:s.map((a,o)=>p.jsxs(Fr.Group,{label:a.groupTittel,children:[a.groupedItems.map(l=>p.jsx(Fr.Item,{as:mc,to:l.link,children:l.tittle},l.tittle)),o!=s.length-1?p.jsx(Fr.Divider,{}):null]},a.groupTittel))})]})})},RQ=()=>p.jsxs("div",{className:"flex flex-col gap-y-6",children:[p.jsxs("div",{className:"flex gap-y-4 sm:flex-row flex-col-reverse ",children:[p.jsxs("div",{className:"flex gap-4 items-start flex-col sm:flex-row w-full",children:[p.jsx(GD,{}),p.jsx(WD,{})]}),p.jsx(CQ,{})]}),p.jsx(KD,{})]}),PQ=r=>{const{to:e,children:t,id:n,className:i,ariaLabel:s,onClick:a}=r,o=Xr();return p.jsx("div",{role:"link","aria-label":s,id:n,className:i,tabIndex:0,onClick:()=>{o(e),a()},onKeyPress:l=>{l.key==="Enter"&&(o(e),a())},children:t})};function NQ(r,e){return r!=null&&e==null?-1:r==null&&e!=null?1:0}function MQ(r,e){return!r||!e?NQ(r,e):e.localeCompare(r)}function qD(r,e){const t=Ln(r)?r.fraDato:r.endretDato,n=Ln(e)?e.fraDato:e.endretDato;return MQ(t,n)}function LQ(r){var a;const e=r.type===De.STILLING_FRA_NAV_TYPE,t=!((a=r.stillingFraNavData)!=null&&a.cvKanDelesData),n=r.status,i=r.historisk,s=n===Le.FULLFOERT||n===Le.AVBRUTT||i;return e&&t&&!s}function FQ(r,e,t){if(r.endretAvType==="BRUKER"&&t.erBruker||r.endretAvType==="NAV"&&t.erVeileder&&r.endretAv===t.id)return!1;if(!e)return!0;const i=cn(r.endretDato||r.opprettetDato),s=cn(e.tidspunkt);return Pi(i)&&Pi(s)?Us(i,s)&&Ls(i,FO(new Date,5)):!1}function YD(r){const{fraDato:e,tilDato:t}=r;if(e&&t){const n=new Date(e),i=new Date(t),s=M5(i,n),a=ui(n,"HH.mm");return{dato:dn(n),klokkeslett:a,varighet:s}}}const VQ=r=>cE(r)?r:new Date(r),XD=r=>{const e=r.replace(".",":").split(":");if(e.length!=2)return!1;const[t,n]=e,i=parseInt(t),s=parseInt(n);return!isNaN(i)&&!isNaN(s)&&s<60&&i<24&&s>-1&&i>-1},Tx=r=>{if(typeof r!="number"){const[e,t]=r.replace(".",":").split(":").map(n=>parseInt(n));return{hour:e,minute:t}}else{const e=parseInt(r.toString()),t=a3(e),n=e-60*t;return{hour:t,minute:n}}};function HQ(r){const{dato:e,klokkeslett:t,varighet:n}=r;if(e&&t&&XD(t)&&n!==void 0&&n!==null){const{hour:i,minute:s}=Tx(t),a=E3(w3(dn(VQ(e)),i),s),o=FO(a,n);return{fraDato:a.toISOString(),tilDato:o.toISOString()}}return{}}function UQ(r){if(r)if(typeof r=="number"||!isNaN(parseInt(r))){const{hour:e,minute:t}=Tx(r);return e>0?t>0?`${e.toString()} ${e===1?"time":"timer"}, ${Jv(t.toString())} minutter`:`${e.toString()} ${e===1?"time":"timer"}`:`${Jv(t.toString())} minutter`}else return r}const Jv=r=>r.length===1?"0"+r:r;function BQ(r){if(!r||!XD(r))return;const{hour:e,minute:t}=Tx(r);return`${Jv(e.toString())}.${Jv(t.toString())}`}function $Q(r,e){return r===De.MOTE_TYPE&&!e}function zQ(r,e){return r===De.SAMTALEREFERAT_TYPE&&!e}function ZD(r,e){const{type:t,erReferatPublisert:n}=r;return $Q(t,n)&&e!==Le.AVBRUTT||zQ(t,n)}function WQ(r,e){return r===Le.AVBRUTT&&e===hi}function KQ(r,e){return r&&e===Le.AVBRUTT}function GQ(r,e,t){return r&&e===Le.FULLFOERT&&t!==cs&&t!==hi}function Ax(r,e,t){return KQ(r,e)||GQ(r,e,t)||WQ(e,t)}function JD(r,e){return r.filter(t=>t.nesteStatus?t.nesteStatus===e:t.status===e).sort(qD)}function qQ(r){const e=[r.endretDato,r.tilDato,r.fraDato].filter(n=>n!=null).find(n=>n&&Pi(cn(n))),t=e?cn(e):void 0;return t===void 0||Us(t,sC(dn(new Date),1))}const YQ=r=>r.reduce((e,t)=>qQ(t)?{...e,nyereAktiviteter:[...e.nyereAktiviteter,t]}:{...e,eldreAktiviteter:[...e.eldreAktiviteter,t]},{nyereAktiviteter:[],eldreAktiviteter:[]}),QD=r=>r.view.visteAktiviteterMedEndringer.data,eR=r=>{const e=QD(r);return e.length===0?e[e.length-1]:void 0},XQ="_aktivitetskort_pnkum_1",ZQ="_sistVist_pnkum_23",JQ="_type_pnkum_27",QQ="_drag_pnkum_30",eee="_frist_pnkum_37",tee="_fristUtgaat_pnkum_41",ree="_flyttbar_pnkum_48",nee="_dialogIkonUtenUleste_pnkum_52",iee="_dialogIkonMedUleste_pnkum_58",jo={aktivitetskort:XQ,sistVist:ZQ,type:JQ,drag:QQ,frist:eee,fristUtgaat:tee,flyttbar:ree,dialogIkonUtenUleste:nee,dialogIkonMedUleste:iee};function see(r){return r<0?jo.fristUtgaat:r<14?jo.frist:""}function aee(r,e){return r===0?"Søknadsfristen går ut i dag":r===1?"Søknadsfristen går ut i morgen":r>14?`Søknadsfrist: ${kn(e)}`:r<0?"Søknadsfristen har gått ut":`Søknadsfristen går ut om ${r} dager`}function oee({aktivitet:r}){const{tilDato:e,etikett:t}=r;if(t||!e)return null;const n=yQ(e);return p.jsx(pe,{className:see(n),children:aee(n,e)})}function lee({aktivitet:r,id:e}){const{type:t,fraDato:n,tilDato:i}=r;if(t===De.STILLING_FRA_NAV_TYPE)return null;if(t===De.STILLING_AKTIVITET_TYPE)return p.jsx(oee,{aktivitet:r});const s=kn(n),a=kn(i);function o(){return t===hi||t===cs||t===Lb&&a&&s===a?s:!n&&i?`Til: ${a}`:!i&&n?`Fra: ${s}`:[s,a].filter(l=>l).join(" - ")}return p.jsx(pe,{id:e,children:o()})}const tR=r=>({hidden:e,children:t,...n})=>(typeof e=="function"?e():e)?null:x.createElement(r,{...n},t);function rR(r){return({hidden:e,children:t,...n})=>(typeof e=="function"?e():e)?null:p.jsx(r,{...n,children:t})}const ba=tR("div"),dee=tR("section"),nR=r=>p.jsx(Rt,{variant:"warning",inline:!0,className:"gap-x-2",children:r.tekst}),cee=r=>{const e=Z(Ws),t=LQ(r);return e&&t},uee=()=>p.jsx(nR,{tekst:"Venter på svar fra deg"}),fee={SOKT_INN:{tekst:"Søkt inn på tiltaket",variant:"info"},AVSLAG:{tekst:"Fått avslag",variant:"info"},IKKE_AKTUELL:{tekst:"Ikke aktuell for tiltaket",variant:"neutral"},IKKE_MOETT:{tekst:"Ikke møtt på tiltaket",variant:"warning"},INFOMOETE:{tekst:"Infomøte før tiltaket",variant:"info"},TAKKET_JA:{tekst:"Takket ja til tilbud",variant:"info"},TAKKET_NEI:{tekst:"Takket nei til tilbud",variant:"warning"},FATT_PLASS:{tekst:"Fått plass på tiltaket",variant:"info"},VENTELISTE:{tekst:"På venteliste",variant:"info"}},hee=(r,e)=>{switch(r){case id.ARENA_TILTAK_TYPE:return fee[e];default:return}},iR=({aktivitet:r})=>{const{etiketter:e,type:t}=r.eksternAktivitet;return!e||e.length==0?null:p.jsx(p.Fragment,{children:e.map(n=>n.tekst&&n.sentiment?{variant:n.sentiment==="POSITIVE"?"success":"neutral",tekst:n.tekst}:hee(t,n.kode)).map((n,i)=>n?p.jsx(Qc,{variant:n.variant,size:"small",children:n.tekst},i):null)})},pee={SOKNAD_SENDT:{text:"Sendt søknad",variant:"success"},INNKALT_TIL_INTERVJU:{text:"Skal på intervju",variant:"info"},JOBBTILBUD:{text:"Fått jobbtilbud 🎉",variant:"warning"},AVSLAG:{text:"Ikke fått jobben",variant:"neutral"},INGEN_VALGT:{text:"Ikke fått jobben",variant:"neutral"}},Ox=r=>{const{aktivitet:e}=r,t=e.etikett;if(!t)return null;const{text:n,variant:i}=pee[t];return p.jsx(Qc,{className:"mr-2",variant:i,size:"small",children:n})},gee={VENTER:{text:"Venter på å bli kontaktet",variant:"success"},CV_DELT:{text:"CV er delt med arbeidsgiver",variant:"info"},SKAL_PAA_INTERVJU:{text:"Skal på intervju",variant:"info"},JOBBTILBUD:{text:"Fått jobbtilbud 🎉",variant:"neutral"},AVSLAG:{text:"Ikke fått jobben",variant:"neutral"},IKKE_FATT_JOBBEN:{text:"Ikke fått jobben",variant:"neutral"},FATT_JOBBEN:{text:"Fått jobben 🎉",variant:"neutral"}},sR=r=>{const{soknadsstatus:e}=r;if(!e)return null;const{text:t,variant:n}=gee[e];return p.jsx(Qc,{variant:n,size:"small",children:t})},mee=r=>{switch(r){case ln.JATAKK:case ln.AKTUELL:case ln.TILBUD:case ln.VENTELISTE:case ln.INFOMOETE:return"info";case ln.AVSLAG:case ln.IKKAKTUELL:return"neutral";case ln.IKKEM:case ln.NEITAKK:return"warning"}},vee=r=>wD[r],aR=r=>{const{aktivitet:e}=r,t=e.etikett;if(!t)return null;const n=mee(t),i=vee(t);return p.jsx(Qc,{className:"mr-2",variant:n,size:"small",children:i})},oR=r=>{const{type:e,referat:t,erReferatPublisert:n}=r;return e===cs&&!n||e===hi&&!!t&&!n},lR=()=>{const e=Z(Ws)?"Samtalereferatet er ikke ferdig":"Samtalereferatet er ikke delt";return p.jsx(Qc,{variant:"warning",size:"small",className:"mt-0.5",children:e})};function bee(r){const{className:e}=r;return p.jsx("svg",{"aria-label":"Ingen uleste meldinger",className:e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false",role:"img",children:p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 13.518L4.602 12H6v-1a4 4 0 014-4h6V4a2 2 0 00-2-2H4a2 2 0 00-2 2v9.518zM5.143 14H6v3a4 4 0 004 4h8.857L24 24V11a4 4 0 00-4-4h-2V4a4 4 0 00-4-4H4a4 4 0 00-4 4v13l5.143-3zm14.255 5L22 20.518V11a2 2 0 00-2-2H10a2 2 0 00-2 2v6a2 2 0 002 2h9.398zM11 15a1 1 0 100-2 1 1 0 000 2zm5-1a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2z",fill:"#0067C5"})})}function yee(r){const{antallUleste:e,className:t}=r,n=e>9?23:26.8;return p.jsxs("div",{children:[p.jsxs("svg",{"aria-label":"Aktiviteten har uleste meldinger",className:t,xmlns:"http://www.w3.org/2000/svg",width:"40",height:"32",focusable:"false",role:"img",children:[p.jsx("svg",{y:"8",children:p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 13.518L4.602 12H6v-1a4 4 0 014-4h6V4a2 2 0 00-2-2H4a2 2 0 00-2 2v9.518zM5.143 14H6v3a4 4 0 004 4h8.857L24 24V11a4 4 0 00-4-4h-2V4a4 4 0 00-4-4H4a4 4 0 00-4 4v13l5.143-3zm14.255 5L22 20.518V11a2 2 0 00-2-2H10a2 2 0 00-2 2v6a2 2 0 002 2h9.398zM11 15a1 1 0 100-2 1 1 0 000 2zm5-1a1 1 0 11-2 0 1 1 0 012 0zm3 1a1 1 0 100-2 1 1 0 000 2z",fill:"#0067C5"})}),p.jsx("circle",{opacity:"1",fill:"#c30000",cx:"30",cy:"10",r:"10"}),p.jsx("text",{x:n,y:"14.4",fill:"#fff",opacity:"1",children:e})]}),p.jsx("div",{className:"sr-only",children:"Aktiviteten har en dialog"})]})}function kee(r){const{antallUleste:e,classNameUtenUleste:t,classNameMedUleste:n}=r;return e===0?p.jsx(bee,{className:t}):p.jsx(yee,{antallUleste:e,className:n})}const Cx=r=>{const{hidden:e}=r;return e?null:p.jsx(Qc,{variant:"alt3-filled",size:"small",children:"Avtalt med Nav"})},_ee=r=>{const{hidden:e}=r;return e?null:p.jsx(nR,{tekst:"Ulest"})};var Ut=(r=>(r.SEND_STANDARD="SEND_FORHAANDSORIENTERING",r.SEND_PARAGRAF_11_9="SEND_PARAGRAF_11_9",r.IKKE_SEND="IKKE_SEND_FORHAANDSORIENTERING",r))(Ut||{});const wee=r=>{switch(r.forhaandsorienteringType){case Ut.SEND_STANDARD:return r.avtaltText;case Ut.SEND_PARAGRAF_11_9:return r.avtaltText119;case Ut.IKKE_SEND:return"";default:throw new Error("Ukjent avtalttype")}},im="Det er viktig at du gjennomfører denne aktiviteten med Nav. Gjør du ikke det, kan det medføre at stønaden du mottar fra Nav bortfaller for en periode eller stanses. Hvis du ikke kan gjennomføre aktiviteten, ber vi deg ta kontakt med veilederen din så snart som mulig.",dR="Du kan få redusert utbetaling av arbeidsavklaringspenger med én stønadsdag hvis du lar være å [komme på møtet vi har innkalt deg til [dato]/ møte på … /levere ... innen [dato]] uten rimelig grunn. Dette går fram av folketrygdloven § 11-9.",Gy=(r,e)=>{if(e===void 0)return!1;const t=e==null?void 0:e.forhaandsorientering,n=eh(e)?!e.historisk:!0;return!!(t!=null&&t.type)&&!t.lestDato&&t.type!==Ut.IKKE_SEND&&r&&n&&(e==null?void 0:e.status)!==Le.FULLFOERT&&(e==null?void 0:e.status)!==Le.AVBRUTT},Eee=r=>{const{aktivitet:e}=r,t=Z(Ws),n=Gy(t,e);return!n&&!e.avtalt?null:p.jsxs(p.Fragment,{children:[p.jsx(_ee,{hidden:!n}),p.jsx(Cx,{hidden:!e.avtalt})]})},xee=({aktivitet:r})=>{const{avtalt:e,etikett:t}=r,n=Z(Ex(r.id),it),i=n?n.henvendelser:[],s=i.filter(m=>!m.lest).length,o=r.type===De.SAMTALEREFERAT_TYPE||r.type===De.MOTE_TYPE?oR(r):!1,l=r.type===De.STILLING_FRA_NAV_TYPE,d=l?cee(r):!1,c=l?r.stillingFraNavData.soknadsstatus:void 0,u=eh(r)&&r.transaksjonsType==="KASSERT",g=r.type===De.EKSTERN_AKTIVITET_TYPE?r.eksternAktivitet.etiketter:void 0;return e||t||n||o||d||c||g?p.jsxs("div",{className:"flex justify-between mt-2 w-full",children:[p.jsxs("div",{children:[d?p.jsx(uee,{}):null,p.jsxs("div",{className:"flex flex-col gap-y-1 items-start",children:[p.jsx(Eee,{aktivitet:r}),o?p.jsx(lR,{}):null,r.type===Jf?p.jsx(Ox,{aktivitet:r}):null,Ln(r)?p.jsx(aR,{aktivitet:r}):null,c?p.jsx(sR,{soknadsstatus:c}):null,r.type===De.EKSTERN_AKTIVITET_TYPE?p.jsx(iR,{aktivitet:r}):null,u&&p.jsx(Qc,{size:"small",variant:"neutral-filled",children:"Slettet"})]})]}),p.jsx(ba,{hidden:!n&&i.length<=0,className:"h-0 self-end",children:p.jsx(kee,{antallUleste:s,classNameMedUleste:jo.dialogIkonMedUleste,classNameUtenUleste:jo.dialogIkonUtenUleste})})]}):null};function See({aktivitet:r,harEndring:e,id:t}){return p.jsxs("div",{className:"flex items-baseline",children:[p.jsx(bD,{visible:e}),p.jsx(Be,{level:"3",id:t,size:"xsmall",children:r.tittel})]})}const Tee=({aktivitet:r})=>p.jsx(Hc,{as:"p",className:jo.type,"data-testid":r.type,children:Fy(r)});function Aee({aktivitet:r}){const{arbeidsgiver:e}=r;return e?p.jsx(pe,{children:e}):null}function Oee({aktivitet:r}){const{antallStillingerSokes:e,antallStillingerIUken:t}=r;return p.jsxs("div",{children:[p.jsxs(Oc,{visible:!!e&&e>0,children:["Antall søknader i perioden ",e]}),p.jsxs(Oc,{visible:!!t&&t>0,children:["Antall søknader i uken ",t]})]})}const jx=r=>`aktivitetskort-${r.id}`,Cee=r=>{var y;const{aktivitet:e,className:t}=r,{id:n,type:i}=e,s=$t(),a=Z(oD,it),o=Z(gx),d=!Z(QD,it).find(k=>e.id===k.id),c=e.id===((y=Z(eR))==null?void 0:y.id),u=Z(Ry,it),f=o===oe.OK&&eh(e)&&FQ(e,a,u)&&d,{aktivitetRoute:g}=Jr(),m=`aktivitetskort__header__${n}`,v=`aktivitetskort__dato__${n}`,b=`${Fy(e)}: ${e.tittel}`;return p.jsx(PQ,{id:jx(e),className:fi("rounded-md",jo.aktivitetskort,t,{[jo.sistVist]:c,"border-gray-400 border":!c}),to:g(n),ariaLabel:b,onClick:()=>s(yz(e)),children:p.jsxs("article",{children:[p.jsx(Tee,{aktivitet:e}),p.jsx(See,{id:m,aktivitet:e,harEndring:f}),i===De.STILLING_AKTIVITET_TYPE?p.jsx(Aee,{aktivitet:e}):null,p.jsx(lee,{id:v,aktivitet:e}),i===De.SOKEAVTALE_AKTIVITET_TYPE?p.jsx(Oee,{aktivitet:e}):null,p.jsx(xee,{aktivitet:e})]})})},jee=r=>{const[e,t]=w.useState(!1),n=new IntersectionObserver(([i])=>t(i.isIntersecting));return w.useEffect(()=>{if(r)return n.observe(r),()=>{n.disconnect()}},[]),e};function cR(r,e,t){const{type:n,status:i,nesteStatus:s}=r,a=Ln(r),o=n===De.EKSTERN_AKTIVITET_TYPE,l=a?!1:r.historisk,d=[Le.FULLFOERT,Le.AVBRUTT].includes(i),c=[cs,hi].includes(n)&&e;return t&&!s&&!l&&!d&&!a&&!c&&!o}const __="AktivitetsKort";function uR({status:r,children:e}){const t=$t(),n=Xr(),i=Z(Ws,it),s=Z(wn,it),a=Z(I2,it),{avbrytAktivitetRoute:o,fullforAktivitetRoute:l}=Jr(),[d,c]=B$({accept:__,canDrop:({aktivitet:g})=>r!==g.status&&cR(g,i,s),drop:({aktivitet:g})=>{tD("dragAndDrop",g,r),r===Le.FULLFOERT?n(l(g.id)):r===Le.AVBRUTT?n(o(g.id)):t($s({aktivitet:g,status:r}))},collect:g=>({canDrop:g.canDrop(),isOver:g.isOver()})}),u=!!a,f=d.canDrop&&d.isOver;return p.jsx("div",{ref:c,className:"z-50 h-full",children:p.jsx("div",{className:fi("bg-bg-subtle border-t border-border-divider rounded-none p-4 sm:p-4 lg:p-2 m-0 sm:border-t-0 sm:rounded-md aktivitetstavle__kolonne",{"opacity-50":u&&!f,"bg-surface-action-subtle-hover ":f}),children:e})})}function Ix(r){const{aktivitet:e}=r,t=$t(),[n,i]=P$({type:__,item:()=>(setTimeout(()=>t(az(e))),{aktivitet:e,type:__}),end:()=>t(oz()),collect:a=>({isDragging:a.isDragging()})}),s=fi(n.isDragging&&jo.drag,jo.flyttbar);return p.jsx("div",{ref:i,children:p.jsx(Cee,{aktivitet:e,className:s})})}const Iee={BRUKER_ER_INTERESSERT:{tittel:"Informasjon om statusen Forslag",innhold:'Her kan du legge til en aktivitet du tror du kommer til å gjøre. Dra aktiviteten til "Planlegger" når du bestemmer deg for å gjøre aktiviteten.'},PLANLAGT:{tittel:"Informasjon om statusen Planlegger",innhold:"Her kan du legge aktiviteter som du har bestemt deg for å gjøre, men ikke har begynt på enda."},GJENNOMFORES:{tittel:"Informasjon om statusen Gjennomfører",innhold:'Aktiviteter som du holder på med, kan du sette til "Gjennomfører".'},FULLFORT:{tittel:"Informasjon om statusen Fullført",innhold:'Dra aktiviteter hit som du er ferdig med. Flytter du en aktivitet til "Fullført", blir den låst og kan ikke redigeres. Hvis du angrer, kan du legge til en ny aktivitet.'},AVBRUTT:{tittel:"Informasjon om statusen Avbrutt",innhold:'Dra aktiviteter hit som du avslutter eller ikke begynner på. Flytter du en aktivitet til "Avbrutt", blir den låst og kan ikke redigeres. Hvis du angrer, kan du legge til en ny aktivitet.'}},Dee=({status:r})=>{const e=Iee[r],{tittel:t,innhold:n}=e;return p.jsx(KI,{placement:"bottom-end",id:r,"aria-label":t,title:t,onClick:()=>bo("Klikket hjelpeikon i kolonne "+r),children:p.jsx("div",{className:"w-80",children:n})})},fR=r=>{const{status:e}=r;return p.jsxs("div",{className:"flex justify-between pb-2",children:[p.jsx(Be,{className:"text-left",level:"2",size:"small",children:vx[e]}),p.jsx(Dee,{status:e})]})},Lu=({status:r})=>{const e=Z(Vy,it),n=JD(e,r).map(i=>p.jsx(Ix,{aktivitet:i},i.id));return p.jsxs(uR,{status:r,children:[p.jsx(fR,{status:r}),n]})};var Sh={},$1;function hR(){if($1)return Sh;$1=1;function r(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(y){return typeof y}:r=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},r(v)}Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.Collapse=void 0;var e=t($g());function t(v){return v&&v.__esModule?v:{default:v}}function n(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function i(v,b){for(var y=0;y<b.length;y++){var k=b[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}function s(v,b,y){return b&&i(v.prototype,b),v}function a(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),b&&o(v,b)}function o(v,b){return o=Object.setPrototypeOf||function(k,_){return k.__proto__=_,k},o(v,b)}function l(v){var b=u();return function(){var k=f(v),_;if(b){var E=f(this).constructor;_=Reflect.construct(k,arguments,E)}else _=k.apply(this,arguments);return d(this,_)}}function d(v,b){if(b&&(r(b)==="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(v)}function c(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(v){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},f(v)}function g(v,b,y){return b in v?Object.defineProperty(v,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):v[b]=y,v}var m=function(v){a(y,v);var b=l(y);function y(k){var _;return n(this,y),_=b.call(this,k),g(c(_),"timeout",void 0),g(c(_),"container",void 0),g(c(_),"content",void 0),g(c(_),"onResize",function(){if(clearTimeout(_.timeout),!(!_.container||!_.content)){var E=_.props,S=E.isOpened,O=E.checkTimeout,T=Math.floor(_.container.clientHeight),C=Math.floor(_.content.clientHeight),D=S&&Math.abs(C-T)<=1,R=!S&&Math.abs(T)<=1;D||R?_.onRest({isFullyOpened:D,isFullyClosed:R,isOpened:S,containerHeight:T,contentHeight:C}):(_.onWork({isFullyOpened:D,isFullyClosed:R,isOpened:S,containerHeight:T,contentHeight:C}),_.timeout=setTimeout(function(){return _.onResize()},O))}}),g(c(_),"onRest",function(E){var S=E.isFullyOpened,O=E.isFullyClosed,T=E.isOpened,C=E.containerHeight,D=E.contentHeight;if(!(!_.container||!_.content)){var R=T&&_.container.style.height==="".concat(D,"px"),L=!T&&_.container.style.height==="0px";if(R||L){_.container.style.overflow=T?"initial":"hidden",_.container.style.height=T?"auto":"0px";var P=_.props.onRest;P&&P({isFullyOpened:S,isFullyClosed:O,isOpened:T,containerHeight:C,contentHeight:D})}}}),g(c(_),"onWork",function(E){var S=E.isFullyOpened,O=E.isFullyClosed,T=E.isOpened,C=E.containerHeight,D=E.contentHeight;if(!(!_.container||!_.content)){var R=T&&_.container.style.height==="".concat(D,"px"),L=!T&&_.container.style.height==="0px";if(!(R||L)){_.container.style.overflow="hidden",_.container.style.height=T?"".concat(D,"px"):"0px";var P=_.props.onWork;P&&P({isFullyOpened:S,isFullyClosed:O,isOpened:T,containerHeight:C,contentHeight:D})}}}),g(c(_),"onRefContainer",function(E){_.container=E}),g(c(_),"onRefContent",function(E){_.content=E}),k.initialStyle?_.initialStyle=k.initialStyle:_.initialStyle=k.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},_}return s(y,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(_){var E=this.props,S=E.theme,O=E.isOpened,T=E.children;return T!==_.children||O!==_.isOpened||Object.keys(S).some(function(C){return S[C]!==_.theme[C]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var _=this.content.clientHeight;this.container.style.height="".concat(_,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var _=this.props,E=_.theme,S=_.children,O=_.isOpened;return e.default.createElement("div",{ref:this.onRefContainer,className:E.collapse,style:this.initialStyle,"aria-hidden":!O},e.default.createElement("div",{ref:this.onRefContent,className:E.content},S))}}]),y}(e.default.Component);return Sh.Collapse=m,g(m,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50}),Sh}var Th={},z1;function Ree(){if(z1)return Th;z1=1;function r(T){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(D){return typeof D}:r=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},r(T)}Object.defineProperty(Th,"__esModule",{value:!0}),Th.UnmountClosed=void 0;var e=s($g()),t=hR(),n=["isOpened"],i=["isOpened"];function s(T){return T&&T.__esModule?T:{default:T}}function a(){return a=Object.assign||function(T){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var R in D)Object.prototype.hasOwnProperty.call(D,R)&&(T[R]=D[R])}return T},a.apply(this,arguments)}function o(T,C){var D=Object.keys(T);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(T);C&&(R=R.filter(function(L){return Object.getOwnPropertyDescriptor(T,L).enumerable})),D.push.apply(D,R)}return D}function l(T){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?o(Object(D),!0).forEach(function(R){S(T,R,D[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(D)):o(Object(D)).forEach(function(R){Object.defineProperty(T,R,Object.getOwnPropertyDescriptor(D,R))})}return T}function d(T,C){if(T==null)return{};var D=c(T,C),R,L;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(T);for(L=0;L<P.length;L++)R=P[L],!(C.indexOf(R)>=0)&&Object.prototype.propertyIsEnumerable.call(T,R)&&(D[R]=T[R])}return D}function c(T,C){if(T==null)return{};var D={},R=Object.keys(T),L,P;for(P=0;P<R.length;P++)L=R[P],!(C.indexOf(L)>=0)&&(D[L]=T[L]);return D}function u(T,C){if(!(T instanceof C))throw new TypeError("Cannot call a class as a function")}function f(T,C){for(var D=0;D<C.length;D++){var R=C[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}}function g(T,C,D){return C&&f(T.prototype,C),T}function m(T,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(C&&C.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),C&&v(T,C)}function v(T,C){return v=Object.setPrototypeOf||function(R,L){return R.__proto__=L,R},v(T,C)}function b(T){var C=_();return function(){var R=E(T),L;if(C){var P=E(this).constructor;L=Reflect.construct(R,arguments,P)}else L=R.apply(this,arguments);return y(this,L)}}function y(T,C){if(C&&(r(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(T)}function k(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(T){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},E(T)}function S(T,C,D){return C in T?Object.defineProperty(T,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):T[C]=D,T}var O=function(T){m(D,T);var C=b(D);function D(R){var L;return u(this,D),L=C.call(this,R),S(k(L),"onWork",function(P){var F=P.isOpened,H=d(P,n);L.setState({isResting:!1,isOpened:F});var N=L.props.onWork;N&&N(l({isOpened:F},H))}),S(k(L),"onRest",function(P){var F=P.isOpened,H=d(P,i);L.setState({isResting:!0,isOpened:F,isInitialRender:!1});var N=L.props.onRest;N&&N(l({isOpened:F},H))}),S(k(L),"getInitialStyle",function(){var P=L.state,F=P.isOpened,H=P.isInitialRender;return H?F?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),L.state={isResting:!0,isOpened:R.isOpened,isInitialRender:!0},L}return g(D,[{key:"componentDidUpdate",value:function(L){var P=this.props.isOpened;L.isOpened!==P&&this.setState({isResting:!1,isOpened:P,isInitialRender:!1})}},{key:"render",value:function(){var L=this.state,P=L.isResting,F=L.isOpened;return P&&!F?null:e.default.createElement(t.Collapse,a({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),D}(e.default.PureComponent);return Th.UnmountClosed=O,S(O,"defaultProps",{onWork:void 0,onRest:void 0}),Th}var a0,W1;function Pee(){if(W1)return a0;W1=1;var r=hR(),e=r.Collapse,t=Ree(),n=t.UnmountClosed;return a0=n,n.Collapse=e,n.UnmountClosed=n,a0}var Nee=Pee();const Mee="_invertedLesMer_1ppb9_1",Lee={invertedLesMer:Mee},Fee=r=>{const[e,t]=w.useState(!1),n=()=>{e?r.onClose&&r.onClose():r.onOpen&&r.onOpen(),t(!e)},{apneTekst:i,lukkTekst:s,hidden:a,children:o}=r;return a?null:p.jsxs("div",{className:Lee.invertedLesMer,children:[p.jsx("div",{children:p.jsx(ls,{open:e,onClick:n,header:e?s:i,children:null})}),p.jsx(Nee.Collapse,{isOpened:e,children:e?o:null})]})},Vee="aktivitetsplan.viseldreaktiviter",Hee="aktivitetsplan.skjuleldreaktiviter",Uee=r=>{const e=jt(),t=r.aktiviteteterTilDatoMerEnnToManederSiden,n=t.length===0,{aktivitetTekst:i}=r,s=t.map(a=>p.jsx(Ix,{aktivitet:a},a.id));return p.jsx(Fee,{hidden:n,onOpen:()=>rr(Vee,{erVeileder:e}),onClose:()=>rr(Hee,{erVeileder:e}),apneTekst:`Vis ${i}`,lukkTekst:`Skjul ${i}`,children:s})},Qv=({status:r})=>{const e=Z(Vy,it),t=JD(e,r),{nyereAktiviteter:n,eldreAktiviteter:i}=YQ(t),s=n.map(o=>p.jsx(Ix,{aktivitet:o},o.id)),a=r===Le.FULLFOERT?"eldre fullførte aktiviteter":"eldre avbrutte aktiviteter";return p.jsxs(uR,{status:r,children:[p.jsx(fR,{status:r}),p.jsxs("div",{children:[s,p.jsx(Uee,{aktivitetTekst:a,aktiviteteterTilDatoMerEnnToManederSiden:i})]})]})};var o0={},l0={},Ah={exports:{}},od={exports:{}},Bee=od.exports,K1;function $ee(){return K1||(K1=1,(function(){var r,e,t,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?od.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(od.exports=function(){return(r()-i)/1e6},e=process.hrtime,r=function(){var a;return a=e(),a[0]*1e9+a[1]},n=r(),s=process.uptime()*1e9,i=n-s):Date.now?(od.exports=function(){return Date.now()-t},t=Date.now()):(od.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(Bee)),od.exports}var G1;function zee(){if(G1)return Ah.exports;G1=1;for(var r=$ee(),e=typeof window>"u"?T5:window,t=["moz","webkit"],n="AnimationFrame",i=e["request"+n],s=e["cancel"+n]||e["cancelRequest"+n],a=0;!i&&a<t.length;a++)i=e[t[a]+"Request"+n],s=e[t[a]+"Cancel"+n]||e[t[a]+"CancelRequest"+n];if(!i||!s){var o=0,l=0,d=[],c=1e3/60;i=function(u){if(d.length===0){var f=r(),g=Math.max(0,c-(f-o));o=g+f,setTimeout(function(){var m=d.slice(0);d.length=0;for(var v=0;v<m.length;v++)if(!m[v].cancelled)try{m[v].callback(o)}catch(b){setTimeout(function(){throw b},0)}},Math.round(g))}return d.push({handle:++l,callback:u,cancelled:!1}),l},s=function(u){for(var f=0;f<d.length;f++)d[f].handle===u&&(d[f].cancelled=!0)}}return Ah.exports=function(u){return i.call(e,u)},Ah.exports.cancel=function(){s.apply(e,arguments)},Ah.exports.polyfill=function(u){u||(u=e),u.requestAnimationFrame=i,u.cancelAnimationFrame=s},Ah.exports}var Oh={exports:{}},d0,q1;function Wee(){if(q1)return d0;q1=1;var r=null,e=["Webkit","Moz","O","ms"];return d0=function(n){r||(r=document.createElement("div"));var i=r.style;if(n in i)return n;for(var s=n.charAt(0).toUpperCase()+n.slice(1),a=e.length;a>=0;a--){var o=e[a]+s;if(o in i)return o}return!1},d0}var c0,Y1;function Kee(){if(Y1)return c0;Y1=1,c0=n;var r=/\s/,e=/(_|-|\.|:)/,t=/([a-z][A-Z]|[A-Z][a-z])/;function n(l){return r.test(l)?l.toLowerCase():e.test(l)?(s(l)||l).toLowerCase():t.test(l)?o(l).toLowerCase():l.toLowerCase()}var i=/[\W_]+(.|$)/g;function s(l){return l.replace(i,function(d,c){return c?" "+c:""})}var a=/(.)([A-Z]+)/g;function o(l){return l.replace(a,function(d,c,u){return c+" "+u.toLowerCase().split("").join(" ")})}return c0}var u0,X1;function Gee(){if(X1)return u0;X1=1;var r=Kee();u0=e;function e(t){return r(t).replace(/[\W_]+(.|$)/g,function(n,i){return i?" "+i:""}).trim()}return u0}var f0,Z1;function qee(){if(Z1)return f0;Z1=1;var r=Gee();f0=e;function e(t){return r(t).replace(/\s(\w)/g,function(n,i){return i.toUpperCase()})}return f0}var h0,J1;function Yee(){if(J1)return h0;J1=1;var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};return h0=function(e,t){return typeof t=="number"&&!r[e]?t+"px":t},h0}var Q1;function pR(){if(Q1)return Oh.exports;Q1=1;var r=Wee(),e=qee(),t={float:"cssFloat"},n=Yee();function i(l,d,c){var u=t[d];if(typeof u>"u"&&(u=a(d)),u){if(c===void 0)return l.style[u];l.style[u]=n(u,c)}}function s(l,d){for(var c in d)d.hasOwnProperty(c)&&i(l,c,d[c])}function a(l){var d=e(l),c=r(d);return t[d]=t[l]=t[c]=c,c}function o(){arguments.length===2?typeof arguments[1]=="string"?arguments[0].style.cssText=arguments[1]:s(arguments[0],arguments[1]):i(arguments[0],arguments[1],arguments[2])}return Oh.exports=o,Oh.exports.set=o,Oh.exports.get=function(l,d){return Array.isArray(d)?d.reduce(function(c,u){return c[u]=i(l,u||""),c},{}):i(l,d||"")},Oh.exports}var p0={},eA;function Xee(){return eA||(eA=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){return typeof t=="string"}}(p0)),p0}var g0={},tA;function Zee(){return tA||(tA=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var e=pR(),t=n(e);function n(a){return a&&a.__esModule?a:{default:a}}var i=!1;function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(a&&i!==!1)return i;if(typeof document<"u"){var o=document.createElement("div");(0,t.default)(o,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(o),i=o.offsetWidth-o.clientWidth,document.body.removeChild(o)}else i=0;return i||0}}(g0)),g0}var m0={},rA;function Jee(){return rA||(rA=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(){return!1}}(m0)),m0}var v0={},nA;function Qee(){return nA||(nA=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){var n=t.clientWidth,i=getComputedStyle(t),s=i.paddingLeft,a=i.paddingRight;return n-parseFloat(s)-parseFloat(a)}}(v0)),v0}var b0={},iA;function ete(){return iA||(iA=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=e;function e(t){var n=t.clientHeight,i=getComputedStyle(t),s=i.paddingTop,a=i.paddingBottom;return n-parseFloat(s)-parseFloat(a)}}(b0)),b0}var ei={},sA;function tte(){return sA||(sA=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},ei.containerStyleAutoHeight={height:"auto"},ei.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},ei.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},ei.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},ei.trackHorizontalStyleDefault={position:"absolute",height:6},ei.trackVerticalStyleDefault={position:"absolute",width:6},ei.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},ei.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},ei.disableSelectStyle={userSelect:"none"},ei.disableSelectStyleReset={userSelect:""}),ei}var Wo={},aA;function rte(){if(aA)return Wo;aA=1,Object.defineProperty(Wo,"__esModule",{value:!0});var r=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(c[g]=f[g])}return c};Wo.renderViewDefault=s,Wo.renderTrackHorizontalDefault=a,Wo.renderTrackVerticalDefault=o,Wo.renderThumbHorizontalDefault=l,Wo.renderThumbVerticalDefault=d;var e=$g(),t=n(e);function n(c){return c&&c.__esModule?c:{default:c}}function i(c,u){var f={};for(var g in c)u.indexOf(g)>=0||Object.prototype.hasOwnProperty.call(c,g)&&(f[g]=c[g]);return f}function s(c){return t.default.createElement("div",c)}function a(c){var u=c.style,f=i(c,["style"]),g=r({},u,{right:2,bottom:2,left:2,borderRadius:3});return t.default.createElement("div",r({style:g},f))}function o(c){var u=c.style,f=i(c,["style"]),g=r({},u,{right:2,bottom:2,top:2,borderRadius:3});return t.default.createElement("div",r({style:g},f))}function l(c){var u=c.style,f=i(c,["style"]),g=r({},u,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return t.default.createElement("div",r({style:g},f))}function d(c){var u=c.style,f=i(c,["style"]),g=r({},u,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return t.default.createElement("div",r({style:g},f))}return Wo}var oA;function nte(){return oA||(oA=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Object.assign||function(P){for(var F=1;F<arguments.length;F++){var H=arguments[F];for(var N in H)Object.prototype.hasOwnProperty.call(H,N)&&(P[N]=H[N])}return P},t=function(){function P(F,H){for(var N=0;N<H.length;N++){var z=H[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(F,z.key,z)}}return function(F,H,N){return H&&P(F.prototype,H),N&&P(F,N),F}}(),n=zee(),i=O(n),s=pR(),a=O(s),o=$g(),l=lD(),d=O(l),c=Xee(),u=O(c),f=Zee(),g=O(f),m=Jee(),v=O(m),b=Qee(),y=O(b),k=ete(),_=O(k),E=tte(),S=rte();function O(P){return P&&P.__esModule?P:{default:P}}function T(P,F){var H={};for(var N in P)F.indexOf(N)>=0||Object.prototype.hasOwnProperty.call(P,N)&&(H[N]=P[N]);return H}function C(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")}function D(P,F){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:P}function R(P,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);P.prototype=Object.create(F&&F.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(P,F):P.__proto__=F)}var L=function(P){R(F,P);function F(H){var N;C(this,F);for(var z=arguments.length,G=Array(z>1?z-1:0),Y=1;Y<z;Y++)G[Y-1]=arguments[Y];var W=D(this,(N=F.__proto__||Object.getPrototypeOf(F)).call.apply(N,[this,H].concat(G)));return W.getScrollLeft=W.getScrollLeft.bind(W),W.getScrollTop=W.getScrollTop.bind(W),W.getScrollWidth=W.getScrollWidth.bind(W),W.getScrollHeight=W.getScrollHeight.bind(W),W.getClientWidth=W.getClientWidth.bind(W),W.getClientHeight=W.getClientHeight.bind(W),W.getValues=W.getValues.bind(W),W.getThumbHorizontalWidth=W.getThumbHorizontalWidth.bind(W),W.getThumbVerticalHeight=W.getThumbVerticalHeight.bind(W),W.getScrollLeftForOffset=W.getScrollLeftForOffset.bind(W),W.getScrollTopForOffset=W.getScrollTopForOffset.bind(W),W.scrollLeft=W.scrollLeft.bind(W),W.scrollTop=W.scrollTop.bind(W),W.scrollToLeft=W.scrollToLeft.bind(W),W.scrollToTop=W.scrollToTop.bind(W),W.scrollToRight=W.scrollToRight.bind(W),W.scrollToBottom=W.scrollToBottom.bind(W),W.handleTrackMouseEnter=W.handleTrackMouseEnter.bind(W),W.handleTrackMouseLeave=W.handleTrackMouseLeave.bind(W),W.handleHorizontalTrackMouseDown=W.handleHorizontalTrackMouseDown.bind(W),W.handleVerticalTrackMouseDown=W.handleVerticalTrackMouseDown.bind(W),W.handleHorizontalThumbMouseDown=W.handleHorizontalThumbMouseDown.bind(W),W.handleVerticalThumbMouseDown=W.handleVerticalThumbMouseDown.bind(W),W.handleWindowResize=W.handleWindowResize.bind(W),W.handleScroll=W.handleScroll.bind(W),W.handleDrag=W.handleDrag.bind(W),W.handleDragEnd=W.handleDragEnd.bind(W),W.state={didMountUniversal:!1},W}return t(F,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){var N=this.props.universal;N&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,n.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var N=this.view||{},z=N.scrollLeft,G=z===void 0?0:z,Y=N.scrollTop,W=Y===void 0?0:Y,ue=N.scrollWidth,M=ue===void 0?0:ue,K=N.scrollHeight,$=K===void 0?0:K,J=N.clientWidth,ne=J===void 0?0:J,fe=N.clientHeight,ae=fe===void 0?0:fe;return{left:G/(M-ne)||0,top:W/($-ae)||0,scrollLeft:G,scrollTop:W,scrollWidth:M,scrollHeight:$,clientWidth:ne,clientHeight:ae}}},{key:"getThumbHorizontalWidth",value:function(){var N=this.props,z=N.thumbSize,G=N.thumbMinSize,Y=this.view,W=Y.scrollWidth,ue=Y.clientWidth,M=(0,y.default)(this.trackHorizontal),K=Math.ceil(ue/W*M);return M<=K?0:z||Math.max(K,G)}},{key:"getThumbVerticalHeight",value:function(){var N=this.props,z=N.thumbSize,G=N.thumbMinSize,Y=this.view,W=Y.scrollHeight,ue=Y.clientHeight,M=(0,_.default)(this.trackVertical),K=Math.ceil(ue/W*M);return M<=K?0:z||Math.max(K,G)}},{key:"getScrollLeftForOffset",value:function(N){var z=this.view,G=z.scrollWidth,Y=z.clientWidth,W=(0,y.default)(this.trackHorizontal),ue=this.getThumbHorizontalWidth();return N/(W-ue)*(G-Y)}},{key:"getScrollTopForOffset",value:function(N){var z=this.view,G=z.scrollHeight,Y=z.clientHeight,W=(0,_.default)(this.trackVertical),ue=this.getThumbVerticalHeight();return N/(W-ue)*(G-Y)}},{key:"scrollLeft",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.view&&(this.view.scrollLeft=N)}},{key:"scrollTop",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.view&&(this.view.scrollTop=N)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if(!(typeof document>"u"||!this.view)){var N=this.view,z=this.trackHorizontal,G=this.trackVertical,Y=this.thumbHorizontal,W=this.thumbVertical;N.addEventListener("scroll",this.handleScroll),(0,g.default)()&&(z.addEventListener("mouseenter",this.handleTrackMouseEnter),z.addEventListener("mouseleave",this.handleTrackMouseLeave),z.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),G.addEventListener("mouseenter",this.handleTrackMouseEnter),G.addEventListener("mouseleave",this.handleTrackMouseLeave),G.addEventListener("mousedown",this.handleVerticalTrackMouseDown),Y.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),W.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if(!(typeof document>"u"||!this.view)){var N=this.view,z=this.trackHorizontal,G=this.trackVertical,Y=this.thumbHorizontal,W=this.thumbVertical;N.removeEventListener("scroll",this.handleScroll),(0,g.default)()&&(z.removeEventListener("mouseenter",this.handleTrackMouseEnter),z.removeEventListener("mouseleave",this.handleTrackMouseLeave),z.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),G.removeEventListener("mouseenter",this.handleTrackMouseEnter),G.removeEventListener("mouseleave",this.handleTrackMouseLeave),G.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),Y.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),W.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(N){var z=this,G=this.props,Y=G.onScroll,W=G.onScrollFrame;Y&&Y(N),this.update(function(ue){var M=ue.scrollLeft,K=ue.scrollTop;z.viewScrollLeft=M,z.viewScrollTop=K,W&&W(ue)}),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var N=this.props.onScrollStart;N&&N(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){var N=this.props.autoHide;N&&this.showTracks()}},{key:"handleScrollStop",value:function(){var N=this.props.onScrollStop;N&&N(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){var N=this.props.autoHide;N&&this.hideTracks()}},{key:"handleWindowResize",value:function(){(0,g.default)(!1),this.forceUpdate()}},{key:"handleHorizontalTrackMouseDown",value:function(N){N.preventDefault();var z=N.target,G=N.clientX,Y=z.getBoundingClientRect(),W=Y.left,ue=this.getThumbHorizontalWidth(),M=Math.abs(W-G)-ue/2;this.view.scrollLeft=this.getScrollLeftForOffset(M)}},{key:"handleVerticalTrackMouseDown",value:function(N){N.preventDefault();var z=N.target,G=N.clientY,Y=z.getBoundingClientRect(),W=Y.top,ue=this.getThumbVerticalHeight(),M=Math.abs(W-G)-ue/2;this.view.scrollTop=this.getScrollTopForOffset(M)}},{key:"handleHorizontalThumbMouseDown",value:function(N){N.preventDefault(),this.handleDragStart(N);var z=N.target,G=N.clientX,Y=z.offsetWidth,W=z.getBoundingClientRect(),ue=W.left;this.prevPageX=Y-(G-ue)}},{key:"handleVerticalThumbMouseDown",value:function(N){N.preventDefault(),this.handleDragStart(N);var z=N.target,G=N.clientY,Y=z.offsetHeight,W=z.getBoundingClientRect(),ue=W.top;this.prevPageY=Y-(G-ue)}},{key:"setupDragging",value:function(){(0,a.default)(document.body,E.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=v.default}},{key:"teardownDragging",value:function(){(0,a.default)(document.body,E.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(N){this.dragging=!0,N.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(N){if(this.prevPageX){var z=N.clientX,G=this.trackHorizontal.getBoundingClientRect(),Y=G.left,W=this.getThumbHorizontalWidth(),ue=W-this.prevPageX,M=-Y+z-ue;this.view.scrollLeft=this.getScrollLeftForOffset(M)}if(this.prevPageY){var K=N.clientY,$=this.trackVertical.getBoundingClientRect(),J=$.top,ne=this.getThumbVerticalHeight(),fe=ne-this.prevPageY,ae=-J+K-fe;this.view.scrollTop=this.getScrollTopForOffset(ae)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){var N=this.props.autoHide;N&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){var N=this.props.autoHide;N&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){var N=this.props.autoHide;N&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,a.default)(this.trackHorizontal,{opacity:1}),(0,a.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var N=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var z=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,a.default)(N.trackHorizontal,{opacity:0}),(0,a.default)(N.trackVertical,{opacity:0})},z)}}},{key:"detectScrolling",value:function(){var N=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){N.lastViewScrollLeft===N.viewScrollLeft&&N.lastViewScrollTop===N.viewScrollTop&&(clearInterval(N.detectScrollingInterval),N.scrolling=!1,N.handleScrollStop()),N.lastViewScrollLeft=N.viewScrollLeft,N.lastViewScrollTop=N.viewScrollTop},100))}},{key:"raf",value:function(N){var z=this;this.requestFrame&&i.default.cancel(this.requestFrame),this.requestFrame=(0,i.default)(function(){z.requestFrame=void 0,N()})}},{key:"update",value:function(N){var z=this;this.raf(function(){return z._update(N)})}},{key:"_update",value:function(N){var z=this.props,G=z.onUpdate,Y=z.hideTracksWhenNotNeeded,W=this.getValues();if((0,g.default)()){var ue=W.scrollLeft,M=W.clientWidth,K=W.scrollWidth,$=(0,y.default)(this.trackHorizontal),J=this.getThumbHorizontalWidth(),ne=ue/(K-M)*($-J),fe={width:J,transform:"translateX("+ne+"px)"},ae=W.scrollTop,Fe=W.clientHeight,ee=W.scrollHeight,le=(0,_.default)(this.trackVertical),Pe=this.getThumbVerticalHeight(),xe=ae/(ee-Fe)*(le-Pe),Te={height:Pe,transform:"translateY("+xe+"px)"};if(Y){var qe={visibility:K>M?"visible":"hidden"},vt={visibility:ee>Fe?"visible":"hidden"};(0,a.default)(this.trackHorizontal,qe),(0,a.default)(this.trackVertical,vt)}(0,a.default)(this.thumbHorizontal,fe),(0,a.default)(this.thumbVertical,Te)}G&&G(W),typeof N=="function"&&N(W)}},{key:"render",value:function(){var N=this,z=(0,g.default)(),G=this.props;G.onScroll,G.onScrollFrame,G.onScrollStart,G.onScrollStop,G.onUpdate;var Y=G.renderView,W=G.renderTrackHorizontal,ue=G.renderTrackVertical,M=G.renderThumbHorizontal,K=G.renderThumbVertical,$=G.tagName;G.hideTracksWhenNotNeeded;var J=G.autoHide;G.autoHideTimeout;var ne=G.autoHideDuration;G.thumbSize,G.thumbMinSize;var fe=G.universal,ae=G.autoHeight,Fe=G.autoHeightMin,ee=G.autoHeightMax,le=G.style,Pe=G.children,xe=T(G,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),Te=this.state.didMountUniversal,qe=e({},E.containerStyleDefault,ae&&e({},E.containerStyleAutoHeight,{minHeight:Fe,maxHeight:ee}),le),vt=e({},E.viewStyleDefault,{marginRight:z?-z:0,marginBottom:z?-z:0},ae&&e({},E.viewStyleAutoHeight,{minHeight:(0,u.default)(Fe)?"calc("+Fe+" + "+z+"px)":Fe+z,maxHeight:(0,u.default)(ee)?"calc("+ee+" + "+z+"px)":ee+z}),ae&&fe&&!Te&&{minHeight:Fe,maxHeight:ee},fe&&!Te&&E.viewStyleUniversalInitial),lt={transition:"opacity "+ne+"ms",opacity:0},jr=e({},E.trackHorizontalStyleDefault,J&&lt,(!z||fe&&!Te)&&{display:"none"}),Qr=e({},E.trackVerticalStyleDefault,J&&lt,(!z||fe&&!Te)&&{display:"none"});return(0,o.createElement)($,e({},xe,{style:qe,ref:function(V){N.container=V}}),[(0,o.cloneElement)(Y({style:vt}),{key:"view",ref:function(V){N.view=V}},Pe),(0,o.cloneElement)(W({style:jr}),{key:"trackHorizontal",ref:function(V){N.trackHorizontal=V}},(0,o.cloneElement)(M({style:E.thumbHorizontalStyleDefault}),{ref:function(V){N.thumbHorizontal=V}})),(0,o.cloneElement)(ue({style:Qr}),{key:"trackVertical",ref:function(V){N.trackVertical=V}},(0,o.cloneElement)(K({style:E.thumbVerticalStyleDefault}),{ref:function(V){N.thumbVertical=V}}))])}}]),F}(o.Component);r.default=L,L.propTypes={onScroll:d.default.func,onScrollFrame:d.default.func,onScrollStart:d.default.func,onScrollStop:d.default.func,onUpdate:d.default.func,renderView:d.default.func,renderTrackHorizontal:d.default.func,renderTrackVertical:d.default.func,renderThumbHorizontal:d.default.func,renderThumbVertical:d.default.func,tagName:d.default.string,thumbSize:d.default.number,thumbMinSize:d.default.number,hideTracksWhenNotNeeded:d.default.bool,autoHide:d.default.bool,autoHideTimeout:d.default.number,autoHideDuration:d.default.number,autoHeight:d.default.bool,autoHeightMin:d.default.oneOfType([d.default.number,d.default.string]),autoHeightMax:d.default.oneOfType([d.default.number,d.default.string]),universal:d.default.bool,style:d.default.object,children:d.default.node},L.defaultProps={renderView:S.renderViewDefault,renderTrackHorizontal:S.renderTrackHorizontalDefault,renderTrackVertical:S.renderTrackVerticalDefault,renderThumbHorizontal:S.renderThumbHorizontalDefault,renderThumbVertical:S.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}}(l0)),l0}var lA;function ite(){return lA||(lA=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Scrollbars=void 0;var e=nte(),t=n(e);function n(i){return i&&i.__esModule?i:{default:i}}r.default=t.default,r.Scrollbars=t.default}(o0)),o0}var ste=ite(),ev={exports:{}},ate=ev.exports,dA;function ote(){return dA||(dA=1,function(r,e){(function(t,n){r.exports=n()})(ate,function(){var t=void 0;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),!t&&typeof process<"u"&&process.title==="node"&&(t=setImmediate),t=t||function(M){window.setTimeout(M,1e3/60)};var n=t,i=Array.prototype.concat,s=Array.prototype.slice;function a(M,K){for(var $=arguments.length,J=Array($>2?$-2:0),ne=2;ne<$;ne++)J[ne-2]=arguments[ne];return function(){for(var fe=arguments.length,ae=Array(fe),Fe=0;Fe<fe;Fe++)ae[Fe]=arguments[Fe];M.apply(K,i.call(J,s.call(ae)))}}function o(M,K){for(var $ in K)K.hasOwnProperty($)&&(M[$]=K[$])}function l(M){return n(M)}function d(M,K){var $=M.indexOf(K);$!==-1&&M.splice($,1)}var c={};function u(M){if(c[M])return c[M];var K=M.replace("#","");K.length===3&&(K=K[0]+K[0]+K[1]+K[1]+K[2]+K[2]);var $=K.match(/.{2}/g);if(!$||$.length<3)throw new Error("Expected a color string of format #rrggbb");var J={r:parseInt($[0],16),g:parseInt($[1],16),b:parseInt($[2],16)};return c[M]=J,J}function f(M,K,$){var J=M.toString(16),ne=K.toString(16),fe=$.toString(16);return J=J.length<2?"0"+J:J,ne=ne.length<2?"0"+ne:ne,fe=fe.length<2?"0"+fe:fe,"#"+J+ne+fe}var g=Object.freeze({bind:a,extend:o,onFrame:l,removeFirst:d,hexToRGB:u,rgbToHex:f});function m(M,K,$,J,ne){var fe=$-K,ae=ne-J,Fe=(M-K)/fe;return J+Fe*ae}function v(M,K,$){var J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ne=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,fe=arguments[5],ae=u(K),Fe=u($),ee=Math.floor(m(M,J,ne,ae.r,Fe.r)),le=Math.floor(m(M,J,ne,ae.g,Fe.g)),Pe=Math.floor(m(M,J,ne,ae.b,Fe.b));return fe?"rgb("+ee+","+le+","+Pe+")":f(ee,le,Pe)}function b(M){return M*Math.PI/180}function y(M){return M*180/Math.PI}var k=Object.freeze({mapValueInRange:m,interpolateColor:v,degreesToRadians:b,radiansToDegrees:y});function _(M){return(M-30)*3.62+194}function E(M){return(M-194)/3.62+30}function S(M){return(M-8)*3+25}function O(M){return(M-25)/3+8}var T=Object.freeze({tensionFromOrigamiValue:_,origamiValueFromTension:E,frictionFromOrigamiValue:S,origamiFromFriction:O}),C=function(M,K){if(!(M instanceof K))throw new TypeError("Cannot call a class as a function")},D=Object.assign||function(M){for(var K=1;K<arguments.length;K++){var $=arguments[K];for(var J in $)Object.prototype.hasOwnProperty.call($,J)&&(M[J]=$[J])}return M},R=function(){function M(){C(this,M),this.springSystem=null}return M.prototype.run=function(){var $=F.call(this);l(function(){$.loop(Date.now())})},M}(),L=function(){function M(K){C(this,M),this.springSystem=null,this.time=0,this.running=!1,this.timestep=K||16.667}return M.prototype.run=function(){var $=F.call(this);if(!this.running){for(this.running=!0;!$.getIsIdle();)$.loop(this.time+=this.timestep);this.running=!1}},M}(),P=function(){function M(){C(this,M),this.springSystem=null,this.time=0,this.running=!1}return M.prototype.run=function(){},M.prototype.step=function($){var J=F.call(this);J.loop(this.time+=$)},M}();function F(){if(this.springSystem==null)throw new Error("cannot run looper without a springSystem");return this.springSystem}var H=Object.freeze({AnimationLooper:R,SimulationLooper:L,SteppingSimulationLooper:P}),N=function(){function M(K,$){C(this,M),this.bounciness=K,this.speed=$;var J=this.normalize(K/1.7,0,20);J=this.projectNormal(J,0,.8);var ne=this.normalize($/1.7,0,20);this.bouncyTension=this.projectNormal(ne,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(J,this.b3Nobounce(this.bouncyTension),.01)}return M.prototype.normalize=function($,J,ne){return($-J)/(ne-J)},M.prototype.projectNormal=function($,J,ne){return J+$*(ne-J)},M.prototype.linearInterpolation=function($,J,ne){return $*ne+(1-$)*J},M.prototype.quadraticOutInterpolation=function($,J,ne){return this.linearInterpolation(2*$-$*$,J,ne)},M.prototype.b3Friction1=function($){return 7e-4*Math.pow($,3)-.031*Math.pow($,2)+.64*$+1.28},M.prototype.b3Friction2=function($){return 44e-6*Math.pow($,3)-.006*Math.pow($,2)+.36*$+2},M.prototype.b3Friction3=function($){return 45e-8*Math.pow($,3)-332e-6*Math.pow($,2)+.1078*$+5.84},M.prototype.b3Nobounce=function($){var J=0;return $<=18?J=this.b3Friction1($):$>18&&$<=44?J=this.b3Friction2($):J=this.b3Friction3($),J},M}(),z=function(){M.fromOrigamiTensionAndFriction=function($,J){return new M(_($),S(J))},M.fromBouncinessAndSpeed=function($,J){var ne=new N($,J);return M.fromOrigamiTensionAndFriction(ne.bouncyTension,ne.bouncyFriction)},M.coastingConfigWithOrigamiFriction=function($){return new M(0,S($))};function M(K,$){C(this,M),this.tension=K,this.friction=$}return M}();z.DEFAULT_ORIGAMI_SPRING_CONFIG=z.fromOrigamiTensionAndFriction(40,7);var G=function M(){C(this,M),this.position=0,this.velocity=0},Y=function(){function M(K){C(this,M),this.listeners=[],this._startValue=0,this._currentState=new G,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new G,this._restSpeedThreshold=.001,this._tempState=new G,this._timeAccumulator=0,this._wasAtRest=!0,this._id="s"+M._ID++,this._springSystem=K}return M.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},M.prototype.getId=function(){return this._id},M.prototype.setSpringConfig=function($){return this._springConfig=$,this},M.prototype.getSpringConfig=function(){return this._springConfig},M.prototype.setCurrentValue=function($,J){return this._startValue=$,this._currentState.position=$,J||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},M.prototype.getStartValue=function(){return this._startValue},M.prototype.getCurrentValue=function(){return this._currentState.position},M.prototype.getCurrentDisplacementDistance=function(){return this.getDisplacementDistanceForState(this._currentState)},M.prototype.getDisplacementDistanceForState=function($){return Math.abs(this._endValue-$.position)},M.prototype.setEndValue=function($){if(this._endValue===$&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=$,this._springSystem.activateSpring(this.getId());for(var J=0,ne=this.listeners.length;J<ne;J++){var fe=this.listeners[J],ae=fe.onSpringEndStateChange;ae&&ae(this)}return this},M.prototype.getEndValue=function(){return this._endValue},M.prototype.setVelocity=function($){return $===this._currentState.velocity?this:(this._currentState.velocity=$,this._springSystem.activateSpring(this.getId()),this)},M.prototype.getVelocity=function(){return this._currentState.velocity},M.prototype.setRestSpeedThreshold=function($){return this._restSpeedThreshold=$,this},M.prototype.getRestSpeedThreshold=function(){return this._restSpeedThreshold},M.prototype.setRestDisplacementThreshold=function($){this._displacementFromRestThreshold=$},M.prototype.getRestDisplacementThreshold=function(){return this._displacementFromRestThreshold},M.prototype.setOvershootClampingEnabled=function($){return this._overshootClampingEnabled=$,this},M.prototype.isOvershootClampingEnabled=function(){return this._overshootClampingEnabled},M.prototype.isOvershooting=function(){var $=this._startValue,J=this._endValue;return this._springConfig.tension>0&&($<J&&this.getCurrentValue()>J||$>J&&this.getCurrentValue()<J)},M.prototype.advance=function($,J){var ne=this.isAtRest();if(!(ne&&this._wasAtRest)){var fe=J;J>M.MAX_DELTA_TIME_SEC&&(fe=M.MAX_DELTA_TIME_SEC),this._timeAccumulator+=fe;for(var ae=this._springConfig.tension,Fe=this._springConfig.friction,ee=this._currentState.position,le=this._currentState.velocity,Pe=this._tempState.position,xe=this._tempState.velocity,Te=void 0,qe=void 0,vt=void 0,lt=void 0,jr=void 0,Qr=void 0,Ir=void 0,V=void 0,X=void 0,te=void 0;this._timeAccumulator>=M.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=M.SOLVER_TIMESTEP_SEC,this._timeAccumulator<M.SOLVER_TIMESTEP_SEC&&(this._previousState.position=ee,this._previousState.velocity=le),Te=le,qe=ae*(this._endValue-Pe)-Fe*le,Pe=ee+Te*M.SOLVER_TIMESTEP_SEC*.5,xe=le+qe*M.SOLVER_TIMESTEP_SEC*.5,vt=xe,lt=ae*(this._endValue-Pe)-Fe*xe,Pe=ee+vt*M.SOLVER_TIMESTEP_SEC*.5,xe=le+lt*M.SOLVER_TIMESTEP_SEC*.5,jr=xe,Qr=ae*(this._endValue-Pe)-Fe*xe,Pe=ee+jr*M.SOLVER_TIMESTEP_SEC,xe=le+Qr*M.SOLVER_TIMESTEP_SEC,Ir=xe,V=ae*(this._endValue-Pe)-Fe*xe,X=1/6*(Te+2*(vt+jr)+Ir),te=1/6*(qe+2*(lt+Qr)+V),ee+=X*M.SOLVER_TIMESTEP_SEC,le+=te*M.SOLVER_TIMESTEP_SEC;this._tempState.position=Pe,this._tempState.velocity=xe,this._currentState.position=ee,this._currentState.velocity=le,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/M.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),ne=!0);var ge=!1;this._wasAtRest&&(this._wasAtRest=!1,ge=!0);var de=!1;ne&&(this._wasAtRest=!0,de=!0),this.notifyPositionUpdated(ge,de)}},M.prototype.notifyPositionUpdated=function($,J){for(var ne=0,fe=this.listeners.length;ne<fe;ne++){var ae=this.listeners[ne];$&&ae.onSpringActivate&&ae.onSpringActivate(this),ae.onSpringUpdate&&ae.onSpringUpdate(this),J&&ae.onSpringAtRest&&ae.onSpringAtRest(this)}},M.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},M.prototype.wasAtRest=function(){return this._wasAtRest},M.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||this._springConfig.tension===0)},M.prototype.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},M.prototype._interpolate=function($){this._currentState.position=this._currentState.position*$+this._previousState.position*(1-$),this._currentState.velocity=this._currentState.velocity*$+this._previousState.velocity*(1-$)},M.prototype.getListeners=function(){return this.listeners},M.prototype.addListener=function($){return this.listeners.push($),this},M.prototype.removeListener=function($){return d(this.listeners,$),this},M.prototype.removeAllListeners=function(){return this.listeners=[],this},M.prototype.currentValueIsApproximately=function($){return Math.abs(this.getCurrentValue()-$)<=this.getRestDisplacementThreshold()},M}();Y._ID=0,Y.MAX_DELTA_TIME_SEC=.064,Y.SOLVER_TIMESTEP_SEC=.001;var W=function(){function M(K){C(this,M),this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={},this.looper=K||new R,this.looper.springSystem=this}return M.prototype.setLooper=function($){this.looper=$,$.springSystem=this},M.prototype.createSpring=function($,J){var ne=void 0;return $===void 0||J===void 0?ne=z.DEFAULT_ORIGAMI_SPRING_CONFIG:ne=z.fromOrigamiTensionAndFriction($,J),this.createSpringWithConfig(ne)},M.prototype.createSpringWithBouncinessAndSpeed=function($,J){var ne=void 0;return $===void 0||J===void 0?ne=z.DEFAULT_ORIGAMI_SPRING_CONFIG:ne=z.fromBouncinessAndSpeed($,J),this.createSpringWithConfig(ne)},M.prototype.createSpringWithConfig=function($){var J=new Y(this);return this.registerSpring(J),J.setSpringConfig($),J},M.prototype.getIsIdle=function(){return this._isIdle},M.prototype.getSpringById=function($){return this._springRegistry[$]},M.prototype.getAllSprings=function(){var $=[];for(var J in this._springRegistry)this._springRegistry.hasOwnProperty(J)&&$.push(this._springRegistry[J]);return $},M.prototype.registerSpring=function($){this._springRegistry[$.getId()]=$},M.prototype.deregisterSpring=function($){d(this._activeSprings,$),delete this._springRegistry[$.getId()]},M.prototype.advance=function($,J){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var ne=0,fe=this._activeSprings.length;ne<fe;ne++){var ae=this._activeSprings[ne];ae.systemShouldAdvance()?ae.advance($/1e3,J/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(ae))}for(;this._idleSpringIndices.length>0;){var Fe=this._idleSpringIndices.pop();Fe>=0&&this._activeSprings.splice(Fe,1)}},M.prototype.loop=function($){var J=void 0;this._lastTimeMillis===-1&&(this._lastTimeMillis=$-1);var ne=$-this._lastTimeMillis;this._lastTimeMillis=$;var fe=0,ae=this.listeners.length;for(fe=0;fe<ae;fe++)J=this.listeners[fe],J.onBeforeIntegrate&&J.onBeforeIntegrate(this);for(this.advance($,ne),this._activeSprings.length===0&&(this._isIdle=!0,this._lastTimeMillis=-1),fe=0;fe<ae;fe++)J=this.listeners[fe],J.onAfterIntegrate&&J.onAfterIntegrate(this);this._isIdle||this.looper.run()},M.prototype.activateSpring=function($){var J=this._springRegistry[$];this._activeSprings.indexOf(J)===-1&&this._activeSprings.push(J),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},M.prototype.addListener=function($){this.listeners.push($)},M.prototype.removeListener=function($){d(this.listeners,$)},M.prototype.removeAllListeners=function(){this.listeners=[]},M}(),ue=D({},H,{OrigamiValueConverter:T,MathUtil:k,Spring:Y,SpringConfig:z,SpringSystem:W,util:D({},g,k)});return ue})}(ev)),ev.exports}var lte=ote();class dte extends w.Component{constructor(t){super(t);re(this,"springSystem");re(this,"spring");re(this,"scrollbars");MJ(this)}componentDidMount(){this.springSystem=new lte.SpringSystem,this.spring=this.springSystem.createSpring(),this.spring.addListener({onSpringUpdate:this.handleSpringUpdate})}componentWillUnmount(){var t,n,i;(t=this.springSystem)==null||t.deregisterSpring(this.spring),(n=this.springSystem)==null||n.removeAllListeners(),this.springSystem=void 0,(i=this.spring)==null||i.destroy(),this.spring=void 0}getScrollLeft(){var t;return(t=this.scrollbars)==null?void 0:t.getScrollLeft()}getClientWidth(){var t;return(t=this.scrollbars)==null?void 0:t.getClientWidth()}scrollLeft(t){var i,s,a;const n=(i=this.scrollbars)==null?void 0:i.getScrollLeft();(s=this.spring)==null||s.setCurrentValue(n).setAtRest(),(a=this.spring)==null||a.setEndValue(t)}handleSpringUpdate(t){var i;const n=t.getCurrentValue();(i=this.scrollbars)==null||i.scrollLeft(n)}render(){const{autoHeightMax:t,autoHeight:n,onScrollFrame:i}=this.props;return p.jsx(ste.Scrollbars,{renderTrackHorizontal:()=>p.jsx("div",{}),renderTrackVertical:()=>p.jsx("div",{}),hidden:!1,autoHeight:n,autoHeightMax:t,onScrollFrame:i,children:this.props.children,ref:s=>{this.scrollbars=s}})}}const Om=325,cte=10,gR=r=>{const{children:e,dragging:t}=r,[n,i]=w.useState(0),[s,a]=w.useState(0),[o,l]=w.useState(!0),[d,c]=w.useState(!1),u=w.useRef(null),f=()=>{var E;const k=Math.min(n,s)-1,_=k*Om;(E=u.current)==null||E.scrollLeft(_),a(k)},g=()=>{var k;if(u.current){const _=u.current.getClientWidth(),E=u.current.getScrollLeft(),S=_+cte,O=Math.floor((S+E)/Om),T=Math.max(O,s)+1,C=T*Om-S;(k=u.current)==null||k.scrollLeft(C),a(T)}else return},m=k=>{i(Math.ceil(k.scrollLeft/Om)),l(k.left===0),c(k.left>=.99)},v=e.map((k,_)=>p.jsx("section",{className:"min-w-[300px] w-full lg:max-w-[300px]","data-testid":`aktivitetstavle.${k.props.status}`,children:k},k.key||_)),b=p.jsx("button",{type:"button",className:fi("tavle__scrollknapp knapp-forrige border",{invisible:o}),onClick:f,disabled:o,"aria-label":"Flytt visning en kolonne til venstre",children:p.jsx(nI,{titleId:"flytt-venstre",title:"Forrige kolonne","aria-hidden":!0,fontSize:"4rem"})}),y=p.jsx("button",{type:"button",className:fi("tavle__scrollknapp knapp-neste border",{invisible:d}),onClick:g,hidden:d,"aria-label":"Flytt visning en kolonne til høyre",children:p.jsx(Ty,{titleId:"flytt-hoyre",title:"Neste kolonne","aria-hidden":!0,fontSize:"4rem"})});return p.jsxs("section",{className:fi("tavle aktivitetstavle w-full"),tabIndex:-1,children:[b,p.jsx(dte,{autoHeight:!0,autoHeightMax:9999,onScrollFrame:m,ref:u,children:p.jsx("div",{className:`kolonner flex flex-col sm:gap-y-6 sm:mx-8 sm:max-w-[624px] sm:mx-auto md:max-w-[720px]
                                lg:flex-row lg:gap-x-5 lg:mx-4 lg:max-w-full tavle-max-width:justify-center`,children:v})}),y]})},ute=r=>w.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"25 10 47 85",...r},w.createElement("path",{fill:"#515658",d:"M68.609 25.398H30.507c-1.573 0-2.845 1.284-2.845 2.871v48.488a2.88 2.88 0 0 0 1.038 2.214 2.815 2.815 0 0 0 1.807.656h38.102c1.572 0 2.846-1.286 2.846-2.87V28.269c0-1.587-1.274-2.871-2.846-2.871"}),w.createElement("path",{fill:"#FFF",d:"M31.186 35.997v37.305a2.397 2.397 0 0 0 2.388 2.408h31.968a2.397 2.397 0 0 0 2.388-2.408V30.47c0-1.33-1.07-2.408-2.388-2.408H39.497l-8.311 7.935z"}),w.createElement("path",{fill:"#C0C0BE",d:"M39.497 28.063v5.524a2.399 2.399 0 0 1-2.387 2.41h-5.924l8.311-7.934z"}),w.createElement("path",{fill:"#2F3237",d:"M49.56 26.746a.923.923 0 0 1-.922-.927c0-.514.412-.93.921-.93.507 0 .92.416.92.93a.924.924 0 0 1-.92.927m5.688-3.796h-3.428v-.639a2.27 2.27 0 0 0-2.26-2.279 2.27 2.27 0 0 0-2.262 2.28v.638H43.87c-1.69 0-3.06 1.382-3.06 3.086v3.712h17.497v-3.712c0-1.704-1.371-3.086-3.06-3.086"}),w.createElement("path",{d:"M53.634 52.768v2.898H45.35V38.007h8.284v2.898zM49.601 68.83c2.763 0 5.003-2.257 5.003-5.042 0-2.786-2.24-5.044-5.003-5.044s-5.003 2.258-5.003 5.044c0 2.785 2.24 5.043 5.003 5.043",fill:"#515658"})),fte=(r,e)=>{if(r.status===Le.FULLFOERT)return"Aktiviteten er fullført og kan ikke endres.";if(r.status===Le.AVBRUTT)return"Aktiviteten er avbrutt og kan ikke endres.";if(r.type===hi)return"Du kan ikke endre status på møtet. Ta kontakt med veilederen din for å endre møtet.";if(r.type===cs)return"Du kan ikke endre status på samtalereferatet. Ta kontakt med veilederen din for å endre dette.";if([eE,Lb,Qw].includes(r.type))return e?"For å endre aktiviteten må du gå til Arena.":"Du kan ikke endre denne aktiviteten selv. Send en melding til veilederen din hvis aktiviteten skal endres.";if(r.type===De.EKSTERN_AKTIVITET_TYPE){if(e){switch(r.eksternAktivitet.type){case id.ARENA_TILTAK_TYPE:return"For å endre aktiviteten må du gå til Arena.";case id.MIDL_LONNSTILSKUDD_TYPE:case id.VARIG_LONNSTILSKUDD_TYPE:case id.ARBEIDSTRENING:case id.VARIG_TILRETTELAGT_ARBEID_I_ORDINAER_VIRKSOMHET:return"Denne aktiviteten kan ikke endres fra aktivitetsplanen. Gå til avtalen for å endre status.";case id.REKRUTTERINGSTREFF:return"Denne aktiviteten kan ikke endres fra aktivitetsplanen. Gå til rekrutteringsbistand for å endre status."}return"Denne aktiviteten kan ikke endres fra aktivitetsplanen. Gå til det aktuelle fagsystemet for å endre aktiviteten."}return"Du kan ikke endre denne aktiviteten selv. Send en melding til veilederen din hvis aktiviteten skal endres."}return"Du kan ikke endre status på denne aktiviteten. Ta kontakt med veilederen din for å gjøre endringer."},hte=r=>{const{hidden:e,draggingAktivitet:t,erVeileder:n}=r;return e||!t?null:p.jsx("div",{className:"fixed z-50 left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 max-w-lg",children:p.jsx(WI,{illustration:p.jsx(ute,{}),poster:!0,children:p.jsx(pe,{children:fte(t,n)})})})};function pte(r){return w.useEffect(()=>{wZ(r.erVeileder)},[r.erVeileder]),null}const gte=()=>{const{fnr:r}=Qg(),e=Z(Ki),t=Z(rm),n=jt(),i=Z(I2,it),s=Z(wn),a=e===oe.NOT_STARTED&&t===oe.NOT_STARTED;w.useEffect(()=>{a&&n&&r&&$U(r)},[a,n,r]);const o=!!i,l=!!i&&cR(i,!n,s),d=!o||l,c=Z(v=>{const b=eR(v);return b?jx(b):"no-element"}),u=jee(document.getElementById(xO)),[f,g]=w.useState(!1);ME("veilarbpersonflatefs.tab-clicked",v=>{var b;i5.AKTIVITETSPLAN===((b=v.detail)==null?void 0:b.tabId)&&g(!0)}),w.useEffect(()=>{const v=document.getElementById(c);v&&f&&u&&(v.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),g(!1))},[c,f,u]);const{oppfolging:m}=ey("root");return p.jsx(w.Suspense,{fallback:p.jsx(mte,{}),children:p.jsx(ty,{resolve:m,children:p.jsxs("div",{className:"flex w-full m-auto mt-8",children:[p.jsx(hte,{hidden:d,draggingAktivitet:i,erVeileder:n}),p.jsx(pte,{erVeileder:n}),p.jsxs(gR,{dragging:o,children:[p.jsx(Lu,{status:Le.BRUKER_ER_INTRESSERT}),p.jsx(Lu,{status:Le.PLANLAGT}),p.jsx(Lu,{status:Le.GJENNOMFOERT}),p.jsx(Qv,{status:Le.FULLFOERT}),p.jsx(Qv,{status:Le.AVBRUTT})]})]})})})},mte=()=>p.jsxs("div",{className:"flex m-auto w-full mt-8 flex-col",children:[p.jsxs(gR,{dragging:!1,children:[p.jsx(Lu,{status:Le.BRUKER_ER_INTRESSERT}),p.jsx(Lu,{status:Le.PLANLAGT}),p.jsx(Lu,{status:Le.GJENNOMFOERT}),p.jsx(Qv,{status:Le.FULLFOERT}),p.jsx(Qv,{status:Le.AVBRUTT})]}),p.jsx(Uc,{size:"large",className:"self-center mb-32"})]}),vte=()=>{const r=Xr(),{aktivitetRoute:e}=Jr();return ME("visAktivitetsplan",t=>{const n=t.detail;n&&r(e(n))}),p.jsx("main",{id:"main",className:"hovedside",children:p.jsxs("div",{className:"flex items-center flex-col w-full h-full",children:[p.jsx(PZ,{}),p.jsx(EJ,{}),p.jsx(_Q,{}),p.jsxs("div",{className:"container flex flex-col gap-y-6",children:[p.jsx(AQ,{}),p.jsx(oQ,{}),p.jsx(RQ,{})]}),p.jsx(gte,{}),p.jsx(Cj,{})]})})},mR=r=>r.data.veileder,y0=r=>mR(r).data,bte=r=>{var e,t,n;return((e=y0(r))==null?void 0:e.fornavn)&&`${(t=y0(r))==null?void 0:t.fornavn} ${(n=y0(r))==null?void 0:n.etternavn}`},vR=r=>mR(r).status,rd=r=>Ct("initialPageLoad/"+r.key,async(e,t)=>{const{getState:n,dispatch:i}=t;return kte(r)(n(),i,e)}),yte={oppfolging:rd({fetchAction:my,statusSelector:ch,key:"oppfolging"}),identitet:rd({fetchAction:tx,statusSelector:px,key:"identitet"}),veileder:rd({fetchAction:Bz,statusSelector:vR,veilederOnly:!0,key:"veileder"}),mal:rd({fetchAction:bc,statusSelector:yx,key:"mal"}),aktiviteter:rd({fetchAction:Rl,statusSelector:Ki,key:"aktiviteter"}),arenaAktiviteter:rd({fetchAction:Pl,statusSelector:rm,key:"arenaAktiviteter"}),lest:rd({fetchAction:q2,statusSelector:gx,key:"lest"}),dialoger:Aa,innsynsrett:qz},kte=({statusSelector:r,fetchAction:e,veilederOnly:t})=>(n,i,s)=>r(n)===oe.NOT_STARTED&&(!t||s)?i(e()):Promise.resolve(null),_te=(r,e)=>async()=>{const t=yte;return Jb({oppfolging:r(t.oppfolging(e)),identitet:r(t.identitet(e)),veileder:r(t.veileder(e)),mal:r(t.mal(e)),dialoger:r(t.dialoger()),aktiviteter:r(t.aktiviteter(e)),arenaAktiviteter:r(t.arenaAktiviteter(e)),lest:r(t.lest(e)),innsynsrett:r(t.innsynsrett())})},wte=r=>()=>Jb({data:Promise.all([r(bc()),r(Sy())])}),Ete=r=>({params:e})=>{if(!e.id)return{};const t=QE(e.id);return Jb({aktivitet:r(t?Pl():yp(e.id))})},xte=()=>ey("aktivitetsVisning"),_p="Alle endringer blir borte hvis du ikke lagrer. Er du sikker på at du vil lukke siden?",bR=r=>w.useEffect(()=>(window.onbeforeunload=e=>{if(r.current)return e.returnValue=_p,_p},()=>{window.onbeforeunload=null}),[r]),yR=r=>Object.entries(r).reduce((e,[t,n])=>(n!==null&&typeof n=="string"&&n.length<=0||n===void 0?e[t]=null:e[t]=n,e),{});var sm=r=>r.type==="checkbox",bd=r=>r instanceof Date,Kn=r=>r==null;const kR=r=>typeof r=="object";var Vr=r=>!Kn(r)&&!Array.isArray(r)&&kR(r)&&!bd(r),_R=r=>Vr(r)&&r.target?sm(r.target)?r.target.checked:r.target.value:r,Ste=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,wR=(r,e)=>r.has(Ste(e)),Tte=r=>{const e=r.constructor&&r.constructor.prototype;return Vr(e)&&e.hasOwnProperty("isPrototypeOf")},Dx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $r(r){let e;const t=Array.isArray(r),n=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(!(Dx&&(r instanceof Blob||n))&&(t||Vr(r)))if(e=t?[]:Object.create(Object.getPrototypeOf(r)),!t&&!Tte(r))e=r;else for(const i in r)r.hasOwnProperty(i)&&(e[i]=$r(r[i]));else return r;return e}var qy=r=>/^\w*$/.test(r),Sr=r=>r===void 0,Rx=r=>Array.isArray(r)?r.filter(Boolean):[],Px=r=>Rx(r.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(r,e,t)=>{if(!e||!Vr(r))return t;const n=(qy(e)?[e]:Px(e)).reduce((i,s)=>Kn(i)?i:i[s],r);return Sr(n)||n===r?Sr(r[e])?t:r[e]:n},Ii=r=>typeof r=="boolean",Lt=(r,e,t)=>{let n=-1;const i=qy(e)?[e]:Px(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=t;if(n!==a){const d=r[o];l=Vr(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;r[o]=l,r=r[o]}};const eb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Na={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Nx=x.createContext(null);Nx.displayName="HookFormContext";const Ll=()=>x.useContext(Nx),Ia=r=>{const{children:e,...t}=r;return x.createElement(Nx.Provider,{value:t},e)};var ER=(r,e,t,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in r)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Ds.all&&(e._proxyFormState[a]=!n||Ds.all),t&&(t[a]=!0),r[a]}});return i};const Mx=typeof window<"u"?x.useLayoutEffect:x.useEffect;function Ate(r){const e=Ll(),{control:t=e.control,disabled:n,name:i,exact:s}=r||{},[a,o]=x.useState(t._formState),l=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Mx(()=>t._subscribe({name:i,formState:l.current,exact:s,callback:d=>{!n&&o({...t._formState,...d})}}),[i,n,s]),x.useEffect(()=>{l.current.isValid&&t._setValid(!0)},[t]),x.useMemo(()=>ER(a,t,l.current,!1),[a,t])}var Ri=r=>typeof r=="string",xR=(r,e,t,n,i)=>Ri(r)?(n&&e.watch.add(r),ke(t,r,i)):Array.isArray(r)?r.map(s=>(n&&e.watch.add(s),ke(t,s))):(n&&(e.watchAll=!0),t),w_=r=>Kn(r)||!kR(r);function ho(r,e,t=new WeakSet){if(w_(r)||w_(e))return r===e;if(bd(r)&&bd(e))return r.getTime()===e.getTime();const n=Object.keys(r),i=Object.keys(e);if(n.length!==i.length)return!1;if(t.has(r)||t.has(e))return!0;t.add(r),t.add(e);for(const s of n){const a=r[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(bd(a)&&bd(o)||Vr(a)&&Vr(o)||Array.isArray(a)&&Array.isArray(o)?!ho(a,o,t):a!==o)return!1}}return!0}function Ote(r){const e=Ll(),{control:t=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=r||{},l=x.useRef(i),d=x.useRef(o),c=x.useRef(void 0);d.current=o;const u=x.useMemo(()=>t._getWatch(n,l.current),[t,n]),[f,g]=x.useState(d.current?d.current(u):u);return Mx(()=>t._subscribe({name:n,formState:{values:!0},exact:a,callback:m=>{if(!s){const v=xR(n,t._names,m.values||t._formValues,!1,l.current);if(d.current){const b=d.current(v);ho(b,c.current)||(g(b),c.current=b)}else g(v)}}}),[t,s,n,a]),x.useEffect(()=>t._removeUnmounted()),f}function wp(r){const e=Ll(),{name:t,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a}=r,o=wR(i._names.array,t),l=x.useMemo(()=>ke(i._formValues,t,ke(i._defaultValues,t,a)),[i,t,a]),d=Ote({control:i,name:t,defaultValue:l,exact:!0}),c=Ate({control:i,name:t,exact:!0}),u=x.useRef(r),f=x.useRef(void 0),g=x.useRef(i.register(t,{...r.rules,value:d,...Ii(r.disabled)?{disabled:r.disabled}:{}}));u.current=r;const m=x.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(c.errors,t)},isDirty:{enumerable:!0,get:()=>!!ke(c.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!ke(c.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!ke(c.validatingFields,t)},error:{enumerable:!0,get:()=>ke(c.errors,t)}}),[c,t]),v=x.useCallback(_=>g.current.onChange({target:{value:_R(_),name:t},type:eb.CHANGE}),[t]),b=x.useCallback(()=>g.current.onBlur({target:{value:ke(i._formValues,t),name:t},type:eb.BLUR}),[t,i._formValues]),y=x.useCallback(_=>{const E=ke(i._fields,t);E&&_&&(E._f.ref={focus:()=>_.focus&&_.focus(),select:()=>_.select&&_.select(),setCustomValidity:S=>_.setCustomValidity(S),reportValidity:()=>_.reportValidity()})},[i._fields,t]),k=x.useMemo(()=>({name:t,value:d,...Ii(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:v,onBlur:b,ref:y}),[t,n,c.disabled,v,b,y,d]);return x.useEffect(()=>{const _=i._options.shouldUnregister||s,E=f.current;E&&E!==t&&!o&&i.unregister(E),i.register(t,{...u.current.rules,...Ii(u.current.disabled)?{disabled:u.current.disabled}:{}});const S=(O,T)=>{const C=ke(i._fields,O);C&&C._f&&(C._f.mount=T)};if(S(t,!0),_){const O=$r(ke(i._options.defaultValues,t));Lt(i._defaultValues,t,O),Sr(ke(i._formValues,t))&&Lt(i._formValues,t,O)}return!o&&i.register(t),f.current=t,()=>{(o?_&&!i._state.action:_)?i.unregister(t):S(t,!1)}},[t,i,o,s]),x.useEffect(()=>{i._setDisabledField({disabled:n,name:t})},[n,t,i]),x.useMemo(()=>({field:k,formState:c,fieldState:m}),[k,c,m])}const Cte=r=>r.render(wp(r));var SR=(r,e,t,n,i)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[n]:i||!0}}:{},op=r=>Array.isArray(r)?r:[r],cA=()=>{let r=[];return{get observers(){return r},next:i=>{for(const s of r)s.next&&s.next(i)},subscribe:i=>(r.push(i),{unsubscribe:()=>{r=r.filter(s=>s!==i)}}),unsubscribe:()=>{r=[]}}};function TR(r,e){const t={};for(const n in r)if(r.hasOwnProperty(n)){const i=r[n],s=e[n];if(i&&Vr(i)&&s){const a=TR(i,s);Vr(a)&&(t[n]=a)}else r[n]&&(t[n]=s)}return t}var li=r=>Vr(r)&&!Object.keys(r).length,Lx=r=>r.type==="file",Rs=r=>typeof r=="function",tb=r=>{if(!Dx)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},AR=r=>r.type==="select-multiple",Fx=r=>r.type==="radio",jte=r=>Fx(r)||sm(r),k0=r=>tb(r)&&r.isConnected;function Ite(r,e){const t=e.slice(0,-1).length;let n=0;for(;n<t;)r=Sr(r)?n++:r[e[n++]];return r}function Dte(r){for(const e in r)if(r.hasOwnProperty(e)&&!Sr(r[e]))return!1;return!0}function Pr(r,e){const t=Array.isArray(e)?e:qy(e)?[e]:Px(e),n=t.length===1?r:Ite(r,t),i=t.length-1,s=t[i];return n&&delete n[s],i!==0&&(Vr(n)&&li(n)||Array.isArray(n)&&Dte(n))&&Pr(r,t.slice(0,-1)),r}var Rte=r=>{for(const e in r)if(Rs(r[e]))return!0;return!1};function OR(r){return Array.isArray(r)||Vr(r)&&!Rte(r)}function E_(r,e={}){for(const t in r)OR(r[t])?(e[t]=Array.isArray(r[t])?[]:{},E_(r[t],e[t])):Kn(r[t])||(e[t]=!0);return e}function bu(r,e,t){t||(t=E_(e));for(const n in r)OR(r[n])?Sr(e)||w_(t[n])?t[n]=E_(r[n],Array.isArray(r[n])?[]:{}):bu(r[n],Kn(e)?{}:e[n],t[n]):t[n]=!ho(r[n],e[n]);return t}const uA={value:!1,isValid:!1},fA={value:!0,isValid:!0};var CR=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!Sr(r[0].attributes.value)?Sr(r[0].value)||r[0].value===""?fA:{value:r[0].value,isValid:!0}:fA:uA}return uA},jR=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:n})=>Sr(r)?r:e?r===""?NaN:r&&+r:t&&Ri(r)?new Date(r):n?n(r):r;const hA={isValid:!1,value:null};var IR=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,hA):hA;function pA(r){const e=r.ref;return Lx(e)?e.files:Fx(e)?IR(r.refs).value:AR(e)?[...e.selectedOptions].map(({value:t})=>t):sm(e)?CR(r.refs).value:jR(Sr(e.value)?r.ref.value:e.value,r)}var Pte=(r,e,t,n)=>{const i={};for(const s of r){const a=ke(e,s);a&&Lt(i,s,a._f)}return{criteriaMode:t,names:[...r],fields:i,shouldUseNativeValidation:n}},rb=r=>r instanceof RegExp,Ch=r=>Sr(r)?r:rb(r)?r.source:Vr(r)?rb(r.value)?r.value.source:r.value:r,gA=r=>({isOnSubmit:!r||r===Ds.onSubmit,isOnBlur:r===Ds.onBlur,isOnChange:r===Ds.onChange,isOnAll:r===Ds.all,isOnTouch:r===Ds.onTouched});const mA="AsyncFunction";var Nte=r=>!!r&&!!r.validate&&!!(Rs(r.validate)&&r.validate.constructor.name===mA||Vr(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===mA)),Mte=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),vA=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(n=>r.startsWith(n)&&/^\.\w+/.test(r.slice(n.length))));const lp=(r,e,t,n)=>{for(const i of t||Object.keys(r)){const s=ke(r,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(lp(o,e))break}else if(Vr(o)&&lp(o,e))break}}};function bA(r,e,t){const n=ke(r,t);if(n||qy(t))return{error:n,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),a=ke(e,s),o=ke(r,s);if(a&&!Array.isArray(a)&&t!==s)return{name:t};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:t}}var Lte=(r,e,t,n)=>{t(r);const{name:i,...s}=r;return li(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Ds.all))},Fte=(r,e,t)=>!r||!e||r===e||op(r).some(n=>n&&(t?n===e:n.startsWith(e)||e.startsWith(n))),Vte=(r,e,t,n,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||r):(t?n.isOnBlur:i.isOnBlur)?!r:(t?n.isOnChange:i.isOnChange)?r:!0,Hte=(r,e)=>!Rx(ke(r,e)).length&&Pr(r,e),Ute=(r,e,t)=>{const n=op(ke(r,t));return Lt(n,"root",e[t]),Lt(r,t,n),r};function yA(r,e,t="validate"){if(Ri(r)||Array.isArray(r)&&r.every(Ri)||Ii(r)&&!r)return{type:t,message:Ri(r)?r:"",ref:e}}var vu=r=>Vr(r)&&!rb(r)?r:{value:r,message:""},kA=async(r,e,t,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:d,minLength:c,min:u,max:f,pattern:g,validate:m,name:v,valueAsNumber:b,mount:y}=r._f,k=ke(t,v);if(!y||e.has(v))return{};const _=o?o[0]:a,E=P=>{i&&_.reportValidity&&(_.setCustomValidity(Ii(P)?"":P||""),_.reportValidity())},S={},O=Fx(a),T=sm(a),C=O||T,D=(b||Lx(a))&&Sr(a.value)&&Sr(k)||tb(a)&&a.value===""||k===""||Array.isArray(k)&&!k.length,R=SR.bind(null,v,n,S),L=(P,F,H,N=Na.maxLength,z=Na.minLength)=>{const G=P?F:H;S[v]={type:P?N:z,message:G,ref:a,...R(P?N:z,G)}};if(s?!Array.isArray(k)||!k.length:l&&(!C&&(D||Kn(k))||Ii(k)&&!k||T&&!CR(o).isValid||O&&!IR(o).isValid)){const{value:P,message:F}=Ri(l)?{value:!!l,message:l}:vu(l);if(P&&(S[v]={type:Na.required,message:F,ref:_,...R(Na.required,F)},!n))return E(F),S}if(!D&&(!Kn(u)||!Kn(f))){let P,F;const H=vu(f),N=vu(u);if(!Kn(k)&&!isNaN(k)){const z=a.valueAsNumber||k&&+k;Kn(H.value)||(P=z>H.value),Kn(N.value)||(F=z<N.value)}else{const z=a.valueAsDate||new Date(k),G=ue=>new Date(new Date().toDateString()+" "+ue),Y=a.type=="time",W=a.type=="week";Ri(H.value)&&k&&(P=Y?G(k)>G(H.value):W?k>H.value:z>new Date(H.value)),Ri(N.value)&&k&&(F=Y?G(k)<G(N.value):W?k<N.value:z<new Date(N.value))}if((P||F)&&(L(!!P,H.message,N.message,Na.max,Na.min),!n))return E(S[v].message),S}if((d||c)&&!D&&(Ri(k)||s&&Array.isArray(k))){const P=vu(d),F=vu(c),H=!Kn(P.value)&&k.length>+P.value,N=!Kn(F.value)&&k.length<+F.value;if((H||N)&&(L(H,P.message,F.message),!n))return E(S[v].message),S}if(g&&!D&&Ri(k)){const{value:P,message:F}=vu(g);if(rb(P)&&!k.match(P)&&(S[v]={type:Na.pattern,message:F,ref:a,...R(Na.pattern,F)},!n))return E(F),S}if(m){if(Rs(m)){const P=await m(k,t),F=yA(P,_);if(F&&(S[v]={...F,...R(Na.validate,F.message)},!n))return E(F.message),S}else if(Vr(m)){let P={};for(const F in m){if(!li(P)&&!n)break;const H=yA(await m[F](k,t),_,F);H&&(P={...H,...R(F,H.message)},E(H.message),n&&(S[v]=P))}if(!li(P)&&(S[v]={ref:_,...P},!n))return S}}return E(!0),S};const Bte={mode:Ds.onSubmit,reValidateMode:Ds.onChange,shouldFocusError:!0};function $te(r={}){let e={...Bte,...r},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Vr(e.defaultValues)||Vr(e.values)?$r(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:$r(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...c};const f={array:cA(),state:cA()},g=e.criteriaMode===Ds.all,m=V=>X=>{clearTimeout(d),d=setTimeout(V,X)},v=async V=>{if(!e.disabled&&(c.isValid||u.isValid||V)){const X=e.resolver?li((await T()).errors):await D(n,!0);X!==t.isValid&&f.state.next({isValid:X})}},b=(V,X)=>{!e.disabled&&(c.isValidating||c.validatingFields||u.isValidating||u.validatingFields)&&((V||Array.from(o.mount)).forEach(te=>{te&&(X?Lt(t.validatingFields,te,X):Pr(t.validatingFields,te))}),f.state.next({validatingFields:t.validatingFields,isValidating:!li(t.validatingFields)}))},y=(V,X=[],te,ge,de=!0,ce=!0)=>{if(ge&&te&&!e.disabled){if(a.action=!0,ce&&Array.isArray(ke(n,V))){const Re=te(ke(n,V),ge.argA,ge.argB);de&&Lt(n,V,Re)}if(ce&&Array.isArray(ke(t.errors,V))){const Re=te(ke(t.errors,V),ge.argA,ge.argB);de&&Lt(t.errors,V,Re),Hte(t.errors,V)}if((c.touchedFields||u.touchedFields)&&ce&&Array.isArray(ke(t.touchedFields,V))){const Re=te(ke(t.touchedFields,V),ge.argA,ge.argB);de&&Lt(t.touchedFields,V,Re)}(c.dirtyFields||u.dirtyFields)&&(t.dirtyFields=bu(i,s)),f.state.next({name:V,isDirty:L(V,X),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Lt(s,V,X)},k=(V,X)=>{Lt(t.errors,V,X),f.state.next({errors:t.errors})},_=V=>{t.errors=V,f.state.next({errors:t.errors,isValid:!1})},E=(V,X,te,ge)=>{const de=ke(n,V);if(de){const ce=ke(s,V,Sr(te)?ke(i,V):te);Sr(ce)||ge&&ge.defaultChecked||X?Lt(s,V,X?ce:pA(de._f)):H(V,ce),a.mount&&v()}},S=(V,X,te,ge,de)=>{let ce=!1,Re=!1;const Qe={name:V};if(!e.disabled){if(!te||ge){(c.isDirty||u.isDirty)&&(Re=t.isDirty,t.isDirty=Qe.isDirty=L(),ce=Re!==Qe.isDirty);const et=ho(ke(i,V),X);Re=!!ke(t.dirtyFields,V),et?Pr(t.dirtyFields,V):Lt(t.dirtyFields,V,!0),Qe.dirtyFields=t.dirtyFields,ce=ce||(c.dirtyFields||u.dirtyFields)&&Re!==!et}if(te){const et=ke(t.touchedFields,V);et||(Lt(t.touchedFields,V,te),Qe.touchedFields=t.touchedFields,ce=ce||(c.touchedFields||u.touchedFields)&&et!==te)}ce&&de&&f.state.next(Qe)}return ce?Qe:{}},O=(V,X,te,ge)=>{const de=ke(t.errors,V),ce=(c.isValid||u.isValid)&&Ii(X)&&t.isValid!==X;if(e.delayError&&te?(l=m(()=>k(V,te)),l(e.delayError)):(clearTimeout(d),l=null,te?Lt(t.errors,V,te):Pr(t.errors,V)),(te?!ho(de,te):de)||!li(ge)||ce){const Re={...ge,...ce&&Ii(X)?{isValid:X}:{},errors:t.errors,name:V};t={...t,...Re},f.state.next(Re)}},T=async V=>{b(V,!0);const X=await e.resolver(s,e.context,Pte(V||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return b(V),X},C=async V=>{const{errors:X}=await T(V);if(V)for(const te of V){const ge=ke(X,te);ge?Lt(t.errors,te,ge):Pr(t.errors,te)}else t.errors=X;return X},D=async(V,X,te={valid:!0})=>{for(const ge in V){const de=V[ge];if(de){const{_f:ce,...Re}=de;if(ce){const Qe=o.array.has(ce.name),et=de._f&&Nte(de._f);et&&c.validatingFields&&b([ce.name],!0);const Pt=await kA(de,o.disabled,s,g,e.shouldUseNativeValidation&&!X,Qe);if(et&&c.validatingFields&&b([ce.name]),Pt[ce.name]&&(te.valid=!1,X))break;!X&&(ke(Pt,ce.name)?Qe?Ute(t.errors,Pt,ce.name):Lt(t.errors,ce.name,Pt[ce.name]):Pr(t.errors,ce.name))}!li(Re)&&await D(Re,X,te)}}return te.valid},R=()=>{for(const V of o.unMount){const X=ke(n,V);X&&(X._f.refs?X._f.refs.every(te=>!k0(te)):!k0(X._f.ref))&&ae(V)}o.unMount=new Set},L=(V,X)=>!e.disabled&&(V&&X&&Lt(s,V,X),!ho(ue(),i)),P=(V,X,te)=>xR(V,o,{...a.mount?s:Sr(X)?i:Ri(V)?{[V]:X}:X},te,X),F=V=>Rx(ke(a.mount?s:i,V,e.shouldUnregister?ke(i,V,[]):[])),H=(V,X,te={})=>{const ge=ke(n,V);let de=X;if(ge){const ce=ge._f;ce&&(!ce.disabled&&Lt(s,V,jR(X,ce)),de=tb(ce.ref)&&Kn(X)?"":X,AR(ce.ref)?[...ce.ref.options].forEach(Re=>Re.selected=de.includes(Re.value)):ce.refs?sm(ce.ref)?ce.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(de)?Re.checked=!!de.find(Qe=>Qe===Re.value):Re.checked=de===Re.value||!!de)}):ce.refs.forEach(Re=>Re.checked=Re.value===de):Lx(ce.ref)?ce.ref.value="":(ce.ref.value=de,ce.ref.type||f.state.next({name:V,values:$r(s)})))}(te.shouldDirty||te.shouldTouch)&&S(V,de,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&W(V)},N=(V,X,te)=>{for(const ge in X){if(!X.hasOwnProperty(ge))return;const de=X[ge],ce=V+"."+ge,Re=ke(n,ce);(o.array.has(V)||Vr(de)||Re&&!Re._f)&&!bd(de)?N(ce,de,te):H(ce,de,te)}},z=(V,X,te={})=>{const ge=ke(n,V),de=o.array.has(V),ce=$r(X);Lt(s,V,ce),de?(f.array.next({name:V,values:$r(s)}),(c.isDirty||c.dirtyFields||u.isDirty||u.dirtyFields)&&te.shouldDirty&&f.state.next({name:V,dirtyFields:bu(i,s),isDirty:L(V,ce)})):ge&&!ge._f&&!Kn(ce)?N(V,ce,te):H(V,ce,te),vA(V,o)&&f.state.next({...t,name:V}),f.state.next({name:a.mount?V:void 0,values:$r(s)})},G=async V=>{a.mount=!0;const X=V.target;let te=X.name,ge=!0;const de=ke(n,te),ce=et=>{ge=Number.isNaN(et)||bd(et)&&isNaN(et.getTime())||ho(et,ke(s,te,et))},Re=gA(e.mode),Qe=gA(e.reValidateMode);if(de){let et,Pt;const pi=X.type?pA(de._f):_R(V),Bn=V.type===eb.BLUR||V.type===eb.FOCUS_OUT,gh=!Mte(de._f)&&!e.resolver&&!ke(t.errors,te)&&!de._f.deps||Vte(Bn,ke(t.touchedFields,te),t.isSubmitted,Qe,Re),Qn=vA(te,o,Bn);Lt(s,te,pi),Bn?(!X||!X.readOnly)&&(de._f.onBlur&&de._f.onBlur(V),l&&l(0)):de._f.onChange&&de._f.onChange(V);const Uo=S(te,pi,Bn),su=!li(Uo)||Qn;if(!Bn&&f.state.next({name:te,type:V.type,values:$r(s)}),gh)return(c.isValid||u.isValid)&&(e.mode==="onBlur"?Bn&&v():Bn||v()),su&&f.state.next({name:te,...Qn?{}:Uo});if(!Bn&&Qn&&f.state.next({...t}),e.resolver){const{errors:Bo}=await T([te]);if(ce(pi),ge){const mh=bA(t.errors,n,te),$o=bA(Bo,n,mh.name||te);et=$o.error,te=$o.name,Pt=li(Bo)}}else b([te],!0),et=(await kA(de,o.disabled,s,g,e.shouldUseNativeValidation))[te],b([te]),ce(pi),ge&&(et?Pt=!1:(c.isValid||u.isValid)&&(Pt=await D(n,!0)));ge&&(de._f.deps&&(!Array.isArray(de._f.deps)||de._f.deps.length>0)&&W(de._f.deps),O(te,Pt,et,Uo))}},Y=(V,X)=>{if(ke(t.errors,X)&&V.focus)return V.focus(),1},W=async(V,X={})=>{let te,ge;const de=op(V);if(e.resolver){const ce=await C(Sr(V)?V:de);te=li(ce),ge=V?!de.some(Re=>ke(ce,Re)):te}else V?(ge=(await Promise.all(de.map(async ce=>{const Re=ke(n,ce);return await D(Re&&Re._f?{[ce]:Re}:Re)}))).every(Boolean),!(!ge&&!t.isValid)&&v()):ge=te=await D(n);return f.state.next({...!Ri(V)||(c.isValid||u.isValid)&&te!==t.isValid?{}:{name:V},...e.resolver||!V?{isValid:te}:{},errors:t.errors}),X.shouldFocus&&!ge&&lp(n,Y,V?de:o.mount),ge},ue=(V,X)=>{let te={...a.mount?s:i};return X&&(te=TR(X.dirtyFields?t.dirtyFields:t.touchedFields,te)),Sr(V)?te:Ri(V)?ke(te,V):V.map(ge=>ke(te,ge))},M=(V,X)=>({invalid:!!ke((X||t).errors,V),isDirty:!!ke((X||t).dirtyFields,V),error:ke((X||t).errors,V),isValidating:!!ke(t.validatingFields,V),isTouched:!!ke((X||t).touchedFields,V)}),K=V=>{V&&op(V).forEach(X=>Pr(t.errors,X)),f.state.next({errors:V?t.errors:{}})},$=(V,X,te)=>{const ge=(ke(n,V,{_f:{}})._f||{}).ref,de=ke(t.errors,V)||{},{ref:ce,message:Re,type:Qe,...et}=de;Lt(t.errors,V,{...et,...X,ref:ge}),f.state.next({name:V,errors:t.errors,isValid:!1}),te&&te.shouldFocus&&ge&&ge.focus&&ge.focus()},J=(V,X)=>Rs(V)?f.state.subscribe({next:te=>"values"in te&&V(P(void 0,X),te)}):P(V,X,!0),ne=V=>f.state.subscribe({next:X=>{Fte(V.name,X.name,V.exact)&&Lte(X,V.formState||c,jr,V.reRenderRoot)&&V.callback({values:{...s},...t,...X,defaultValues:i})}}).unsubscribe,fe=V=>(a.mount=!0,u={...u,...V.formState},ne({...V,formState:u})),ae=(V,X={})=>{for(const te of V?op(V):o.mount)o.mount.delete(te),o.array.delete(te),X.keepValue||(Pr(n,te),Pr(s,te)),!X.keepError&&Pr(t.errors,te),!X.keepDirty&&Pr(t.dirtyFields,te),!X.keepTouched&&Pr(t.touchedFields,te),!X.keepIsValidating&&Pr(t.validatingFields,te),!e.shouldUnregister&&!X.keepDefaultValue&&Pr(i,te);f.state.next({values:$r(s)}),f.state.next({...t,...X.keepDirty?{isDirty:L()}:{}}),!X.keepIsValid&&v()},Fe=({disabled:V,name:X})=>{(Ii(V)&&a.mount||V||o.disabled.has(X))&&(V?o.disabled.add(X):o.disabled.delete(X))},ee=(V,X={})=>{let te=ke(n,V);const ge=Ii(X.disabled)||Ii(e.disabled);return Lt(n,V,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:V}},name:V,mount:!0,...X}}),o.mount.add(V),te?Fe({disabled:Ii(X.disabled)?X.disabled:e.disabled,name:V}):E(V,!0,X.value),{...ge?{disabled:X.disabled||e.disabled}:{},...e.progressive?{required:!!X.required,min:Ch(X.min),max:Ch(X.max),minLength:Ch(X.minLength),maxLength:Ch(X.maxLength),pattern:Ch(X.pattern)}:{},name:V,onChange:G,onBlur:G,ref:de=>{if(de){ee(V,X),te=ke(n,V);const ce=Sr(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,Re=jte(ce),Qe=te._f.refs||[];if(Re?Qe.find(et=>et===ce):ce===te._f.ref)return;Lt(n,V,{_f:{...te._f,...Re?{refs:[...Qe.filter(k0),ce,...Array.isArray(ke(i,V))?[{}]:[]],ref:{type:ce.type,name:V}}:{ref:ce}}}),E(V,!1,void 0,ce)}else te=ke(n,V,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||X.shouldUnregister)&&!(wR(o.array,V)&&a.action)&&o.unMount.add(V)}}},le=()=>e.shouldFocusError&&lp(n,Y,o.mount),Pe=V=>{Ii(V)&&(f.state.next({disabled:V}),lp(n,(X,te)=>{const ge=ke(n,te);ge&&(X.disabled=ge._f.disabled||V,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(de=>{de.disabled=ge._f.disabled||V}))},0,!1))},xe=(V,X)=>async te=>{let ge;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let de=$r(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:Re}=await T();t.errors=ce,de=$r(Re)}else await D(n);if(o.disabled.size)for(const ce of o.disabled)Pr(de,ce);if(Pr(t.errors,"root"),li(t.errors)){f.state.next({errors:{}});try{await V(de,te)}catch(ce){ge=ce}}else X&&await X({...t.errors},te),le(),setTimeout(le);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:li(t.errors)&&!ge,submitCount:t.submitCount+1,errors:t.errors}),ge)throw ge},Te=(V,X={})=>{ke(n,V)&&(Sr(X.defaultValue)?z(V,$r(ke(i,V))):(z(V,X.defaultValue),Lt(i,V,$r(X.defaultValue))),X.keepTouched||Pr(t.touchedFields,V),X.keepDirty||(Pr(t.dirtyFields,V),t.isDirty=X.defaultValue?L(V,$r(ke(i,V))):L()),X.keepError||(Pr(t.errors,V),c.isValid&&v()),f.state.next({...t}))},qe=(V,X={})=>{const te=V?$r(V):i,ge=$r(te),de=li(V),ce=de?i:ge;if(X.keepDefaultValues||(i=te),!X.keepValues){if(X.keepDirtyValues){const Re=new Set([...o.mount,...Object.keys(bu(i,s))]);for(const Qe of Array.from(Re))ke(t.dirtyFields,Qe)?Lt(ce,Qe,ke(s,Qe)):z(Qe,ke(ce,Qe))}else{if(Dx&&Sr(V))for(const Re of o.mount){const Qe=ke(n,Re);if(Qe&&Qe._f){const et=Array.isArray(Qe._f.refs)?Qe._f.refs[0]:Qe._f.ref;if(tb(et)){const Pt=et.closest("form");if(Pt){Pt.reset();break}}}}if(X.keepFieldsRef)for(const Re of o.mount)z(Re,ke(ce,Re));else n={}}s=e.shouldUnregister?X.keepDefaultValues?$r(i):{}:$r(ce),f.array.next({values:{...ce}}),f.state.next({values:{...ce}})}o={mount:X.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!X.keepIsValid||!!X.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:X.keepSubmitCount?t.submitCount:0,isDirty:de?!1:X.keepDirty?t.isDirty:!!(X.keepDefaultValues&&!ho(V,i)),isSubmitted:X.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:de?{}:X.keepDirtyValues?X.keepDefaultValues&&s?bu(i,s):t.dirtyFields:X.keepDefaultValues&&V?bu(i,V):X.keepDirty?t.dirtyFields:{},touchedFields:X.keepTouched?t.touchedFields:{},errors:X.keepErrors?t.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},vt=(V,X)=>qe(Rs(V)?V(s):V,X),lt=(V,X={})=>{const te=ke(n,V),ge=te&&te._f;if(ge){const de=ge.refs?ge.refs[0]:ge.ref;de.focus&&(de.focus(),X.shouldSelect&&Rs(de.select)&&de.select())}},jr=V=>{t={...t,...V}},Ir={control:{register:ee,unregister:ae,getFieldState:M,handleSubmit:xe,setError:$,_subscribe:ne,_runSchema:T,_focusError:le,_getWatch:P,_getDirty:L,_setValid:v,_setFieldArray:y,_setDisabledField:Fe,_setErrors:_,_getFieldArray:F,_reset:qe,_resetDefaultValues:()=>Rs(e.defaultValues)&&e.defaultValues().then(V=>{vt(V,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Pe,_subjects:f,_proxyFormState:c,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(V){a=V},get _defaultValues(){return i},get _names(){return o},set _names(V){o=V},get _formState(){return t},get _options(){return e},set _options(V){e={...e,...V}}},subscribe:fe,trigger:W,register:ee,handleSubmit:xe,watch:J,setValue:z,getValues:ue,reset:vt,resetField:Te,clearErrors:K,unregister:ae,setError:$,setFocus:lt,getFieldState:M};return{...Ir,formControl:Ir}}function un(r={}){const e=x.useRef(void 0),t=x.useRef(void 0),[n,i]=x.useState({isDirty:!1,isValidating:!1,isLoading:Rs(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:Rs(r.defaultValues)?void 0:r.defaultValues});if(!e.current)if(r.formControl)e.current={...r.formControl,formState:n},r.defaultValues&&!Rs(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions);else{const{formControl:a,...o}=$te(r);e.current={...o,formState:n}}const s=e.current.control;return s._options=r,Mx(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),x.useEffect(()=>s._disableForm(r.disabled),[s,r.disabled]),x.useEffect(()=>{r.mode&&(s._options.mode=r.mode),r.reValidateMode&&(s._options.reValidateMode=r.reValidateMode)},[s,r.mode,r.reValidateMode]),x.useEffect(()=>{r.errors&&(s._setErrors(r.errors),s._focusError())},[s,r.errors]),x.useEffect(()=>{r.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,r.shouldUnregister]),x.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),x.useEffect(()=>{r.values&&!ho(r.values,t.current)?(s._reset(r.values,{keepFieldsRef:!0,...s._options.resetOptions}),t.current=r.values,i(a=>({...a}))):s._resetDefaultValues()},[s,r.values]),x.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=ER(n,s),e.current}const _A=(r,e,t)=>{if(r&&"reportValidity"in r){const n=ke(t,e);r.setCustomValidity(n&&n.message||""),r.reportValidity()}},DR=(r,e)=>{for(const t in e.fields){const n=e.fields[t];n&&n.ref&&"reportValidity"in n.ref?_A(n.ref,t,r):n.refs&&n.refs.forEach(i=>_A(i,t,r))}},zte=(r,e)=>{e.shouldUseNativeValidation&&DR(r,e);const t={};for(const n in r){const i=ke(e.fields,n),s=Object.assign(r[n]||{},{ref:i&&i.ref});if(Wte(e.names||Object.keys(r),n)){const a=Object.assign({},ke(t,n));Lt(a,"root",s),Lt(t,n,a)}else Lt(t,n,s)}return t},Wte=(r,e)=>r.some(t=>t.startsWith(e+"."));var Kte=function(r,e){for(var t={};r.length;){var n=r[0],i=n.code,s=n.message,a=n.path.join(".");if(!t[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];t[a]={message:o.message,type:o.code}}else t[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(c){return c.errors.forEach(function(u){return r.push(u)})}),e){var l=t[a].types,d=l&&l[n.code];t[a]=SR(a,e,t,i,d?[].concat(d,n.message):n.message)}r.shift()}return t},fn=function(r,e,t){return t===void 0&&(t={}),function(n,i,s){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(r[t.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return s.shouldUseNativeValidation&&DR({},s),{errors:{},values:t.raw?n:d}})}catch(d){return o(d)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:zte(Kte(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},wt;(function(r){r.assertEqual=i=>{};function e(i){}r.assertIs=e;function t(i){throw new Error}r.assertNever=t,r.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},r.getValidEnumValues=i=>{const s=r.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return r.objectValues(a)},r.objectValues=i=>r.objectKeys(i).map(function(s){return i[s]}),r.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},r.find=(i,s)=>{for(const a of i)if(s(a))return a},r.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}r.joinValues=n,r.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(wt||(wt={}));var wA;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(wA||(wA={}));const Oe=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zo=r=>{switch(typeof r){case"undefined":return Oe.undefined;case"string":return Oe.string;case"number":return Number.isNaN(r)?Oe.nan:Oe.number;case"boolean":return Oe.boolean;case"function":return Oe.function;case"bigint":return Oe.bigint;case"symbol":return Oe.symbol;case"object":return Array.isArray(r)?Oe.array:r===null?Oe.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?Oe.promise:typeof Map<"u"&&r instanceof Map?Oe.map:typeof Set<"u"&&r instanceof Set?Oe.set:typeof Date<"u"&&r instanceof Date?Oe.date:Oe.object;default:return Oe.unknown}},he=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Io extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let o=n,l=0;for(;l<a.path.length;){const d=a.path[l];l===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(a))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return i(this),n}static assert(e){if(!(e instanceof Io))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];t[s]=t[s]||[],t[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Io.create=r=>new Io(r);const x_=(r,e)=>{let t;switch(r.code){case he.invalid_type:r.received===Oe.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case he.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,wt.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:t=`Unrecognized key(s) in object: ${wt.joinValues(r.keys,", ")}`;break;case he.invalid_union:t="Invalid input";break;case he.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${wt.joinValues(r.options)}`;break;case he.invalid_enum_value:t=`Invalid enum value. Expected ${wt.joinValues(r.options)}, received '${r.received}'`;break;case he.invalid_arguments:t="Invalid function arguments";break;case he.invalid_return_type:t="Invalid function return type";break;case he.invalid_date:t="Invalid date";break;case he.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:wt.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case he.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="bigint"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case he.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case he.custom:t="Invalid input";break;case he.invalid_intersection_types:t="Intersection results could not be merged";break;case he.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case he.not_finite:t="Number must be finite";break;default:t=e.defaultError,wt.assertNever(r)}return{message:t}};let Gte=x_;function qte(){return Gte}const Yte=r=>{const{data:e,path:t,errorMaps:n,issueData:i}=r,s=[...t,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=n.filter(d=>!!d).slice().reverse();for(const d of l)o=d(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function Ee(r,e){const t=qte(),n=Yte({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===x_?void 0:x_].filter(i=>!!i)});r.common.issues.push(n)}class Hi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const i of t){if(i.status==="aborted")return Ge;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const i of t){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return Hi.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const i of t){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Ge;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const Ge=Object.freeze({status:"aborted"}),Uh=r=>({status:"dirty",value:r}),ps=r=>({status:"valid",value:r}),EA=r=>r.status==="aborted",xA=r=>r.status==="dirty",Yf=r=>r.status==="valid",nb=r=>typeof Promise<"u"&&r instanceof Promise;var Me;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Me||(Me={}));class Fl{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const SA=(r,e)=>{if(Yf(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Io(r.common.issues);return this._error=t,this._error}}};function ut(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:i}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:l}=r;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??t??o.defaultError}},description:i}}class _t{get description(){return this._def.description}_getType(e){return Zo(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Zo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Hi,ctx:{common:e.parent.common,data:e.data,parsedType:Zo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(nb(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zo(e)},i=this._parseSync({data:e,path:n.path,parent:n});return SA(n,i)}"~validate"(e){var n,i;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zo(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return Yf(s)?{value:s.value}:{issues:t.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>Yf(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zo(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(nb(i)?i:Promise.resolve(i));return SA(n,s)}refine(e,t){const n=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:he.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new Ic({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return wo.create(this,this._def)}nullable(){return Dc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xa.create(this)}promise(){return lb.create(this,this._def)}or(e){return ib.create([this,e],this._def)}and(e){return sb.create(this,e,this._def)}transform(e){return new Ic({...ut(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new db({...ut(this._def),innerType:this,defaultValue:t,typeName:Xe.ZodDefault})}brand(){return new MR({typeName:Xe.ZodBranded,type:this,...ut(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new cb({...ut(this._def),innerType:this,catchValue:t,typeName:Xe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Hx.create(this,e)}readonly(){return ub.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xte=/^c[^\s-]{8,}$/i,Zte=/^[0-9a-z]+$/,Jte=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ere=/^[a-z0-9_-]{21}$/i,tre=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rre=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nre=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ire="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _0;const sre=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,are=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ore=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lre=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dre=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cre=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,RR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ure=new RegExp(`^${RR}$`);function PR(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function fre(r){return new RegExp(`^${PR(r)}$`)}function hre(r){let e=`${RR}T${PR(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function pre(r,e){return!!((e==="v4"||!e)&&sre.test(r)||(e==="v6"||!e)&&ore.test(r))}function gre(r,e){if(!tre.test(r))return!1;try{const[t]=r.split(".");if(!t)return!1;const n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function mre(r,e){return!!((e==="v4"||!e)&&are.test(r)||(e==="v6"||!e)&&lre.test(r))}class Al extends _t{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Oe.string){const s=this._getOrReturnCtx(e);return Ee(s,{code:he.invalid_type,expected:Oe.string,received:s.parsedType}),Ge}const n=new Hi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Ee(i,{code:he.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Ee(i,{code:he.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")nre.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"email",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")_0||(_0=new RegExp(ire,"u")),_0.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"emoji",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Qte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"uuid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")ere.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"nanoid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Xte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Zte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cuid2",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Jte.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ulid",code:he.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ee(i,{validation:"url",code:he.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"regex",code:he.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?hre(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?ure.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?fre(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?rre.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"duration",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?pre(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"ip",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?gre(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"jwt",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?mre(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"cidr",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?dre.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64",code:he.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?cre.test(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{validation:"base64url",code:he.invalid_string,message:s.message}),n.dirty()):wt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:he.invalid_string,...Me.errToObj(n)})}_addCheck(e){return new Al({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Me.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Me.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Me.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Me.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Me.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Me.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Me.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Me.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Me.errToObj(t)})}nonempty(e){return this.min(1,Me.errToObj(e))}trim(){return new Al({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Al({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Al({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Al.create=r=>new Al({checks:[],typeName:Xe.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...ut(r)});function vre(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,s=Number.parseInt(r.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class Xf extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Oe.number){const s=this._getOrReturnCtx(e);return Ee(s,{code:he.invalid_type,expected:Oe.number,received:s.parsedType}),Ge}let n;const i=new Hi;for(const s of this._def.checks)s.kind==="int"?wt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ee(n,{code:he.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:he.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:he.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?vre(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:he.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ee(n,{code:he.not_finite,message:s.message}),i.dirty()):wt.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Me.toString(t))}setLimit(e,t,n,i){return new Xf({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Me.toString(i)}]})}_addCheck(e){return new Xf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Xf.create=r=>new Xf({checks:[],typeName:Xe.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...ut(r)});class Ep extends _t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Oe.bigint)return this._getInvalidInput(e);let n;const i=new Hi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:he.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:he.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ee(n,{code:he.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):wt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:he.invalid_type,expected:Oe.bigint,received:t.parsedType}),Ge}gte(e,t){return this.setLimit("min",e,!0,Me.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Me.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Me.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Me.toString(t))}setLimit(e,t,n,i){return new Ep({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Me.toString(i)}]})}_addCheck(e){return new Ep({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Me.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ep.create=r=>new Ep({checks:[],typeName:Xe.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...ut(r)});class TA extends _t{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Oe.boolean){const n=this._getOrReturnCtx(e);return Ee(n,{code:he.invalid_type,expected:Oe.boolean,received:n.parsedType}),Ge}return ps(e.data)}}TA.create=r=>new TA({typeName:Xe.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...ut(r)});class xp extends _t{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Oe.date){const s=this._getOrReturnCtx(e);return Ee(s,{code:he.invalid_type,expected:Oe.date,received:s.parsedType}),Ge}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ee(s,{code:he.invalid_date}),Ge}const n=new Hi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:he.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):wt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xp({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Me.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Me.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}xp.create=r=>new xp({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Xe.ZodDate,...ut(r)});class AA extends _t{_parse(e){if(this._getType(e)!==Oe.symbol){const n=this._getOrReturnCtx(e);return Ee(n,{code:he.invalid_type,expected:Oe.symbol,received:n.parsedType}),Ge}return ps(e.data)}}AA.create=r=>new AA({typeName:Xe.ZodSymbol,...ut(r)});class S_ extends _t{_parse(e){if(this._getType(e)!==Oe.undefined){const n=this._getOrReturnCtx(e);return Ee(n,{code:he.invalid_type,expected:Oe.undefined,received:n.parsedType}),Ge}return ps(e.data)}}S_.create=r=>new S_({typeName:Xe.ZodUndefined,...ut(r)});class T_ extends _t{_parse(e){if(this._getType(e)!==Oe.null){const n=this._getOrReturnCtx(e);return Ee(n,{code:he.invalid_type,expected:Oe.null,received:n.parsedType}),Ge}return ps(e.data)}}T_.create=r=>new T_({typeName:Xe.ZodNull,...ut(r)});class A_ extends _t{constructor(){super(...arguments),this._any=!0}_parse(e){return ps(e.data)}}A_.create=r=>new A_({typeName:Xe.ZodAny,...ut(r)});class OA extends _t{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ps(e.data)}}OA.create=r=>new OA({typeName:Xe.ZodUnknown,...ut(r)});class Vl extends _t{_parse(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:he.invalid_type,expected:Oe.never,received:t.parsedType}),Ge}}Vl.create=r=>new Vl({typeName:Xe.ZodNever,...ut(r)});class CA extends _t{_parse(e){if(this._getType(e)!==Oe.undefined){const n=this._getOrReturnCtx(e);return Ee(n,{code:he.invalid_type,expected:Oe.void,received:n.parsedType}),Ge}return ps(e.data)}}CA.create=r=>new CA({typeName:Xe.ZodVoid,...ut(r)});class xa extends _t{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==Oe.array)return Ee(t,{code:he.invalid_type,expected:Oe.array,received:t.parsedType}),Ge;if(i.exactLength!==null){const a=t.data.length>i.exactLength.value,o=t.data.length<i.exactLength.value;(a||o)&&(Ee(t,{code:a?he.too_big:he.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(Ee(t,{code:he.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(Ee(t,{code:he.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,o)=>i.type._parseAsync(new Fl(t,a,t.path,o)))).then(a=>Hi.mergeArray(n,a));const s=[...t.data].map((a,o)=>i.type._parseSync(new Fl(t,a,t.path,o)));return Hi.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new xa({...this._def,minLength:{value:e,message:Me.toString(t)}})}max(e,t){return new xa({...this._def,maxLength:{value:e,message:Me.toString(t)}})}length(e,t){return new xa({...this._def,exactLength:{value:e,message:Me.toString(t)}})}nonempty(e){return this.min(1,e)}}xa.create=(r,e)=>new xa({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...ut(e)});function yu(r){if(r instanceof Lr){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=wo.create(yu(n))}return new Lr({...r._def,shape:()=>e})}else return r instanceof xa?new xa({...r._def,type:yu(r.element)}):r instanceof wo?wo.create(yu(r.unwrap())):r instanceof Dc?Dc.create(yu(r.unwrap())):r instanceof Cc?Cc.create(r.items.map(e=>yu(e))):r}class Lr extends _t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=wt.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Oe.object){const d=this._getOrReturnCtx(e);return Ee(d,{code:he.invalid_type,expected:Oe.object,received:d.parsedType}),Ge}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Vl&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||o.push(d);const l=[];for(const d of a){const c=s[d],u=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Fl(i,u,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Vl){const d=this._def.unknownKeys;if(d==="passthrough")for(const c of o)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(d==="strict")o.length>0&&(Ee(i,{code:he.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const c of o){const u=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Fl(i,u,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const c of l){const u=await c.key,f=await c.value;d.push({key:u,value:f,alwaysSet:c.alwaysSet})}return d}).then(d=>Hi.mergeObjectSync(n,d)):Hi.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Me.errToObj,new Lr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,t,n).message)??n.defaultError;return t.code==="unrecognized_keys"?{message:Me.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Lr({...this._def,unknownKeys:"strip"})}passthrough(){return new Lr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Lr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Lr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Lr({...this._def,catchall:e})}pick(e){const t={};for(const n of wt.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Lr({...this._def,shape:()=>t})}omit(e){const t={};for(const n of wt.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Lr({...this._def,shape:()=>t})}deepPartial(){return yu(this)}partial(e){const t={};for(const n of wt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}return new Lr({...this._def,shape:()=>t})}required(e){const t={};for(const n of wt.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof wo;)s=s._def.innerType;t[n]=s}return new Lr({...this._def,shape:()=>t})}keyof(){return NR(wt.objectKeys(this.shape))}}Lr.create=(r,e)=>new Lr({shape:()=>r,unknownKeys:"strip",catchall:Vl.create(),typeName:Xe.ZodObject,...ut(e)});Lr.strictCreate=(r,e)=>new Lr({shape:()=>r,unknownKeys:"strict",catchall:Vl.create(),typeName:Xe.ZodObject,...ut(e)});Lr.lazycreate=(r,e)=>new Lr({shape:r,unknownKeys:"strip",catchall:Vl.create(),typeName:Xe.ZodObject,...ut(e)});class ib extends _t{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Io(o.ctx.common.issues));return Ee(t,{code:he.invalid_union,unionErrors:a}),Ge}if(t.common.async)return Promise.all(n.map(async s=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of n){const d={...t,common:{...t.common,issues:[]},parent:null},c=l._parseSync({data:t.data,path:t.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new Io(l));return Ee(t,{code:he.invalid_union,unionErrors:o}),Ge}}get options(){return this._def.options}}ib.create=(r,e)=>new ib({options:r,typeName:Xe.ZodUnion,...ut(e)});const Fa=r=>r instanceof C_?Fa(r.schema):r instanceof Ic?Fa(r.innerType()):r instanceof ab?[r.value]:r instanceof jc?r.options:r instanceof ob?wt.objectValues(r.enum):r instanceof db?Fa(r._def.innerType):r instanceof S_?[void 0]:r instanceof T_?[null]:r instanceof wo?[void 0,...Fa(r.unwrap())]:r instanceof Dc?[null,...Fa(r.unwrap())]:r instanceof MR||r instanceof ub?Fa(r.unwrap()):r instanceof cb?Fa(r._def.innerType):[];class Vx extends _t{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Oe.object)return Ee(t,{code:he.invalid_type,expected:Oe.object,received:t.parsedType}),Ge;const n=this.discriminator,i=t.data[n],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Ee(t,{code:he.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const i=new Map;for(const s of t){const a=Fa(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new Vx({typeName:Xe.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...ut(n)})}}function O_(r,e){const t=Zo(r),n=Zo(e);if(r===e)return{valid:!0,data:r};if(t===Oe.object&&n===Oe.object){const i=wt.objectKeys(e),s=wt.objectKeys(r).filter(o=>i.indexOf(o)!==-1),a={...r,...e};for(const o of s){const l=O_(r[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(t===Oe.array&&n===Oe.array){if(r.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<r.length;s++){const a=r[s],o=e[s],l=O_(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===Oe.date&&n===Oe.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class sb extends _t{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(EA(s)||EA(a))return Ge;const o=O_(s.value,a.value);return o.valid?((xA(s)||xA(a))&&t.dirty(),{status:t.value,value:o.data}):(Ee(n,{code:he.invalid_intersection_types}),Ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}sb.create=(r,e,t)=>new sb({left:r,right:e,typeName:Xe.ZodIntersection,...ut(t)});class Cc extends _t{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.array)return Ee(n,{code:he.invalid_type,expected:Oe.array,received:n.parsedType}),Ge;if(n.data.length<this._def.items.length)return Ee(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Fl(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>Hi.mergeArray(t,a)):Hi.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Cc({...this._def,rest:e})}}Cc.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cc({items:r,typeName:Xe.ZodTuple,rest:null,...ut(e)})};class jA extends _t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.map)return Ee(n,{code:he.invalid_type,expected:Oe.map,received:n.parsedType}),Ge;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,l],d)=>({key:i._parse(new Fl(n,o,n.path,[d,"key"])),value:s._parse(new Fl(n,l,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const d=await l.key,c=await l.value;if(d.status==="aborted"||c.status==="aborted")return Ge;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(d.value,c.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of a){const d=l.key,c=l.value;if(d.status==="aborted"||c.status==="aborted")return Ge;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),o.set(d.value,c.value)}return{status:t.value,value:o}}}}jA.create=(r,e,t)=>new jA({valueType:e,keyType:r,typeName:Xe.ZodMap,...ut(t)});class Sp extends _t{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Oe.set)return Ee(n,{code:he.invalid_type,expected:Oe.set,received:n.parsedType}),Ge;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ee(n,{code:he.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ee(n,{code:he.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function a(l){const d=new Set;for(const c of l){if(c.status==="aborted")return Ge;c.status==="dirty"&&t.dirty(),d.add(c.value)}return{status:t.value,value:d}}const o=[...n.data.values()].map((l,d)=>s._parse(new Fl(n,l,n.path,d)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,t){return new Sp({...this._def,minSize:{value:e,message:Me.toString(t)}})}max(e,t){return new Sp({...this._def,maxSize:{value:e,message:Me.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Sp.create=(r,e)=>new Sp({valueType:r,minSize:null,maxSize:null,typeName:Xe.ZodSet,...ut(e)});class C_ extends _t{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}C_.create=(r,e)=>new C_({getter:r,typeName:Xe.ZodLazy,...ut(e)});class ab extends _t{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ee(t,{received:t.data,code:he.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}ab.create=(r,e)=>new ab({value:r,typeName:Xe.ZodLiteral,...ut(e)});function NR(r,e){return new jc({values:r,typeName:Xe.ZodEnum,...ut(e)})}class jc extends _t{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return Ee(t,{expected:wt.joinValues(n),received:t.parsedType,code:he.invalid_type}),Ge}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ee(t,{received:t.data,code:he.invalid_enum_value,options:n}),Ge}return ps(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return jc.create(e,{...this._def,...t})}exclude(e,t=this._def){return jc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}jc.create=NR;class ob extends _t{_parse(e){const t=wt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Oe.string&&n.parsedType!==Oe.number){const i=wt.objectValues(t);return Ee(n,{expected:wt.joinValues(i),received:n.parsedType,code:he.invalid_type}),Ge}if(this._cache||(this._cache=new Set(wt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=wt.objectValues(t);return Ee(n,{received:n.data,code:he.invalid_enum_value,options:i}),Ge}return ps(e.data)}get enum(){return this._def.values}}ob.create=(r,e)=>new ob({values:r,typeName:Xe.ZodNativeEnum,...ut(e)});class lb extends _t{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Oe.promise&&t.common.async===!1)return Ee(t,{code:he.invalid_type,expected:Oe.promise,received:t.parsedType}),Ge;const n=t.parsedType===Oe.promise?t.data:Promise.resolve(t.data);return ps(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}lb.create=(r,e)=>new lb({type:r,typeName:Xe.ZodPromise,...ut(e)});class Ic extends _t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Ee(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(t.value==="aborted")return Ge;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ge:l.status==="dirty"||t.value==="dirty"?Uh(l.value):l});{if(t.value==="aborted")return Ge;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Ge:o.status==="dirty"||t.value==="dirty"?Uh(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ge:(o.status==="dirty"&&t.dirty(),a(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ge:(o.status==="dirty"&&t.dirty(),a(o.value).then(()=>({status:t.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Yf(a))return Ge;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Yf(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:t.value,value:o})):Ge);wt.assertNever(i)}}Ic.create=(r,e,t)=>new Ic({schema:r,typeName:Xe.ZodEffects,effect:e,...ut(t)});Ic.createWithPreprocess=(r,e,t)=>new Ic({schema:e,effect:{type:"preprocess",transform:r},typeName:Xe.ZodEffects,...ut(t)});class wo extends _t{_parse(e){return this._getType(e)===Oe.undefined?ps(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wo.create=(r,e)=>new wo({innerType:r,typeName:Xe.ZodOptional,...ut(e)});class Dc extends _t{_parse(e){return this._getType(e)===Oe.null?ps(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dc.create=(r,e)=>new Dc({innerType:r,typeName:Xe.ZodNullable,...ut(e)});class db extends _t{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Oe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}db.create=(r,e)=>new db({innerType:r,typeName:Xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ut(e)});class cb extends _t{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return nb(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Io(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Io(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}cb.create=(r,e)=>new cb({innerType:r,typeName:Xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ut(e)});class IA extends _t{_parse(e){if(this._getType(e)!==Oe.nan){const n=this._getOrReturnCtx(e);return Ee(n,{code:he.invalid_type,expected:Oe.nan,received:n.parsedType}),Ge}return{status:"valid",value:e.data}}}IA.create=r=>new IA({typeName:Xe.ZodNaN,...ut(r)});class MR extends _t{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Hx extends _t{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ge:s.status==="dirty"?(t.dirty(),Uh(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ge:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new Hx({in:e,out:t,typeName:Xe.ZodPipeline})}}class ub extends _t{_parse(e){const t=this._def.innerType._parse(e),n=i=>(Yf(i)&&(i.value=Object.freeze(i.value)),i);return nb(t)?t.then(i=>n(i)):n(t)}unwrap(){return this._def.innerType}}ub.create=(r,e)=>new ub({innerType:r,typeName:Xe.ZodReadonly,...ut(e)});var Xe;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));const ct=Al.create,Ux=Xf.create,Ui=xp.create,DA=A_.create;Vl.create;xa.create;const sr=Lr.create;ib.create;const Yy=Vx.create;sb.create;Cc.create;const wa=ab.create,bre=jc.create,Rc=ob.create;lb.create;wo.create;Dc.create;const yre="dd.MM.yyyy",kre="MMMM yyyy",LR=[yre,"ddMMyyyy","dd/MM/yyyy","dd-MM-yyyy"];[...LR];const _re=(r,e,t,n)=>{const i=sE;let s;const a=LR;{for(const o of a)if(s=Ms(r,o,e,{locale:i}),_c(s)&&!RA(r,e,i,a))return s;for(const o of[...a.map(l=>l.replace("yyyy","yy"))])if(s=Ms(r,o,e,{locale:i}),_c(s)&&RA(r,e,i,a)){const l=wre(r,o,e,i);return _c(new Date(l))?new Date(l):new Date("Invalid date")}return new Date("Invalid date")}};function RA(r,e,t,n){let i;const s=n.map(a=>a.replace("yyyy","yy"));for(const a of s)if(i=Ms(r,a,e,{locale:t}),_c(i))return!0;return!1}function wre(r,e,t,n){const i=Ms(PA(r,"19"),e.replace("yy","yyyy"),t,{locale:n}),s=Ms(PA(r,"20"),e.replace("yy","yyyy"),t,{locale:n});return _c(i)&&_c(s)?Ls(i,aC(new Date,{years:80}))?s:i:new Date("Invalid date")}function PA(r,e){const t=r.slice(-2);return`${r.slice(0,r.length-2)}${e}${t}`}const Tp=({field:{disabled:r,name:e,defaultValue:t,required:n=!1,label:i},disabledDays:s})=>{const[a,o]=w.useState(!1),l=()=>o(!1);xx(a,l);const{trigger:d}=Ll(),{control:c,setValue:u,clearErrors:f}=Ll(),{field:g,fieldState:{error:m}}=wp({control:c,defaultValue:t,name:e}),[v,b]=w.useState(t?ui(t,"dd.M.y"):""),y=S=>{const O=_re(S.target.value,new Date);_c(O)?u(e,O):u(e,void 0),b(S.target.value),Pi(O)&&(l(),f(e))},k=S=>{u(e,S,{shouldDirty:!0}),b(S?ui(S,"dd.M.y"):""),S&&(l(),f(e))},_=()=>{g.onBlur(),d("fraDato"),Pi(g.value)&&b(ui(g.value,"dd.M.y"))},E=()=>{o(!a)};return p.jsx("div",{className:"flex",children:p.jsx("div",{onClick:Sx,children:p.jsx(yc,{onClose:()=>{o(!1)},onSelect:k,selected:Pi(g.value)?g.value:void 0,disabled:s,onOpenToggle:E,open:a,children:p.jsx(yc.Input,{disabled:r,className:"flex-1",error:m==null?void 0:m.message,label:i??"Dato"+(n?" (obligatorisk)":""),name:e,value:v,onBlur:_,onChange:y,ref:g.ref})})})})},FR=({from:r,to:e,disabledDays:t})=>{var R,L,P,F;const[n,i]=w.useState(!1),s=()=>i(!1);xx(n,s);const{setError:a,clearErrors:o,control:l,setValue:d}=Ll(),{field:c,fieldState:u}=wp({control:l,name:r.name,defaultValue:r.defaultValue??void 0}),{field:f,fieldState:g}=wp({control:l,name:e.name,defaultValue:e.defaultValue??void 0}),[m,v]=w.useState(void 0),b=H=>{H&&((H.from.isValidDate||!r.required&&H.from.isEmpty)&&o([r.name]),(H.to.isValidDate||!e.required&&H.to.isEmpty)&&o(e.name))},y=()=>{m&&(u.isTouched&&!m.from.isEmpty&&m.from.isInvalid&&a(r.name,{message:"Ikke en gyldig dato"}),g.isTouched&&!m.to.isEmpty&&m.to.isInvalid&&a(e.name,{message:"Ikke en gyldig dato"}),b(m))},{datepickerProps:k,toInputProps:_,fromInputProps:E,reset:S,setSelected:O}=zY({defaultSelected:{from:r.defaultValue,to:e.defaultValue},disabled:t,onValidate:H=>{v(H),b(H)},onRangeChange:H=>{d(e.name,Hh(H==null?void 0:H.to),{shouldDirty:!0}),d(r.name,Hh(H==null?void 0:H.from),{shouldDirty:!0})}}),T=w.useMemo(()=>({fromDefaultValue:r.defaultValue,toDefaultValue:e.defaultValue}),[(R=r.defaultValue)==null?void 0:R.getTime(),(L=e.defaultValue)==null?void 0:L.getTime()]);w.useEffect(()=>{S(),O({from:T.fromDefaultValue,to:T.toDefaultValue})},[T]);const C=H=>{d(r.name,Hh(H.target.value))},D=H=>{d(r.name,Hh(H.target.value))};return p.jsx("div",{className:"flex",onClick:Sx,children:p.jsx(yc,{...k,open:n,onOpenToggle:()=>i(!n),onClose:s,wrapperClassName:"flex flex-1",children:p.jsxs("div",{className:"flex sm:flex-row flex-col gap-4 items-start",children:[p.jsx(yc.Input,{disabled:r.disabled,error:(P=u.error)==null?void 0:P.message,label:(r==null?void 0:r.label)??`Fra dato ${r.required?"(obligatorisk)":"(valgfri)"}`,...E,name:c.name,onFocus:mu([E.onFocus]),onBlur:mu([c.onBlur,E.onBlur,y,s]),onChange:mu([C,E.onChange]),ref:H=>{c.ref(H)}}),p.jsx(yc.Input,{error:(F=g.error)==null?void 0:F.message,label:(e==null?void 0:e.label)??`Til dato ${e.required?"(obligatorisk)":"(valgfri)"}`,..._,name:f.name,onFocus:mu([_.onFocus]),onBlur:mu([f.onBlur,_.onBlur,y,s]),onChange:mu([D,_.onChange]),ref:H=>{f.ref(H)}})]})})})};function Xy({aktivitet:r,from:e,to:t}){const n=r!=null&&r.tilDato?new Date(r.tilDato):t.defaultValue,i=r!=null&&r.fraDato?new Date(r.fraDato):e.defaultValue;return r&&r.avtalt&&r.fraDato?p.jsxs("div",{className:"flex gap-4",children:[p.jsx(Tp,{field:{...e,disabled:!0,defaultValue:i}}),p.jsx(Tp,{field:{...t,defaultValue:n},disabledDays:[{before:i}]})]}):p.jsx(FR,{from:{defaultValue:i,...e},to:{defaultValue:n,...t}})}function Ere(r,e,t){return async(n,i,s)=>{const a=await t(n,i,s);if(!r)return a;const o=Object.entries(a.errors).filter(([d,c])=>e.includes(d)).reduce((d,[c,u])=>({...d,[c]:u}),{});return{values:Object.keys(o).length>0?{}:n,errors:o}}}const xre={BEHANDLING:p.jsxs("div",{className:"mt-4 space-y-4",children:[p.jsx(pe,{children:"Her kan du legge inn medisinsk behandling som påvirker muligheten din til å jobbe eller være på kurs og tiltak."}),p.jsx(pe,{children:"Eksempler:"}),p.jsxs("ul",{className:"list-disc ml-4",children:[p.jsx("li",{children:"Oppfølging hos fastlege"}),p.jsx("li",{children:"Behandling og veiledning hos fysioterapeut"}),p.jsx("li",{children:"Behandling hos psykolog"}),p.jsx("li",{children:" Behandling hos spesialist"})]})]}),EGEN:"Her kan du eller veilederen din legge inn aktiviteter som hjelper deg når du skal komme i arbeid. Eksempler kan være å registrere deg hos bemannings- og rekrutteringsbyråer, jobbe godt med CV-en, eller lage oversikt over personer som kan være nyttig å kontakte når du er på jakt etter jobb.",GRUPPEAKTIVITET:"Her ser du informasjon om en gruppeaktivitet Nav har meldt deg på",IJOBB:"Her kan du informere om der du jobber nå, for eksempel en deltidsjobb eller en midlertidig stilling. Hvis du sender inn meldekort, så må du også huske å føre opp de timene du har jobbet på meldekortet.",MOTE:"Nav ønsker et møte med deg. Du må gi beskjed så raskt som mulig hvis tidspunktet ikke passer.",SAMTALEREFERAT:"Her finner du referat fra en samtale du har hatt med Nav.",SOKEAVTALE:'Her ser du hvor mange jobber Nav forventer at du søker. Legg inn stillinger du søker på i aktivitetsplanen ved å klikke på "Legg til aktivitet".	',STILLING:"Her kan du legge til informasjon om en stilling du har lyst å søke på. Du kan også legge til en stilling du allerede har søkt på.",TILTAKSAKTIVITET:"Her finner du informasjon om et tiltak Nav har søkt deg inn på. ",UTDANNINGSAKTIVITET:"Her ser du informasjon om en utdanningsaktivitet eller et kurs Nav har registrert at du skal gjennomføre.",STILLING_FRA_NAV:"Nav hjelper en arbeidsgiver med å finne kandidater til en stilling, og tror den kan passe for deg.",EKSTERNAKTIVITET:void 0},VR=({aktivitetstype:r})=>{const e=xre[r];return e?typeof e=="string"?p.jsx("section",{className:"aktivitetingress mt-4",children:p.jsx(Ml,{className:"aktivitetingress__tekst",children:e})}):p.jsx("section",{children:e}):null},tu=({aktivitetstype:r})=>p.jsx("div",{className:"mb-8 mt-4",children:p.jsx(VR,{aktivitetstype:r})}),Da=r=>{const{heading:e,errors:t}=r,n=w.useRef(null);return w.useEffect(()=>{var i;n!=null&&n.current&&((i=n.current)==null||i.focus())},[t]),Object.keys(t).length===0?null:p.jsx(Jm,{ref:n,heading:e||"For å gå videre må du rette opp følgende:",children:Object.entries(t).map(([i,s],a)=>{if(s.type===he.custom)return p.jsx(Jm.Item,{children:s.message},a);const o=s.ref.id??s.ref.name;return p.jsx(Jm.Item,{href:`#${o}`,children:s.message},a)})})},ph=r=>{const{disabled:e,loading:t=!1}=r,n=Z(wn);return p.jsx(p.Fragment,{children:p.jsx(ft,{className:"mt-4",loading:t,disabled:e||!n||t,children:"Lagre"})})},Sre=r=>r.data.innsynsrett.data,Zy=()=>{const r=Z(Sre);return!r||!r.foresatteHarInnsynsrett?null:p.jsx(WI,{className:"guidepanel-innsynsrett",poster:!0,children:"Husk at dine foresatte kan be om å få lese det du skriver her."})},Tre=sr({tittel:ct().min(1,"Du må fylle ut stillingstittel").max(100,"Du må korte ned teksten til 100 tegn"),fraDato:Ui({required_error:"Fra dato må fylles ut",invalid_type_error:"Ikke en gyldig dato"}),tilDato:Ui({invalid_type_error:"Ikke en gyldig dato"}).optional().nullable(),jobbStatus:Rc(M0,{required_error:"Du må velge heltid eller deltid"}),ansettelsesforhold:ct().max(255,"Du må korte ned teksten til 255 tegn").optional().nullable(),arbeidstid:ct().max(255,"Du må korte ned teksten til 255 tegn").optional().nullable(),beskrivelse:ct().max(5e3,"Du må korte ned teksten til 5000 tegn").optional().nullable()}),Fs=r=>{if(r!=null)return new Date(r)},HR=r=>{const{onSubmit:e,dirtyRef:t,aktivitet:n}=r,i={tittel:n==null?void 0:n.tittel,fraDato:Fs(n==null?void 0:n.fraDato),tilDato:Fs(n==null?void 0:n.tilDato),jobbStatus:n==null?void 0:n.jobbStatus,ansettelsesforhold:n==null?void 0:n.ansettelsesforhold,arbeidstid:n==null?void 0:n.arbeidstid,beskrivelse:n==null?void 0:n.beskrivelse},s=(n==null?void 0:n.avtalt)||!1,a=un({defaultValues:i,resolver:fn(Tre),shouldFocusError:!1}),{register:o,setValue:l,handleSubmit:d,watch:c,control:u,formState:{errors:f,isDirty:g,isSubmitting:m}}=a;t&&(t.current=g);const v=c("beskrivelse"),b=y=>{l("jobbStatus",y,{shouldValidate:!0})};return p.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:d(y=>e(y)),children:p.jsx(Ia,{...a,children:p.jsxs("div",{className:"space-y-8",children:[p.jsx(tu,{aktivitetstype:De.IJOBB_AKTIVITET_TYPE}),p.jsx(Zy,{}),p.jsx(kr,{disabled:s,label:"Stillingstittel (obligatorisk)",id:"tittel",...o("tittel"),error:f.tittel&&f.tittel.message}),p.jsx(Xy,{aktivitet:n,from:{name:"fraDato",required:!0},to:{name:"tilDato"}}),p.jsx(Cte,{name:"jobbStatus",control:u,render:()=>p.jsxs(Gl,{defaultValue:i.jobbStatus,disabled:s,id:"jobbStatus",legend:"Stillingsandel (obligatorisk)",onChange:b,error:f.jobbStatus&&f.jobbStatus.message,children:[p.jsx(Nn,{value:M0.HELTID,children:"Heltid"}),p.jsx(Nn,{value:M0.DELTID,children:"Deltid"})]})}),p.jsx(kr,{disabled:s,label:"Arbeidsgiver (valgfri)",id:"ansettelsesforhold",...o("ansettelsesforhold"),error:f.ansettelsesforhold&&f.ansettelsesforhold.message}),p.jsx(kr,{disabled:s,label:"Ansettelsesforhold (valgfri)",description:"For eksempel fast, midlertidig, vikariat",id:"arbeidstid",...o("arbeidstid"),error:f.arbeidstid&&f.arbeidstid.message}),p.jsx(Vn,{disabled:s,label:"Kort beskrivelse av stillingen (valgfri)",description:"For eksempel dag, kveld, helg, stillingsprosent eller oppgaver",maxLength:5e3,...o("beskrivelse"),error:f.beskrivelse&&f.beskrivelse.message,value:v||""}),p.jsx(Da,{errors:f}),p.jsx(ph,{loading:m})]})})})},Are=sr({tittel:ct(),fraDato:Ui({required_error:"Fra dato må fylles ut",invalid_type_error:"Ikke en gyldig dato"}),tilDato:Ui({required_error:"Til dato må fylles ut",invalid_type_error:"Ikke en gyldig dato"}),behandlingType:ct().min(1,"Du må fylle ut type behandling").max(100,"Du må korte ned teksten til 100 tegn"),behandlingSted:ct().min(1,"Du må fylle ut behandlingssted").max(255,"Du må korte ned teksten til 100 tegn"),effekt:ct().max(255,"Du må korte ned teksten til 255 tegn").optional(),behandlingOppfolging:ct().max(255,"Du må korte ned teksten til 255 tegn").optional(),beskrivelse:ct().max(400,"Du må korte ned teksten til 400 tegn").optional()}).superRefine((r,e)=>{Us(r.fraDato,r.tilDato)&&e.addIssue({path:["tilDato"],code:he.custom,message:"Til dato kan ikke være før fra dato"})}),Ore=fn(Are),UR=r=>{const{onSubmit:e,dirtyRef:t,aktivitet:n}=r,i={tittel:(n==null?void 0:n.tittel)||"Medisinsk behandling",behandlingType:(n==null?void 0:n.behandlingType)||"",behandlingSted:(n==null?void 0:n.behandlingSted)||"",fraDato:Fs(n==null?void 0:n.fraDato),tilDato:Fs(n==null?void 0:n.tilDato),effekt:(n==null?void 0:n.effekt)||"",beskrivelse:(n==null?void 0:n.beskrivelse)||"",behandlingOppfolging:(n==null?void 0:n.behandlingOppfolging)||""},s=(n==null?void 0:n.avtalt)||!1,a=un({defaultValues:i,resolver:Ere(s,["tilDato"],Ore),shouldFocusError:!1}),{register:o,handleSubmit:l,watch:d,formState:{errors:c,isDirty:u,isSubmitting:f}}=a;t&&(t.current=u);const g=d("beskrivelse");return p.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:l(m=>e(m)),children:p.jsx(Ia,{...a,children:p.jsxs("div",{className:"space-y-8",children:[p.jsx(tu,{aktivitetstype:De.BEHANDLING_AKTIVITET_TYPE}),p.jsx(Zy,{}),p.jsx(kr,{disabled:s,label:"Type behandling (obligatorisk)",id:"behandlingstype",...o("behandlingType"),error:c.behandlingType&&c.behandlingType.message}),p.jsx(kr,{disabled:s,label:"Behandlingssted (obligatorisk)",id:"behandlingssted",...o("behandlingSted"),error:c.behandlingSted&&c.behandlingSted.message}),p.jsx(Xy,{aktivitet:n,from:{name:"fraDato",required:!0,label:"Fra dato (obligatorisk)"},to:{name:"tilDato",required:!0,label:"Til dato (obligatorisk)"}}),p.jsx(kr,{disabled:s,label:"Mål for behandlingen (valgfri)",id:"effekt",...o("effekt"),error:c.effekt&&c.effekt.message}),p.jsx(kr,{disabled:s,label:"Oppfølging fra Nav (valgfri)",id:"behandlingoppfolging",...o("behandlingOppfolging"),error:c.behandlingOppfolging&&c.behandlingOppfolging.message}),p.jsx(Vn,{disabled:s,label:"Kort beskrivelse av behandlingen (valgfri)",maxLength:400,...o("beskrivelse"),error:c.beskrivelse&&c.beskrivelse.message,value:g}),p.jsx(Da,{errors:c}),p.jsx(ph,{loading:f})]})})})},Cre=sr({tittel:ct().min(1,"Du må fylle ut navn på aktiviteten").max(100,"Du må korte ned teksten til 100 tegn"),fraDato:Ui({required_error:"Fra dato må fylles ut",invalid_type_error:"Ikke en gyldig dato"}),tilDato:Ui({required_error:"Til dato må fylles ut",invalid_type_error:"Ikke en gyldig dato"}),hensikt:ct().max(255,"Du må korte ned teksten til 255 tegn").optional(),beskrivelse:ct().max(5e3,"Du må korte ned teksten til 5000 tegn").optional(),oppfolging:ct().max(255,"Du må korte ned teksten til 255 tegn").optional(),lenke:ct().max(2e3,"Du må korte ned lenken til 2000 tegn").optional()}).superRefine((r,e)=>{Us(r.fraDato,r.tilDato)&&e.addIssue({path:["tilDato"],code:he.custom,message:"Til dato kan ikke være før fra dato"})}),BR=r=>{const{onSubmit:e,dirtyRef:t,aktivitet:n}=r;jt();const i={tittel:(n==null?void 0:n.tittel)||"",fraDato:Fs(n==null?void 0:n.fraDato),tilDato:Fs(n==null?void 0:n.tilDato),hensikt:(n==null?void 0:n.hensikt)||"",beskrivelse:(n==null?void 0:n.beskrivelse)||"",oppfolging:(n==null?void 0:n.oppfolging)||"",lenke:(n==null?void 0:n.lenke)||""},s=(n==null?void 0:n.avtalt)===!0,a=un({defaultValues:i,resolver:fn(Cre),shouldFocusError:!1}),{register:o,setValue:l,handleSubmit:d,reset:c,watch:u,formState:{errors:f,isDirty:g,isSubmitting:m}}=a;t&&(t.current=g);const v=u("beskrivelse"),b=u("fraDato"),y=u("tilDato"),k=_=>{if(_.target.value==="ingen")c();else{for(const[T,C]of Object.entries(w0))l(T,C);const E=new Date,S=dn(E),O=$c(E,8);l("fraDato",S),l("tilDato",O)}};return p.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:d(_=>e(_)),children:p.jsx(Ia,{...a,children:p.jsxs("div",{className:"space-y-8",children:[p.jsx(tu,{aktivitetstype:De.EGEN_AKTIVITET_TYPE}),p.jsx(Zy,{}),p.jsxs(To,{id:"malverk",name:"malverk",label:"Ferdig utfylt aktivitet",onChange:k,children:[p.jsx("option",{value:"ingen",children:"Ingen ferdig utfylt aktivitet valgt"}),p.jsx("option",{value:w0.tittel,children:w0.tittel})]}),p.jsx(kr,{disabled:s,label:"Navn på aktiviteten (obligatorisk)",id:"tittel",...o("tittel"),error:f.tittel&&f.tittel.message}),p.jsx(FR,{from:{name:"fraDato",required:!0,defaultValue:b},to:{name:"tilDato",required:!0,defaultValue:y}}),p.jsx(kr,{disabled:s,label:"Mål med aktiviteten (valgfri)",id:"hensikt",...o("hensikt"),error:f.hensikt&&f.hensikt.message}),p.jsx(Vn,{disabled:s,label:"Kort beskrivelse av aktiviteten (valgfri)",maxLength:5e3,...o("beskrivelse"),error:f.beskrivelse&&f.beskrivelse.message,value:v}),p.jsx(kr,{disabled:s,label:"Min huskeliste for denne aktiviteten (valgfri)",id:"huskeliste",...o("oppfolging"),error:f.oppfolging&&f.oppfolging.message}),p.jsx(kr,{disabled:s,label:"Lenke til en aktuell nettside (valgfri)",id:"lenke",...o("lenke"),error:f.lenke&&f.lenke.message}),p.jsx(Da,{errors:f}),p.jsx(ph,{loading:m})]})})})},w0={tittel:"Oppdater CV-en og jobbønsker",hensikt:"Tydeliggjøre arbeidserfaring og jobbønsker slik at Nav kan bidra til å hjelpe deg ut i jobb",beskrivelse:"Når du registrerer CV-en din og jobbønskene dine, kan Nav følge deg opp på en bedre måte. CV-en gir oss nyttig informasjon om din kompetanse og dine jobbønsker. Etter avtale med deg, videreformidler Nav relevant informasjon til aktuelle arbeidsgivere og bemanningsbransjen for å hjelpe deg ut i jobb."},jre=({avtalt:r,endre:e})=>!r||!e?null:p.jsx(Rt,{variant:"warning",className:"mb-8",children:"Husk å sende en dialogmelding til brukeren om endringen du gjør."}),Ire=()=>p.jsx("span",{className:"eksternlenkeIkonBoks",children:p.jsx("svg",{className:"EksternLenkeIkon",height:"14px",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",focusable:"false",children:p.jsx("g",{id:"ikon_external_link",fill:"none",fillRule:"evenodd",strokeLinecap:"round",children:p.jsx("g",{id:"LINE/interface/-external-link",transform:"translate(2 2)",stroke:"#0067C5",children:p.jsxs("g",{id:"external-link",children:[p.jsx("path",{d:"M10,7.07712912 L10,8.33333333 C10,9.25380792 9.25380792,10 8.33333333,10 L1.66666667,10 C0.746192084,10 0,9.25380792 0,8.33333333 L0,1.66666667 C0,0.746192084 0.746192084,0 1.66666667,0 L2.94199316,0",id:"Rectangle-6"}),p.jsxs("g",{id:"Group-7",transform:"translate(4)",children:[p.jsx("path",{d:"M0,6 L6,0",id:"Line-6"}),p.jsx("polyline",{id:"Path-2",points:"2.00719286 0 6 0 6 4.06130668"})]})]})})})})}),Dre=({kanal:r})=>r===ka.INTERNET?p.jsxs(pe,{className:"mote-aktivitet-form__video-info",children:["Les om"," ",p.jsxs(Or,{href:"https://navno.sharepoint.com/sites/intranett-it/SitePages/Videom%C3%B8te-med-brukere.aspx",target:"_blank",rel:"noopener noreferrer",children:["rutiner for videomøte her ",p.jsx(Ire,{})]})]}):null,Rre=sr({tittel:ct().min(1,"Du må fylle ut tema for møtet").max(100,"Du må korte ned teksten til 100 tegn"),dato:Ui({required_error:"Dato må fylles ut",invalid_type_error:"Ikke en gyldig dato"}),klokkeslett:ct().min(1,"Du må fylle ut klokkeslett"),varighet:Ux({invalid_type_error:"Du må velge varighet"}),kanal:Rc(ka,{errorMap:r=>{switch(r.code){case"invalid_enum_value":return{message:"Du må velge møteform"};default:return{message:"Noe har gått galt"}}}}),adresse:ct().min(1,"Du må fylle ut møtested eller annen praktisk informasjon").max(255,"Du må korte ned teksten til 255 tegn"),beskrivelse:ct().min(1,"Du må fylle ut hensikten med møtet").max(5e3,"Du må korte ned teksten til 5000 tegn"),forberedelser:ct().max(500,"Du må korte ned teksten til 500 tegn").optional()}),Pre=[{minutter:15,tekst:"15 minutter"},{minutter:30,tekst:"30 minutter"},{minutter:45,tekst:"45 minutter"},{minutter:60,tekst:"1 time"},{minutter:90,tekst:"1 time, 30 minutter"},{minutter:120,tekst:"2 timer"},{minutter:150,tekst:"2 timer, 30 minutter"},{minutter:180,tekst:"3 timer"},{minutter:210,tekst:"3 timer, 30 minutter"},{minutter:240,tekst:"4 timer"},{minutter:270,tekst:"4 timer, 30 minutter"},{minutter:300,tekst:"5 timer"},{minutter:330,tekst:"5 timer, 30 minutter"},{minutter:360,tekst:"6 timer"},{minutter:390,tekst:"6 timer, 30 minutter"},{minutter:420,tekst:"7 timer"},{minutter:450,tekst:"7 timer, 30 minutter"}],$R=r=>{var b;const{aktivitet:e,dirtyRef:t,onSubmit:n}=r,i=e?YD(e):void 0,s={tittel:e==null?void 0:e.tittel,klokkeslett:(b=i==null?void 0:i.klokkeslett)==null?void 0:b.replace(".",":"),varighet:i==null?void 0:i.varighet,kanal:e==null?void 0:e.kanal,adresse:e==null?void 0:e.adresse,beskrivelse:e==null?void 0:e.beskrivelse,forberedelser:(e==null?void 0:e.forberedelser)??void 0,dato:Hh(e==null?void 0:e.fraDato)},a=(e==null?void 0:e.avtalt)||!1,o=un({defaultValues:s,resolver:fn(Rre),shouldFocusError:!1}),{register:l,handleSubmit:d,watch:c,formState:{errors:u,isDirty:f,isSubmitting:g}}=o;t&&(t.current=f);const m=c("beskrivelse"),v=c("forberedelser");return p.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:d(y=>{const{klokkeslett:k,..._}=y;return n({..._,...HQ(y),status:Le.PLANLAGT,avtalt:!1})}),children:p.jsx(Ia,{...o,children:p.jsxs("div",{className:"space-y-8",children:[p.jsx(tu,{aktivitetstype:De.MOTE_TYPE}),p.jsx(jre,{avtalt:a,endre:!!e}),p.jsx(kr,{disabled:a,label:"Tema for møtet (obligatorisk)",id:"tittel",...l("tittel"),error:u.tittel&&u.tittel.message}),p.jsxs("div",{className:"flex sm:flex-row flex-col gap-4",children:[p.jsx(Tp,{field:{name:"dato",required:!0,defaultValue:Fs(e==null?void 0:e.fraDato)}}),p.jsx(kr,{label:"Klokkeslett (obligatorisk)",...l("klokkeslett"),type:"time",error:u.klokkeslett&&u.klokkeslett.message})]}),p.jsxs(To,{label:"Varighet (obligatorisk)",...l("varighet",{valueAsNumber:!0}),error:u.varighet&&u.varighet.message,children:[p.jsx("option",{value:"",children:"Velg varighet"}),Pre.map(y=>p.jsx("option",{value:y.minutter,children:y.tekst},y.minutter))]}),p.jsxs(To,{label:"Møteform (obligatorisk)",...l("kanal"),error:u.kanal&&u.kanal.message,children:[p.jsx("option",{value:"",children:"Velg møteform"}),p.jsx("option",{value:ka.OPPMOTE,children:"Oppmøte"}),p.jsx("option",{value:ka.TELEFON,children:"Telefonmøte"}),p.jsx("option",{value:ka.INTERNET,children:"Videomøte"})]}),p.jsx(Dre,{kanal:c("kanal")}),p.jsx(kr,{label:"Møtested eller annen praktisk informasjon (obligatorisk)",id:"adresse",...l("adresse"),error:u.adresse&&u.adresse.message}),p.jsx(Vn,{disabled:a,label:"Hensikt med møtet (obligatorisk)",maxLength:5e3,...l("beskrivelse"),error:u.beskrivelse&&u.beskrivelse.message,value:m}),p.jsx(Vn,{disabled:a,label:"Forberedelser til møtet (valgfri)",maxLength:500,...l("forberedelser"),error:u.forberedelser&&u.forberedelser.message,value:v}),p.jsx(Da,{errors:u}),p.jsx(ph,{loading:g})]})})})};var NA={exports:{}},jh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA;function Nre(){if(MA)return jh;MA=1;var r=x,e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,d){var c,u={},f=null,g=null;d!==void 0&&(f=""+d),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(g=l.ref);for(c in l)n.call(l,c)&&!s.hasOwnProperty(c)&&(u[c]=l[c]);if(o&&o.defaultProps)for(c in l=o.defaultProps,l)u[c]===void 0&&(u[c]=l[c]);return{$$typeof:e,type:o,key:f,ref:g,props:u,_owner:i.current}}return jh.Fragment=t,jh.jsx=a,jh.jsxs=a,jh}var LA;function Mre(){return LA||(LA=1,NA.exports=Nre()),NA.exports}var U=Mre();let FA=0;function Lre(r){const[e,t]=w.useState(r),n=r||e;return w.useEffect(()=>{e==null&&(FA+=1,t(`aksel-icon-${FA}`))},[e]),n}const VA=x.useId;function Fre(r){var e;return VA!==void 0?VA().replace(/(:)/g,""):(e=Lre(r))!==null&&e!==void 0?e:""}var Vre=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const Hl=w.forwardRef((r,e)=>{var{title:t,titleId:n}=r,i=Vre(r,["title","titleId"]);let s=Fre();return s=t?n||"title-"+s:void 0,w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:e,"aria-labelledby":s},i),t?w.createElement("title",{id:s},t):null,w.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M20.532 3.471A.75.75 0 0 1 20.75 4v7.5a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H12.5a.75.75 0 0 1 0-1.5H20c.206 0 .393.083.529.218l.001.002zM4.75 9A.25.25 0 0 1 5 8.75h7a.75.75 0 0 0 0-1.5H5A1.75 1.75 0 0 0 3.25 9v10c0 .966.784 1.75 1.75 1.75h10A1.75 1.75 0 0 0 16.75 19v-7a.75.75 0 0 0-1.5 0v7a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25z",clipRule:"evenodd"}))}),zR=r=>r.replaceAll("Kopier lenke","").split(`
`).map(e=>e.length>0&&![".",":","!","?"].includes(e.slice(-1))?e+".":e).join(`
`).split(/\n/).sort((e,t)=>t.replace(/([.?!])\s*(?=[A-Z])/g,"$1|").split("|").length-e.replace(/([.?!])\s*(?=[A-Z])/g,"$1|").split("|").length).reduce((e,t)=>t.replace(/([.?!])\s*(?=[A-Z])/g,"$1|").split("|").length>=4?[...e,t]:[...e],[]);function Hre({value:r}){const e=zR(r);if(e.length===0)return null;const[t,n]=w.useState(1),i=/^[^.!?]*[.!?]/,s=3,a=t*s,o=a-s,l=Object.entries(e).slice(o,a).map(c=>({index:parseInt(c[0]),paragraph:c[1],firstSentence:c[1].match(i)[0],sentencesInParagraph:c[1].replace(/([.?!])\s*(?=[A-Z])/g,"$1|").split("|").length})),d=Math.ceil(e.length/s);return U.jsx(U.Fragment,{children:U.jsxs(ye.Item,{children:[U.jsxs(ye.Header,{children:[e.length," ",e.length===1?U.jsx(U.Fragment,{children:"langt avsnitt"}):U.jsx(U.Fragment,{children:"lange avsnitt"})]}),U.jsxs(ye.Content,{children:[U.jsx(pe,{spacing:!0,children:"Et avsnitt bør ha ett hovedbudskap og ikke ha mer enn to til tre setninger."}),U.jsx(pe,{spacing:!0,children:l.map(c=>{const{paragraph:u,sentencesInParagraph:f,firstSentence:g,index:m}=c,v=g.substring(0,15)+"... ("+f+" setninger)";return U.jsx(ls,{header:v,children:u},m)})}),U.jsxs(pe,{children:["Kilde:"," ",U.jsxs(Or,{target:"_blank",href:"https://aksel.nav.no/artikkel/sprakarbeid?tema=innholdsarbeid",children:["Aksel",U.jsx(Hl,{})]})]}),e.length>s&&U.jsx(tm,{page:t,onPageChange:n,count:d,size:"small",siblingCount:0,boundaryCount:1})]})]})})}const WR=r=>r.replaceAll("Kopier lenke","").split(`
`).map(e=>e.length>0&&![".",":","!","?","*"].includes(e.slice(-1))?e+".":e).join(`
`).replace(/([.?!–"“:*])\s*(?=[A-ZÆØÅ.•*«»"“–\-\d\n])/g,"$1|").split("|").sort((e,t)=>t.split(/\s+/).length-e.split(/\s+/).length).reduce((e,t)=>t.split(/\s+/).length>=21?[...e,t]:[...e],[]);function Ure({value:r}){const e=WR(r);if(e.length===0)return null;const[t,n]=w.useState(1),i=3,s=t*i,a=s-i,o=Object.entries(e).slice(a,s),l=Math.ceil(e.length/i);return U.jsx(U.Fragment,{children:U.jsxs(ye.Item,{children:[U.jsxs(ye.Header,{children:[e.length," ",e.length===1?U.jsx(U.Fragment,{children:"lang setning"}):U.jsx(U.Fragment,{children:"lange setninger"})]}),U.jsxs(ye.Content,{children:[U.jsx(pe,{spacing:!0,children:"Ifølge studier kan setninger med over 20 ord anses som vanskelige å lese."}),U.jsx(pe,{spacing:!0,children:o.map(d=>{const c=d[1].substring(0,15)+"... ("+d[1].split(/\s+/).length+" ord)";return U.jsx(ls,{header:c,children:d[1]},d[0])})}),U.jsxs(pe,{spacing:!0,children:["Kilde:"," ",U.jsxs(Or,{target:"_blank",href:"https://strainindex.wordpress.com/2012/04/30/longer-the-sentence-greater-the-strain/",children:["Nirmaldasan",U.jsx(Hl,{})]})]}),e.length>i&&U.jsx("div",{children:U.jsx(tm,{page:t,onPageChange:n,count:l,size:"small",siblingCount:0,boundaryCount:1})})]})]})})}const KR=r=>r.replaceAll("Kopier lenke","").replaceAll("/"," / ").replaceAll(/(.*)\.+[A-Za-z]{2,6}/g,"").replaceAll(/http(.*)/g,"").split(`
`).map(e=>e.length>0&&![".",":","!","?"," "].includes(e.slice(-1))?e+".":e).join(`
`).toLowerCase().split(/\s+/).map(e=>e.replace(/[.,:?()!"«»]+/g,"")).filter(e=>!e.match(/\d/)).filter(e=>!e.match(/[-_>]/)).reduce((e,t)=>e.includes(t)?[...e]:[...e,t],[]).filter(e=>e.length>=7).sort((e,t)=>t.length-e.length);function Bre({value:r}){const e=KR(r);if(e.length===0)return null;const[t,n]=w.useState(1),i=10,s=t*i,a=s-i,o=Object.entries(e).slice(a,s),l=Math.ceil(e.length/i);return U.jsxs(ye.Item,{children:[U.jsxs(ye.Header,{children:[e.length===1?U.jsx(U.Fragment,{children:"1 unikt langt"}):U.jsxs(U.Fragment,{children:[e.length," unike lange"]})," ord"]}),U.jsxs(ye.Content,{children:[U.jsx(Be,{spacing:!0,level:"3",size:"xsmall",children:"Velg korte og enkle ord"}),"Ifølge lesbarhetsindeksen Liks anses ord med over seks bokstaver som lange -"," ",U.jsxs(Or,{target:"_blank",href:"https://no.wikipedia.org/wiki/Lesbarhetsindeks",children:["Wikipedia",U.jsx(Hl,{})]}),U.jsx(Be,{spacing:!0,level:"3",size:"xsmall",children:"Ord med over seks bokstaver"}),U.jsx("div",{children:U.jsxs(er,{zebraStripes:!0,size:"small",children:[U.jsx(er.Header,{children:U.jsxs(er.Row,{children:[U.jsx(er.HeaderCell,{scope:"col",children:"Ord"}),U.jsx(er.HeaderCell,{scope:"col",children:"Bokstaver"})]})}),U.jsx(er.Body,{children:o.map(d=>U.jsxs(er.Row,{children:[U.jsx(er.HeaderCell,{scope:"row",children:d[1]}),U.jsx(er.DataCell,{children:d[1].length})]},d[0]))})]})}),e.length>i&&U.jsx("div",{children:U.jsx(tm,{page:t,onPageChange:n,count:l,size:"small",siblingCount:0,boundaryCount:1})})]})]})}const GR=r=>{var e;return((e=r.replaceAll("Kontakt","").replaceAll(/\d+(?: \d+)/g,"").toLowerCase().match(/\b(\w{2,5})\s+\1\b/g))==null?void 0:e.map(t=>t))??[]};function $re({value:r}){const e=GR(r);return e.length===0?null:U.jsxs(ye.Item,{children:[U.jsx(ye.Header,{children:e.length===1?U.jsx(U.Fragment,{children:"1 gjentakelse av like ord"}):U.jsxs(U.Fragment,{children:[e.length," gjentakelser av like ord"]})}),U.jsxs(ye.Content,{children:[U.jsx(pe,{spacing:!0,children:" Like ord som er gjentatt etter hverandre: "}),U.jsx(In,{children:e.map((t,n)=>U.jsxs(In.Item,{children:['"',t,'"']},n))})]})]})}const zre=JSON.parse('[{"id":"1","ord":"abnorm","bruk":"1","bokmaal":"«Abnorm» ble tidligere brukt om mennesker man mente var avvikende fra flertallet. Det ble skilt mellom «åndelig abnorme» og «andre abnorme». Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"2","ord":"blindehund","bruk":"1","bokmaal":"Bruk heller «førerhund». Hunden er utdannet til å føre en person med synshemminger, derfor er det mer korrekt å bruke betegnelsen «førerhund». Blindehund er et ord som ikke skal brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"3","ord":"blindeskrift","bruk":"1","bokmaal":"Bruk heller «punktskrift». Punktskrift viser direkte til hvordan skrifttypen er bygget opp, nemlig med opphøyde punkter. «Blindeskrift» skal ikke brukes som begrep. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"4","ord":"blindestokk","bruk":"1","bokmaal":"Bruk heller «Hvit stokk» eller «mobilitetsstokk». «Blindestokk» skal ikke brukes som begrep. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"6","ord":"brukere","bruk":"2","bokmaal":"Skal bare brukes når det henvises til hva man er bruker av, ikke som synonym/alternativ til ordet funksjonshemmet. Ordet «bruker» kan oppleves som stigmatiserende. Bruk gjerne «person», «menneske», eller navnet på vedkommende. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"7","ord":"bundet til rullestolen","bruk":"1","bokmaal":"Uttrykket «bundet/lenket til rullestolen» formidler en holdning om bruk av hjelpemidler som noe tragisk. Bruk heller «sitter i rullestol», «bruker rullestol», «får hjelp av rullestolen» eller lignende. Uttrykket «bundet/lenket til rullestolen» skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"8","ord":"lenket til rullestolen","bruk":"1","bokmaal":"Uttrykket «bundet/lenket til rullestolen» formidler en holdning om bruk av hjelpemidler som noe tragisk. Bruk heller «sitter i rullestol», «bruker rullestol», «får hjelp av rullestolen» eller lignende. Uttrykket «bundet/lenket til rullestolen» skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"9","ord":"de funksjonshemmede","bruk":"2","bokmaal":"Funksjonshemmede er en stor og variert gruppe. Det er best å spesifisere hvem man snakker om.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"10","ord":"dverg","bruk":"1","bokmaal":"Tidligere ble betegnelsen «dverg» brukt om kortvokste, spesielt om mennesker med diagnosen akondroplasi. I dag anses betegnelsen som svært nedverdigende og skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"11","ord":"døv","bruk":"2","bokmaal":"Å være døv vil si at man ikke hører lyd og tale, eller at man hører veldig lite. De fleste døve bruker tegnspråk og opplever at de tilhører en språklig/kulturell gruppe med liten vekt på selve hørselshemmingen. For mange er døvheten mer en identitetsmarkør.  «Døv» blir av enkelte brukt som adjektiv eller adverb («døvt») om noe som er kjedelig, tregt eller uattraktivt, og i denne betydningen skal ordet ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"12","ord":"døvespråk","bruk":"1","bokmaal":"Språket heter tegnspråk. Begrepet «døvespråk» skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"13","ord":"døvetolk","bruk":"1","bokmaal":"Det heter tegnspråktolk. Begrepet «døvetolk» skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"14","ord":"døvstum","bruk":"1","bokmaal":"Nesten ingen døve er stumme (uten taleevne). Begrepet oppleves av mange døve som negativt fordi det gir et inntrykk av at døve ikke kan produsere meningsbærende ytringer, noe som er fullt mulig på tegnspråk. Begrepet døvstum skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"15","ord":"evneveik","bruk":"1","bokmaal":"Betegnelsen «evneveik» ble brukt fram til 1960-tallet om mennesker med kognitiv utviklingshemming. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"16","ord":"funksjonsfrisk","bruk":"2","bokmaal":"Begrepet blir ofte brukt som motpol til funksjonshemmet, men kan bli oppfattet som støtende fordi det motsatte av det å være frisk, er å være syk.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"17","ord":"gladjenta","bruk":"1","bokmaal":" Kreative adjektiv blir av og til brukt om utviklingshemmede. Kan oppleves som umyndiggjørende maktspråk. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"18","ord":"gladgutten","bruk":"1","bokmaal":"Kreative adjektiv blir av og til brukt om utviklingshemmede. Kan oppleves som umyndiggjørende maktspråk. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"19","ord":"handikappet","bruk":"2","bokmaal":"Handikappet ble tidligere brukt ved omtale av mennesker med fysisk funksjonshemming. Dette er et begrep som ikke bør benyttes om personer, siden det kan bli oppfattet som nedsettende. Ordet blir derimot brukt i ulike sammensetninger som HC-parkering, handikaptoalett, Handikapforbundet osv.    ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"20","ord":"hemma","bruk":"2","bokmaal":"Hemma er en nedsettende betegnelse på det å ha en utviklingshemming eller funksjonsnedsettelse, og ordet bør ikke brukes om personer og grupper. Derimot er det greit å bruke begrepet når det er snakk om å være hemma/hemmet i betydningene ‘hindret’, ‘lagt bånd på’ i forhold til noe. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"21","ord":"hjelpesløs","bruk":"2","bokmaal":"«Hjelpeløs» er en nedsettende betegnelse på det å ha en utviklingshemming eller funksjonsnedsettelse, og ordet bør ikke brukes om personer og grupper. Derimot er det greit å bruke begrepet ellers. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"22","ord":"hjerneskade","bruk":"2","bokmaal":"En felles betegnelse for skader på hjernen. Man kan være født med en hjerneskade eller få den senere i livet. Ordet «hjerneskadet» skal ikke brukes som nedsettende adjektiv. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"23","ord":"invalid","bruk":"1","bokmaal":"Invalid er et utdatert ord som signaliserer at personer med nedsatt funksjonsevne har mindre verdi enn andre. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"24","ord":"krøpling","bruk":"1","bokmaal":"Krøpling er et nedsettende og støtende begrep som blir brukt om personer med nedsatt funksjonsevne. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"25","ord":"mongo","bruk":"1","bokmaal":"Mongo er et slanguttrykk for «mongoloid», som tidligere var en betegnelse på personer med Downs syndrom. Betegnelsen oppleves i dag svært nedsettende. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"26","ord":"mongoloid","bruk":"1","bokmaal":"Mongo er et slanguttrykk for «mongoloid», som tidligere var en betegnelse på personer med Downs syndrom. Betegnelsen oppleves i dag svært nedsettende. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"27","ord":"psykisk utviklingshemming","bruk":"1","bokmaal":"I helseforvaltningen blir begrepet «psykisk utviklingshemming» fremdeles brukt som en spesifikk diagnoseterm, men det kan være misvisende, da det ikke er snakk om psykisk helse. Begrepet kan oppleves som krenkende og upresist. Skal ikke brukes. Foreslått alternativ: utviklingshemming / utviklingshemmet.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"28","ord":"psykisk utviklingshemmet","bruk":"1","bokmaal":"I helseforvaltningen blir begrepet «psykisk utviklingshemming» fremdeles brukt som en spesifikk diagnoseterm, men det kan være misvisende, da det ikke er snakk om psykisk helse. Begrepet kan oppleves som krenkende og upresist. Skal ikke brukes. Foreslått alternativ: utviklingshemming / utviklingshemmet.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"29","ord":"psykopat","bruk":"1","bokmaal":"En psykopat er en person som lider av varig personlighets- og karakterforstyrrelse, oftest kjennetegnet av mangelfull kontroll av driftsimpulser, følelseskulde og manglende evne til lojalitet og identifikasjon med andre. I allmennspråket er ordet brukt dels som skjellsord og dels i en videre betydning enn den medisinske. Det skal ikke brukes slik i NRK. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"30","ord":"sinnssyk","bruk":"1","bokmaal":"Begrepet ble tidligere brukt om personer med psykiske diagnoser. I dag blir ordet ofte brukt forsterkende. Skal ikke brukes ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"31","ord":"spesielle behov","bruk":"2","bokmaal":"Hvis en person som lever med funksjonsnedsettelse trenger hjelp eller tilrettelegging, sier man ofte at personen har «spesielle behov».  Men behovene er som regel ikke så spesielle, som å spise, kle på seg, lese e-post og lignende. Det som varierer, er hvilke verktøy, virkemidler og løsninger man benytter for å fylle ulike behov. Det at man stadig understreker at noen har spesielle behov, kan bidra til at personen føler seg utenfor og er en belastning. Beskriv heller det aktuelle behovet.   ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"32","ord":"tilrettelegging","bruk":"2","bokmaal":"Tilrettelegging, det å legge til rette, er å planlegge eller tilpasse produkter og tjenester til en gruppe eller til enkeltpersoner. Hensikten med tilrettelegging er å gjøre det mulig for en person eller en gruppe å klare seg selv uten bistand. Tilrettelegging kan være å kjøpe et spesialtastatur til en ansatt eller å tilby bestilling av flybilletter over telefon for dem som ikke klarer å gjøre det over nett.  Det er bedre å bruke begrepet «tilgjengelighet» eller «universell utforming» der det er mulig.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"33","ord":"tunghørt","bruk":"2","bokmaal":"Dette er en folkelig betegnelse om dem som hører dårlig eller som begynner å høre dårlig. Noen oppfatter begrepet nedsettende, og det kan gi assosiasjoner til det å ha kognitive utfordringer. Bruk gjerne begreper som «nedsatt hørsel» eller liknende.     ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"34","ord":"ufør","bruk":"2","bokmaal":"«Ufør» ble tidligere brukt for å beskrive personer med nedsatt funksjonsevne. Begrepet brukes i dag i forbindelse med arbeidsevne, for eksempel «medisinsk uførhet», «uførepensjon» og «uføretrygd». Ufør skal ikke brukes som en generell merkelapp på personer med funksjonsnedsettelse.   ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"35","ord":"vanfør","bruk":"1","bokmaal":"Nedsettende gammelt uttrykk om personer med bevegelseshemming. Skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"36","ord":"vansiret","bruk":"1","bokmaal":"Tidligere brukt om kroppsdel som var skadet, ødelagt eller ansett som stygg. Skal ikke brukes. ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"37","ord":"yrkeshemmet","bruk":"1","bokmaal":"Tidligere brukt som et alternativ/synonym til ordet funksjonshemmet. Skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"38","ord":"åndssvak","bruk":"1","bokmaal":"Frem til 1960-tallet brukt om mennesker med utviklingshemming . Skal ikke brukes.  ","kilde":"NRKs ordliste for funksjonsmangfold","lenke":"https://info.nrk.no/sprak/funksjonsmangfold/"},{"id":"39","ord":"mulatt","bruk":"1","bokmaal":"Ordet oppfattes ofte nedsettende og ekskluderende og bør unngås.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"40","ord":"muslimsk utseende","bruk":"1","bokmaal":"Muslimer i Norge kommer fra mange forskjellige land og ser svært forskjellige ut. Vær mer presis.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"41","ord":"neger","bruk":"1","bokmaal":"Ordet oppfattes ofte nedsettende og ekskluderende og bør unngås.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"42","ord":"omreisende","bruk":"1","bokmaal":"Bør unngås i norsk sammenheng, men i enkelte situasjoner der vi omtaler f.eks. britiske romer (sigøynere) som ønsker å bli kalt reisende, kan begrepet likevel brukes.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"43","ord":"omstreifer","bruk":"1","bokmaal":"Bør unngås i norsk sammenheng, men i enkelte situasjoner der vi omtaler f.eks. britiske romer (sigøynere) som ønsker å bli kalt reisende, kan begrepet likevel brukes.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"44","ord":"politisk asyl","bruk":"1","bokmaal":"Bruk bare «asyl». Juridisk sett er det ingenting som heter politisk asyl. Behovet for vern er det sentrale, ikke grunnlaget for at man risikerer forfølgelse.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"45","ord":"romfolk","bruk":"1","bokmaal":"«Romfolk» er en kunstig konstruksjon, som kan bli oppfattet negativt. Begrepet har oppstått fordi mange har vært usikre på hvordan ordet «rom» skal bøyes. Det er ikke snakk om en helhetlig gruppe, men ulike folkegrupper. Bruk heller flertallsformen av ordet «rom» (en rom - romen - romer - romene).","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"46","ord":"utenlandsk bakgrunn","bruk":"1","bokmaal":"Helt upresist. Vær så konkret som mulig.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"47","ord":"utenlandsk opprinnelse","bruk":"1","bokmaal":"Helt upresist. Vær så konkret som mulig.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"48","ord":"utenlandsk utseende","bruk":"1","bokmaal":"Helt upresist. Vær så konkret som mulig.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"49","ord":"våre nye landsmenn","bruk":"1","bokmaal":"Brukes stort sett ironisk og anbefales ikke.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"50","ord":"andregenerasjons innvandrer","bruk":"1","bokmaal":"Den primære identiteten til noen som er født og oppvokst i Norge er gjerne norsk, og det blir derfor feil å kalle vedkommende en andregenerasjons innvandrer.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"51","ord":"tredjegenerasjons innvandrer","bruk":"1","bokmaal":"Den primære identiteten til noen som er født og oppvokst i Norge er gjerne norsk, og det blir derfor feil å kalle vedkommende en andregenerasjons innvandrer.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"52","ord":"eksotisk","bruk":"1","bokmaal":"Mange forbinder noe positivt med begrepet, men det er subjektivt og upresist. Vær mer konkret.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"53","ord":"etnisk opprinnelse","bruk":"1","bokmaal":"Er et meningsløst begrep. Vi har alle etnisk opprinnelse.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"54","ord":"fargerik","bruk":"1","bokmaal":"Er meningsløse begreper når de brukes om mennesker eller en forsamling av individer.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"55","ord":"fremmedkulturell","bruk":"1","bokmaal":"Disse begrepene er i utgangspunktet negative fordi de brukes til å skape distanse eller å ekskludere. Bruken av «fremmedspråklig» om barn med et annet morsmål enn norsk, skal erstattes av «flerspråklig». I stedet for «asiatiske fremmedarbeidere», bør man bruke «asiatiske arbeidere». Men: «Fremmedspråk» brukes fortsatt om valg av undervisning i språk som tysk, spansk, fransk.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"56","ord":"fremmedspråklig","bruk":"1","bokmaal":"Disse begrepene er i utgangspunktet negative fordi de brukes til å skape distanse eller å ekskludere. Bruken av «fremmedspråklig» om barn med et annet morsmål enn norsk, skal erstattes av «flerspråklig». I stedet for «asiatiske fremmedarbeidere», bør man bruke «asiatiske arbeidere». Men: «Fremmedspråk» brukes fortsatt om valg av undervisning i språk som tysk, spansk, fransk.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"57","ord":"fremmedarbeider","bruk":"1","bokmaal":"Disse begrepene er i utgangspunktet negative fordi de brukes til å skape distanse eller å ekskludere. Bruken av «fremmedspråklig» om barn med et annet morsmål enn norsk, skal erstattes av «flerspråklig». I stedet for «asiatiske fremmedarbeidere», bør man bruke «asiatiske arbeidere». Men: «Fremmedspråk» brukes fortsatt om valg av undervisning i språk som tysk, spansk, fransk.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"58","ord":"innvandringsmiljø","bruk":"1","bokmaal":"Lite presist, bruk andre begreper. Husk at også svenske kvinner bosatt i Norge er «innvandrerkvinner».","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"59","ord":"innvandringsbefolkning","bruk":"1","bokmaal":"Lite presist, bruk andre begreper. Husk at også svenske kvinner bosatt i Norge er «innvandrerkvinner».","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"60","ord":"innvandringskvinner","bruk":"1","bokmaal":"Lite presist, bruk andre begreper. Husk at også svenske kvinner bosatt i Norge er «innvandrerkvinner».","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"},{"id":"61","ord":"kvoteflykning","bruk":"1","bokmaal":"Er en overføringsflyktning (se egen definisjon). Begrepet «kvoteflyktning» er utdatert.","kilde":"NRKs flerkulturelle ordliste","lenke":"https://fido.nrk.no/22d22e5cb682284d0e8f7cb5b5f5addd3aad59fc3c4765bb807b7de9c13a9c2d/svartelista%20a5%20bokm%C3%A5l.pdf"}]'),Wre=JSON.parse('[{"kanselliord":"anbringe","alternativ_1":"sette, legge, plassere, feste","alternativ_2":"@"},{"kanselliord":"anbringelse","alternativ_1":"plassering","alternativ_2":"@"},{"kanselliord":"anføre","alternativ_1":"oppgi, føre opp","alternativ_2":"vise til, bemerke, nevne, påpeke; hevde, argumentere med"},{"kanselliord":"anførsel","alternativ_1":"merknad, opplysning, påstand; innvending, ankepunkt","alternativ_2":"@"},{"kanselliord":"angjeldende","alternativ_1":"vedkommende, den det gjelder, de(n) aktuelle, denne, dette","alternativ_2":"@"},{"kanselliord":"angående","alternativ_1":"om","alternativ_2":"@"},{"kanselliord":"anses som","alternativ_1":"regnes som","alternativ_2":"@"},{"kanselliord":"anvendelse","alternativ_1":"bruk","alternativ_2":"@"},{"kanselliord":"avgi","alternativ_1":"Ofte: gi (fra seg)","alternativ_2":"@"},{"kanselliord":"avhende","alternativ_1":"avstå fra, skille seg av med ved salg; selge; overføre, overdra","alternativ_2":"@"},{"kanselliord":"avhending","alternativ_1":"salg (det at noe skifter eier, oftest ved kjøp og salg)","alternativ_2":"@"},{"kanselliord":"befatning","alternativ_1":"Ofte: tilknytning, medansvar","alternativ_2":"@"},{"kanselliord":"befordre","alternativ_1":"frakte, transportere","alternativ_2":"@"},{"kanselliord":"befordring","alternativ_1":"frakt, transport","alternativ_2":"@"},{"kanselliord":"beføye","alternativ_1":"råde over, ha råderett over, ha fullmakt til","alternativ_2":"@"},{"kanselliord":"beføyelse","alternativ_1":"grunn, berettigelse","alternativ_2":"(del av) rettighet, rett til å rå over (greie med, gjennomføre. Ofte: fullmakt, mandat, anledning. I noen sammenhenger: kompensasjon"},{"kanselliord":"begjære","alternativ_1":"anmode om, be om; kreve, gjøre krav på","alternativ_2":"@"},{"kanselliord":"begjæring","alternativ_1":"anmodning; krav","alternativ_2":"@"},{"kanselliord":"begunstige","alternativ_1":"tilgodese, gi fordeler","alternativ_2":"@"},{"kanselliord":"begunstigelse","alternativ_1":"fordel, særrett, velvilje","alternativ_2":"@"},{"kanselliord":"bekjentgjøre","alternativ_1":"kunngjøre, gjøre kjent","alternativ_2":"@"},{"kanselliord":"beliggende","alternativ_1":"som ligger, som holder til","alternativ_2":"@"},{"kanselliord":"besiktige","alternativ_1":"ta i øyesyn for å kontrollere, undersøke","alternativ_2":"@"},{"kanselliord":"besiktigelse","alternativ_1":"ettersyn, undersøkelse, kontroll","alternativ_2":"@"},{"kanselliord":"besitte","alternativ_1":"ha (til rådighet), sitte inne med. I visse tilfeller: ha på seg eller hos seg.","alternativ_2":"@"},{"kanselliord":"komme i besittelse av","alternativ_1":"blir eier av","alternativ_2":"@"},{"kanselliord":"være i besittelse av","alternativ_1":"ha, eie","alternativ_2":"@"},{"kanselliord":"ta i besittelse","alternativ_1":"ta, overta","alternativ_2":"@"},{"kanselliord":"for besittelse av","alternativ_1":"Eksempel: Han ble arrestert fordi han hadde narkotika på seg / hos seg.","alternativ_2":"@"},{"kanselliord":"beskaffenhet","alternativ_1":"slag, art, type, karakter","alternativ_2":"@"},{"kanselliord":"beskikke","alternativ_1":"utnevne, oppnevne","alternativ_2":"@"},{"kanselliord":"beskikkelse","alternativ_1":"utnevning, oppnevning","alternativ_2":"@"},{"kanselliord":"besørge","alternativ_1":"sørge for å utføre noe, ordne med, ta hånd om, påta seg","alternativ_2":"@"},{"kanselliord":"bevirke","alternativ_1":"føre til, forårsake; få i stand, få til","alternativ_2":"@"},{"kanselliord":"bortta","alternativ_1":"fjerne (urettmessig), ta med seg (uten lov)","alternativ_2":"@"},{"kanselliord":"erlegge","alternativ_1":"betale","alternativ_2":"@"},{"kanselliord":"erleggelse","alternativ_1":"betaling","alternativ_2":"@"},{"kanselliord":"erverv","alternativ_1":"inntektsgivende arbeid; yrke","alternativ_2":"anskaffelse, det å skaffe seg. Ofte: kjøpe. "},{"kanselliord":"erverve","alternativ_1":"skaffe (seg), anskaffe, tilegne (seg), få. Ofte: kjøpe. I noen sammenhenger: tjene.","alternativ_2":"@"},{"kanselliord":"etterleve","alternativ_1":"følge, rette seg etter, lyde","alternativ_2":"@"},{"kanselliord":"finne å ","alternativ_1":"Ofte: kunne, ville, finne grunnlag for","alternativ_2":"@"},{"kanselliord":"forefinnes","alternativ_1":"finnes, være","alternativ_2":"@"},{"kanselliord":"foregi","alternativ_1":"opplyse noe usannferdig (som grunn, unnskyldning), påstå, hevde (uten grunn), gi seg ut for (å være), bruke som påskudd, påstå","alternativ_2":"@"},{"kanselliord":"forehavende","alternativ_1":"gjøremål, handling, formål, oppgave, plan","alternativ_2":"@"},{"kanselliord":"foreholde noen noe","alternativ_1":"gjøre noen kjent med noe, påpeke (noe betenkelig, uheldig), fortelle noen noe, gjøre oppmerksom på (gjerne med et snev av irettesettelse eller advarsel)","alternativ_2":"@"},{"kanselliord":"foreleggelse","alternativ_1":"Ofte: varsel, orientering","alternativ_2":"@"},{"kanselliord":"foreligge","alternativ_1":"Ofte: finnes, være, eksistere","alternativ_2":"@"},{"kanselliord":"foreliggende","alternativ_1":"Ofte: den aktuelle, dette, denne, disse, som finnes","alternativ_2":"@"},{"kanselliord":"forestå","alternativ_1":"stå for; lede; sørge for","alternativ_2":"@"},{"kanselliord":"forevise","alternativ_1":"vise (frem)","alternativ_2":"@"},{"kanselliord":"forføye over","alternativ_1":"råde over, disponere over; forvalte, bruke","alternativ_2":"@"},{"kanselliord":"forføyning","alternativ_1":"råderett, rådighet","alternativ_2":"bestemmelse; tiltak; vedtak"},{"kanselliord":"formentlig","alternativ_1":"antatt, påstått","alternativ_2":"antakelig, trolig"},{"kanselliord":"forsendelse","alternativ_1":"sending","alternativ_2":"@"},{"kanselliord":"forsorg","alternativ_1":"hjelp; i visse sammenhenger: det å sørge for; bekostning. Merk: Det er bedre å skrive om.","alternativ_2":"@"},{"kanselliord":"for så vidt gjelder","alternativ_1":"når det gjelder, for","alternativ_2":"@"},{"kanselliord":"for så vidt som","alternativ_1":"i og med (at), fordi, siden","alternativ_2":"@"},{"kanselliord":"fravike","alternativ_1":"I visse sammenhenger: avstå fra, gi avkall på, forlate, flytte fra","alternativ_2":"@"},{"kanselliord":"fravikelse","alternativ_1":"I visse sammenhenger: avståelse, det å forlate. Ofte: utkastelse, flytting.","alternativ_2":"@"},{"kanselliord":"fremgå","alternativ_1":"Ofte: være, stå (om noe i tekst), omtales","alternativ_2":"@"},{"kanselliord":"fremholde","alternativ_1":"påpeke, fremheve, gjøre oppmerksom på","alternativ_2":"@"},{"kanselliord":"fremkomme","alternativ_1":"komme frem, oppstå; i visse sammenhenger: være (med). Merk: Noen ganger kan dette verbet sløyfes, jf. to av eksemplene nedenfor.","alternativ_2":"@"},{"kanselliord":"fullbyrde","alternativ_1":"fullføre, sette i verk","alternativ_2":"@"},{"kanselliord":"fullbyrdelse","alternativ_1":"fullføring, iverksetting","alternativ_2":"@"},{"kanselliord":"ha som følge","alternativ_1":"føre til, føre med seg","alternativ_2":"@"},{"kanselliord":"ha til følge","alternativ_1":"føre til, føre med seg","alternativ_2":"@"},{"kanselliord":"som en følge av at","alternativ_1":"i og med at, fordi, siden, på grunn av","alternativ_2":"@"},{"kanselliord":"som følge av at","alternativ_1":"i og med at, fordi, siden, på grunn av","alternativ_2":"@"},{"kanselliord":"gitt","alternativ_1":"på grunn av, i og med, fordi","alternativ_2":"@"},{"kanselliord":"gjøre gjeldende","alternativ_1":"vise til, bruke som argument, hevde, påstå","alternativ_2":"@"},{"kanselliord":"gjorde gjeldende at","alternativ_1":"viste til / brukte som argument at ...","alternativ_2":"@"},{"kanselliord":"gjenstand","alternativ_1":"Ofte: ting, sak","alternativ_2":"@"},{"kanselliord":"godtgjøre","alternativ_1":"betale, dekke, erstatte, refundere, tilbakebetale","alternativ_2":"dokumentere, bevise"},{"kanselliord":"henhøre","alternativ_1":"høre inn under, høre (med) til; ha forbindelse med","alternativ_2":"@"},{"kanselliord":"henhørende","alternativ_1":"som hører til","alternativ_2":"@"},{"kanselliord":"henregne","alternativ_1":"regne for å høre med til","alternativ_2":"@"},{"kanselliord":"hense","alternativ_1":"i betraktning av, med tanke på, på bakgrunn av","alternativ_2":"@"},{"kanselliord":"hensett til","alternativ_1":"i betraktning av, med tanke på, på bakgrunn av","alternativ_2":"@"},{"kanselliord":"se hen til","alternativ_1":"i betraktning av, med tanke på, på bakgrunn av","alternativ_2":"@"},{"kanselliord":"henseende","alternativ_1":"måte, mening, sammenheng","alternativ_2":"@"},{"kanselliord":"hensette","alternativ_1":"sette (fra seg), plassere; parkere (om kjøretøy)","alternativ_2":"@"},{"kanselliord":"henstand","alternativ_1":"utsettelse","alternativ_2":"@"},{"kanselliord":"henstille til","alternativ_1":"be om, anmode om, oppfordre til","alternativ_2":"@"},{"kanselliord":"henstilling","alternativ_1":"anmodning, oppfordring, påminnelse","alternativ_2":"@"},{"kanselliord":"henstå","alternativ_1":"vente, bli foreløpig utsatt","alternativ_2":"@"},{"kanselliord":"stå hen","alternativ_1":"vente, bli foreløpig utsatt","alternativ_2":"@"},{"kanselliord":"hensynta","alternativ_1":"ta hensyn til; ta i betraktning","alternativ_2":"@"},{"kanselliord":"hensyntagen","alternativ_1":"med tanke på","alternativ_2":"@"},{"kanselliord":"herunder","alternativ_1":"under dette, i den forbindelse","alternativ_2":"blant annet, medregnet, inklusive"},{"kanselliord":"herværende","alternativ_1":"lokal, her på stedet, som er her, denne/dette","alternativ_2":"@"},{"kanselliord":"hitsette","alternativ_1":"gjengi, oppgi, sitere","alternativ_2":"@"},{"kanselliord":"hjemmehørende","alternativ_1":"som hører hjemme i/på, som ligger i/på, som bor i/på, som kommer fra ","alternativ_2":"@"},{"kanselliord":"hva gjelder","alternativ_1":"når det gjelder","alternativ_2":"@"},{"kanselliord":"hvoretter","alternativ_1":"og deretter","alternativ_2":"ifølge, etter"},{"kanselliord":"imøtese","alternativ_1":"se frem til at noe (ventet) vil skje","alternativ_2":"@"},{"kanselliord":"inneværende","alternativ_1":"dette, denne","alternativ_2":"@"},{"kanselliord":"likeledes","alternativ_1":"også, likeså","alternativ_2":"@"},{"kanselliord":"likevel slik at","alternativ_1":"Merk: Dette kan ofte erstattes med men. En mulighet er å dele setningen i to og eventuelt innlede neste setning med men eller NN skal likevel (ikke) ...","alternativ_2":"@"},{"kanselliord":"likevel ikke slik at","alternativ_1":"Merk: Dette kan ofte erstattes med men. En mulighet er å dele setningen i to og eventuelt innlede neste setning med men eller NN skal likevel (ikke) ...","alternativ_2":"@"},{"kanselliord":"meddele","alternativ_1":"gi","alternativ_2":"@"},{"kanselliord":"medføre","alternativ_1":"innebære; være; føre med seg, føre til","alternativ_2":"@"},{"kanselliord":"i medhold av","alternativ_1":"i samsvar med, med hjemmel i, etter","alternativ_2":"@"},{"kanselliord":"med videre","alternativ_1":"og så videre","alternativ_2":"@"},{"kanselliord":"medvirke","alternativ_1":"delta, hjelpe til med, bidra til, støtte, gjøre sitt","alternativ_2":"@"},{"kanselliord":"nærværende","alternativ_1":"denne, dette","alternativ_2":"@"},{"kanselliord":"omfattes av","alternativ_1":"faller inn under. Merk: I stedet for «X omfattes av Y» kan du skrive «Y gjelder for X».","alternativ_2":"@"},{"kanselliord":"omfattet av","alternativ_1":"faller inn under. Merk: I stedet for «X omfattes av Y» kan du skrive «Y gjelder for X».","alternativ_2":"@"},{"kanselliord":"oppebære","alternativ_1":"få, ha, motta, innkassere","alternativ_2":"@"},{"kanselliord":"opphold","alternativ_1":"avbrudd, pause, forsinkelse i visse sammenhenger: stans","alternativ_2":"@"},{"kanselliord":"opphør","alternativ_1":"stans, slutt, avbrudd; i visse sammenhenger: nedleggelse","alternativ_2":"@"},{"kanselliord":"opphøre","alternativ_1":"ta slutt, slutte, bli nedlagt","alternativ_2":"@"},{"kanselliord":"oppsette","alternativ_1":"I visse sammenhenger: utsette; vente med (å gjøre noe)","alternativ_2":"@"},{"kanselliord":"oppstille","alternativ_1":"I visse sammenhenger: sette, stille, etablere","alternativ_2":"@"},{"kanselliord":"ovenfornevnte","alternativ_1":"nevnte, som nevnes / er nevnt ovenfor","alternativ_2":"@"},{"kanselliord":"ovennevnte","alternativ_1":"nevnte, som nevnes / er nevnt ovenfor","alternativ_2":"@"},{"kanselliord":"påberope seg","alternativ_1":"vise til, unnskylde seg med, argumentere med","alternativ_2":"@"},{"kanselliord":"påkrevd","alternativ_1":"nødvendig, om å gjøre","alternativ_2":"@"},{"kanselliord":"påkrevet","alternativ_1":"nødvendig, om å gjøre","alternativ_2":"@"},{"kanselliord":"påregne","alternativ_1":"regne med, vente seg","alternativ_2":"@"},{"kanselliord":"riket","alternativ_1":"Oftest: landet, Norge","alternativ_2":"@"},{"kanselliord":"samtlige","alternativ_1":"alle","alternativ_2":"@"},{"kanselliord":"så fremt","alternativ_1":"hvis, om, dersom","alternativ_2":"@"},{"kanselliord":"således","alternativ_1":"slik; dermed","alternativ_2":"@"},{"kanselliord":"tarv","alternativ_1":"behov, trang, interesse","alternativ_2":"@"},{"kanselliord":"tilflyte","alternativ_1":"komme til, bli til del","alternativ_2":"@"},{"kanselliord":"tilkjenne","alternativ_1":"Oftest: tildele (ved dom)","alternativ_2":"@"},{"kanselliord":"tilkomme","alternativ_1":"I visse sammenhenger: tilfalle (med rett), få, ha rett til, ha krav på; være (ens) sak/oppgave, være opp til","alternativ_2":"@"},{"kanselliord":"tillegge","alternativ_1":"gi, tildele, pålegge (oftest om ansvar, oppgaver og plikter)","alternativ_2":"@"},{"kanselliord":"tilligge","alternativ_1":"være ens plikt/oppgave; høre inn under","alternativ_2":"@"},{"kanselliord":"tillike","alternativ_1":"også, i tillegg, dessuten","alternativ_2":"@"},{"kanselliord":"tilstille","alternativ_1":"(over)sende, sende til","alternativ_2":"@"},{"kanselliord":"tilstå","alternativ_1":"I visse sammenhenger: gi, bevilge","alternativ_2":"@"},{"kanselliord":"ubesørget","alternativ_1":"ikke utført, ikke ordnet","alternativ_2":"@"},{"kanselliord":"uleilighet","alternativ_1":"problem, ulempe, besvær","alternativ_2":"@"},{"kanselliord":"undergi","alternativ_1":"innordne under; i visse sammenhenger: gjøre til gjenstand for, la gjennomgå. Merk: Ofte er dette verbet uten eget innhold: undergi behandling = behandle. Det er bedre å skrive om og bruke konkrete verb.","alternativ_2":"@"},{"kanselliord":"undergå","alternativ_1":"gjennomgå, oppleve ","alternativ_2":"@"},{"kanselliord":"underrette","alternativ_1":"gi beskjed/informasjon om, informere","alternativ_2":"@"},{"kanselliord":"underretning","alternativ_1":"beskjed, informasjon, melding","alternativ_2":"@"},{"kanselliord":"undertegnede","alternativ_1":"jeg","alternativ_2":"@"},{"kanselliord":"unnlate","alternativ_1":"la være. Merk: Ofte er det bedre å erstatte unnlate å / unnlatt å + infinitiv med ikke + fortidsformen av det aktuelle verbet, jf. eksempelet nedenfor.","alternativ_2":"@"},{"kanselliord":"unnlatelse","alternativ_1":"Merk: Ofte er det bedre å skrive om. Eksempel: Hvis du ikke...","alternativ_2":"@"},{"kanselliord":"utgjøre","alternativ_1":"Ofte: være","alternativ_2":"@"},{"kanselliord":"utøve","alternativ_1":"drive med; praktisere. Ofte: bruke","alternativ_2":"@"},{"kanselliord":"utøvelse","alternativ_1":"gjennomføring, iverksetting. Ofte: bruk.","alternativ_2":"@"},{"kanselliord":"vedrøre","alternativ_1":"angå, gjelde, ha sammenheng med","alternativ_2":"@"},{"kanselliord":"vedrørende","alternativ_1":"om, i forbindelse med, som gjelder, som henger sammen med","alternativ_2":"@"},{"kanselliord":"vesentlig","alternativ_1":"hovedsakelig, stort sett, for det meste, fortrinnvis","alternativ_2":"@"},{"kanselliord":"vitterlig","alternativ_1":"kjent, åpenlys(t)","alternativ_2":"@"},{"kanselliord":"yte","alternativ_1":"gi, bidra med. Ofte: betale","alternativ_2":"@"},{"kanselliord":"ytterligere","alternativ_1":"enda (en/mer/flere), nærmere, flere","alternativ_2":"@"}]'),Kre=JSON.parse('[{"importord":"abort","avloeserord":"(IKT) programbrot/programbrudd, programavbrot/programavbrudd"},{"importord":"access","avloeserord":"tilgang"},{"importord":"access code","avloeserord":"tilgangskode"},{"importord":"access point","avloeserord":"tilgangspunkt"},{"importord":"account manager","avloeserord":"kundeleiar/kundeleder, kundeansvarleg/kundeansvarlig, kundekontakt, jf. key account manager"},{"importord":"accountability","avloeserord":"ansvarsutkreving, ansvarleggjering/ansvarliggjøring"},{"importord":"actionfilm","avloeserord":"spenningsfilm, valdsfilm/voldsfilm"},{"importord":"adde","avloeserord":"(IKT) leggje til, leggje inn / legge til, legge inn"},{"importord":"advocacy campaign","avloeserord":"påverknadskampanje/påvirkningskampanje"},{"importord":"aftershave","avloeserord":"etterbarberingsvatn/etterbarberingsvann"},{"importord":"agenda","avloeserord":"sakliste, dagsorden; (tids)planleggjar/(tids)planlegger, sjuande sans / sjuende sans"},{"importord":"aircondition(ing)","avloeserord":"klimaanlegg, luftkondisjonering"},{"importord":"allround-","avloeserord":"altmogleg-/altmulig-, allsidig, allmenn-, universal-"},{"importord":"allrounder","avloeserord":"allsidig person, altmoglegperson/altmuligperson, mangkunnig person, faktotum, «potet»"},{"importord":"amplifier","avloeserord":"forsterkar/forsterker"},{"importord":"approach","avloeserord":"tilnærming(småte), framgangsmåte, (innfalls)vinkel"},{"importord":"art director (AD)","avloeserord":"kunstnarleg leiar/kunstnerisk leder (teater m.m.); grafisk formgjevar/formgiver (rekl.); reklamesjef (arb.liv)"},{"importord":"artist in residence","avloeserord":"gjestekunstnar/gjestekunstner"},{"importord":"assist","avloeserord":"målgjevande pasning / målgivende pasning (fotball)"},{"importord":"att: (av eng. «attention»)","avloeserord":"ved, v/ (ev. skriv ein berre namnet på ny linje)"},{"importord":"attach","avloeserord":"leggje/legge ved, sende med"},{"importord":"attachment","avloeserord":"vedlegg"},{"importord":"audition","avloeserord":"prøvespel/prøvespill, rolleprøve, opptaksprøve"},{"importord":"auditory icon","avloeserord":"lydikon, lydlogo, auditivt ikon, jf. earcon"},{"importord":"babyboom","avloeserord":"babybølgje/babybølge, fødselsbølgje/fødselsbølge, jf. boom"},{"importord":"backbone","avloeserord":"stamnett (IKT)"},{"importord":"backing","avloeserord":"støtte, hjelp, oppfølging (allment); komp, akkompagnement, støtte (mus.); jf. oppbacking, backup"},{"importord":"backlash","avloeserord":"tilbakeslag, motreaksjon"},{"importord":"backlist","avloeserord":"portefølje"},{"importord":"backlog","avloeserord":"restanse, etterslep"},{"importord":"back-office","avloeserord":"kontortenar(program)/kontortjener(program) (IKT); kontorstøtte (adm.); jf. front-office"},{"importord":"backpacker","avloeserord":"ryggsekkturist"},{"importord":"backslash","avloeserord":"omvend skråstrek / omvendt skråstrek"},{"importord":"backstage","avloeserord":"bak scenen, bakscenes"},{"importord":"backtracking","avloeserord":"tilbakesporing (IKT)"},{"importord":"backup","avloeserord":"reservekopi, tryggingskopi/sikkerhetskopi (IKT); støtte, hjelp, oppfølging (allment); jf. backing"},{"importord":"bake-off","avloeserord":"ferdigheva/ferdighevet, halvsteikt/halvstekt (bakverk som er klargjord for heving og steiking); ferdigsteikt/ferdigstekt; bakekonkurranse (tv-program)"},{"importord":"balanced scorecard (BSC)","avloeserord":"balansert målstyring (BMS)"},{"importord":"barbecue","avloeserord":"(hage)grill; grillmat; grillfest"},{"importord":"base camp","avloeserord":"baseleir"},{"importord":"beacon","avloeserord":"mobilfyr"},{"importord":"beacon technology","avloeserord":"mobilfyrteknologi, nettvardeteknologi"},{"importord":"bear market","avloeserord":"bjørnemarknad/bjørnemarked "},{"importord":"benchmark","avloeserord":"referansenivå, -norm, -verdi, styringsmål, (allment/nær.liv); fastmerke (landmåling)"},{"importord":"benchmark test","avloeserord":"yteprøve (IKT)"},{"importord":"benchmarking","avloeserord":"referansemåling, referansenormering, styringsnormering"},{"importord":"best practice","avloeserord":"mønsterpraksis, bestepraksis, beste praksis"},{"importord":"bias","avloeserord":"slagside"},{"importord":"binge watching","avloeserord":"seriemaraton, seriefråtsing, tv-fråtsing"},{"importord":"blackout","avloeserord":"jernteppe, minnesvinn (allment); mellombels medvitstap / midlertidig bevissthetstap (med.); stort straumbrot / stort strømbrudd (tekn.)"},{"importord":"blame game","avloeserord":"skuldspel/skyldspill, syndebukkspel/syndebukkspill"},{"importord":"board(s) (reklame)","avloeserord":"(reklame)tavle, reklame(skilt)"},{"importord":"bodybuilder","avloeserord":"kroppsbyggjar/kroppsbygger"},{"importord":"bodybuilding","avloeserord":"kroppsbygging"},{"importord":"bodyguard","avloeserord":"livvakt"},{"importord":"booke (inn)","avloeserord":"bestille, tinge; reservere; skrive seg inn"},{"importord":"booking","avloeserord":"bestilling, tinging; reservasjon"},{"importord":"bookmark","avloeserord":"bokmerke, favoritt"},{"importord":"boom","avloeserord":"høgkonjunktur/høykonjunktur (økon.), brå oppgang, brå oppsving (allment); i ordsammensetninger gjerne -bølgje/-bølge, jf. babyboom"},{"importord":"booster","avloeserord":"forsterkar/forsterker, effektforsterkar/effektforsterker, sluttforsterkar/sluttforsterker"},{"importord":"boote","avloeserord":"starte (datamaskin), kaldstarte, jf. restart"},{"importord":"brain drain","avloeserord":"hjerneflukt"},{"importord":"brainstorming","avloeserord":"idédugnad, idémyldring"},{"importord":"branding","avloeserord":"merkevarebygging (nær.liv); brennemerking (tatoveringsteknikk)"},{"importord":"breakdown","avloeserord":"samanbrot/sammenbrudd, havari, driftsfeil, oppdeling, spesifikasjon"},{"importord":"breaking news","avloeserord":"siste nytt, nyhendevarsel/nyhetsvarsel, akkurat no / akkurat nå, no:/nå, siste"},{"importord":"browse","avloeserord":"bla, bla igjennom, lese"},{"importord":"browse path","avloeserord":"katalogstig/katalogsti, filstig/filsti (IKT), jf. search path"},{"importord":"browser / web browser","avloeserord":"nettlesar/nettleser"},{"importord":"bucket list","avloeserord":"kisteliste"},{"importord":"bug","avloeserord":"programfeil, jf. debug"},{"importord":"bull market","avloeserord":"oksemarknad/oksemarked "},{"importord":"business-to-government (B2G)/ business-to-administration (B2A)","avloeserord":"handel med offentleg sektor / handel med offentlig sektor"},{"importord":"business-to-business (B2B)","avloeserord":"handel mellom næringsdrivande / handel mellom næringsdrivende, handel mellom bedrifter"},{"importord":"business-to-consumer (B2C)","avloeserord":"detaljhandel"},{"importord":"business-to-government (B2G)","avloeserord":"sal til det offentlege / salg til det offentlige (= business-to-administration (B2A))"},{"importord":"business case","avloeserord":"prosjektgrunngjeving/prosjektbegrunnelse, verksemdsscenario/virksomhetsscenario, forretningsgrunnlag, konseptgrunnlag"},{"importord":"button","avloeserord":"(jakke)merke (allment); knapp (IKT)"},{"importord":"by-line (byline)","avloeserord":"signatur"},{"importord":"byline picture","avloeserord":"signaturbilete/signaturbilde"},{"importord":"cageball","avloeserord":"burball, burfotball"},{"importord":"call center (call centre)","avloeserord":"kundesenter, kundetelefon, jf. help desk"},{"importord":"calling","avloeserord":"dørtelefon (på hus)"},{"importord":"canyon","avloeserord":"gjel, kløft, juv"},{"importord":"canyoning","avloeserord":"juving, juvvandring"},{"importord":"cap","avloeserord":"skyggelue, kaps"},{"importord":"carjacking","avloeserord":"bilkapring"},{"importord":"carport","avloeserord":"open garasje / åpen garasje, bilbås"},{"importord":"case","avloeserord":"(jf. case study:) kasus, tilfelle, sak, emne, eksempeltilfelle (-person osv.), døme(tilfelle), typeeksempel, typedøme; undersøkelsesobjekt, granskingsemne"},{"importord":"case study","avloeserord":"kasusstudie, tilfellestudie, eksempelstudie, dømestudie"},{"importord":"cash management","avloeserord":"likviditetsstyring"},{"importord":"catering","avloeserord":"matlevering; selskapsmat"},{"importord":"catwalk","avloeserord":"motemolo"},{"importord":"chat","avloeserord":"nettprat"},{"importord":"chatbot","avloeserord":"samtalerobot, praterobot"},{"importord":"chatte","avloeserord":"prate på nettet, nettprate, (humor.:) tjatte, tjatre"},{"importord":"child grooming","avloeserord":"barnelokking"},{"importord":"chip","avloeserord":"(data)brikke, integrert krins / integrert krets, jf. integrated circuit, microchip"},{"importord":"chips","avloeserord":"potetgull, potetlauv/potetløv; (mer allment:) flak, spon"},{"importord":"chunk","avloeserord":"klump, bit"},{"importord":"citizen science","avloeserord":"folkeforsking, grasrotforsking"},{"importord":"clickbait","avloeserord":"klikkagn, klikkfang"},{"importord":"clou (frå fransk)","avloeserord":"høgdepunkt/høydepunkt, glansnummer"},{"importord":"cloud computing","avloeserord":"nettsky (IKT)"},{"importord":"clue","avloeserord":"nøkkel, kjerne, poeng"},{"importord":"clutch","avloeserord":"koplingspedal, kløtsj"},{"importord":"coach","avloeserord":"trenar/trener, rettleiar/veileder, leiar/leder, rådgjevar/rådgiver"},{"importord":"coache","avloeserord":"trene, rettleie/veilede"},{"importord":"co-branded","avloeserord":"samprodukt"},{"importord":"co-branding","avloeserord":"merkevaresamarbeid, merkesamarbeid"},{"importord":"cole slaw","avloeserord":"kålsalat"},{"importord":"comeback","avloeserord":"tilbakekomst"},{"importord":"common sense","avloeserord":"sunn fornuft, folkevett/folkevit"},{"importord":"community","avloeserord":"lokalsamfunn, nettgruppe, nettsamfunn"},{"importord":"community-ansvarleg","avloeserord":"nettvert, redaktør, nettstammeansvarleg/-ansvarlig, nettgruppe-, nettsamfunn- (på Internett)"},{"importord":"competitive edge","avloeserord":"konkurransefordel, konkurranseforsprang"},{"importord":"compliance","avloeserord":"etterleving, regeletterleving/regeletterlevelse, regeloppfylling/regeloppfyllelse, samsvar"},{"importord":"compliance auditing","avloeserord":"etterlevingsrevisjon/etterlevelsesrevisjon, samsvarsrevisjon"},{"importord":"connector","avloeserord":"port, utgang, kontakt, koplingspunkt (maskinvare); portnar/portner, bindeledd (programvare)"},{"importord":"content management","avloeserord":"innhaldsstyring/innholdsstyring"},{"importord":"content marketing","avloeserord":"innhaldsmarknadsføring/innholdsmarkedsføring"},{"importord":"controller","avloeserord":"rekneskapsleiar/regnskapsleder, økonomioppfølgjar/økonomioppfølger, kontrollar/kontroller"},{"importord":"cookie","avloeserord":"informasjonskapsel, infokapsel, kjeks (IKT)"},{"importord":"copyright","avloeserord":"opphavsrett"},{"importord":"corner","avloeserord":"hjørnespark, hjørnekast (idr.)"},{"importord":"corporate governance","avloeserord":"eigarstyring og selskapsleiing / eierstyring og selskapsledelse"},{"importord":"corporate social responsibility (CSR)","avloeserord":"samfunnsansvaret til bedrifta / bedriftens samfunnsansvar"},{"importord":"cottage cheese","avloeserord":"hytteost"},{"importord":"cover charge","avloeserord":"inngangspengar/inngangspenger, kuvertavgift, entré"},{"importord":"crabsticks","avloeserord":"krabbepinnar/krabbepinner"},{"importord":"cracker","avloeserord":"datapirat"},{"importord":"crew","avloeserord":"stab, arbeidslag, gruppe, besetning, mannskap"},{"importord":"cross media publishing","avloeserord":"tverrpublisering, tverrmedial publisering"},{"importord":"crowd funding","avloeserord":"kronerulling (på nett), pengeinnsamling, folkefinansiering"},{"importord":"crowdsourcing","avloeserord":"(nett)dugnad"},{"importord":"cruise control","avloeserord":"fartshaldar/fartsholder"},{"importord":"cyber-","avloeserord":"kyber- (brukt om datamaskiner og Internett-universet)"},{"importord":"cyberstalking","avloeserord":"nettforfølging/nettforfølgelse, nett-elting, nettsjikane, netterror"},{"importord":"data mart","avloeserord":"datatorg, datamarknad/datamarked"},{"importord":"data warehouse","avloeserord":"datavarehus"},{"importord":"deadline","avloeserord":"leveringsfrist, tidsfrist, frist"},{"importord":"debug","avloeserord":"avluse; feilsøkje/feilsøke; rette programfeil, fjerne programlus; jf. bug"},{"importord":"dedicated","avloeserord":"engasjert, ihuga, heilhjarta/helhjertet (allment); dedisert (litt.); dedikert, (særskilt) tilordna/tilordnet og tilpassa/tilpasset (IKT), laga/laget for"},{"importord":"default","avloeserord":"standard(verdi), standardinnstilling (grunn-, forhånds-, normal-, leverandør-, produsent-)"},{"importord":"degrowth","avloeserord":"nedvekst"},{"importord":"desktop publishing (DTP)","avloeserord":"skrivebordssetjing/skrivebordssetting"},{"importord":"direct mail","avloeserord":"direktereklame"},{"importord":"disc-at-once","avloeserord":"heilbrenning/helbrenning, einøktsbrenning/enøktsbrenning, jf. session-at-once"},{"importord":"disc-jockey (DJ)","avloeserord":"plateprater, platesnurrer, platekusk, plateryttar/platerytter, diskjockey"},{"importord":"disclaimer","avloeserord":"ansvarsfråskriving, atterhald / ansvarsfraskrivelse, forbehold"},{"importord":"display","avloeserord":"skjerm, teiknrute/tegnrute, (tekst)vindauge/(tekst)vindu (t.d. på telefonen)"},{"importord":"disruptive technology","avloeserord":"brytningsteknologi"},{"importord":"docu-soap","avloeserord":"dokumentarsåpe, dokusåpe"},{"importord":"dot (uttalt «dått» etter eng.)","avloeserord":"punktum (i Internett- og e-postadresser)"},{"importord":"dotcom-selskap","avloeserord":"nettselskap"},{"importord":"double backslash","avloeserord":"dobbel omvend skråstrek / dobbelt omvendt skråstrek, jf. backslash"},{"importord":"double slash","avloeserord":"dobbel skråstrek / dobbelt skråstrek, jf. slash"},{"importord":"doughnut","avloeserord":"(amerikansk) smultring"},{"importord":"downlight","avloeserord":"(innfelt) nedlys"},{"importord":"drawback","avloeserord":"ulempe, bakdel, mangel"},{"importord":"driver","avloeserord":"drivar/driver (norsk uttale), styreprogram"},{"importord":"dummy","avloeserord":"modell, prototyp, falsk, uekte, skinn-"},{"importord":"earcon","avloeserord":"lydikon, lydlogo, jf. auditory icon"},{"importord":"e-book reader, e-book device","avloeserord":"lesebrett"},{"importord":"e-business","avloeserord":"e-forretningar/e-forretninger, e-forretningsdrift; e-forretning (om det enkelte firmaet)"},{"importord":"e-commerce","avloeserord":"e-handel, netthandel"},{"importord":"economies of agglomeration","avloeserord":"samlokaliseringsfordelar/samlokaliseringsfordeler"},{"importord":"editor","avloeserord":"redigeringsprogram (IKT)"},{"importord":"e-mail","avloeserord":"jf. mail"},{"importord":"embed","avloeserord":"bygge inn / byggje inn, setje/sette, felle"},{"importord":"employer branding","avloeserord":"arbeidsgjevarprofilering/arbeidsgiverprofilering"},{"importord":"empower","avloeserord":"myndiggjere/myndiggjøre, styrke, gje/gi styrke, setje i stand / sette i stand"},{"importord":"empowerment","avloeserord":"myndiggjering/myndiggjøring, styrking (f.eks. pasientstyrking)"},{"importord":"enter(tast)","avloeserord":"linjeskift(tast), retur(tast)"},{"importord":"entertainer","avloeserord":"underhaldar/underholder, underhaldningsartist/underholdningsartist, enterteinar/enterteiner"},{"importord":"equalizer","avloeserord":"tonekontroll; utjamnar/utjevner, utjamningsfilter/utjevningsfilter, jf. graphic equalizer"},{"importord":"e-reader","avloeserord":"lesebrett"},{"importord":"establishment, the","avloeserord":"det beståande / det bestående (samfunnet), etablissementet"},{"importord":"e-tailer","avloeserord":"e-taljist, nettkjøpmann"},{"importord":"eyeliner","avloeserord":"kajal, augeblyant/øyeblyant, jf. lipliner"},{"importord":"facility management","avloeserord":"næringsforvaltning, eigedomsforvaltning/eiendomsforvaltning, bygningsforvaltning"},{"importord":"faction","avloeserord":"faksjon (fakta + fiksjon)"},{"importord":"factoring","avloeserord":"faktoring, fakturakreditt"},{"importord":"fair","avloeserord":"rimeleg/rimelig, rettferdig, real, ærleg/ærlig"},{"importord":"fair play","avloeserord":"ærleg spel /ærlig spill, rettferdig behandling"},{"importord":"fan","avloeserord":"tilhengjar/tilhenger, beundrar/beundrer"},{"importord":"fanklubb","avloeserord":"beundrarklubb/beundrerklubb, venelag"},{"importord":"fast food","avloeserord":"kjappmat, hurtigmat, snøggmat, gatekjøkkenmat, jf. junk food"},{"importord":"fatbike","avloeserord":"tjukksykkel"},{"importord":"feature","avloeserord":"preg-, bakgrunns-, dokumentar-, interesse-, tema- (i ymse samansetjingar, t.d. med -artikkel , -journalistikk)"},{"importord":"feed","avloeserord":"straum/strøm (i sosiale medium/sosiale medier)"},{"importord":"feedback","avloeserord":"tilbakemelding, respons, reaksjon, tilbakekopling, svar"},{"importord":"fight","avloeserord":"(hard eller intens) kamp, hardt oppgjer / hardt oppgjør, fait"},{"importord":"fighte","avloeserord":"slåss/slåst, kjempe, konkurrere, faite"},{"importord":"fighter","avloeserord":"kjempar/kjemper, faitar/faiter"},{"importord":"fighting spirit","avloeserord":"kampånd, kampglød, gå-på-humør"},{"importord":"file server","avloeserord":"filtenar/filtjener"},{"importord":"finish","avloeserord":"sluttspurt; finpuss; finisj"},{"importord":"fintech","avloeserord":"finansteknologi"},{"importord":"flight","avloeserord":"(fly)avgang, (fly)rute, flyging/flygning, flytur"},{"importord":"flight recorder","avloeserord":"ferd(s)skrivar/ferd(s)skriver"},{"importord":"flip-over","avloeserord":"arktavle, papirtavle, stativblokk, flippover"},{"importord":"flop","avloeserord":"fiasko, flopp"},{"importord":"flow","avloeserord":"strøm; (psyk.:) flyt"},{"importord":"flow chart","avloeserord":"flytskjema, flytdiagram"},{"importord":"food processor","avloeserord":"kjøkkenmaskin, matmølle, matprosessor, matkvern"},{"importord":"food truck","avloeserord":"matvogn, matbil"},{"importord":"footer","avloeserord":"botntekst/bunntekst, jf. header (IKT)"},{"importord":"franchise","avloeserord":"forhandlarrett/forhandlerrett, agentur"},{"importord":"franchising","avloeserord":"forhandlarrettssamarbeid/forhandlerrettssamarbeid, forhandlaravtale/forhandleravtale"},{"importord":"freelance","avloeserord":"frilans (adj.); frilansar/frilanser (subst.)"},{"importord":"frisbee","avloeserord":"disk, skjenebrett, sendeplate"},{"importord":"front-office","avloeserord":"kontorklient(program), jf. backoffice"},{"importord":"frozen shoulder","avloeserord":"frosen skulder / frossen skulder (med.)"},{"importord":"fun fact","avloeserord":"morofakta"},{"importord":"fund raising","avloeserord":"pengeinnsamling, innsamlingsaksjon"},{"importord":"fuzzy logic","avloeserord":"ullen logikk, flytande / flytende logikk, lodden logikk, linn logikk"},{"importord":"gadget","avloeserord":"dings"},{"importord":"gate","avloeserord":"utgang (på flyplass)"},{"importord":"geek","avloeserord":"fagidiot; særling; dust"},{"importord":"General Data Protection Regulation (GDPR)","avloeserord":"personvernforordningen (PVF)"},{"importord":"ghost writer","avloeserord":"skyggeforfatter / skuggeforfattar"},{"importord":"Global Positioning System (GPS)","avloeserord":"globalt posisjonsystem (GPS)"},{"importord":"golden goal","avloeserord":"førstemålssiger/førstemålsseier, «første målet vinn» / «første målet vinner»"},{"importord":"goodwill","avloeserord":"velvilje, godvilje"},{"importord":"governance","avloeserord":"styring (og ettersyn); delaktighetsstyring; styresett"},{"importord":"graphic equalizer","avloeserord":"grafisk tonekontroll, jf. equalizer"},{"importord":"gründer","avloeserord":"grunnleggjar/grunnlegger (nøytralt); jobbar/jobber (negativt); jobbskapar/jobbskaper (positivt)"},{"importord":"guide","avloeserord":"omvisar/omviser, turleder/turleiar, reiseleiar/reiseleder, gaid"},{"importord":"guts","avloeserord":"(ha) mot, pågangsmot, vågemot, karakter(styrke), tæl, nerk; (være/vere) modig, djerv, uredd, ikke/ikkje skvetten"},{"importord":"hacker","avloeserord":"datasnok"},{"importord":"handout","avloeserord":"støtteark"},{"importord":"handsfree","avloeserord":"handfri/håndfri (mobiltelefon)"},{"importord":"hanggliding","avloeserord":"hengeflyging, hengegliding"},{"importord":"hangover","avloeserord":"fyllesjuke, tømmermenn, bakrus"},{"importord":"hard disk","avloeserord":"platelager, harddisk"},{"importord":"hardware","avloeserord":"maskinvare"},{"importord":"hashtag","avloeserord":"emneknagg"},{"importord":"heade","avloeserord":"nikke, skalle, stange, hedde"},{"importord":"header","avloeserord":"topptekst, jf. footer (IKT)"},{"importord":"heading","avloeserord":"(fotball) hovudstøyt/hodestøt"},{"importord":"headhunte","avloeserord":"handplukke/håndplukke, drive hovudjakt / drive hodejakt"},{"importord":"headhunting","avloeserord":"handplukking/håndplukking, hovudjakt/hodejakt, utveljing/utvelging"},{"importord":"heading","avloeserord":"overskrift, tittel (media); nikking, hedding (idr.)"},{"importord":"heavy rock","avloeserord":"tungrock"},{"importord":"help desk","avloeserord":"hjelpesentral, hjelpeteneste/hjelpetjeneste, kundehjelp, svarteneste/svartjeneste, jf. call center og support"},{"importord":"hibernation mode","avloeserord":"dvalemodus (IKT)"},{"importord":"highlight","avloeserord":"høgdepunkt/høydepunkt"},{"importord":"hi-tech","avloeserord":"høgteknologisk/høyteknologisk"},{"importord":"holding company","avloeserord":"eigarselskap/eierselskap, holdingselskap"},{"importord":"horrorfilm","avloeserord":"grøssar/grøsser, skrekkfilm"},{"importord":"host (med eng. uttale)","avloeserord":"(web)hotell, vert, vertsteneste/vertstjeneste (IKT)"},{"importord":"hoste (med eng. uttale)","avloeserord":"drifte, leige ut / leie ut [plass til] programvare og bruk av programvare på datamaskiner over Internett, jf. web hotel"},{"importord":"hosted (med eng. uttale)","avloeserord":"utleigd/utleid"},{"importord":"hosting (med eng. uttale)","avloeserord":"netthotell, utleige/utleie"},{"importord":"hostmaster","avloeserord":"namnemeister/navnemester, namneforvaltar/navneforvalter (for særskilde Internett-tenester)"},{"importord":"hotlist","avloeserord":"favorittliste, yndlingsbokmerke/yndlingsbokmerker (IKT)"},{"importord":"house","avloeserord":"huse (andres operative maskinvare i eigne lokale mot betaling), jf. hoste"},{"importord":"housed","avloeserord":"husa/huset"},{"importord":"housing","avloeserord":"husing"},{"importord":"human resource (HR)","avloeserord":"personalressurs"},{"importord":"human resource management (HRM)","avloeserord":"leiing av personalressursar  / ledelse av personalressurser, leiing av menneskelege ressursar (LMR) / Ledelse av menneskelige ressurser (LMR)"},{"importord":"human resource manager","avloeserord":"personalsjef"},{"importord":"image","avloeserord":"uttrykk, (personleg/personlig) stil, profil, omdømme, ry"},{"importord":"impact","avloeserord":"samfunnsbidrag"},{"importord":"implementere","avloeserord":"setje i verk/iverksette, setje ut i livet / sette ut i livet, gjennomføre"},{"importord":"India pale ale","avloeserord":"indiaøl"},{"importord":"influencer","avloeserord":"påverkar/påvirker"},{"importord":"infotainment","avloeserord":"nyheitsunderhaldning/nyhetsunderholdning, tabloid-"},{"importord":"in-house","avloeserord":"intern-, firma- (i samansetjingar), sjølv/selv, på huset"},{"importord":"inline skates","avloeserord":"(«linjeskøyter», dvs. rulleskøyter med hjulene på rekke:) rulleskøyter"},{"importord":"inside trading","avloeserord":"innsidehandel"},{"importord":"insider","avloeserord":"innsidar/innsider"},{"importord":"instant coffee","avloeserord":"pulverkaffi/pulverkaffe"},{"importord":"instant message","avloeserord":"direktemelding, hurtigmelding, snøggmelding"},{"importord":"instant messaging (IM)","avloeserord":"direktemeldingst(j)eneste, snøggmeldingsteneste/hurtigmeldingstjeneste"},{"importord":"integrated circuit","avloeserord":"integrert krins / integrert krets, (data)brikke, jf. chip"},{"importord":"interface","avloeserord":"grensesnitt"},{"importord":"Internet service provider (ISP)","avloeserord":"internettilbydar/internettilbyder"},{"importord":"jetlag","avloeserord":"jet(t)sjuke/jet(t)syke, døgnville/døgnvillhet"},{"importord":"jingle","avloeserord":"lydvignett, lydlogo"},{"importord":"joint venture","avloeserord":"samføretak/samforetak, fellesføretak/fellesforetak, samarbeidsprosjekt"},{"importord":"joystick","avloeserord":"styrespak, kontrollspak"},{"importord":"junk food","avloeserord":"søppelmat, usunn mat, gatekjøkkenmat, jf. fast food"},{"importord":"just-in-time-prinsippet","avloeserord":"i-rett(e)-tid-prinsippet, der-og-da-prinsippet"},{"importord":"keeper","avloeserord":"målvakt"},{"importord":"key account manager","avloeserord":"hovudkundeansvarleg/hovedkundeansvarlig, nøkkelkundeleiar/nøkkelkundeleder, nøkkelkundekonsulent"},{"importord":"keyboard","avloeserord":"tangentbrett (mus.); tastatur (IKT)"},{"importord":"kick-off","avloeserord":"avspark (idr.); oppstart, start (allment)"},{"importord":"killer application («killer app»)","avloeserord":"tetprogram, vinnarprogram/vinnerprogram (IKT)"},{"importord":"knowhow","avloeserord":"fagkunnskap, faginnsikt, ekspertise"},{"importord":"knowledge management","avloeserord":"kunnskapsleiing/kunnskapsledelse, kompetanseleiing/kompetanseledelse"},{"importord":"laptop","avloeserord":"berbar (datamaskin, pc) / bærbar (datamaskin, pc) (IKT)"},{"importord":"layout","avloeserord":"grafisk utforming, oppsett, bladbunad, jf. design"},{"importord":"leading zero","avloeserord":"leiande null / ledende null, førestilt null / foranstilt null"},{"importord":"leasing","avloeserord":"leigefinansiering/leiefinansiering"},{"importord":"leisure wear","avloeserord":"fritidsklede/fritidsklær"},{"importord":"lighter","avloeserord":"(sigarett-)tennar/(sigarett-)tenner"},{"importord":"link","avloeserord":"lenkje/lenke, peikar/peker, kopling (IKT)"},{"importord":"lipgloss","avloeserord":"leppeglans"},{"importord":"lipliner","avloeserord":"leppeblyant, leppekajal, jf. eyeliner"},{"importord":"literacy","avloeserord":"skriftkultur, skriftkunne/skriftkyndighet, tekstkompetanse, litterasitet"},{"importord":"literature review","avloeserord":"litteraturgjennomgang"},{"importord":"live","avloeserord":"direktesend/direktesendt, direkte"},{"importord":"loin","avloeserord":"(om fisk:) rygg (f.eks. torskerygg), ryggstykke, ryggfilet (uten halestykket)"},{"importord":"mail","avloeserord":"e-post, e-brev, e-melding, jf. e-mail"},{"importord":"maile","avloeserord":"sende e-post, e-poste"},{"importord":"mailing list","avloeserord":"e-postliste"},{"importord":"mainstream-","avloeserord":"hovudstraums-/hovedstrøms-, midtstims-, midtstraums-/midtstrøms-"},{"importord":"makerspace","avloeserord":"folkeverkstad/folkeverksted"},{"importord":"makeup","avloeserord":"sminke"},{"importord":"management","avloeserord":"leiing/ledelse (bedrifts-), styring"},{"importord":"management consultant","avloeserord":"bedriftsrådgjevar/bedriftsrådgiver, strategirådgjevar/strategirådgiver"},{"importord":"manager","avloeserord":"leiar/leder, sjef, forretningsførar/forretningsfører, impresario, arrangør"},{"importord":"manual","avloeserord":"handbok/håndbok, bruksrettleiing/bruksanvisning"},{"importord":"marketing","avloeserord":"marknadsføring/markedsføring"},{"importord":"mashup","avloeserord":"nettfletting (IKT)"},{"importord":"match","avloeserord":"kamp (idr.); jambyrdig motstandar / jevnbyrdig motstander, make; (full) klaff"},{"importord":"matche","avloeserord":"passe saman med / passe sammen med, stå til; komme opp mot, måle seg med"},{"importord":"m-commerce (mobile commerce)","avloeserord":"m-handel, mobilhandel"},{"importord":"memory card","avloeserord":"minnekort"},{"importord":"memory stick","avloeserord":"minnepinne"},{"importord":"metallic","avloeserord":"(med) metallglans"},{"importord":"microchip","avloeserord":"(data)brikke, mikrobrikke, integrert krins / integrert krets, jf. chip, integrated circuit"},{"importord":"mindfulness","avloeserord":"oppmerksomt nærvær / merksamt nærvær, ans"},{"importord":"mnemonic","avloeserord":"hugsesymbol/huskesymbol, hugseregel/huskeregel"},{"importord":"mnemonics","avloeserord":"hugsekunst/huskekunst, hugseteknikk/husketeknikk"},{"importord":"moderator","avloeserord":"debattleder, ordstyrer"},{"importord":"mountain bike","avloeserord":"terrengsykkel, jf. offroad-sykkel"},{"importord":"mountain biking","avloeserord":"terrengsykling, jf. offroad-sykkel"},{"importord":"multiple choice (question)","avloeserord":"fleirvalsoppgåve/flervalgsoppgave"},{"importord":"multitasking","avloeserord":"fleiroppgåvekjøring/fleroppgavekjøring (IKT)"},{"importord":"multi touch-screen","avloeserord":"fleirtrykksskjerm/flertrykksskjerm (IKT)"},{"importord":"musical","avloeserord":"musikkspel/musikkspill, musikal"},{"importord":"must","avloeserord":"nødvendigheit/nødvendighet"},{"importord":"mute","avloeserord":"dempar/demper"},{"importord":"network governance","avloeserord":"nettverksstyring"},{"importord":"news on demand","avloeserord":"nyheiter etter (ved) behov, på bestilling / nyheter etter (ved) behov, på bestilling, jf. on demand"},{"importord":"newsfeed","avloeserord":"nyheitsvarsling/nyhetsvarsling, -mating, -straum/strøm"},{"importord":"newsgroup","avloeserord":"temagruppe, nyheitsgruppe/nyhetsgruppe, diskusjonsgruppe (IKT)"},{"importord":"no-platform","avloeserord":"scenenekt"},{"importord":"notebook","avloeserord":"berbar (datamaskin) / bærbar (datamaskin) (IKT)"},{"importord":"offline (off-line)","avloeserord":"nedkopla/nedkoplet, fråkopla/frakoplet, jf. online"},{"importord":"off-piste","avloeserord":"laussnøkjøring/løssnøkjøring, frikjøring"},{"importord":"offroad-sykkel","avloeserord":"terrengsykkel, jf. mountain bike"},{"importord":"on demand","avloeserord":"etter behov, behovs-, -bestillings-, tingings-, på førespurnad / på forespørsel, jf. news, print, publishing og video on demand"},{"importord":"on-hook dialing","avloeserord":"rørlaus oppringing / rørløs oppringing"},{"importord":"online (on-line)","avloeserord":"oppkopla/oppkoplet, tilkopla/tilkoplet, på nettet (IKT); tilgjengeleg/tilgjengelig eller «med» (sjargong), jf. offline"},{"importord":"open access","avloeserord":"open/åpen tilgang"},{"importord":"oppbacking","avloeserord":"oppbakking, jf. backing"},{"importord":"option","avloeserord":"val/valg, alternativ, moglegheit/mulighet (allment); opsjon (økon./pol.); funksjonsval/funksjonsvalg (IKT)"},{"importord":"outlet","avloeserord":"fabrikkutsalg, merkevareutsalg"},{"importord":"outsider","avloeserord":"utsidar/utsider"},{"importord":"out-of-office message","avloeserord":"fråværsmelding/fraværsmelding"},{"importord":"outsourcing","avloeserord":"utkontraktering, tenesteutsetjing/tjenesteutsetting "},{"importord":"overhead","avloeserord":"skriftprosjektør, lysarkvisar/lysarkviser (tekn.); lysark, transparent (tekn.); administrasjonskostnader, felleskostnader (økon.)"},{"importord":"overheadprojektor","avloeserord":"skriftprosjektør, lysarkvisar/lysarkviser"},{"importord":"pager","avloeserord":"personsøkjar/personsøker"},{"importord":"paper","avloeserord":"forskingsartikkel/forskningsartikkel, vitskapleg innlegg/vitenskapelig innlegg"},{"importord":"paramedic","avloeserord":"paramedisinar/paramedisiner (person)"},{"importord":"paring","avloeserord":"(mobil) parkopling, paring"},{"importord":"patch","avloeserord":"reparasjonsfil, programfiks, feilfiks (IKT)"},{"importord":"patchwork","avloeserord":"lappeteknikk, jf. quilt"},{"importord":"patient (care) pathway","avloeserord":"pasientforløp/pasientløype"},{"importord":"peer review","avloeserord":"fagfellevurdering, kollegavurdering"},{"importord":"peer-to-peer (P2P) network","avloeserord":"likenett, jambyrdsnett/jevnbyrdsnett"},{"importord":"peptalk","avloeserord":"peppreik, pepprat, kveikpreik, piffprat"},{"importord":"performance-kunst","avloeserord":"framføringskunst"},{"importord":"phishing","avloeserord":"nettfisking"},{"importord":"pink","avloeserord":"rosa, lyseraud/lyserød"},{"importord":"pitch","avloeserord":"innsal/innsalg"},{"importord":"plug-in","avloeserord":"programtillegg"},{"importord":"podcast","avloeserord":"podkast, poddkast"},{"importord":"pole position","avloeserord":"beste startspor"},{"importord":"policy","avloeserord":"politikk, taktikk, retningslinjer"},{"importord":"polish","avloeserord":"poler(ings)middel, pussemiddel, polisj"},{"importord":"pop-up menu","avloeserord":"oppsprettsmeny, sprettoppmeny, hurtigmeny, snøggmeny"},{"importord":"poster","avloeserord":"plakat"},{"importord":"preset","avloeserord":"førehandssetje/forhåndssette, førehandsinnstille/forhåndsinnstille"},{"importord":"prime time","avloeserord":"beste sendetid"},{"importord":"print on demand (POD)","avloeserord":"trykk etter behov (TEB), bestillingstrykk, tingingstrykk, jf. publishing on demand"},{"importord":"printe (ut)","avloeserord":"skrive ut"},{"importord":"printer","avloeserord":"skrivar/skriver"},{"importord":"process flow","avloeserord":"prosessflyt"},{"importord":"producer","avloeserord":"produsent, produksjonsleiar/produksjonsleder, produksjonsansvarleg/produksjonsansvarlig"},{"importord":"promotion","avloeserord":"salsframstøyt/salgsframstøt; (fram)hjelp, fremming, promotering"},{"importord":"proof of concept (POC)","avloeserord":"konseptprov/konseptbevis"},{"importord":"proxy server","avloeserord":"mellom(ledds)tenar/mellom(ledds)tjener"},{"importord":"public service (broadcasting)","avloeserord":"allmennkringkasting"},{"importord":"publishing on demand","avloeserord":"medieuavhengig publisering, medienøytral publisering, jf. print on demand og on demand"},{"importord":"pulled pork","avloeserord":"plukksvin"},{"importord":"push-up","avloeserord":"armheving"},{"importord":"quilt","avloeserord":"(vattert) lappeteppe, jf. patchwork"},{"importord":"quilte","avloeserord":"sy (vattert) lappeteppe, jf. patchwork"},{"importord":"rack","avloeserord":"reol (mus., IKT, allment)"},{"importord":"rail","avloeserord":"takreling, takhaldar/takholder (tekn.); reling (allment)"},{"importord":"ransomware","avloeserord":"løysepengevirus/løsepengevirus, utpressingsvirus, gisselskadevare"},{"importord":"raw food","avloeserord":"råmat"},{"importord":"reality-TV","avloeserord":"røyndoms-TV/virkelighets-TV, dokusåpe"},{"importord":"recovery","avloeserord":"(helse) tilfrisking/tilfriskning"},{"importord":"referee","avloeserord":"fagkonsulent (i tidsskrift)"},{"importord":"refill","avloeserord":"påfyll"},{"importord":"release","avloeserord":"plateslepp/plateslipp"},{"importord":"release notes","avloeserord":"produktmerknader, versjonsmerknader (IKT)"},{"importord":"release party","avloeserord":"(plate)sleppfest/(plate)slippfest"},{"importord":"research","avloeserord":"(for)undersøking/(for)undersøkelse, kjeldearbeid/kildearbeid"},{"importord":"reset","avloeserord":"tilbakestille, nullstille"},{"importord":"restart","avloeserord":"omstart, varmstart, jf. boote (IKT)"},{"importord":"retail version","avloeserord":"forhandlarversjon/forhandlerversjon, salsversjon/salgsversjon (IKT)"},{"importord":"retweet","avloeserord":"gjentvitre/oppattvitre, retvitre"},{"importord":"reverse engineering","avloeserord":"omvend/omvendt utvikling, tilbakevikling, inversutvikling"},{"importord":"road-movie","avloeserord":"landevegsfilm/landeveisfilm"},{"importord":"roaming","avloeserord":"nettveksling, nett(om)streifing, nettgjesting"},{"importord":"rockhopping","avloeserord":"(i havpadling:) brot(t)leik, brot(t)padling"},{"importord":"roller blades","avloeserord":"(eg. inline skates «linjeskøyter») rulleskøyter"},{"importord":"roll-on","avloeserord":"(kule)deodorant, (uformelt:) rulledeo"},{"importord":"roll-up","avloeserord":"rullebanner, rulleplakat"},{"importord":"RSS feed","avloeserord":"nyheitsvarsling/nyhetsvarsling, -mating"},{"importord":"sample","avloeserord":"punktprøve (tekn.); lydsnutt, videosnutt (mus., media); utval/utvalg (samf.vit.)"},{"importord":"sampling","avloeserord":"punktprøving (tekn.); digitalisering (mus., media); direkte utdeling av vareprøver (nær.liv)"},{"importord":"scanne","avloeserord":"skanne, avlese"},{"importord":"scanner","avloeserord":"skannar/skanner, avlesar/avleser"},{"importord":"scoop","avloeserord":"varp, nyheitskupp/nyhetskupp, skup"},{"importord":"scrapie","avloeserord":"skrapesjuke/skrapesyke (hos sau)"},{"importord":"screen dump","avloeserord":"skjermdump, skjermbiletkopi/skjermbildekopi"},{"importord":"screen shot","avloeserord":"skjermdump, skjermbiletkopi/skjermbildekopi"},{"importord":"screening","avloeserord":"masseundersøking"},{"importord":"scroll bar","avloeserord":"rullefelt, rullesjakt (IKT)"},{"importord":"search path","avloeserord":"søkjebane/søkebane, søkjeveg/søkevei (i operativsystem), jf. browse path"},{"importord":"segway","avloeserord":"ståhjuling"},{"importord":"selfie","avloeserord":"sjølis, selvis / sjølvis, selvportrett, sjølportrett / sjølvportrett"},{"importord":"server","avloeserord":"tenar/tjener, jf. webserver"},{"importord":"session-at-once","avloeserord":"delbrenning, øktbrenning, fleirøktsbrenning/flerøktsbrenning, jf. disc-at-once"},{"importord":"shoppe","avloeserord":"handle, gå på handletur, gå i butikkar / gå i butikker"},{"importord":"shoppingsenter","avloeserord":"kjøpesenter, butikksenter"},{"importord":"short message system (SMS)","avloeserord":"kortmeldingsteneste/kortmeldingstjeneste (for SMS-meldingar, dss. tekstmeldingar)"},{"importord":"sidebar","avloeserord":"sidestolpe, infostolpe (IKT)"},{"importord":"single touch-screen","avloeserord":"enkelttrykksskjerm/eittrykksskjerm (IKT)"},{"importord":"site (web -)","avloeserord":"vevstad/vevsted, nettstad/nettsted"},{"importord":"skateboard","avloeserord":"rullebrett"},{"importord":"skins","avloeserord":"drakt, tema, ham (IKT), jf. themes"},{"importord":"skippe","avloeserord":"late vere / la være, hoppe over, sløyfe, kutte ut"},{"importord":"slash (/)","avloeserord":"skråstrek"},{"importord":"slippery slope","avloeserord":"(overført:) skråplan"},{"importord":"slow motion","avloeserord":"sakte film, langsam kino / langsom kino"},{"importord":"smoothie","avloeserord":"smudi"},{"importord":"snowboard","avloeserord":"snøbrett"},{"importord":"software","avloeserord":"programvare"},{"importord":"sound","avloeserord":"klangfarge, lydstil"},{"importord":"soundtrack","avloeserord":"lydspor"},{"importord":"sous vide","avloeserord":"vakuumlaga mat / vakuumlaget mat, vakuumtilverka mat / vakuumtilberedt mat, vakuumtrekt mat / vakuumtrukket mat, vakuumtilverking / vakuumtilberedelse"},{"importord":"space management","avloeserord":"varestyring"},{"importord":"space manager","avloeserord":"vareansvarleg/vareansvarlig"},{"importord":"spam","avloeserord":"søppelpost"},{"importord":"speaking notes","avloeserord":"handnotat/håndnotat, foredragsmanus, talemanus, talenotat/talenotater"},{"importord":"spin-off","avloeserord":"avspinn, sideverknad/sidevirkning, sideeffekt"},{"importord":"spoiler alert","avloeserord":"plottblottar/plottblotter, røpealarm, røpevarsel"},{"importord":"spotlight","avloeserord":"punktlys, punktlampe, spotlys, rampelys"},{"importord":"stakeholder","avloeserord":"interessent"},{"importord":"stalker","avloeserord":"forfølger/forfølgjar, (nyno. òg:) eltar"},{"importord":"standby","avloeserord":"klar, parat, i beredskap (allment); beredskaps- (-fartøy, -troppar o.a.) (mil.)"},{"importord":"standbybillett","avloeserord":"sjansebillett"},{"importord":"standbymodus","avloeserord":"ventemodus, kvilemodus/hvilemodus (tekn., IKT)"},{"importord":"stand-in","avloeserord":"reserve"},{"importord":"stand-up-komikar/stand-up-komiker","avloeserord":"spontankomikar/spontankomiker, ståoppkomikar/ståoppkomiker"},{"importord":"stashe (seg opp)","avloeserord":"stase (seg opp), pynte (seg)"},{"importord":"storyboard","avloeserord":"dreiebok"},{"importord":"stout","avloeserord":"stautøl"},{"importord":"streaming","avloeserord":"strøyming/strømming (direkteavspeling/direkteavspilling av video og lyd over Internett) (IKT)"},{"importord":"street credibility","avloeserord":"gatetruverd/gatetroverdighet"},{"importord":"stretchlaken","avloeserord":"strekklaken"},{"importord":"sub-woofer","avloeserord":"sub-bass(høgtalar)/sub-bass(høyttaler)"},{"importord":"sudden death","avloeserord":"førstemålsspel/førstemålsspill"},{"importord":"sunk cost","avloeserord":"tapt kostnad, irreversibel kostnad"},{"importord":"supply-båt","avloeserord":"forsyningsbåt"},{"importord":"support","avloeserord":"brukarstøtte/brukerstøtte (IKT); støtte (allment); jf. help desk"},{"importord":"supporter","avloeserord":"tilhengjar/tilhenger, støttemedlem"},{"importord":"supporterklubb","avloeserord":"støtteklubb, tilhengjarklubb/tilhengerklubb, jf. fanklubb"},{"importord":"surround sound","avloeserord":"kringlyd"},{"importord":"swimming pool","avloeserord":"symjebasseng/svømmebasseng"},{"importord":"system(s) engineering","avloeserord":"systemutvikling"},{"importord":"tab","avloeserord":"arkfane, fane, flik; etikett, merkelapp; tabb"},{"importord":"tablet (PC)","avloeserord":"nettbrett"},{"importord":"take-away-food","avloeserord":"hentemat, ta-med-mat"},{"importord":"talkshow","avloeserord":"prateprogram"},{"importord":"tap screen","avloeserord":"trykkskjerm"},{"importord":"tape (s.)","avloeserord":"limband/limbånd, lydband/lydbånd, videoband/videobånd, teip"},{"importord":"tape (v.)","avloeserord":"ta opp, teipe"},{"importord":"target man","avloeserord":"oppspelspunkt/oppspillspunkt (idr.)"},{"importord":"team","avloeserord":"(arbeids)lag, (samarbeids)gruppe"},{"importord":"teambuilding","avloeserord":"lagutvikling, lagbygging"},{"importord":"teamwork","avloeserord":"lagarbeid, samarbeid"},{"importord":"teaser","avloeserord":"smakebit"},{"importord":"telemarketing","avloeserord":"telefonsal/telefonsalg, marknadsføring/markedsføring (over telefon)"},{"importord":"themes","avloeserord":"tema, drakt, ham (IKT), jf. skins"},{"importord":"think-tank","avloeserord":"tenkjesmie/tenkesmie, tenkjetank/tenketank"},{"importord":"throbber","avloeserord":"puls-ikon (ikon i nettlesarar som er animert under søk el. nedlasting)"},{"importord":"thumbnail","avloeserord":"miniatyrbilete/miniatyrbilde, knøttbilete/knøttbilde (IKT)"},{"importord":"time manager","avloeserord":"tidsplanleggjar/tidsplanlegger"},{"importord":"time-outtime outtimeout","avloeserord":"det å gå i tenkjeboksen / det å gå i tenkeboksen, pause (ped.), tidsavbrot / tidsavbrudd (IKT)"},{"importord":"timeshare","avloeserord":"tidspart, deltids(bruks)rett; parts-/andels- (t.d. -båt, -hytte)"},{"importord":"timesharing","avloeserord":"tidsdeling, deltidsbruk; deltids(l)eige/deltids(l)eie"},{"importord":"toastmaster","avloeserord":"visevert, kjøkemeister/kjøkemester"},{"importord":"to-do-liste","avloeserord":"gjereliste/gjøreliste, gjeremålsliste/gjøremålsliste"},{"importord":"tooltip","avloeserord":"verktøyhjelp (IKT)"},{"importord":"touch screen","avloeserord":"trykkskjerm"},{"importord":"touchpad","avloeserord":"styreplate, peikeplate/pekeplate (IKT)"},{"importord":"trainee","avloeserord":"opplæringstilsett/opplæringsansatt, opplæringskandidat, aspirant, praktikant"},{"importord":"trick or treat","avloeserord":"knask eller knep, godteri eller fanteri, snask eller snusk, grøss eller godteri"},{"importord":"trigge","avloeserord":"setje i gang / sette i gang, utløyse/utløse"},{"importord":"trigger","avloeserord":"utløysande faktor / utløsende faktor, inspirasjonskjelde/inspirasjonskilde"},{"importord":"true crime","avloeserord":"krim frå røyndomen / krim fra virkeligheten, røyndomskrim/virkelighetskrim, krimdokumentar, dokukrim"},{"importord":"turnover","avloeserord":"gjennomtrekk, utskifting, gjennomstrøyming/gjennomstrømming "},{"importord":"tutorial","avloeserord":"rettleiing/veiledning"},{"importord":"tweet","avloeserord":"(verb:) tvitre, kvitre"},{"importord":"tweet","avloeserord":"(substantiv:) tvitring, tvitt, twittermelding, kvitter, kvitring"},{"importord":"twitter","avloeserord":"se tweet"},{"importord":"underscore","avloeserord":"understrek, understreking"},{"importord":"understatement","avloeserord":"underdriving/underdrivelse"},{"importord":"urbanist","avloeserord":"byplanleggjar/byplanlegger"},{"importord":"video on demand","avloeserord":"video på førespurnad / video på forespørsel; videotorg, tingingsvideo/bestillingsvideo"},{"importord":"voice actor","avloeserord":"stemmelegger"},{"importord":"voice mail","avloeserord":"talepost"},{"importord":"voice over","avloeserord":"fortellerstemme, kommentatorstemme"},{"importord":"voice response","avloeserord":"talesvar, innvalssørvis/innvalgssørvis, talerespons"},{"importord":"voucher","avloeserord":"studiebillett, studiesertifikat (utd.); (hotell)kupong"},{"importord":"walkover","avloeserord":"autoopprykk; gratissiger/gratisseier"},{"importord":"weasel","avloeserord":"beltebil"},{"importord":"web designer","avloeserord":"vevutformar/vevutformer, nettskreddar/nettskredder, vevarkitekt, nettsidearkitekt"},{"importord":"web hotel","avloeserord":"vevhotell"},{"importord":"web pad","avloeserord":"nettbrett"},{"importord":"webinar","avloeserord":"nettseminar"},{"importord":"webmaster","avloeserord":"nettredaktør, nettadministrator, nettmeister/nettmester"},{"importord":"webserver","avloeserord":"nettenar/nettjener, vevtenar/vevtjener"},{"importord":"webside","avloeserord":"nettside"},{"importord":"weekend","avloeserord":"helg, vekeslutt/ukeslutt"},{"importord":"whiplash","avloeserord":"nakkesleng"},{"importord":"whistleblower","avloeserord":"varslar/varsler"},{"importord":"whiteboard","avloeserord":"tusjtavle"},{"importord":"whiteboard-tusj","avloeserord":"tavletusj"},{"importord":"wicked problem","avloeserord":"gjenstridig problem"},{"importord":"widescreen","avloeserord":"breiskjerm/bredskjerm"},{"importord":"windsurfing","avloeserord":"brettsegling/brettseiling"},{"importord":"wizard","avloeserord":"vegvisar/veiviser, los (i dataprogram)"},{"importord":"workflow","avloeserord":"arbeidsflyt, arbeidsgang"},{"importord":"workshop","avloeserord":"arbeidsseminar, arbeidsmøte, verkstad/verksted (f.eks. idéverkstad/idéverksted)"},{"importord":"workspace","avloeserord":"arbeidsområde, arbeidsflate (IKT)"},{"importord":"World Wide Web","avloeserord":"Verdsveven/Verdensveven"},{"importord":"worst case scenario","avloeserord":"i verste fall, verste fall-scenario, verste tilfelle-scenario"},{"importord":"zero waste","avloeserord":"null avfall, nullavfall, null svinn, nullsvinn"}]'),Gre=JSON.parse('[{"ord":"antivirus software, antivirus program","bokmaal":"antivirusprogramvare","nynorsk":"antivirusprogramvare","definisjon":"program på en datamaskin som forsøker å identifisere, motarbeide og fjerne datavirus og liknende skadevare"},{"ord":"application","bokmaal":"applikasjon","nynorsk":"applikasjon","definisjon":"programvare som benytter datamaskinens ressurser til oppgaver som brukeren ønsker utført"},{"ord":"CRT monitor, CRT display","bokmaal":"bilderørskjerm","nynorsk":"biletrøyrskjerm","definisjon":"skjerm med katodestrålerøyr"},{"ord":"blogosphere","bokmaal":"bloggsfære","nynorsk":"bloggsfære","definisjon":"alle blogger på Internett og koblingene mellom disse"},{"ord":"user interface","bokmaal":"brukergrensesnitt","nynorsk":"brukargrensesnitt","definisjon":"grenseflata eller kommunikasjonen mellom brukar og datamaskin (Kjelde: Norsk dataordbok)"},{"ord":"embed","bokmaal":"bygge inn","nynorsk":"byggje inn","definisjon":"inkorporere et selvstendig element i et system / en struktur slik at det fremstår som en enhet"},{"ord":"laptop, notebook","bokmaal":"bærbar datamaskin","nynorsk":"berbar datamaskin","definisjon":"datamaskin som er konstruert for mobil bruk, er liten og lett nok til å ha på fanget, har integrert skjerm og kan ha integrert fysisk eller virtuelt tastatur og pekeenhet"},{"ord":"crowd computing","bokmaal":"datadugnad","nynorsk":"datadugnad","definisjon":"verktøy som gjør det mulig å utveksle ideer og ta beslutninger ved hjelp av og via data"},{"ord":"computer monitor, computer screen","bokmaal":"dataskjerm","nynorsk":"dataskjerm","definisjon":"eining som syner den visuelle delen av brukargrensesnittet på ein datamaskin"},{"ord":"digital ink","bokmaal":"digitalt blekk","nynorsk":"digitalt blekk","definisjon":"teknologi som digitalt avbilder håndskrift i dens naturlige form på en LCD-skjerm"},{"ord":"digital paper","bokmaal":"digitalt papir","nynorsk":"digitalt papir","definisjon":"rastra blank side som vert vist på ein skjerm, og som vert nytta saman med ein digital penn til å lage handskrivne, digitale dokument"},{"ord":"swipe","bokmaal":"dra","nynorsk":"dra","definisjon":"rørsle der ein beveger ein finger raskt over ein trykkskjerm"},{"ord":"flick","bokmaal":"dra fort","nynorsk":"dra fort","definisjon":"rask rørsle med éin finger for å bla på ein trykkskjerm"},{"ord":"e-book","bokmaal":"e-bok","nynorsk":"e-bok","definisjon":"digital tekst som skal tilsvare en tradisjonell, trykt boktekst"},{"ord":"extranet","bokmaal":"ekstranett","nynorsk":"ekstranett","definisjon":"deler av et intranett som er delvis tilgjengelige for utenforstående med begrenset tilgang"},{"ord":"electronic paper, e-paper","bokmaal":"elektronisk papir","nynorsk":"elektronisk papir","definisjon":"skjermteknologi som er utforma for å likne trykksverte på papir"},{"ord":"hashtag","bokmaal":"emneknagg","nynorsk":"emneknagg","definisjon":"Blir gjerne brukt i sosiale medium for å utheve tema eller gjere det lettare å søkje"},{"ord":"single-touch screen","bokmaal":"enkelttrykksskjerm","nynorsk":"enkelttrykksskjerm","definisjon":"trykkskjerm der ein kan nytte berre ein peikereiskap om gongen"},{"ord":"firmware","bokmaal":"fastvare","nynorsk":"fastvare","definisjon":"programvare som er innebygd i ein datamaskin, og som styrer elektriske einingar internt"},{"ord":"multi-touch screen","bokmaal":"flertrykksskjerm","nynorsk":"fleirtrykksskjerm","definisjon":"trykkskjerm der ein kan nytte fleire fingrar eller peikereiskapar på skjermen samtidig"},{"ord":"crowdfunding","bokmaal":"folkefinansiering","nynorsk":"folkefinansiering","definisjon":"den samlede innsatsen til enkeltpersoner som danner et nettverk og bidrar med penger, vanligvis via Internett, for å støtte tiltak som er startet av andre personer eller organisasjoner"},{"ord":"bloatware","bokmaal":"gjøkeprogram","nynorsk":"gaukeprogram","definisjon":"program som tek mykje minne på eininga det er installert på"},{"ord":"freeware","bokmaal":"gratisprogramvare","nynorsk":"gratisprogramvare","definisjon":"programvare som kan benyttes uten vederlag, men der utvikleren beholder opphavsretten til programkoden, som ikke kan endres eller brukes i andre sammenhenger"},{"ord":"home page","bokmaal":"hjemmeside","nynorsk":"heimeside","definisjon":"nettside som fungerer som forside for et nettsted"},{"ord":"PDA (Personal Digital Assistent), hand-held computer, palm","bokmaal":"håndholdt datamaskin","nynorsk":"handhalden datamaskin","definisjon":"datamaskin som er liten nok til å holdes i hånden"},{"ord":"Internet","bokmaal":"Internett","nynorsk":"Internett","definisjon":"verdensomspennende nettverk av elektroniske kommunikasjonsnett som er knyttet sammen av et felles sett av grunnleggende kommunikasjonsprotokoller (TCP, UDP, IP mfl.)"},{"ord":"intranet","bokmaal":"intranett","nynorsk":"intranett","definisjon":"et internt datanettverk som bruker IP-teknologi til å dele informasjon, operasjonelle systemer eller datatjenester innenfor en organisasjon og til å hindre tilgang for eksterne"},{"ord":"client","bokmaal":"klient","nynorsk":"klient","definisjon":"maskinvare eller programvare som bruker ei teneste på ein tenar"},{"ord":"front end","bokmaal":"klientdel","nynorsk":"klientdel","definisjon":"delen av eit klient-/tenarprogram som køyrer på klienten"},{"ord":"jailbreaking","bokmaal":"knekking","nynorsk":"knekking","definisjon":"prosedyre for mobiltelefoner o.l. som gir full tilgang til alle egenskaper ved operativsystemet, og som dermed fjerner begrensninger satt av produsenten"},{"ord":"pinch","bokmaal":"knipe","nynorsk":"knipe","definisjon":"rørsle der ein plasserer to fingrar på ein trykkskjerm og drar dei mot kvarandre"},{"ord":"Liquid crystal display","bokmaal":"LCD-skjerm","nynorsk":"LCD-skjerm","definisjon":"tynn skjerm som er samansett av eit panel med flytande krystallar som vert lyste opp av lysrøyr"},{"ord":"LED display","bokmaal":"LED-skjerm","nynorsk":"LED-skjerm","definisjon":"tynn skjerm som er samansett av eit panel med flytande krystallar som vert lyste opp av lysdiodar"},{"ord":"linked data","bokmaal":"lenkede data","nynorsk":"lenkja data","definisjon":"metode for å offentliggjøre, dele og knytte sammen data på vebben ved hjelp av unike URI-er"},{"ord":"e-book reader, e-book device, e-reader","bokmaal":"lesebrett","nynorsk":"lesebrett","definisjon":"elektronisk eining som er utvikla primært for lesing av digitale tekster, inntil no helst bøker og tidsskrift"},{"ord":"hardware","bokmaal":"maskinvare","nynorsk":"maskinvare","definisjon":"dei fysiske delane ein datamaskin eller anna teknologisk innretning består av"},{"ord":"big data","bokmaal":"massedata","nynorsk":"massedata","definisjon":"data i så store mengder at tradisjonelle database- og behandlingsteknikker ikke makter å analysere dem på en formålstjenlig måte"},{"ord":"netbook","bokmaal":"minibærbar datamaskin","nynorsk":"miniberbar datamaskin","definisjon":"liten berbar datamaskin som er utforma for trådlaus kommunikasjon og tilgang til Internett, og som nyttar mindre straum og har mindre prosesseringskraft enn ein vanleg berbar datamaskin"},{"ord":"widget, gadget, plugin","bokmaal":"miniprogram","nynorsk":"miniprogram","definisjon":"flyttbar kode som kan installeres og kjøres på en eller flere programvareplattformer"},{"ord":"crowdsourcing","bokmaal":"nettdugnad","nynorsk":"nettdugnad","definisjon":"prosess der man får nødvendige tjenester, ideer eller innhold ved å hente inn bidrag fra en stor gruppe mennesker, særlig fra nettsamfunn"},{"ord":"mashup","bokmaal":"nettfletting","nynorsk":"nettfletting","definisjon":"vebbapplikasjon som sammenstiller data fra flere forskjellige kilder og presenterer disse på en felles side"},{"ord":"web page","bokmaal":"nettside","nynorsk":"nettside","definisjon":"en enkelt ressurs som kan inneholde tekst, lyd, bilde, animasjon, film og annet, som har en unik adresse (URL), og som er tilgjengelig gjennom en nettleser"},{"ord":"cloud computing","bokmaal":"nettsky","nynorsk":"nettsky","definisjon":"samlebetegnelse på datatjenester som ytes over Internett og som er satt opp for å kunne samvirke med andre datatjenester"},{"ord":"web site","bokmaal":"nettsted","nynorsk":"nettstad","definisjon":"samling av relaterte nettsider, bilder, videoer eller andre digitale ressurser som oppfattes som en naturlig enhet"},{"ord":"RSS feed, news feed","bokmaal":"nyhetsvarsling","nynorsk":"nyheitsvarsling","definisjon":"automatisk nettjeneste som overvåker forvalgte nettsider og registrerer nytt stoff som blir publisert der, og som varsler om det nye stoffet i en kortform som inneholder noen tekstrader og en tilhørende klikkbar lenke til fullversjonen av det aktuelle stoffet"},{"ord":"OLED display","bokmaal":"OLED-skjerm","nynorsk":"OLED-skjerm","definisjon":"tynn skjerm som bruker organiske lysdiodar som teknologi"},{"ord":"organic light emitting diode (oled)","bokmaal":"organisk lysdiode","nynorsk":"organisk lysdiode","definisjon":"lysdiode der lyskjelda er eit organisk materiale som under påverknad av elektrisk straum sender ut farga lys"},{"ord":"pan","bokmaal":"panorere","nynorsk":"panorere","definisjon":"rørsle der ein drar éin finger frå side til side på ein trykkskjerm"},{"ord":"plasma display, plasma screen","bokmaal":"plasmaskjerm","nynorsk":"plasmaskjerm","definisjon":"tynn skjerm der biletelementa er samansette av gassfylte celler belagde med raudt, grønt eller blått"},{"ord":"native app","bokmaal":"plattformavhengig app","nynorsk":"plattformavhengig app","definisjon":"applikasjon som bare kan kjøres på den teknologiske plattformen den ble laget for"},{"ord":"podcast","bokmaal":"poddkast, podkast","nynorsk":"poddkast, podkast","definisjon":"ei multimediefil som blir distribuert over Internett for avspeling på mobile einingar og datamaskiner"},{"ord":"podcasting","bokmaal":"poddkasting, podkasting","nynorsk":"poddkasting, podkasting","definisjon":"distribusjon av podkaster"},{"ord":"software","bokmaal":"programvare","nynorsk":"programvare","definisjon":"dei binære filene med instruksjonar som gjer det mogleg å bruke ein datamaskin eller annan elektronikk"},{"ord":"software-as-a-service","bokmaal":"programvare som tjeneste","nynorsk":"programvare som teneste","definisjon":"programvare som er tilgjengeleg som ei nettbasert teneste"},{"ord":"pull technology","bokmaal":"pullteknologi","nynorsk":"pullteknologi","definisjon":"teknologi for distribusjon av data og program der brukaren sjølv må ta initiativ til levering til eige datautstyr"},{"ord":"push technology","bokmaal":"pushteknologi","nynorsk":"pushteknologi","definisjon":"teknologi for distribusjon av data og program der dei blir leverte automatisk til datautstyret til brukaren i sanntid eller med gitte tidsintervall"},{"ord":"adware","bokmaal":"reklameprogramvare","nynorsk":"reklameprogramvare","definisjon":"programvare med innebygd reklame som gis til brukere"},{"ord":"scroll","bokmaal":"rulle","nynorsk":"rulle","definisjon":"rørsle der ein beveger biletet på ein skjerm i ønskt retning med fingrar eller mus"},{"ord":"malware","bokmaal":"skadevare","nynorsk":"skadevare","definisjon":"fellesbetegnelse på programvare som er laget for å ødelegge eller avbryte datasystemer, hente ut informasjon uten brukers samtykke eller få tilgang til private datasystemer"},{"ord":"wearable technology, computer wearables, wearable computing","bokmaal":"smartklær","nynorsk":"smartklede","definisjon":"datautstyr i form av klesplagg som en bruker kan ha på seg"},{"ord":"interactive whiteboard","bokmaal":"smarttavle","nynorsk":"smarttavle","definisjon":"tavle som kan koplast til ein datamaskin, og som fungerer som ein stor trykkskjerm"},{"ord":"wearable technology, computer wearables, wearable computing","bokmaal":"smarttilbehør","nynorsk":"smarttilbehøyr","definisjon":"datautstyr som en bruker kan ha på seg, i form av tilbehør som for eksempel klokker, briller og armbånd"},{"ord":"social medium","bokmaal":"sosialt medium","nynorsk":"sosialt medium","definisjon":"system på vebben som tillater kommunikasjon eller samhandling mellom to eller flere personer"},{"ord":"spyware","bokmaal":"spionprogramvare","nynorsk":"spionprogramvare","definisjon":"skadevare som installeres (ofte skjult) på en datamaskin for å overvåke brukerens anvendelse av datamaskinen, uten at det foreligger informert samtykke til dette fra brukerens side"},{"ord":"spread","bokmaal":"spre","nynorsk":"spreie","definisjon":"rørsle der ein plasserer to fingrar på ein trykkskjerm og drar dei frå kvarandre"},{"ord":"solid state drive (SSD)","bokmaal":"SSD-disk","nynorsk":"SSD-disk","definisjon":"datalagringsenhet som bruker integrerte kretskort som minne til varig lagring av data"},{"ord":"start page","bokmaal":"startside","nynorsk":"startside","definisjon":"nettsiden som vises straks en nettleser åpnes"},{"ord":"streaming","bokmaal":"strømming","nynorsk":"strøyming","definisjon":"overføring av lyd eller video over Internett hvor avspillingen foregår samtidig med nedlastingen uten at mottakeren trenger å vente til hele datamengden er overført"},{"ord":"pullprint","bokmaal":"styrt utskrift","nynorsk":"styrt utskrift","definisjon":"skrivarfunksjon der utskriftsjobben til ein brukar blir værande på skrivaren til brukaren frigir den med kode, kort e.l."},{"ord":"tap","bokmaal":"tappe","nynorsk":"tappe","definisjon":"rørsle der éin finger blir pressa lett mot ein trykkskjerm og så blir sloppe raskt opp"},{"ord":"tablet-PC","bokmaal":"tavle-pc","nynorsk":"tavle-pc","definisjon":"bærbar datamaskin som betjenes med trykkskjerm eller stylus"},{"ord":"server","bokmaal":"tjener","nynorsk":"tenar","definisjon":"funksjonsenhet som sørger for tjenester til arbeidsstasjoner i et datanett"},{"ord":"back end","bokmaal":"tjenerdel","nynorsk":"tenardel","definisjon":"delen av eit klient-/tenarprogram som køyrer på tenaren"},{"ord":"touch screen","bokmaal":"trykkskjerm","nynorsk":"trykkskjerm","definisjon":"skjerm som reagerer på berøring, og som fungerer som både styreeining og visningseining"},{"ord":"tweet (verb)","bokmaal":"tvitre","nynorsk":"tvitre","definisjon":"sende ei twittermelding"},{"ord":"tweet (substantiv)","bokmaal":"twittermelding","nynorsk":"twittermelding","definisjon":"melding skriven på nettenesta Twitter"},{"ord":"subnotebook","bokmaal":"ultrabærbar datamaskin","nynorsk":"ultraberbar datamaskin","definisjon":"svært liten bærbar datamaskin med få porter eller avtakbar diskstasjon"},{"ord":"host (substantiv)","bokmaal":"vert","nynorsk":"vert","definisjon":"datamaskin som er koblet til et nettverk, og som gir et tilgangspunkt til nettverket"},{"ord":"viral","bokmaal":"viral","nynorsk":"viral","definisjon":"som er veldig populær og som spreier seg raskt, særleg på Internett"},{"ord":"World Wide Web","bokmaal":"weben, vebben","nynorsk":"weben, vebben","definisjon":"verdensomspennende informasjonsnett bygget på Internett som består av nettsider som bruker versjoner av html for å uttrykke og lenke sammen informasjon"},{"ord":"web host","bokmaal":"webhotell, vebbhotell","nynorsk":"webhotell, vebbhotell","definisjon":"tjeneste hvor tjenestetilbyderen lagrer data (og ev. programvare) på kundens vegne og gjør dette tilgjengelig på Internett"},{"ord":"open access","bokmaal":"åpen tilgang","nynorsk":"open tilgang","definisjon":"ubegrenset nettilgang til artikler som er publisert i vitenskapelige tidsskrifte"}]'),qre=["sosialhjelp"],qR=r=>r===""?[]:Wre.filter(e=>r.toLowerCase().match("\\b"+e.kanselliord.toLowerCase()+"\\b"));function Yre({value:r}){const e=qR(r);return e.length===0?null:U.jsxs(ye.Item,{children:[U.jsx(ye.Header,{children:e.length==1?U.jsx(U.Fragment,{children:"1 ord som kan byttes ut"}):U.jsxs(U.Fragment,{children:[e.length," ord som kan byttes ut"]})}),U.jsxs(ye.Content,{children:[U.jsx(pe,{spacing:!0,children:"Ord og uttrykk som er utdaterte eller sier noe på en vanskeligere måte enn nødvendig."}),U.jsx(pe,{spacing:!0,children:e.length>=1&&e.map(t=>U.jsxs(ls,{header:t.kanselliord,children:["Forslag til alternativer: ",t.alternativ_1]},t.kanselliord))}),U.jsxs(pe,{children:["Kilde: ",U.jsxs(Or,{target:"_blank",href:"https://www.sprakradet.no/klarsprak/om-skriving/kansellisten/",children:["Språkrådets kanselliste",U.jsx(Hl,{})]})]})]})]})}const YR=r=>r===""?[]:zre.filter(e=>r.toLowerCase().match("\\b"+e.ord.toLowerCase()+"\\b"));function Xre({value:r}){const e=YR(r);if(e.length===0)return null;const t=Array.from(e.reduce((n,i)=>n.set(i.kilde,i),new Map).values());return U.jsxs(ye.Item,{children:[U.jsx(ye.Header,{children:e.length==1?U.jsx(U.Fragment,{children:"1 mulig støtende ord"}):U.jsxs(U.Fragment,{children:[e.length," mulige støtende ord"]})}),U.jsxs(ye.Content,{children:[U.jsx(pe,{spacing:!0,children:"Ord i teksten som kan være støtende, eller som bør brukes med varsomhet."}),U.jsx(pe,{spacing:!0,children:e.map(n=>U.jsx(ls,{header:n.ord,children:n.bokmaal},n.id))}),t.map(n=>U.jsxs(pe,{children:["Kilde:"," ",U.jsxs(Or,{target:"_blank",href:n.lenke,children:[n.kilde,U.jsx(Hl,{})]})]},n.kilde))]})]})}const XR=r=>{if(r==="")return{avloeserordMatches:[],datatermerMatches:[]};const e=Kre.filter(n=>r.toLowerCase().match("\\b"+n.importord.toLowerCase()+"\\b")),t=Gre.filter(n=>r.toLowerCase().match("\\b"+n.ord.toLowerCase()+"\\b"));return{avloeserordMatches:e,datatermerMatches:t}};function Zre({value:r}){const{avloeserordMatches:e,datatermerMatches:t}=XR(r);return e.length===0&&t.length===0?null:U.jsx(U.Fragment,{children:U.jsxs(ye.Item,{children:[U.jsx(ye.Header,{children:e.length+t.length==1?U.jsx(U.Fragment,{children:"1 mulig avløserord"}):U.jsx(U.Fragment,{children:`${e.length+t.length} mulige avløserord`})}),U.jsxs(ye.Content,{children:[U.jsx(pe,{spacing:!0,children:"Norske ord som kan brukes i stedet for de tilsvarende engelske:"}),U.jsxs(pe,{spacing:!0,children:[e.length>0&&e.map(n=>U.jsxs(ls,{header:`"${n.importord}"`,children:["Forslag til alternativer: ",n.avloeserord]},`ordliste-${n.importord}`)),t.length>0&&t.map(n=>U.jsxs(ls,{header:`"${n.ord}"`,children:["Forslag til alternativer: ",n.bokmaal,U.jsx("p",{children:n.definisjon})]},`dataterm-${n.ord}`))]}),U.jsxs("div",{children:[e.length>0&&U.jsxs(pe,{children:["Kilde:"," ",U.jsxs(Or,{target:"_blank",href:"https://www.sprakradet.no/sprakhjelp/Skriverad/Avloeysarord/",children:["På godt norsk – avløserord",U.jsx(Hl,{})]})]}),t.length>0&&U.jsxs(pe,{children:["Kilde:"," ",U.jsxs(Or,{target:"_blank",href:"https://www.sprakradet.no/sprakhjelp/Skriverad/Ordlister/Datatermar/",children:["Språkrådets datatermer ",U.jsx(Hl,{})]})]})]})]})]})})}const ZR=r=>{var e;return((e=r.replaceAll("Kontakt","").replaceAll(/\d+(?: \d+)/g,"").toLowerCase().match(/\b( men)\b/g))==null?void 0:e.length)??0};function Jre({value:r}){const e=ZR(r);return U.jsx(U.Fragment,{children:e!=0&&U.jsxs(ye.Item,{children:[U.jsx(ye.Header,{children:e==1?U.jsx(U.Fragment,{children:"1 tilfelle av manglende komma"}):U.jsxs(U.Fragment,{children:[e," tilfeller av manglende komma"]})}),U.jsxs(ye.Content,{className:"",children:[U.jsx(Be,{spacing:!0,level:"3",size:"xsmall",children:'Alltid komma foran "men"'}),"Det er ",e==1?U.jsx(U.Fragment,{children:"ett tilfelle"}):U.jsxs(U.Fragment,{children:[e," tilfeller"]}),' i teksten der det mangler komma foran "men".']})]})})}const JR=r=>{const e=r.replaceAll("Kopier lenke",""),t=s=>s.match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi)??[],n=s=>s.match(/(\s*[0-9]+){8,11}/gi)??[],i=s=>{var a;return((a=s.match(/([A-Z][a-z][a-z]*(?: [A-Z][a-z][a-z]*){1,2})/g))==null?void 0:a.filter((o,l)=>s.indexOf(o)===l))??[]};return{emails:t(e),phonenumbers:n(e),names:i(e)}};function Qre({value:r}){const{emails:e,names:t,phonenumbers:n}=JR(r);return e.length===0&&t.length===0&&n.length===0?null:U.jsxs(ye.Item,{children:[U.jsxs(ye.Header,{children:[e.length+n.length+t.length," ",e.length+n.length+t.length===1?U.jsx(U.Fragment,{children:" mulig personopplysning"}):U.jsx(U.Fragment,{children:"mulige personopplysninger"})]}),U.jsxs(ye.Content,{children:[e.length>=1&&U.jsxs(pe,{spacing:!0,children:[U.jsx(Be,{spacing:!0,level:"3",size:"xsmall",children:"E-postadresser"}),U.jsx(In,{children:e.map((i,s)=>U.jsxs(In.Item,{children:['"',i,'"']},s))})]}),n.length>=1&&U.jsxs(pe,{spacing:!0,children:[U.jsx(Be,{spacing:!0,level:"3",size:"xsmall",children:"Telefonnummer"}),U.jsx(In,{children:n.map((i,s)=>U.jsxs(In.Item,{children:['"',i,'"']},s))})]}),t.length>=1&&U.jsxs(pe,{children:[U.jsx(Be,{spacing:!0,level:"3",size:"xsmall",children:"Navn"}),U.jsx(In,{children:t.map((i,s)=>U.jsxs(In.Item,{children:['"',i,'"']},s))})]})]})]})}const QR=r=>{const e="!;.*?",t=r.split(/\s+/),n=r.split("").reduce((s,a)=>e.includes(a)?s+1:s,0),i=t.reduce((s,a)=>a.length>=7?s+1:s,0);return n===0?void 0:Math.round(t.length/n+i*100/t.length)},ene=r=>r<=33?"Enkel å lese":r>33&&r<44?"Middels å lese":"Vanskelig å lese";function tne({value:r}){const e=QR(r);if(!e)return U.jsxs(ye.Item,{children:[U.jsx(ye.Header,{children:"Liks: For lite tekst"}),U.jsx(ye.Content,{children:"Sett inn minst én setning for å få opp resultater."})]});const t=ene(e);return U.jsxs(ye.Item,{children:[U.jsxs(ye.Header,{children:["Liks: ",e,". ",t]}),U.jsxs(ye.Content,{children:[U.jsxs(pe,{style:{textTransform:"initial"},children:["Liks: ",e,". Teksten er ",U.jsx("span",{style:{textTransform:"lowercase"},children:t})," ifølge"," ",U.jsxs(Or,{target:"_blank",href:"https://no.wikipedia.org/wiki/Lesbarhetsindeks",children:["lesbarhetsindeksen",U.jsx(Hl,{})]}),"."]}),U.jsxs("div",{children:[U.jsx(Be,{spacing:!0,level:"3",size:"xsmall",children:"Skriveråd"}),U.jsxs("ul",{children:[U.jsx("li",{children:"Skriv korte og enkle setninger"}),U.jsx("li",{children:"Velg korte og enkle ord"}),U.jsx("li",{children:"Skriv det viktigste først"})]})]})]})]})}const eP=r=>{var e;const t=r.split(/\s+/).length,n=r.split(`

`).reduce((l,d)=>d.replace(/\s+/gi,"").length>1?l+1:l,0),i="!.?",s=r.split("").reduce((l,d)=>i.includes(d)?l+1:l,0),a=r.length,o=a-(((e=r.match(/\s/g))==null?void 0:e.length)??0);return{totalWords:t,totalSentences:s,totalParagraphs:n,totalCharacters:a,totalCharactersWithoutSpaces:o}};function rne({value:r}){const{totalWords:e,totalParagraphs:t,totalSentences:n,totalCharacters:i,totalCharactersWithoutSpaces:s}=eP(r);return U.jsxs(ye.Item,{children:[U.jsxs(ye.Header,{children:["Ordtelling: ",e," ord"]}),U.jsx(ye.Content,{children:U.jsxs("ul",{children:[U.jsxs("li",{children:["Ord: ",e]}),U.jsxs("li",{children:["Setninger: ",n]}),U.jsxs("li",{children:["Avsnitt: ",t]}),U.jsxs("li",{children:["Tegn: ",i," ",i!=s&&U.jsxs(U.Fragment,{children:["(",s," uten mellomrom)"]})]})]})})]})}const tP=r=>r.replaceAll(/\<\/(.?)\>/g,"").replaceAll(/\<(.?)\>/g,"").replaceAll(/\s+/g," ").replace(/[^\w\sÆØÅæøå\/\\é-]/g,"").toLowerCase().split(/\s+/).map(e=>e.replace(/[.,:?()!"]+/g,"")).reduce((e,t)=>t===""?e:{...e,[t]:(e[t]??0)+1},{});function nne(r){const e=tP(r.value);if(Object.keys(e).length===0)return null;const[t,n]=w.useState(1),i=10,s=t*10,a=s-10,o=Object.entries(e).sort((d,c)=>c[1]-d[1]).slice(a,s),l=Math.ceil(Object.keys(e).length/i);return U.jsxs(ye.Item,{children:[U.jsx(ye.Header,{children:"Frekvensordliste"}),U.jsxs(ye.Content,{children:[U.jsx("div",{children:U.jsxs(er,{zebraStripes:!0,size:"small",children:[U.jsx(er.Header,{children:U.jsxs(er.Row,{children:[U.jsx(er.HeaderCell,{scope:"col",children:"Ord"}),U.jsx(er.HeaderCell,{scope:"col",children:"Frekvens"})]})}),U.jsx(er.Body,{children:o.map(d=>U.jsxs(er.Row,{children:[U.jsx(er.HeaderCell,{scope:"row",children:d[0]}),U.jsx(er.DataCell,{children:d[1]})]},d[0]))})]})}),l>1&&U.jsx("div",{children:U.jsx(tm,{page:t,onPageChange:n,count:l,size:"small",siblingCount:0,boundaryCount:1})})]})]})}function ine({value:r}){return U.jsxs(ye.Item,{children:[U.jsx(ye.Header,{children:"Liks og ordtelling"}),U.jsx(ye.Content,{children:U.jsxs(ye,{children:[U.jsx(tne,{value:r}),U.jsx(rne,{value:r}),U.jsx(nne,{value:r})]})})]})}const rP=r=>r===""?[]:qre.filter(e=>r.toLowerCase().match("\\b"+e.toLowerCase()+"\\b")),sne=({userInput:r})=>{const e=rP(r);return e.length===0?null:U.jsxs(ye.Item,{children:[U.jsx(ye.Header,{children:e.length==1?U.jsx(U.Fragment,{children:"1 mulig personvernbrudd"}):U.jsxs(U.Fragment,{children:[e.length," mulige personvernbrudd"]})}),U.jsxs(ye.Content,{children:[U.jsx(pe,{spacing:!0,children:"Dette er ord eller begrep som bør unngås i arbeidsrettet oppfølging. For eksempel ord rundt kommunale ytelser."}),U.jsx(pe,{spacing:!0,children:U.jsx(In,{children:e.map(t=>U.jsxs(In.Item,{children:['"',t,'"']},`personvernbrudd-${t}`))})})]})]})},nP=({value:r,open:e,options:t={}})=>{const{longParagraphs:n=!0,longSentences:i=!0,longWords:s=!0,duplicateWords:a=!0,kansellistenDictionary:o=!0,nrkDictionary:l=!0,avloeserordDictionary:d=!0,commaCheck:c=!0,personalData:u=!0,tools:f=!0,personvernbrudd:g=!0}=t;return!r||!e?null:U.jsxs(ye,{children:[n&&U.jsx(Hre,{value:r}),i&&U.jsx(Ure,{value:r}),s&&U.jsx(Bre,{value:r}),a&&U.jsx($re,{value:r}),o&&U.jsx(Yre,{value:r}),l&&U.jsx(Xre,{value:r}),d&&U.jsx(Zre,{value:r}),c&&U.jsx(Jre,{value:r}),u&&U.jsx(Qre,{value:r}),g&&U.jsx(sne,{userInput:r}),f&&U.jsx(ine,{value:r})]})},j_=r=>({longParagraphs:zR(r),longSentences:WR(r),longWords:KR(r),duplicateWords:GR(r),kansellisten:qR(r),nrkOrd:YR(r),avloeserord:XR(r),comma:ZR(r),personalData:JR(r),personvernbrudd:rP(r),tools:{lix:QR(r),wordCount:eP(r),wordFrequency:tP(r)}}),iP=()=>{const r=Z(bte);return r?`
Hilsen ${r}`:""},ane=r=>r.data.tryggTekst,one=xt(ane,r=>({status:r.status,data:r.data})),lne=({value:r})=>{const e=$t(),{status:t,data:n}=Z(one),i=s=>{s&&e(eW(r))};return p.jsxs(kc,{"aria-label":"Sjekk for sensitive personopplysninger",className:"bg-surface-info-subtle",onToggle:i,children:[p.jsx(kc.Header,{className:"",children:p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(UW,{fontSize:48}),p.jsx(Be,{size:"small",children:"Sjekk for sensitive personopplysninger"})]})}),p.jsx(kc.Content,{children:t===oe.PENDING||t===oe.RELOADING?p.jsxs("div",{className:"flex flex-col space-y-4 mt-4 justify-center items-center",children:[p.jsx(pe,{children:"Teksten din sjekkes for sensitive personopplysninger"}),p.jsx(Uc,{size:"2xlarge"})]}):t===oe.OK?p.jsx(In,{children:((n==null?void 0:n.kategorier)||[]).map(s=>p.jsxs(In.Item,{children:[p.jsx(pe,{className:"font-bold",children:dne(s.kategori)}),p.jsx(Mi,{children:s.trigger})]},s.kategori))}):null})]})},dne=r=>r.charAt(0).toUpperCase()+r.slice(1),sP=({value:r})=>{const e=$t();w.useEffect(()=>{e(V2())},[]);const{status:t,data:n}=Z(L2);return t===oe.OK&&n&&n["aktivitetsplan.tryggtekst"]===!0?p.jsx(lne,{value:r}):null},cne=sr({tittel:ct().min(1,"Du må fylle ut tema for samtalen").max(100,"Du må korte ned teksten til 100 tegn"),fraDato:Ui({required_error:"Fra dato må fylles ut",invalid_type_error:"Ikke en gyldig dato"}).refine(r=>r.getTime()<new Date().getTime(),{message:"Dato kan ikke være etter dagens dato"}),kanal:Rc(ka),referat:ct().min(1,"Du må fylle ut samtalereferat").max(5e3,"Du må korte ned teksten til 5000 tegn")}),une=r=>{const{onSubmit:e,dirtyRef:t,aktivitet:n}=r,[i,s]=w.useState(!0),a=iP(),o=!n,l={tittel:(n==null?void 0:n.tittel)||"",fraDato:Fs(n==null?void 0:n.fraDato),kanal:(n==null?void 0:n.kanal)||ka.TELEFON,referat:(n==null?void 0:n.referat)||a},d=un({defaultValues:l,resolver:fn(cne),shouldFocusError:!1}),{register:c,handleSubmit:u,watch:f,formState:{errors:g,isSubmitting:m,isDirty:v}}=d;t&&(t.current=v);const b=f("referat"),y=k=>u(_=>e({..._,status:Le.GJENNOMFOERT,avtalt:!1,erReferatPublisert:k}).then(()=>{const E=j_(_.referat);K0(E,k,i)}));return p.jsx("form",{autoComplete:"off",noValidate:!0,children:p.jsxs(Ia,{...d,children:[p.jsxs("div",{className:"space-y-8",children:[p.jsx(tu,{aktivitetstype:De.SAMTALEREFERAT_TYPE}),p.jsx(kr,{label:"Tema for samtalen (obligatorisk)",id:"tittel",...c("tittel"),error:g.tittel&&g.tittel.message}),p.jsx(Tp,{field:{name:"fraDato",required:!0,defaultValue:Fs(n==null?void 0:n.fraDato)},disabledDays:[{after:new Date}]}),p.jsxs(To,{label:"Møteform (obligatorisk)",...c("kanal"),children:[p.jsx("option",{value:ka.OPPMOTE,children:"Oppmøte"}),p.jsx("option",{value:ka.TELEFON,children:"Telefonmøte"}),p.jsx("option",{value:ka.INTERNET,children:"Videomøte"})]}),o&&p.jsxs(p.Fragment,{children:[p.jsx(Vn,{label:"Samtalereferat (obligatorisk)",maxLength:5e3,...c("referat"),error:g.referat&&g.referat.message,value:b}),p.jsx(eD,{checked:i,onChange:()=>{s(!i),aj(!i)},children:"Klarspråkhjelpen"}),p.jsx(sP,{value:b}),p.jsx(nP,{value:b,open:i,options:{tools:!1,longWords:!1}})]}),p.jsx(Da,{errors:g})]}),p.jsx(fne,{isLoading:m,isNy:o,lagreOgDel:y})]})})},fne=r=>{const{isLoading:e,isNy:t,lagreOgDel:n}=r;return t?p.jsxs("div",{className:"mt-4",children:[p.jsx(ft,{loading:e,className:"mr-4",onClick:n(!0),children:"Del med bruker"}),p.jsx(ft,{variant:"secondary",loading:e,onClick:n(!1),children:"Lagre utkast"})]}):p.jsx(ft,{className:"mt-4",loading:e,onClick:n(!1),children:"Lagre"})},aP=r=>{const e=Z(vR),[t,n]=w.useState(!1);return w.useEffect(()=>{const i=setTimeout(()=>{e===oe.PENDING&&n(!0)},400);return clearTimeout(i)},[]),e===oe.PENDING&&!t?null:p.jsx(une,{...r})},oP={required_error:"Antall stillinger må fylles ut",invalid_type_error:"Antall stillinger må fylles ut"},lP={tittel:ct(),fraDato:Ui({required_error:"Fra dato må fylles ut"}),tilDato:Ui({required_error:"Til dato må fylles ut"}),avtaleOppfolging:ct().max(255,"Du må korte ned teksten til 255 tegn").optional(),beskrivelse:ct().max(5e3,"Du må korte ned teksten til 5000 tegn").optional()},hne=sr({...lP,skjemaVersjon:wa("gammel"),antallStillingerSokes:Ux(oP).lt(100,"Antall søknader må ikke være høyere enn 99")}),pne=sr({...lP,skjemaVersjon:wa("ny"),antallStillingerIUken:Ux(oP).lt(100,"Antall søknader må ikke være høyere enn 99").min(1,"Antall søknader må være minst 1")}),gne=Yy("skjemaVersjon",[hne,pne]),mne=r=>{const e=r?!!r.antallStillingerIUken:!0,t={mal:"EGEN",tittel:(r==null?void 0:r.tittel)||"Avtale om å søke jobber",fraDato:r!=null&&r.fraDato?new Date(r.fraDato):void 0,tilDato:r!=null&&r.tilDato?new Date(r.tilDato):void 0,avtaleOppfolging:(r==null?void 0:r.avtaleOppfolging)||"",beskrivelse:(r==null?void 0:r.beskrivelse)||""};return e?{skjemaVersjon:"ny",...t,antallStillingerIUken:(r==null?void 0:r.antallStillingerIUken)??void 0}:{skjemaVersjon:"gammel",...t,antallStillingerSokes:(r==null?void 0:r.antallStillingerSokes)??void 0}},vne=`Det er viktig at du søker på de jobbene du mener du er kvalifisert for. Det er også viktig å søke på mange stillinger, det øker sjansene dine til å finne en jobb.
Her kan du finne ledige stillinger: https://arbeidsplassen.nav.no/stillinger`,dP=r=>{const{aktivitet:e,dirtyRef:t,onSubmit:n}=r,i=e?!!e.antallStillingerIUken:!0,s=mne(e),a=(e==null?void 0:e.avtalt)||!1,[o,l]=w.useState({from:s.fraDato,to:s==null?void 0:s.tilDato}),d=un({defaultValues:s,resolver:fn(gne),shouldFocusError:!1}),{register:c,handleSubmit:u,watch:f,setValue:g,reset:m,formState:{errors:v,isDirty:b,isSubmitting:y}}=d;t&&(t.current=b);const k=i?{errors:v,skjemaVersjon:"ny"}:{errors:v,skjemaVersjon:"gammel"},_=f("mal"),E=f("beskrivelse"),S=f("avtaleOppfolging");return w.useEffect(()=>{_==="EGEN"&&!e?(m(),l(void 0)):_==="SOKEAVTALE"&&!e&&(e||(m(),g("mal","SOKEAVTALE"),g("beskrivelse",vne),l({from:new Date,to:$b(new Date,3)})))},[_]),p.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:u(O=>n(O)),children:p.jsx(Ia,{...d,children:p.jsxs("div",{className:"space-y-8",children:[p.jsx(tu,{aktivitetstype:De.SOKEAVTALE_AKTIVITET_TYPE}),p.jsxs(To,{label:"Ferdig utfylt aktivitet",...c("mal"),children:[p.jsx("option",{value:"EGEN",children:"Ingen ferdig utfylt aktivitet valgt"}),p.jsx("option",{value:"SOKEAVTALE",children:"Avtale om å søke jobber"})]}),p.jsx("div",{className:"dato-container",children:p.jsx(Xy,{aktivitet:e,from:{name:"fraDato",required:!0,defaultValue:o==null?void 0:o.from},to:{name:"tilDato",required:!0,defaultValue:o==null?void 0:o.to}})}),k.skjemaVersjon==="ny"?p.jsx(kr,{disabled:a,type:"number",label:"Antall søknader i uken (obligatorisk)",id:"antallStillingerIUken",...c("antallStillingerIUken",{valueAsNumber:!0}),error:k.errors.antallStillingerIUken&&k.errors.antallStillingerIUken.message}):p.jsx(kr,{disabled:a,type:"number",label:"Antall søknader i perioden (obligatorisk)",id:"antallStillingerSokes",...c("antallStillingerSokes",{valueAsNumber:!0}),error:k.errors.antallStillingerSokes&&k.errors.antallStillingerSokes.message}),p.jsx(Vn,{disabled:a,label:"Oppfølging fra Nav (valgfri)",maxLength:255,...c("avtaleOppfolging"),error:k.errors.avtaleOppfolging&&k.errors.avtaleOppfolging.message,value:S}),p.jsx(Vn,{disabled:a,label:"Beskrivelse (valgfri)",maxLength:5e3,...c("beskrivelse"),error:k.errors.beskrivelse&&k.errors.beskrivelse.message,value:E}),p.jsx(Da,{errors:k.errors}),p.jsx(ph,{loading:y})]})})})},bne=sr({tittel:ct().min(1,"Du må fylle ut stillingstittel").max(100,"Du må korte ned teksten til 100 tegn"),fraDato:Ui({required_error:"Fra dato må fylles ut",invalid_type_error:"Ikke en gyldig dato"}),tilDato:Ui({invalid_type_error:"Ikke en gyldig dato"}).optional().nullable(),arbeidsgiver:ct().max(255,"Du må korte ned teksten til 255 tegn").optional(),kontaktperson:ct().max(255,"Du må korte ned teksten til 255 tegn").optional(),arbeidssted:ct().max(255,"Du må korte ned teksten til 255 tegn").optional(),beskrivelse:ct().max(5e3,"Du må korte ned teksten til 5000 tegn").optional(),lenke:ct().max(2e3,"Du må korte ned lenken til 2000 tegn").optional()}),cP=r=>{const{onSubmit:e,dirtyRef:t,aktivitet:n}=r,i={tittel:(n==null?void 0:n.tittel)||"",fraDato:Fs(n==null?void 0:n.fraDato)??dn(new Date),tilDato:Fs(n==null?void 0:n.tilDato),beskrivelse:(n==null?void 0:n.beskrivelse)||"",arbeidssted:(n==null?void 0:n.arbeidssted)||"",arbeidsgiver:(n==null?void 0:n.arbeidsgiver)||"",kontaktperson:(n==null?void 0:n.kontaktperson)||"",lenke:(n==null?void 0:n.lenke)||""},s=(n==null?void 0:n.avtalt)||!1,a=un({defaultValues:i,resolver:fn(bne),shouldFocusError:!1}),{register:o,handleSubmit:l,watch:d,formState:{errors:c,isDirty:u,isSubmitting:f}}=a;t&&(t.current=u);const g=d("beskrivelse");return p.jsx("form",{autoComplete:"off",noValidate:!0,onSubmit:l(m=>e(m)),children:p.jsx(Ia,{...a,children:p.jsxs("div",{className:"space-y-8",children:[p.jsx(tu,{aktivitetstype:De.STILLING_AKTIVITET_TYPE}),p.jsx(Zy,{}),p.jsx(kr,{disabled:s,label:"Stillingstittel (obligatorisk)",id:"tittel",...o("tittel"),error:c.tittel&&c.tittel.message}),p.jsx(Xy,{aktivitet:n,from:{name:"fraDato",required:!0,defaultValue:i.fraDato},to:{name:"tilDato",required:!0,label:"Søknadsfrist (valgfri)"}}),p.jsx(kr,{disabled:s,label:"Arbeidsgiver (valgfri)",id:"arbeidsgiver",...o("arbeidsgiver"),error:c.arbeidsgiver&&c.arbeidsgiver.message}),p.jsx(kr,{disabled:s,label:"Kontaktperson hos arbeidsgiver (valgfri)",id:"kontaktperson",...o("kontaktperson"),error:c.kontaktperson&&c.kontaktperson.message}),p.jsx(kr,{disabled:s,label:"Arbeidssted (valgfri)",id:"arbeidssted",...o("arbeidssted"),error:c.arbeidssted&&c.arbeidssted.message}),p.jsx(Vn,{disabled:s,label:"Kort beskrivelse av stillingen (valgfri)",maxLength:5e3,...o("beskrivelse"),error:c.beskrivelse&&c.beskrivelse.message,value:g}),p.jsx(kr,{disabled:s,label:"Lenke til stillingsannonse (valgfri)",id:"lenke",...o("lenke"),error:c.lenke&&c.lenke.message}),p.jsx(Da,{errors:c}),p.jsx(ph,{loading:f})]})})})},yne={mote:"Møte med Nav",samtalereferat:"Samtalereferat",stilling:"En jobb jeg vil søke på",sokeavtale:"Avtale om å søke jobber",behandling:"Medisinsk behandling",egen:"Jobbrettet egenaktivitet",ijobb:"Jobb jeg har nå"},kne=()=>{var g;const r=Xr(),e=jt(),t=e8(`${e?"/aktivitetsplan":""}/aktivitet/ny/:aktivitetType`),n=$t(),{aktivitetRoute:i,hovedsideRoute:s}=Jr(),a=()=>r(s()),o=Z(oW),l=Z(wn),d=Z(pD),c=w.useRef(!1);bR(c);function u(){const m=c.current;if(!m||window.confirm(_p)){const v=t.params.aktivitetType;return r(s()),oj({isDirty:m,aktivitet:v,modalType:"ny-aktivitet",navType:"onReqClose"}),!0}return!1}if(!l||!d)return null;const f=m=>v=>{const b=yR(v),y={status:Le.PLANLAGT,type:m,...b};return n(gy({aktivitet:y,oppfolgingsPeriodeId:d.id})).then(k=>{Tc(k)&&r(i(k.payload.id))})};return p.jsxs(eu,{heading:(g=t==null?void 0:t.params)!=null&&g.aktivitetType?yne[t.params.aktivitetType]:"",onRequestClose:u,onClose:a,lukkPåKlikkUtenfor:!1,children:[p.jsx("article",{children:p.jsxs(b8,{children:[p.jsx(Go,{path:"mote",element:p.jsx($R,{onSubmit:f(De.MOTE_TYPE),dirtyRef:c})}),p.jsx(Go,{path:"samtalereferat",element:p.jsx(aP,{onSubmit:f(De.SAMTALEREFERAT_TYPE),dirtyRef:c})}),p.jsx(Go,{path:"stilling",element:p.jsx(cP,{onSubmit:f(De.STILLING_AKTIVITET_TYPE),dirtyRef:c})}),p.jsx(Go,{path:"sokeavtale",element:p.jsx(dP,{onSubmit:f(De.SOKEAVTALE_AKTIVITET_TYPE),dirtyRef:c})}),p.jsx(Go,{path:"behandling",element:p.jsx(UR,{onSubmit:f(De.BEHANDLING_AKTIVITET_TYPE),dirtyRef:c})}),p.jsx(Go,{path:"egen",element:p.jsx(BR,{onSubmit:f(De.EGEN_AKTIVITET_TYPE),dirtyRef:c})}),p.jsx(Go,{path:"ijobb",element:p.jsx(HR,{onSubmit:f(De.IJOBB_AKTIVITET_TYPE),dirtyRef:c})})]})}),p.jsx(hs,{feilmeldinger:o})]})},Ra=x.createContext({isDirty:!1,setFormIsDirty:(r,e)=>{}});function _ne(r){return Object.values(r).some(e=>e===!0)}function uP(r){const[e,t]=w.useState(!1),[,n]=w.useState({}),i=w.useCallback((a,o)=>{n(l=>{const d={...l,[a]:o};return t(_ne(d)),d})},[n,t]),s=w.useMemo(()=>({isDirty:e,setFormIsDirty:i}),[e,i]);return p.jsx(Ra.Provider,{value:s,children:r.children})}uP.propTypes={children:ie.object.isRequired};const Bx=r=>{const{tittel:e,content:t,subtittel:n,open:i,onClick:s}=r,[a,o]=w.useState(!1);function l(d){s(d),a||Kc(e),o(!a)}return p.jsx(p.Fragment,{children:p.jsxs(ye.Item,{open:i,children:[p.jsx(ye.Header,{onClick:l,className:"items-center",children:p.jsx("div",{className:"flex flex-row gap-4 items-center",children:p.jsxs("div",{children:[p.jsx(Be,{size:"small",level:"2",children:e}),p.jsx("div",{children:n})]})})}),p.jsx(ye.Content,{children:t})]})})},wne=sr({etikettstatus:Rc(lE)}),Ene={INGEN_VALGT:"Ikke startet",SOKNAD_SENDT:"Sendt søknad",INNKALT_TIL_INTERVJU:"Skal på intervju",JOBBTILBUD:"Fått jobbtilbud",AVSLAG:"Ikke fått jobben"},xne=r=>{const{aktivitet:e,disabled:t,onSubmit:n}=r,i={etikettstatus:e.etikett||lE.INGEN_VALGT},{handleSubmit:s,setValue:a,formState:{isDirty:o,isSubmitting:l}}=un({defaultValues:i,resolver:fn(wne),shouldFocusError:!0}),{setFormIsDirty:d}=w.useContext(Ra);w.useEffect(()=>{d("etikett",o)},[d,o]);const c=l||t,u=f=>{a("etikettstatus",f)};return p.jsxs("form",{onSubmit:s(f=>n(f)),children:[p.jsx("div",{className:"mb-4",children:p.jsx(Gl,{legend:"Hvor langt har du kommet i søknadsprosessen?",hideLegend:!0,defaultValue:i.etikettstatus,onChange:u,disabled:c,children:Object.entries(Ene).map(([f,g])=>p.jsx(Nn,{value:f,children:g},f))})}),p.jsx(hs,{feilmeldinger:Z(dW)}),p.jsx(ft,{className:"oppdater-status",disabled:c,loading:l,children:"Lagre"})]})},Sne=r=>{const{aktivitet:e}=r,t=jt(),n=Z(bx,it),i=!RJ(e,t),s=!Z(wn),[a,o]=w.useState(!1),l=$t(),d=async m=>{const{etikettstatus:v}=m;if(v===e.etikett){o(!1);return}const b=v===lE.INGEN_VALGT?void 0:v;return l(ih({...e,etikett:b})).then(y=>{var k;ly(y)||(o(!1),(k=document.querySelector(".aktivitet-modal"))==null||k.focus())})},c=m=>(f("etikett",!1),d(m)),u=n||i||s,{setFormIsDirty:f}=w.useContext(Ra),g=p.jsx(xne,{disabled:u,aktivitet:e,onSubmit:c});return p.jsx(Bx,{icon:p.jsx(CW,{fontSize:"1.5rem"}),onClick:()=>{a&&f("etikett",!1),o(!a)},open:a,tittel:"Hvor langt har du kommet i søknadsprosessen?",subtittel:p.jsx(Ox,{aktivitet:e}),content:g})},Tne={VENTER:"Venter på å bli kontaktet av Nav eller arbeidsgiver",SKAL_PAA_INTERVJU:"Skal på intervju",JOBBTILBUD:"Fått jobbtilbud",AVSLAG:"Ikke fått jobben"},Ane=sr({soknadsstatus:bre([ya.VENTER,ya.SKAL_PAA_INTERVJU,ya.JOBBTILBUD,ya.AVSLAG])}),One=r=>{const{soknadsstatus:e,disabled:t,onSubmit:n}=r,i={soknadsstatus:e||ya.VENTER},{handleSubmit:s,setValue:a,formState:{isDirty:o,isSubmitting:l}}=un({defaultValues:i,resolver:fn(Ane),shouldFocusError:!0}),{setFormIsDirty:d}=w.useContext(Ra);w.useEffect(()=>(d("soknadsstatus",o),()=>{d("soknadsstatus",!1)}),[d,o]);const c=l||t,u=f=>{a("soknadsstatus",f)};return p.jsxs("form",{onSubmit:s(f=>n(f)),children:[p.jsx("div",{className:"pb-4",children:p.jsx(Gl,{legend:"",defaultValue:i.soknadsstatus,onChange:u,disabled:c,children:Object.entries(Tne).map(([f,g])=>p.jsx(Nn,{value:f,children:g},f))})}),p.jsx(hs,{feilmeldinger:Z(cW)}),p.jsx(ft,{className:"oppdater-status",disabled:c,loading:l,children:"Lagre"})]})},Cne=r=>{const{historisk:e}=r,t=Z(bx),n=Z(wn),i=!e&&r.status!==Le.FULLFOERT&&r.status!==Le.AVBRUTT;return t||!n||!i},jne=(r,e,t)=>{var i;const{soknadsstatus:n}=e;return n===((i=t.stillingFraNavData)==null?void 0:i.soknadsstatus)?Promise.resolve():r(ah({aktivitetId:t.id,aktivitetVersjon:t.versjon,soknadsstatus:n}))},Ine=({stillingFraNavData:r})=>{const{soknadsstatus:e,detaljer:t}=r;return e?e===ya.IKKE_FATT_JOBBEN&&t==="KANDIDATLISTE_LUKKET_NOEN_ANDRE_FIKK_JOBBEN"?"Vi har fått beskjed om at arbeidsgiver har ansatt en person. Dessverre var det ikke deg denne gangen. Ansettelsesprosessen er ferdig.":e===ya.IKKE_FATT_JOBBEN&&t==="KANDIDATLISTE_LUKKET_INGEN_FIKK_JOBBEN"?"Vi har fått beskjed om at arbeidsgiveren ikke skal ansatte en person allikevel. Vi beklager at det ikke ble en jobbmulighet denne gangen. Lykke til videre med jobbsøkingen.":e===ya.FATT_JOBBEN?"Ansettelsesprosessen er ferdig.":null:null},Dne=r=>{var c;const{aktivitet:e}=r,t=$t(),[n,i]=w.useState(!1),s=Cne(e),a=Ine(e),{setFormIsDirty:o}=w.useContext(Ra),l=u=>(o("soknadsstatus",!1),jne(t,u,e).then(()=>{var f;i(!1),(f=document.querySelector(".aktivitet-modal"))==null||f.focus()})),d=p.jsxs(p.Fragment,{children:[a?p.jsx(Rt,{variant:"info",className:"mt-4",children:a}):null,p.jsx(One,{disabled:s,soknadsstatus:e.stillingFraNavData.soknadsstatus,onSubmit:l})]});return p.jsx(Bx,{icon:p.jsx(YW,{fontSize:"1.5rem"}),onClick:()=>{n&&o("soknadsstatus",!1),i(!n)},open:n,tittel:"Hvor er du i søknadsprosessen?",subtittel:p.jsx(sR,{soknadsstatus:(c=e.stillingFraNavData)==null?void 0:c.soknadsstatus}),content:d})},Rne=(r,e)=>{const t=[Le.FULLFOERT,Le.AVBRUTT].includes(e);if(VO(r)&&t&&ZD(r,e))return"Samtalereferatet må deles før du kan sette aktiviteten til denne statusen"},Pne=r=>r===Le.FULLFOERT?"Skriv en kort kommentar om hvordan det har gått med aktiviteten, eller noe Nav bør kjenne til.":"Skriv en kort begrunnelse om hvorfor du avbryter aktiviteten.",Nne={BRUKER_ER_INTERESSERT:"Forslag",PLANLAGT:"Planlegger",GJENNOMFORES:"Gjennomfører",FULLFORT:"Fullført",AVBRUTT:"Avbrutt"},Mne=Yy("should_validate_begrunnelse",[sr({should_validate_begrunnelse:wa(!1),aktivitetstatus:Rc(Le),aktivitet:DA()}),sr({should_validate_begrunnelse:wa(!0),aktivitetstatus:Rc(Le),begrunnelse:ct().min(1,"Du må fylle ut en begrunnelse").max(255,"Du må korte ned teksten til 255 tegn"),aktivitet:DA()})]).superRefine((r,e)=>{const t=Rne(r.aktivitet,r.aktivitetstatus);t&&e.addIssue({code:he.custom,message:t})}),Lne=r=>{const{aktivitet:e,onSubmit:t,disabled:n}=r,i={should_validate_begrunnelse:!1,aktivitetstatus:e.status,aktivitet:e},{register:s,handleSubmit:a,setValue:o,watch:l,formState:{errors:d,isDirty:c,isSubmitting:u}}=un({defaultValues:i,resolver:fn(Mne),shouldFocusError:!0}),{setFormIsDirty:f}=w.useContext(Ra);w.useEffect(()=>{o("aktivitet",e)},[e]),w.useEffect(()=>(f("status",c),()=>{f("status",!1)}),[c]);const g=l("aktivitetstatus"),m=g!==e.status,v=m&&(g===Le.FULLFOERT||g===Le.AVBRUTT),b=Ax(e.avtalt,g,e.type);w.useEffect(()=>{m?f("status",!0):f("status",!1)},[m]);const y=_=>{o("aktivitetstatus",_)},k=l("begrunnelse");return w.useEffect(()=>{b?o("should_validate_begrunnelse",!0):o("should_validate_begrunnelse",!1)},[b]),p.jsxs("form",{onSubmit:a(_=>t(_)),className:"space-y-4",children:[p.jsx(Gl,{legend:"Hva er status på aktiviteten?",hideLegend:!0,value:g,onChange:y,disabled:n,children:Object.entries(Nne).map(([_,E])=>p.jsx(Nn,{value:_,children:E},_))}),v?p.jsx(Rt,{variant:"warning",children:'Hvis du endrer til "Fullført" eller "Avbrutt", blir aktiviteten låst og du kan ikke lenger endre innholdet.'}):null,b?p.jsx(Vn,{disabled:n,label:Pne(g),maxLength:255,...s("begrunnelse"),error:d.begrunnelse&&d.begrunnelse.message,value:k}):null,p.jsx(Da,{errors:d}),p.jsx(hs,{feilmeldinger:Z(lW)}),p.jsx(ft,{loading:u,className:"mt-4",disabled:n,children:"Lagre"})]})},Fne=(r,e)=>{const t=Z(bx),n=Z(wn),i=AD(r,e);return t||!n||!i},Vne=(r,e,t)=>e.aktivitetstatus===t.status?Promise.resolve():(tD("submit",t,e.aktivitetstatus),r(TU(t,e.aktivitetstatus,e.begrunnelse))),Cm=r=>{const{aktivitet:e}=r,[t,n]=w.useState(!1),i=$t(),s=jt(),a=Fne(e,s),{setFormIsDirty:o}=w.useContext(Ra),l=u=>(o("status",!1),Vne(i,u,e).then(f=>{var g;if(ly(f))return null;n(!1),(g=document.querySelector(".aktivitet-modal"))==null||g.focus()})),d=p.jsx(pe,{children:vx[e.status]}),c=p.jsx(Lne,{disabled:a,onSubmit:l,aktivitet:e});return p.jsx(Bx,{icon:p.jsx($W,{"aria-hidden":!0,fontSize:"1.5rem"}),onClick:()=>{t&&o("status",!1),n(!t)},open:t,tittel:"Hva er status på aktiviteten?",subtittel:d,content:c})},Hne=r=>{const e=r.split(" ")[0];return[e,r.replace(e,"")]},HA=({endring:r})=>{const t=!jt()?r.beskrivelseForBruker:r.beskrivelseForVeileder,[n,i]=Hne(t);return p.jsxs("div",{className:"pb-4",children:[p.jsx("b",{children:n})," ",i,p.jsx(pe,{children:BD(r.tidspunkt)})]})},E0=10,Une=()=>{var i;const r=Yc().id,e=Z(s=>CJ(s,r))||{endringer:[]},t=e.endringer.slice(0,E0).map(s=>p.jsx(HA,{endring:s},s.tidspunkt)),n=p.jsx(ls,{header:"Vis mer",children:e.endringer.slice(E0).map(s=>p.jsx(HA,{endring:s},s.tidspunkt))});return p.jsxs("section",{children:[t,(((i=e==null?void 0:e.endringer)==null?void 0:i.length)||0)>E0?n:null]})},Bne=()=>{const{aktivitet:r}=xte();return p.jsx(w.Suspense,{fallback:p.jsx($ne,{}),children:p.jsx(ty,{resolve:r,children:p.jsx(Une,{})})})},$ne=()=>p.jsxs("div",{children:[p.jsx(v_,{variant:"text",width:250}),p.jsx(v_,{variant:"text",width:150})]}),Ih=()=>{const[r,e]=w.useState(!1);function t(){r||Kc("Historikk"),e(!r)}return p.jsxs(ye.Item,{children:[p.jsx(ye.Header,{onClick:t,children:p.jsx("div",{className:"flex gap-4 items-center",children:"Historikk"})}),p.jsx(ye.Content,{children:p.jsx(Bne,{})})]})},zne=(r,e)=>{var t;switch(r.type){case De.STILLING_AKTIVITET_TYPE:return p.jsxs(p.Fragment,{children:[p.jsx(Sne,{aktivitet:r}),p.jsx(Cm,{aktivitet:r}),p.jsx(Ih,{})]});case De.STILLING_FRA_NAV_TYPE:return p.jsxs(p.Fragment,{children:[(t=r.stillingFraNavData.cvKanDelesData)!=null&&t.kanDeles?p.jsx(Dne,{aktivitet:r}):null,p.jsx(Cm,{aktivitet:r}),p.jsx(Ih,{})]});case De.BEHANDLING_AKTIVITET_TYPE:case De.EGEN_AKTIVITET_TYPE:case De.IJOBB_AKTIVITET_TYPE:case De.SOKEAVTALE_AKTIVITET_TYPE:return p.jsxs(p.Fragment,{children:[p.jsx(Cm,{aktivitet:r}),p.jsx(Ih,{})]});case De.MOTE_TYPE:case De.SAMTALEREFERAT_TYPE:return p.jsxs(p.Fragment,{children:[e?p.jsx(Cm,{aktivitet:r}):null,p.jsx(Ih,{})]});case De.EKSTERN_AKTIVITET_TYPE:return p.jsx(Ih,{});case Pu.GRUPPEAKTIVITET:case Pu.TILTAKSAKTIVITET:case Pu.UTDANNINGSAKTIVITET:return}},Wne=({aktivitet:r})=>{const e=jt(),t=zne(r,e);return t?p.jsx(ye,{children:t}):null},fP="Nei, og jeg vil ikke at Nav skal dele CV-en min med arbeidsgiveren",hP="Ja, og Nav kan dele CV-en min med denne arbeidsgiveren",I_="Er du interessert i denne stillingen?",Kne=(r,e,t,n)=>r===Le.AVBRUTT&&e===j5.AVBRUTT_AV_SYSTEM?`Du kan ikke svare på spørsmålet fordi svarfristen gikk ut ${_o(n)}`:r===Le.AVBRUTT?"Du kan ikke svare på spørsmålet fordi aktiviteten er avbrutt":r===Le.FULLFOERT?"Du kan ikke svare på spørsmålet fordi aktiviteten er fullført":t?"Du kan ikke svare på spørsmålet fordi oppfølgingsperioden er avsluttet":"Noe er feil, kontakt brukerstøtte",Gne=r=>{const{status:e,livslopsstatus:t,erHistorisk:n,svarfrist:i}=r,s=Kne(e,t,n,i);return p.jsxs("div",{className:"p-4 bg-surface-subtle border-border-default border rounded-md",children:[p.jsx(Be,{size:"medium",className:"mb-4",children:I_}),p.jsx(Rt,{variant:"info",inline:!0,children:s})]})},pP=()=>p.jsxs(ls,{header:"Les om deling av CV",children:["Arbeidsgiveren får tilgang til CV-en dersom du gir samtykke til å dele og Nav deler den til arbeidsgiveren. En delt CV vil opphøre å eksistere for arbeidsgiver dersom du ikke lenger følges opp av Nav for å skaffe jobb, eller senest seks måneder etter at Nav sendte CV-en til arbeidsgiver.",p.jsx("br",{}),p.jsx("br",{}),"Hvis du angrer på at du ga samtykke til å dele CV så kan du snakke med din veileder som kan trekke delingen av CV-en, slik at arbeidsgiver ikke lenger har tilgang til den. Hvis du oppdaterer CV-en din så er det alltid den siste versjonen arbeidsgiver vil se."]}),qne=({cvKanDelesData:r})=>{const e=r.kanDeles;let t,n;return r.endretAvType==="BRUKER"?(t=e?hP:fP,n=`Du svarte ${_o(r.endretTidspunkt)}`):(t=`Nav var i kontakt med deg ${_o(r.avtaltDato)}. Du sa ${e?"ja":"nei"} til at CV-en din deles med arbeidsgiver.`,n=`Nav svarte på vegne av deg ${_o(r.endretTidspunkt)}.`),p.jsxs("div",{className:"p-4 bg-surface-subtle border-border-default border rounded-md",children:[p.jsx(Be,{size:"medium",className:"mb-4",children:e?"Du svarte at du er interessert":"Du svarte at du ikke er interessert"}),p.jsx(pe,{children:t}),p.jsx(pe,{className:"mt-4",children:n}),e?p.jsx(pe,{className:"mt-4",children:"Arbeidsgiveren eller Nav vil kontakte deg hvis du er aktuell for stillingen"}):null,e?p.jsx("div",{className:"mt-4",children:p.jsx(pP,{})}):null]})},Yne=({datoBegrensninger:r})=>p.jsxs("div",{className:"mb-4 bg-surface-alt-3-subtle border-border-alt-3 border rounded-md p-4 space-y-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx(Be,{size:"small",level:"3",children:"Svar på vegne av brukeren"}),p.jsx(Hc,{children:"FOR NAV-ANSATT"})]}),p.jsx(pe,{children:"Når var du i dialog med brukeren om å dele CV-en deres med denne arbeidsgiveren"}),p.jsx(Tp,{field:{label:"Dato (obligatorisk)",required:!0,name:"avtaltDato"},disabledDays:[r]})]});var gP=(r=>(r.JA="ja",r.NEI="nei",r))(gP||{});const Xne={invalid_type:"Du må fylle ut datoen for når du var i dialog med brukeren",invalid_date:"Ikke en gyldig dato"},Zne=r=>({message:Xne[r.code]}),UA=Rc(gP,{required_error:"Du må svare ja eller nei",invalid_type_error:"Ikke en gyldig dato"}),Jne=({after:r},e)=>sr(e?{kanDeles:UA,avtaltDato:Ui({errorMap:Zne}).max(r,{message:"Dato for dialog kan ikke være frem i tid"})}:{kanDeles:UA}),Qne=({aktivitet:r})=>{var v,b;const[e,t]=w.useState(void 0),n=$t(),i=jt(),s=(v=r.stillingFraNavData)==null?void 0:v.svarfrist,a={after:GO()},o=un({resolver:fn(Jne(a,i)),defaultValues:{kanDeles:void 0}}),{handleSubmit:l,control:d,formState:{errors:c,isSubmitting:u}}=o,{field:f}=wp({name:"kanDeles",control:d});w.useEffect(()=>{f.value==="ja"&&t('Stillingen flyttes til "Gjennomfører"'),f.value==="nei"&&t('Stillingen flyttes til "Avbrutt"')},[f.value]);const g=y=>(n(py({aktivitetId:r.id,aktivitetVersjon:r.versjon,kanDeles:y.kanDeles==="ja",avtaltDato:y.avtaltDato})),Promise.resolve()),m=Z(uW);return p.jsx("form",{className:"bg-surface-subtle rounded-md border-border-default border p-4 space-y-8",onSubmit:l(g),noValidate:!0,children:p.jsxs(Ia,{...o,children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx(Be,{size:"medium",level:"2",children:I_}),p.jsx(eie,{className:"mt-1"}),p.jsxs(pe,{className:"mt-1",children:["Svar før: ",_o(s)]})]}),i?p.jsx(Yne,{datoBegrensninger:a}):null,p.jsxs(Gl,{legend:I_,hideLegend:!0,value:f.value??null,name:f.name,onChange:f.onChange,ref:f.ref,role:"radiogroup",error:(b=c.kanDeles)==null?void 0:b.message,children:[p.jsx(Nn,{id:"kanDeles",value:"ja",children:hP}),p.jsx(Nn,{value:"nei",children:fP})]}),p.jsx(pP,{}),p.jsx(Da,{errors:c}),p.jsx(hs,{feilmeldinger:m}),p.jsxs("div",{className:"flex gap-4 items-center mt-8",children:[p.jsx(ft,{disabled:u,children:"Lagre"}),e&&p.jsx(Rt,{variant:"info",inline:!0,children:e})]})]})})},eie=({className:r})=>p.jsx(pe,{className:r,children:"Du bestemmer selv om Nav kan dele CV-en din for denne stillingen."}),tie=({aktivitet:r})=>{const e=r.stillingFraNavData,t=e&&(e==null?void 0:e.cvKanDelesData),n=r.historisk;return t?p.jsx(qne,{cvKanDelesData:t}):n||r.status===Le.FULLFOERT||r.status===Le.AVBRUTT?p.jsx(Gne,{status:r.status,livslopsstatus:e.livslopsstatus,erHistorisk:n,svarfrist:e.svarfrist}):p.jsx(Qne,{aktivitet:r})},rie=()=>{const e=Z(Ws)?"Du kan ikke endre denne aktiviteten selv. Send en melding til veilederen din hvis aktiviteten skal endres.":"For å endre aktiviteten må du gå til Arena.";return p.jsx(Rt,{variant:"info",className:"w-full mt-4",children:e})},nie=({aktivitet:r})=>{const{handlinger:e}=r.eksternAktivitet,t=jt();return e?p.jsx("div",{className:"space-y-4 flex flex-col self-end justify-self-end w-full mb-8",children:e.flatMap((n,i)=>n.lenkeType==="EKSTERN"&&t||n.lenkeType==="INTERN"&&!t?null:p.jsxs(hx,{href:n.url,children:[p.jsx(Be,{size:"small",children:n.tekst}),p.jsx(pe,{children:n.subtekst})]},i))}):null},x0=r=>{const{id:e,tillatEndring:t,laster:n,underOppfolging:i}=r,s=Xr(),{endreAktivitetRoute:a}=Jr();if(!t)return null;const o=()=>{rr(hZ),s(a(e))};return p.jsx(ft,{disabled:n||!i,onClick:o,variant:"secondary",icon:p.jsx(GW,{"aria-hidden":!0,fontSize:"1.5rem"}),children:"Endre på aktiviteten"})},iie=({aktivitet:r})=>{const e=jt(),t=`${s5}${r.stillingFraNavData.stillingsId}`;return p.jsx(ft,{variant:"secondary",as:"a",href:t,onClick:()=>jZ(e),target:"_blank",children:"Les mer om stillingen"})},Dh=r=>{var l;const{aktivitet:e}=r,t=jt(),n=Z(Ex(e.id)),i=((l=n==null?void 0:n.henvendelser)==null?void 0:l.reduce((d,c)=>c.lest?d:d+1,0))||0,s=Xr(),{hovedsideRoute:a}=Jr(),o=d=>{t&&(s(a(),{replace:!0}),FD({event:d,aktivitetId:e==null?void 0:e.id,dialogId:n==null?void 0:n.id})),bo("send melding (i aktivitetskort)")};return p.jsxs("div",{className:"relative",children:[p.jsx(ft,{variant:"secondary",as:"a",href:kx({erVeileder:t,aktivitetId:e.id,dialogId:n==null?void 0:n.id}),icon:p.jsx(IW,{"aria-hidden":!0,fontSize:"1.5rem"}),onClick:o,children:i>0?`Du har ${i} ${i===1?"ulest melding":"uleste meldinger"}`:"Send en melding"}),i?p.jsx("div",{className:"absolute bg-red-500 rounded-full flex justify-center items-center w-3 h-3 text-white left-8 top-6"}):null]})},sie=({aktivitet:r,tillatEndring:e,laster:t,underOppfolging:n,erVeileder:i})=>{switch(r.type){case De.MOTE_TYPE:case De.BEHANDLING_AKTIVITET_TYPE:case De.EGEN_AKTIVITET_TYPE:case De.IJOBB_AKTIVITET_TYPE:case De.STILLING_AKTIVITET_TYPE:case De.SOKEAVTALE_AKTIVITET_TYPE:return p.jsxs(p.Fragment,{children:[p.jsx(x0,{id:r.id,tillatEndring:e,laster:t,underOppfolging:n}),p.jsx(Dh,{aktivitet:r})]});case De.SAMTALEREFERAT_TYPE:return p.jsxs(p.Fragment,{children:[i?p.jsx(x0,{id:r.id,tillatEndring:e,laster:t,underOppfolging:n}):null,p.jsx(Dh,{aktivitet:r})]});case De.STILLING_FRA_NAV_TYPE:return p.jsxs(p.Fragment,{children:[p.jsx(iie,{aktivitet:r}),p.jsx(x0,{id:r.id,tillatEndring:e,laster:t,underOppfolging:n}),p.jsx(Dh,{aktivitet:r})]});case De.EKSTERN_AKTIVITET_TYPE:return p.jsxs(p.Fragment,{children:[p.jsx(nie,{aktivitet:r}),p.jsx(Dh,{aktivitet:r})]});case Pu.GRUPPEAKTIVITET:case Pu.TILTAKSAKTIVITET:case Pu.UTDANNINGSAKTIVITET:return p.jsxs(p.Fragment,{children:[p.jsx(Dh,{aktivitet:r}),p.jsx(rie,{})]})}},aie=r=>{const e=jt(),t=Z(wn),n=sie({...r,erVeileder:e,underOppfolging:t});return p.jsx("div",{className:"my-4 gap-4 flex flex-wrap",children:n})},oie=r=>{const{lasterData:e,onClick:t}=r;return p.jsx(ft,{variant:"secondary",onClick:t,className:"mt-5",loading:e,size:"medium",children:"Ok, jeg har lest beskjeden"})},BA="Informasjon om ansvaret ditt",mP=r=>{const{aktivitet:e,startAapen:t=!1}=r,n=Ln(e),i=e.forhaandsorientering,s=i==null?void 0:i.tekst,a=i==null?void 0:i.lestDato,o=!!a,l=Z(Ws),d=$t(),c=Gy(l,e),[u,f]=w.useState(t),[g,m]=w.useState(!1);if(!s)return null;const v=()=>{m(!0),n?d(M2(e)).then(y=>m(!1)):d(hy(e)).then(y=>m(!1)),_Z(e.type,!0)},b=()=>{v&&v(),f(!1)};return!o&&c?p.jsxs(Rt,{variant:"warning",children:[p.jsx(Be,{size:"xsmall",level:"2",children:BA}),p.jsx(Mi,{children:s}),p.jsx(oie,{onClick:b,lasterData:g})]}):p.jsxs(ls,{header:BA,open:u,onClick:()=>f(!u),children:[p.jsx(Mi,{children:s}),o?p.jsxs(pe,{className:"mt-4",children:["Lest ",_o(a)]}):null]})},lie=({aktivitet:r,erBruker:e})=>p.jsx(mP,{aktivitet:r,startAapen:Gy(e,r)}),vP=()=>p.jsx(Rt,{variant:"info",children:"Du kan ikke legge til forhåndsorientering fordi sluttdatoen er færre enn 7 dager frem i tid."}),bP=()=>{const r=Z(My),e=Z(Ny);return!(r||e)},Jy=()=>{const r=Z(vD);return bP()&&!r},die=()=>{const r=Z(D2).filter(n=>n.avtalt).filter(n=>!n.historisk).length!==0,e=Z(uh).filter(n=>!n.slutt)[0],t=Jy();return(n,i,s)=>{AZ(!t,s,n,i),!r&&e&&gQ(e.start)&&TZ(bQ(e.start))}},fb=()=>p.jsx("div",{className:"mt-8",children:p.jsxs(ls,{header:"Brukeren mottar sms eller e-post (se KRR) med en lenke til aktiviteten",children:["På aktiviteten vil bruker se forhåndsorienteringen og en knapp for å bekrefte at en har lest. ",p.jsx("br",{}),p.jsx("br",{}),"Hvis ikke brukeren leser beskjeden innen 7 dager, så blir de revarslet."]})}),cie=r=>{const{setValue:e,register:t,watch:n,formState:{errors:i,isSubmitting:s,defaultValues:a}}=Ll(),o=n("avtaltText119"),l=n("forhaandsorienteringType"),d=c=>{c&&e("forhaandsorienteringType",c)};return p.jsxs(p.Fragment,{children:[p.jsxs(Gl,{onChange:d,defaultValue:a==null?void 0:a.forhaandsorienteringType,legend:"Velg type forhåndsorientering",disabled:s,className:"mt-4",children:[p.jsx(Nn,{value:Ut.SEND_STANDARD,children:"Forhåndsorientering (standard melding)"}),p.jsx(Nn,{value:Ut.SEND_PARAGRAF_11_9,children:"Forhåndsorientering for §11-9 (AAP)"}),p.jsx(Nn,{value:Ut.IKKE_SEND,children:"Ingen forhåndsorientering"})]}),p.jsxs(Oc,{visible:l===Ut.SEND_STANDARD,children:[p.jsx(Bc,{children:"Teksten som blir lagt til aktiviteten"}),p.jsx(pe,{className:"blokk-xs",children:im}),p.jsx(fb,{})]}),p.jsxs(Oc,{visible:l===Ut.SEND_PARAGRAF_11_9,children:[p.jsx(Vn,{label:"Teksten som blir lagt til aktiviteten",maxLength:500,value:o,...t("avtaltText119"),error:i.avtaltText119&&i.avtaltText119.message}),p.jsx(fb,{})]})]})},uie=(r,e,t,n,i)=>{if(e)return"Du kan ikke legge til forhåndsorientering fordi brukeren deltar i kvalifiseringsprogrammet.";if(t)return"Du kan ikke legge til forhåndsorientering fordi brukeren har reservert seg i kontakt- og reservasjonsregisteret. Du skal ha orientert brukeren om mulig konsekvens for ytelse, og dokumentert dette.";if(r)return"Du kan ikke legge til forhåndsorientering fordi brukeren har manuell oppfølging. Du skal ha orientert brukeren om mulig konsekvens for ytelse, og dokumentert dette.";if(i)return'Du kan ikke sende forhåndsorientering fordi aktiviteten ikke har "til dato". Hvis du har hatt muntlig dialog med brukeren om mulige konsekvenser for ytelse og dokumentert dette i et samtalereferat, så kan du sette aktiviteten til "Avtalt med Nav"';if(n)return'Du kan ikke legge til forhåndsorientering fordi sluttdatoen er færre enn 7 dager frem i tid. Hvis du har hatt muntlig dialog med brukeren om mulige konsekvenser for ytelse og dokumentert dette i et samtalereferat, så kan du sette aktiviteten til “Avtalt med Nav".'},fie=r=>{const e=Z(My),t=Z(vD),n=Z(Ny),i=uie(e,t,n,r.mindreEnnSyvDagerTil,r.manglerTilDato);return i?p.jsx(Rt,{variant:"warning",children:i}):null},hie=Yy("forhaandsorienteringType",[sr({forhaandsorienteringType:wa(Ut.SEND_STANDARD),avtaltText:wa(im)}),sr({forhaandsorienteringType:wa(Ut.SEND_PARAGRAF_11_9),avtaltText119:ct().min(1,"Tekst til brukeren er påkrevd").max(500,"Du må korte ned teksten til 500 tegn")}),sr({forhaandsorienteringType:wa(Ut.IKKE_SEND)})]),pie=r=>{const{aktivitet:e,lasterData:t,mindreEnnSyvDagerTil:n,setSendtAtErAvtaltMedNav:i,setForhandsorienteringType:s}=r,[a,o]=w.useState(!1),l=$t(),d=die(),c=(E,S)=>l(sh({aktivitet:E,forhaandsorientering:S})),u=E=>{const S=E.forhaandsorienteringType;i();const O=wee(E);return c(e,{type:S,tekst:O}),s(S),d(S,e.type,n),Promise.resolve()},f=Jy()&&!n,g={forhaandsorienteringType:f?Ut.SEND_STANDARD:Ut.IKKE_SEND,avtaltText:im,avtaltText119:dR},m=un({defaultValues:g,resolver:fn(hie)}),{handleSubmit:v,formState:{isDirty:b,isSubmitting:y}}=m,{setFormIsDirty:k}=w.useContext(Ra),_=Z(fW);return w.useEffect(()=>(k("avtalt",b),()=>k("avtalt",!1)),[k,b]),p.jsxs("form",{autoComplete:"off",noValidate:!0,onSubmit:v(E=>u(E)),className:"bg-surface-alt-3-subtle py-2 px-4 my-4 border border-border-alt-3 rounded-md",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(iE,{onChange:()=>o(!a),children:"Avtalt med Nav"}),p.jsx(KI,{"aria-label":"Informasjon om avtalt med Nav",title:"Informasjon om avtalt med Nav",id:"hjelp",className:"ml-2 justify-self-start",children:p.jsx("div",{className:"max-w-[300px]",children:'Aktiviteter som oppfyller brukerens aktivitets- og medvirkningsplikt skal settes som "Avtalt med Nav"'})}),p.jsx(Hc,{className:"text-right flex-grow",children:"FOR NAV-ANSATT"})]}),a&&p.jsxs("div",{className:"space-y-4 mb-4",children:[p.jsx(fie,{mindreEnnSyvDagerTil:n,manglerTilDato:!e.tilDato}),f?p.jsx(Ia,{...m,children:p.jsx(cie,{})}):null,p.jsx(hs,{feilmeldinger:_}),p.jsx(ft,{loading:y,disabled:t,children:"Legg til"})]})]})},gie=r=>{const{setValue:e,register:t,watch:n,formState:{errors:i,isSubmitting:s,defaultValues:a}}=Ll(),o=n("avtaltText119"),l=n("forhaandsorienteringType"),d=c=>{c&&e("forhaandsorienteringType",c)};return p.jsxs("div",{className:"space-y-8 my-4",children:[p.jsxs(Gl,{onChange:d,defaultValue:a==null?void 0:a.forhaandsorienteringType,legend:"Velg type forhåndsorientering",disabled:s,className:"mt-4",children:[p.jsx(Nn,{value:Ut.SEND_STANDARD,children:"Forhåndsorientering (standard melding)"}),p.jsx(Nn,{value:Ut.SEND_PARAGRAF_11_9,children:"Forhåndsorientering for §11-9 (AAP)"})]}),p.jsxs(Oc,{visible:l===Ut.SEND_STANDARD,children:[p.jsx(Bc,{children:"Teksten som blir lagt til aktiviteten"}),p.jsx(pe,{className:"blokk-xs",children:im}),p.jsx(fb,{})]}),p.jsxs(Oc,{visible:l===Ut.SEND_PARAGRAF_11_9,children:[p.jsx(Vn,{label:"Teksten som blir lagt til aktiviteten",maxLength:500,value:o,...t("avtaltText119"),error:i.avtaltText119&&i.avtaltText119.message}),p.jsx(fb,{})]})]})},mie=Yy("forhaandsorienteringType",[sr({forhaandsorienteringType:wa(Ut.SEND_STANDARD)}),sr({forhaandsorienteringType:wa(Ut.SEND_PARAGRAF_11_9),avtaltText119:ct().min(1,"Du må fylle ut teksten").max(500,"Du må korte ned teksten til 500 tegn")})]),yP=r=>{const{aktivitet:e,setSendtAtErAvtaltMedNav:t,setForhandsorienteringType:n}=r,[i,s]=w.useState(!1),a=Z(pD),o=Z(wx),l=Z(rm),d=$t(),c={forhaandsorienteringType:Ut.SEND_STANDARD,avtaltText119:dR},u=Ln(e),f=un({defaultValues:c,resolver:fn(mie)}),{handleSubmit:g,formState:{isSubmitting:m}}=f,v=k=>{const _=k.forhaandsorienteringType===Ut.SEND_STANDARD?im:k.avtaltText119,E={type:k.forhaandsorienteringType,tekst:_};return n(k.forhaandsorienteringType),(u?a?d(N2({arenaAktivitet:e,forhaandsorientering:E,oppfolgingsPeriodeId:a.id})):new Promise(O=>O(void 0)):d(sh({aktivitet:e,forhaandsorientering:E}))).then(()=>{var O;t(),SZ(),(O=document.querySelector(".aktivitet-modal"))==null||O.focus()})},b=o!==oe.OK||l===oe.RELOADING||l===oe.PENDING,y=oE(e);return p.jsxs("form",{onSubmit:g(k=>v(k)),className:"bg-surface-alt-3-subtle py-2 px-4 border border-border-alt-3 rounded-md",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(iE,{disabled:b,onChange:()=>s(!i),children:"Legg til forhåndsorientering"}),p.jsx(Hc,{children:"FOR NAV-ANSATT"})]}),y||u?p.jsx("p",{className:"mt-2",children:'Tiltaket er automatisk merket "Avtalt med Nav"'}):null,i?p.jsxs("div",{children:[p.jsx(Ia,{...f,children:p.jsx(gie,{})}),p.jsx(ft,{loading:m,disabled:b,children:"Legg til"})]}):null]})},vie=()=>p.jsx(Rt,{variant:"info",children:"Du kan ikke legge til forhåndsorientering fordi startdato og sluttdato ikke er satt."}),bie=r=>{const{aktivitet:e}=r,t=Z(Ki),n=e.tilDato?!_x(e.tilDato):!1,i=oE(e),s=!e.fraDato&&!e.tilDato;return i?e.avtalt?s?p.jsx(vie,{}):n?p.jsx(vP,{}):p.jsx(yP,{...r,aktivitet:e}):null:p.jsx(pie,{lasterData:t!==oe.OK,mindreEnnSyvDagerTil:n,...r})},yie=r=>{const{aktivitet:e,setSendtAtErAvtaltMedNav:t,setForhandsorienteringType:n}=r,i=e!=null&&e.tilDato?_x(e.tilDato):!1;return Jy()?p.jsx(p.Fragment,{children:p.jsx("div",{className:"my-4",children:i?p.jsx(yP,{aktivitet:e,setSendtAtErAvtaltMedNav:t,setForhandsorienteringType:n}):p.jsx(vP,{})})}):null},kie=r=>{const{aktivitet:e,...t}=r;return Ln(e)?p.jsx(yie,{aktivitet:e,...t}):p.jsx(bie,{aktivitet:e,...t})},_ie=(r,e,t,n)=>{if(!r||!t)return'Aktiviteten er merket "Avtalt med Nav". Forhåndsorientering er ikke lagt til. Du skal ha informert bruker om mulige konsekvenser for ytelse og dokumentert dette i et samtalereferat.';if(e)return'Aktiviteten er merket "Avtalt med Nav". Forhåndsorientering er ikke lagt til fordi sluttdatoen er færre enn 7 dager frem i tid. Du skal ha informert bruker om mulige konsekvenser for ytelse og dokumentert dette i et samtalereferat.';switch(n){case Ut.IKKE_SEND:return'Aktiviteten er merket "Avtalt med Nav" og forhåndsorientering om konsekvens for ytelse er ikke lagt til aktiviteten.';case Ut.SEND_STANDARD:return"Forhåndsorientering (standard melding) er lagt til aktiviteten. Bruker får sms eller e-post.";case Ut.SEND_PARAGRAF_11_9:return"Forhåndsorientering for §11-9 (AAP) er lagt til aktiviteten. Bruker får sms eller e-post."}return"Noe er feil, kontakt brukerstøtte"},wie=r=>{const e=Jy(),{mindreEnnSyvDagerTil:t,harTilDato:n,forhaandsorienteringstype:i}=r,s=_ie(e,t,n,i);return p.jsx(Rt,{variant:"success",children:s})},Eie=({aktivitet:r,forhaandsorienteringstype:e})=>{const t=r.tilDato?!_x(r.tilDato):!1;return e?p.jsxs(p.Fragment,{children:[p.jsx(wie,{mindreEnnSyvDagerTil:t,harTilDato:r.tilDato!=null,forhaandsorienteringstype:e}),p.jsx(mP,{aktivitet:r,startAapen:!0})]}):null},xie=r=>{const{aktivitet:e}=r,t=Z(wn),{type:n,status:i,avtalt:s}=e,a="historisk"in e?e.historisk:!1,[o,l]=w.useState(!1),[d,c]=w.useState(Ut.IKKE_SEND),u=jt(),f=Z(Ws),g=e.forhaandsorientering&&e.forhaandsorientering.type!==Ut.IKKE_SEND,m=o,v=Ln(e),b=!a&&t&&i!==Le.FULLFOERT&&i!==Le.AVBRUTT,_=!(v||e.type===De.EKSTERN_AKTIVITET_TYPE?e.forhaandsorientering:s)&&u&&b&&(n!==tE&&n!==cs);return!g&&!_&&!m?null:_?p.jsx(kie,{setSendtAtErAvtaltMedNav:()=>l(!0),aktivitet:e,setForhandsorienteringType:c}):m?p.jsx(Eie,{forhaandsorienteringstype:d,aktivitet:e}):p.jsx(lie,{aktivitet:e,erBruker:f})},kP=r=>{const{tittel:e,children:t,fullbredde:n,beskrivelse:i}=r;return p.jsxs("div",{className:fi("w-1/2 min-w-52 overflow-hidden overflow-ellipsis",{"w-full":n,"flex-auto break-words":i}),children:[p.jsx(Be,{level:"2",size:"xsmall",children:e}),t]})},Sie=r=>{const{children:e,formattertTekst:t}=r;return t?p.jsx(Ml,{formatLinks:!0,formatLinebreaks:!0,children:e}):typeof e!="string"?e:p.jsx(pe,{children:e})},kt=r=>{const{tittel:e,innhold:t,fullbredde:n,formattertTekst:i,beskrivelse:s}=r;return t===null||!t?null:p.jsx(kP,{tittel:e,fullbredde:n,beskrivelse:s,children:p.jsx(Sie,{formattertTekst:i,children:t})})},S0=rR(kt),_P=(r,e)=>e&&!r?"Dato ikke satt":_o(r),Fo=({aktivitet:r,tittel:e,visIkkeSatt:t})=>p.jsx(kt,{tittel:e||"Fra dato",innhold:_P(r.fraDato,t)},"fradato"),Vo=({aktivitet:r,tittel:e,visIkkeSatt:t})=>p.jsx(kt,{tittel:e||"Til dato",innhold:_P(r.tilDato,t)},"tildato"),Ho=({aktivitet:r})=>p.jsx(kt,{tittel:"Beskrivelse",innhold:r.beskrivelse,beskrivelse:!0,fullbredde:!0,formattertTekst:!0}),Tie=({aktivitet:r})=>r.type!==zg?null:p.jsxs(p.Fragment,{children:[p.jsx(kt,{tittel:"Type behandling",innhold:r.behandlingType},"behandlingtype"),p.jsx(kt,{tittel:"Behandlingssted",innhold:r.behandlingSted},"behandlingsted"),p.jsx(Fo,{aktivitet:r}),p.jsx(Vo,{aktivitet:r}),p.jsx(kt,{tittel:"Mål for behandlingen",innhold:r.effekt,fullbredde:!0},"effekt"),p.jsx(kt,{tittel:"Oppfølging fra Nav",innhold:r.behandlingOppfolging,fullbredde:!0},"behandlingOppfolging"),p.jsx(Ho,{aktivitet:r})]}),Aie=/^(https?):\/\/.*$/,Oie=r=>{const e=r==null?void 0:r.trim();return e&&e.match(Aie)?e:`http://${r}`},wP=r=>{var n;const e=(n=r.lenke)==null?void 0:n.trim();if(!e)return null;let t;try{const i=new URL(e.startsWith("http")?e:"http://"+e),s=i.hostname,a=i.pathname.split("/").filter(Boolean),o=a.length>0?"/"+a[0]:"";t=s+o}catch{t=e}return p.jsx(kP,{tittel:"Lenke",fullbredde:!0,children:p.jsxs(Or,{target:"_blank",href:Oie(e),className:"block",children:[t," (åpnes i ny fane)"]})},"lenke")},Cie=({aktivitet:r})=>r.type!==Mb?null:p.jsxs(p.Fragment,{children:[p.jsx(Fo,{aktivitet:r}),p.jsx(Vo,{aktivitet:r}),p.jsx(kt,{fullbredde:!0,tittel:"Mål med aktiviteten",innhold:r.hensikt},"hensikt"),p.jsx(kt,{fullbredde:!0,tittel:"Min huskeliste",innhold:r.oppfolging},"oppfolging"),p.jsx(Ho,{aktivitet:r}),p.jsx(wP,{lenke:r.lenke})]}),jie=({detaljer:r})=>r?p.jsx(p.Fragment,{children:r.map(e=>p.jsx(kt,{tittel:e.label,innhold:e.verdi},"EKSTERN-"+e.label))}):null,Iie=({aktivitet:r})=>r.type!==De.EKSTERN_AKTIVITET_TYPE?null:p.jsxs(p.Fragment,{children:[p.jsx(Fo,{aktivitet:r,visIkkeSatt:!0}),p.jsx(Vo,{aktivitet:r,visIkkeSatt:!0}),p.jsx(jie,{detaljer:r.eksternAktivitet.detaljer}),p.jsx(Ho,{aktivitet:r})]}),Die=r=>p.jsx("ul",{className:"list-disc list-inside",children:r.map((e,t)=>p.jsx("li",{className:"",children:p.jsxs(pe,{className:"inline",children:[UD(e.startDato),k_(e.sluttDato)==="00:00"?"":` - ${k_(e.sluttDato)}`,",",` ${e.sted}`]})},t))}),Rie=({aktivitet:r})=>{if(r.type!==Lb)return null;const{fraDato:e,tilDato:t,moeteplanListe:n}=r,i=kn(e)===kn(t);return p.jsxs(p.Fragment,{children:[i?p.jsx(kt,{tittel:"Dato",innhold:kn(e)||"Dato ikke satt"}):p.jsxs(p.Fragment,{children:[p.jsx(Fo,{aktivitet:r,visIkkeSatt:!0}),p.jsx(Vo,{aktivitet:r,visIkkeSatt:!0})]}),p.jsx(kt,{fullbredde:!0,tittel:"Tidspunkt og sted",beskrivelse:!0,innhold:Die(n)},"moteplanutenslutteklokke"),p.jsx(Ho,{aktivitet:r})]})},Pie=({aktivitet:r})=>r.type!==Fb?null:p.jsxs(p.Fragment,{children:[p.jsx(Fo,{aktivitet:r}),p.jsx(Vo,{aktivitet:r,visIkkeSatt:!0}),p.jsx(kt,{tittel:"Stillingsandel",innhold:xJ[r.jobbStatus]},"jobbstatus"),p.jsx(kt,{tittel:"Arbeidsgiver",innhold:r.ansettelsesforhold},"ansettelsesforhold"),p.jsx(kt,{tittel:"Ansettelsesforhold",innhold:r.arbeidstid},"arbeidstid"),p.jsx(Ho,{aktivitet:r})]}),Nie=({aktivitet:r})=>{if(r.type!==hi)return null;const e=YD(r);return p.jsxs(p.Fragment,{children:[p.jsx(kt,{tittel:"Dato",innhold:_o(r.fraDato)},"dato"),p.jsx(kt,{tittel:"Klokkeslett",innhold:BQ(e==null?void 0:e.klokkeslett)},"klokkeslett"),p.jsx(kt,{tittel:"Møteform",innhold:r.kanal&&yD[r.kanal]},"kanal"),p.jsx(kt,{tittel:"Varighet",innhold:UQ(e==null?void 0:e.varighet)},"varighet"),p.jsx(kt,{tittel:"Møtested eller annen praktisk informasjon",innhold:r.adresse,formattertTekst:!0,fullbredde:!0},"adresse"),p.jsx(kt,{tittel:"Hensikt med møtet",innhold:r.beskrivelse,formattertTekst:!0,fullbredde:!0},"bakgrunn"),p.jsx(kt,{tittel:"Forberedelser til møtet",innhold:r.forberedelser,formattertTekst:!0,fullbredde:!0},"forberedelser")]})},Mie=({aktivitet:r})=>r.type!==cs?null:p.jsxs(p.Fragment,{children:[p.jsx(kt,{tittel:"Dato",innhold:kn(r.fraDato)},"dato"),p.jsx(kt,{tittel:"Møteform",innhold:r.kanal&&yD[r.kanal]},"kanal")]}),Lie=({aktivitet:r})=>r.type!==Jw?null:p.jsxs(p.Fragment,{children:[p.jsx(Fo,{aktivitet:r}),p.jsx(Vo,{aktivitet:r}),p.jsx(S0,{tittel:"Antall søknader i perioden",innhold:`${r.antallStillingerSokes}`,hidden:!r.antallStillingerSokes||r.antallStillingerSokes<1},"antallStillinger"),p.jsx(S0,{tittel:"Antall søknader i uken",innhold:`${r.antallStillingerIUken}`,hidden:!r.antallStillingerIUken||r.antallStillingerIUken<1},"antallStillingerIUken"),p.jsx(S0,{tittel:"Oppfølging fra Nav",beskrivelse:!0,formattertTekst:!0,hidden:!r.avtaleOppfolging,innhold:r.avtaleOppfolging},"avtaleOppfolging"),p.jsx(Ho,{aktivitet:r})]}),Fie=({aktivitet:r})=>r.type!==Jf?null:p.jsxs(p.Fragment,{children:[p.jsx(Fo,{aktivitet:r}),p.jsx(Vo,{tittel:"Frist",aktivitet:r,visIkkeSatt:!0}),p.jsx(kt,{tittel:"Arbeidsgiver",innhold:r.arbeidsgiver},"arbeidsgiver"),p.jsx(kt,{tittel:"Kontaktperson",innhold:r.kontaktperson},"kontaktperson"),p.jsx(kt,{tittel:"Arbeidssted",innhold:r.arbeidssted},"arbeidssted"),p.jsx(Ho,{aktivitet:r}),p.jsx(wP,{lenke:r.lenke})]}),Vie=({aktivitet:r})=>{if(r.type!==tE)return null;const e=r.stillingFraNavData;return p.jsxs(p.Fragment,{children:[p.jsx(kt,{tittel:"Arbeidsgiver",innhold:e.arbeidsgiver},"arbeidsgiver"),p.jsx(kt,{tittel:"Arbeidssted",innhold:e.arbeidssted},"arbeidssted")]})},Hie=({aktivitet:r})=>r.type!==Qw?null:p.jsxs(p.Fragment,{children:[p.jsx(Fo,{aktivitet:r,visIkkeSatt:!0}),p.jsx(Vo,{aktivitet:r,visIkkeSatt:!0}),p.jsx(kt,{tittel:"Arrangør",innhold:r.arrangoer},"arrangoer"),p.jsx(kt,{tittel:"Deltakelse",innhold:!!r.deltakelseProsent&&`${r.deltakelseProsent}%`},"deltakelsesprosent"),p.jsx(kt,{tittel:"Antall dager per uke",innhold:!!r.antallDagerPerUke&&`${r.antallDagerPerUke}`},"dagerPerUke"),p.jsx(Ho,{aktivitet:r})]}),Uie=({aktivitet:r})=>r.type!==eE?null:p.jsxs(p.Fragment,{children:[p.jsx(Fo,{aktivitet:r,visIkkeSatt:!0}),p.jsx(Vo,{aktivitet:r,visIkkeSatt:!0}),p.jsx(Ho,{aktivitet:r})]}),$A=r=>p.jsxs(Rt,{variant:"warning",children:[p.jsx(Be,{spacing:!0,size:"small",level:"3",children:r.tekst}),r.subtekst,p.jsx(ft,{variant:"primary",as:"a",href:r.url,className:"flex w-fit mt-4",children:r.knapptekst||"Gå videre"})]}),Bie=({oppgave:r})=>{const e=jt();return r?e&&r.intern?$A(r.intern):!e&&r.ekstern?$A(r.ekstern):null:null},EP=({valgtAktivitet:r})=>p.jsxs("section",{className:"space-y-4",children:[r.type===De.EKSTERN_AKTIVITET_TYPE?p.jsx(Bie,{oppgave:r.eksternAktivitet.oppgave}):null,p.jsxs("div",{className:"flex flex-row flex-wrap w-full gap-y-4",children:[p.jsx(Tie,{aktivitet:r}),p.jsx(Cie,{aktivitet:r}),p.jsx(Rie,{aktivitet:r}),p.jsx(Pie,{aktivitet:r}),p.jsx(Nie,{aktivitet:r}),p.jsx(Mie,{aktivitet:r}),p.jsx(Lie,{aktivitet:r}),p.jsx(Fie,{aktivitet:r}),p.jsx(Hie,{aktivitet:r}),p.jsx(Uie,{aktivitet:r}),p.jsx(Vie,{aktivitet:r}),p.jsx(Iie,{aktivitet:r})]})]}),$ie=({aktivitetstype:r})=>[Mb,Fb,Jf,zg,a5].includes(r)?null:p.jsx(VR,{aktivitetstype:r}),zie=r=>{const{valgtAktivitet:e}=r,{type:t,avtalt:n}=e,i=VO(e)?oR(e):!1;return p.jsxs("div",{className:"space-y-8 mb-8",children:[p.jsxs("div",{className:"space-y-8 space-x-2",children:[p.jsx($ie,{aktivitetstype:t}),p.jsx(Cx,{hidden:!n}),e.type===De.EKSTERN_AKTIVITET_TYPE&&p.jsx(iR,{aktivitet:e}),i?p.jsx(lR,{}):null]}),p.jsx(xie,{aktivitet:e}),p.jsx(EP,{valgtAktivitet:e})]})},Wie=({begrunnelse:r})=>p.jsx(Rt,{variant:"info",children:p.jsx(pe,{className:"tilDittNavTekst",children:r})}),Kie=({aktivitet:r})=>{const e=Z(px),t=Z(wx),n=[e,t],i=jt(),s=Z(Ex(r.id)),a=bP(),o=r.avtalt&&r.forhaandsorientering&&r.forhaandsorientering.type!==Ut.IKKE_SEND,l=r.type===hi&&i&&!s&&a&&!o;return p.jsx(ba,{hidden:!l,children:p.jsx(kp,{avhengigheter:n,children:p.jsx(ba,{hidden:!l,children:p.jsxs(Rt,{variant:"warning",className:"mt-4",children:["Brukeren får ikke automatisk beskjed om at aktiviteten er opprettet. ",p.jsx("br",{}),"Send en dialogmelding slik at bruker får informasjon om møtet."]})})})})},xP=rR(ft),Gie=sr({referat:ct().min(0).max(5e3)}),qie=r=>{const{aktivitet:e,onFerdig:t}=r,[n,i]=w.useState(!0),s=iP(),a=$t(),o=Z(Ki),l=e.erReferatPublisert,{watch:d,formState:{isDirty:c,isSubmitting:u},register:f,handleSubmit:g}=un({resolver:fn(Gie),defaultValues:{referat:e.referat||s}}),m=u||o===oe.PENDING||o===oe.RELOADING,{setFormIsDirty:v}=w.useContext(Ra);w.useEffect(()=>(v("referat",c),()=>v("referat",!1)),[v,c]);const b=(E,S=!0)=>{const O={...e,referat:E.referat};return a(Gf(O)).then(T=>{if(S){const C=j_(E.referat);K0(C,e.erReferatPublisert,n)}return Tc(T)&&t(),T})},y=g(E=>{const S={...nh(e),erReferatPublisert:!0,referat:E.referat};return a(Gf(S)).then(O=>{const T=j_(E.referat);return K0(T,e.erReferatPublisert,n),Tc(O)&&t(),O})}),k=Z(vW),_=d("referat");return p.jsxs("form",{onSubmit:g(E=>b(E)),className:"space-y-4 bg-surface-alt-3-subtle p-4 border border-border-alt-3 rounded-md",children:[p.jsx(Vn,{label:"Samtalereferat",disabled:m,maxLength:5e3,placeholder:"Skriv samtalereferatet her",...f("referat"),value:_}),p.jsxs(p.Fragment,{children:[p.jsx(eD,{checked:n,onChange:()=>{i(!n),aj(!n)},children:"Klarspråkhjelpen"}),p.jsx(sP,{value:_}),p.jsx(nP,{value:_,open:n,options:{tools:!1,longWords:!1}})]}),p.jsx(hs,{feilmeldinger:k}),p.jsxs("div",{className:"space-x-4",children:[p.jsx(xP,{loading:m,disabled:m,hidden:l,onClick:y,children:"Del med bruker"}),p.jsx(ft,{variant:l?"primary":"secondary",loading:m,disabled:m,children:l?"Del endring":"Lagre utkast"}),e.referat&&p.jsx(ft,{variant:"tertiary",onClick:t,children:"Avbryt"})]})]})},Yie="_button_1b5vd_1",Xie={button:Yie},Zie=r=>{const{className:e,text:t,maxCharacters:n}=r,i=fi("mb-4",e),[s,a]=w.useState(!0),o=()=>{a(!s)};return t.length>n?p.jsxs("div",{className:i,children:[p.jsx(Ml,{className:"inline",formatLinks:!0,formatLinebreaks:!0,children:s?t.slice(0,n)+" ... ":t+" "}),p.jsxs(ft,{variant:"tertiary",onClick:o,className:Xie.button,children:[s?"Les mer":"Vis mindre",s?p.jsx(Hb,{fontSize:"1.5rem",className:"inline"}):p.jsx(LW,{fontSize:"1.5rem",className:"inline"})]})]}):p.jsx("div",{className:i,children:p.jsx(Ml,{formatLinks:!0,formatLinebreaks:!0,children:t})})},Jie=r=>{const{className:e,tekst:t,antallTegn:n}=r;return p.jsx(Zie,{className:e,text:t,maxCharacters:n})},Qie=r=>{const e=jt(),{erAktivAktivitet:t,referat:n,dispatchPubliserReferat:i,publiserer:s,erReferatPublisert:a,startOppdaterReferat:o}=r,l=Z(mW);return p.jsxs("section",{className:"my-4 border-t pt-8",children:[p.jsx(Be,{level:"2",size:"large",className:"mb-4",children:"Samtalereferat"}),p.jsx(Jie,{tekst:n,antallTegn:275}),p.jsxs(ba,{hidden:!e||!t,className:"flex flex-col mt-8 space-y-4",children:[a?p.jsx(Rt,{variant:"success",inline:!0,children:"Delt med bruker"}):null,p.jsx(hs,{feilmeldinger:l}),p.jsxs("div",{className:"space-x-4",children:[p.jsx(ft,{hidden:a,onClick:i,loading:s,children:"Del med bruker"}),p.jsx(ft,{variant:"secondary",onClick:o,children:"Endre referat"})]})]})]})},ese=r=>{const{aktivitet:e}=r,t=$t(),[n,i]=w.useState(!1),s=Z(Ki)===(oe.PENDING||oe.RELOADING),a=jt(),o=Z(wn),{referat:l,erReferatPublisert:d,type:c}=e,u=[Le.AVBRUTT,Le.FULLFOERT].includes(e.status),f=c===hi&&(Us(new Date,cn(e.fraDato))||u)||c===cs,g=!e.historisk&&o&&e.status!==Le.AVBRUTT&&e.status!==Le.FULLFOERT;return f?a&&!l&&g||n?p.jsx(qie,{aktivitet:e,onFerdig:()=>i(!1)}):l?p.jsx(Qie,{referat:l,erAktivAktivitet:g,dispatchPubliserReferat:()=>t(Xc(e)),publiserer:s,erReferatPublisert:d,startOppdaterReferat:()=>i(!0)}):null:null},tse=r=>{const{aktivitet:e,tillatEndring:t,laster:n}=r,s=!Ln(e)&&Ax(e.avtalt,e.status,e.type);return p.jsxs("div",{className:" space-y-8",children:[p.jsx(Kie,{aktivitet:e}),s&&e.avsluttetKommentar?p.jsx(Wie,{begrunnelse:e.avsluttetKommentar}):null,p.jsx(zie,{valgtAktivitet:e}),e.type===De.STILLING_FRA_NAV_TYPE?p.jsx(tie,{aktivitet:e}):null,p.jsx(aie,{aktivitet:e,tillatEndring:t,laster:n}),e.type===De.MOTE_TYPE||e.type===De.SAMTALEREFERAT_TYPE?p.jsx(ese,{aktivitet:e}):null,p.jsx(Wne,{aktivitet:e})]})},rse="Alle endringer blir borte hvis du ikke lagrer. Er du sikker på at du vil lukke siden?",nse=()=>[],ise=r=>{const{aktivitet:e,avhengigheter:t,children:n}=r,i=w.useContext(Ra),s=Xr(),{hovedsideRoute:a}=Jr(),o=()=>s(a()),d=e===void 0?nse:(b=>Ln(b)?jJ:xD)(e),c=Z(d,it),u=Z(SQ,it),f=[...c,...u],g=Z(Ws),m=e==null?void 0:e.forhaandsorientering,v=Gy(g,e);return p.jsx(eu,{onClose:o,avhengigheter:t,subHeading:e?`${vx[e.status]} / ${Fy(e)}`:void 0,heading:(e==null?void 0:e.tittel)||"",onRequestClose:()=>i.isDirty&&!window.confirm(rse)?!1:v&&m?(window.alert("Det er en viktig beskjed om ansvaret ditt som du må lese."),!1):(s(a()),!0),feilmeldinger:f,children:n})},sse=xt(ch,Ki,(r,e)=>[r,e]),ase=()=>{const{id:r}=Yc(),e=r,t=jt(),n=Z(l=>e?Hy(l,e):void 0),s=Z(l=>n?Ln(n)?rm(l):Ki(l):oe.NOT_STARTED)!==oe.OK,a=Z(sse),o=PJ(n,t);return w.useEffect(()=>()=>{const l=n&&document.querySelector(`#${jx(n)}`);l&&(l==null||l.focus())},[]),p.jsx(uP,{children:p.jsx(ise,{aktivitet:n,avhengigheter:a,children:n?p.jsx(tse,{aktivitet:n,tillatEndring:o,laster:s}):p.jsx(zf,{replace:!0,to:"/"})})})};function ose(r,e){if(!r)return null;switch(r.type){case Jf:return p.jsx(cP,{...e});case Mb:return p.jsx(BR,{...e});case Jw:return p.jsx(dP,{...e});case zg:return p.jsx(UR,{...e});case hi:return p.jsx($R,{...e});case cs:return p.jsx(aP,{...e});case Fb:return p.jsx(HR,{...e});default:return null}}function lse(){const r=$t(),e=k=>r(fy(k)),t=w.useRef(!1);bR(t);const n=Xr(),{id:i}=Yc(),s=Z(k=>i?Hy(k,i):void 0),a=[s?oe.OK:oe.PENDING],o=Z(xD),d=[...Z(OJ),...o],c=Z(k=>Ki(k))!==oe.OK,{aktivitetRoute:u,hovedsideRoute:f}=Jr();function g(k){if(!s)return Promise.resolve();const _=yR(k),E={...s,..._};return e(E).then(S=>{Tc(S)&&n(u(s.id))})}const m=()=>{if(!t.current||window.confirm(_p)){const k=s==null?void 0:s.type;return k&&oj({isDirty:t.current,aktivitet:k,modalType:"endre-aktivitet",navType:"onReqClose"}),!0}return!1},v={onSubmit:g,endre:!0,dirtyRef:t,lagrer:c},b=s&&eh(s)?ose(s,{...v,aktivitet:s}):null,y=()=>n(f());return p.jsxs(eu,{lukkPåKlikkUtenfor:!1,onClose:y,heading:"Endre aktivitet",onRequestClose:m,children:[p.jsx("article",{children:p.jsx(kp,{avhengigheter:a,children:p.jsx(fD,{children:b})})}),p.jsx(hs,{feilmeldinger:d})]})}const dse=sr({begrunnelse:ct().min(1,"Du må fylle ut tema begrunnelse").max(255,"Du må korte ned teksten til 255 tegn")}),SP=r=>{const{beskrivelseLabel:e,lagrer:t,onSubmit:n}=r,i={begrunnelse:""},{register:s,handleSubmit:a,watch:o,formState:{errors:l}}=un({defaultValues:i,resolver:fn(dse),shouldFocusError:!1}),d=o("begrunnelse");return p.jsx("form",{onSubmit:a(n),children:p.jsxs("div",{children:[p.jsx(Vn,{label:"Begrunnelse",description:e,maxLength:255,disabled:t,...s("begrunnelse"),error:l.begrunnelse&&l.begrunnelse.message,value:d}),p.jsx(Da,{errors:l}),p.jsx(ft,{className:"mt-4",loading:t,children:"Lagre"})]})})},cse=r=>{switch(r.type){case De.SAMTALEREFERAT_TYPE:return"Du må dele referatet med brukeren før du kan sette aktiviteten til fullført eller avbrutt";case De.MOTE_TYPE:return"Du må dele referatet med brukeren før du kan sette aktiviteten til fullført"}},TP=({aktivitet:r,nyStatus:e,children:t})=>ZD(r,e)?p.jsx(Rt,{variant:"error",inline:!0,children:cse(r)}):t,AP=({onSubmit:r})=>p.jsxs("div",{className:"flex flex-col gap-8",children:[p.jsx(Rt,{variant:"warning",inline:!0,children:"Når du lagrer, blir aktiviteten låst og du kan ikke lenger endre innholdet."}),p.jsx(ft,{className:"self-baseline",onClick:r,children:"Lagre"})]}),use="Avbrutt aktivitet",fse="Skriv en kort begrunnelse under om hvorfor du avbrøt aktiviteten. Når du lagrer blir aktiviteten låst, og du kan ikke lenger redigere innholdet.",hse=()=>{const{id:r}=Yc(),e=Z(u=>r?Hy(u,r):void 0),t=Z(Uy),n=Xr(),{hovedsideRoute:i}=Jr(),s=$t(),a=(u,f)=>s(AU(e,f)),o=t!==oe.OK,l=e?p.jsx(SP,{headerTekst:use,beskrivelseLabel:fse,lagrer:o,onSubmit:async u=>{a(e,u.begrunnelse),n(i())}}):null,d=e?p.jsx(AP,{onSubmit:()=>{a(e,null),n(i())}}):null,c=e&&Ax(e.avtalt,Le.AVBRUTT,e.type);return p.jsx(eu,{onClose:()=>n(i(),{replace:!0}),heading:"Avbryt aktivitet",children:e?p.jsx(TP,{aktivitet:e,nyStatus:Le.AVBRUTT,children:c?l:d}):p.jsx(Uc,{})})},pse="Fullført aktivitet",gse="Skriv en kort kommentar om hvordan det har gått, eller noe Nav bør kjenne til. Når du lagrer, blir aktiviteten låst og du kan ikke lenger endre innholdet.",mse=()=>{const{id:r}=Yc(),e=Z(d=>r?Hy(d,r):void 0),t=Z(d=>Uy(d))!==oe.OK,n=$t(),i=(d,c)=>n(OU(d,c)),s=Xr(),{hovedsideRoute:a}=Jr();if(!e||Ln(e))return p.jsx(zf,{to:a()});const o=p.jsx(SP,{headerTekst:pse,beskrivelseLabel:gse,lagrer:t,onSubmit:async d=>{s(a(),{replace:!0}),e&&i(e,d.begrunnelse)}}),l=p.jsx(AP,{onSubmit:()=>{e&&i(e,null),s(a())}});return p.jsx(eu,{onClose:()=>s(a(),{replace:!0}),heading:"Fullfør aktivitet",children:p.jsx(TP,{aktivitet:e,nyStatus:Le.FULLFOERT,children:e.avtalt&&e.type!==cs&&e.type!==hi?o:l})})},vse=r=>Hn(`${n2}/v3/hent-person`,{fnr:r,behandlingsnummer:"B579"}),bse=r=>Hn(`${n2}/v3/person/hent-postadresse`,{fnr:r,behandlingsnummer:"B579"});function yse(r){const{tilbakeRoute:e,kanSkriveUt:t}=r;return p.jsxs(p.Fragment,{children:[p.jsx(Be,{className:"print:hidden",spacing:!0,size:"large",children:"Skriv ut aktivitetsplanen"}),p.jsxs("div",{className:"print:hidden self-start flex flex-row gap-x-10 mb-8 items-center",children:[e?p.jsx(mc,{className:"text-text-action underline hover:no-underline",to:e,tabIndex:0,children:"Tilbake"}):null,t?p.jsx(ft,{icon:p.jsx(QW,{}),onClick:()=>{window.print(),rr(uZ),bo("Skriv ut")},children:"Skriv ut"}):null,p.jsx(WD,{})]}),p.jsx("div",{className:"print:hidden mb-8",children:p.jsx(KD,{})})]})}function ku(r){const{tag:e,children:t}=r;return x.createElement(e||"span",null,LJ(t))}const kse="/aktivitetsplan/assets/logo-DXVplSjy.png";function _se({adresse:r}){const e=r.adresselinje1;return e?p.jsxs("div",{children:[p.jsx(ku,{tag:"div",children:`${e}`}),r.adresselinje2&&p.jsx(ku,{tag:"div",children:`${r.adresselinje2}`}),r.adresselinje3&&p.jsx(ku,{tag:"div",children:`${r.adresselinje3}`}),r.postnummer&&r.poststed&&p.jsx(ku,{tag:"div",children:`${r.postnummer} ${r.poststed}`}),r.land&&r.type!=="NORSKPOSTADRESSE"&&p.jsx(ku,{tag:"div",children:`${r.land}`})]}):p.jsx("div",{})}function wse(r,e){return r==="VEILEDER"?e||"NAV":"BRUKER"}function Ese(r){const e=r.dialog;return e.aktivitetId?p.jsx(Be,{level:"2",size:"medium",className:"printmodal-body__statusgruppe--overskrift",children:"Dialog"}):p.jsx(Be,{level:"2",size:"small",className:"printmodal-body__statusgruppe--overskrift",children:e.overskrift})}function OP(r){const{dialog:e}=r;if(!e)return p.jsx("div",{});const{henvendelser:t}=e,n=t&&[...t].sort((i,s)=>$D(i.sendt,s.sendt));return p.jsxs("div",{hidden:!n,className:"mt-4 pt-4 border-t border-border-divider",children:[p.jsx(Ese,{dialog:e}),n&&n.map(i=>p.jsxs("div",{className:"my-4",children:[p.jsx(Bc,{className:"",children:`${wse(i.avsender,i.avsenderId)} - ${kn(i.sendt)}`}),p.jsx(Ml,{formatLinebreaks:!0,formatLinks:!0,children:i.tekst})]},i.id))]})}function xse(r){const{dialoger:e}=r,t=e&&e.filter(i=>i.aktivitetId===null);if(!t||t.length===0)return null;const n=t.sort((i,s)=>$D(i.opprettetDato,s.opprettetDato));return p.jsxs("section",{className:"mt-10",children:[p.jsx(Be,{level:"1",size:"large",className:"mb-2",children:"Dialogen med veileder"}),n.map(i=>p.jsx(OP,{dialog:i},i.id))]})}const Sse=r=>{const{referat:e,erReferatPublisert:t,historisk:n}=r.aktivitet,s=t&&(!!e||!n);return p.jsx(ba,{hidden:!s,className:"printmodal-body__aktivitetreferat",children:p.jsx(kt,{tittel:"Samtalereferat",innhold:e,formattertTekst:!0},"referat")})},Tse="_forhaandsorientering_bkwf6_1",Ase="_lestTekst_bkwf6_4",zA={forhaandsorientering:Tse,lestTekst:Ase},Ose=r=>{const{forhaandsorienteringTekst:e,forhaandsorienteringLest:t}=r;return e?p.jsxs("div",{className:"mt-8",children:[p.jsx(Be,{level:"2",size:"xsmall",children:"Informasjon om ansvaret ditt"}),p.jsx(Ml,{className:zA.forhaandsorientering,children:e}),t&&p.jsxs(pe,{size:"small",className:zA.lestTekst,children:["Lest ",_o(t)]})]}):null},Cse=r=>{const{aktivitet:e,dialog:t}=r,{id:n,tittel:i}=e,s=e.forhaandsorientering;return p.jsxs("div",{className:"p-4 border border-border-default rounded-md print:break-inside-avoid-page",children:[p.jsx(Hc,{className:"uppercase",children:Fy(e)}),p.jsx(Be,{level:"2",size:"medium",className:"mb-4",children:i}),p.jsx(EP,{valgtAktivitet:e}),e.type===De.MOTE_TYPE||e.type===De.SAMTALEREFERAT_TYPE?p.jsx(Sse,{aktivitet:e}):null,p.jsx(Cx,{hidden:!e.avtalt}),p.jsx(Ose,{forhaandsorienteringTekst:s==null?void 0:s.tekst,forhaandsorienteringLest:s==null?void 0:s.lestDato}),e.type===Jf?p.jsx(Ox,{aktivitet:e}):null,Ln(e)?p.jsx(aR,{aktivitet:e}):null,p.jsx(OP,{dialog:t})]},n)},Rh=r=>{const{tittel:e,aktiviteter:t,dialoger:n}=r;if(!t)return null;const i=[...t].sort(qD);return p.jsxs("section",{className:"mt-12",children:[p.jsx(Be,{level:"1",size:"large",className:"mb-2",children:e}),p.jsx("div",{className:"space-y-4",children:i.map(s=>{const a=n&&n.find(o=>o.aktivitetId===s.id);return p.jsx(Cse,{aktivitet:s,dialog:a},s.id)})})]})},jse=r=>{const{aktiviteter:e,dialoger:t}=r;if(!e)return null;const n=e.reduce((i,s)=>{const a=i[s.status];return a?a.push(s):i[s.status]=[s],i},{});return p.jsxs(p.Fragment,{children:[p.jsx(Rh,{tittel:"Aktiviteter jeg gjennomfører nå",aktiviteter:n[Le.GJENNOMFOERT],dialoger:t}),p.jsx(Rh,{tittel:"Planlagte aktiviteter",aktiviteter:n[Le.PLANLAGT],dialoger:t}),p.jsx(Rh,{tittel:"Forslag til aktiviteter",aktiviteter:n[Le.BRUKER_ER_INTRESSERT],dialoger:t}),p.jsx(Rh,{tittel:"Fullførte aktiviteter",aktiviteter:n[Le.FULLFOERT],dialoger:t}),p.jsx(Rh,{tittel:"Avbrutte aktiviteter",aktiviteter:n[Le.AVBRUTT],dialoger:t})]})};function CP(r,e){const t=new Date(r.opprettetDato),n=new Date(e.opprettetDato);return Us(t,n)&&(!e.avsluttetDato||Ls(t,new Date(e.avsluttetDato)))}function Ise(r,e){return e.every(t=>!CP(r,t))}function Dse(r,e,t,n){if(n)return t?n.filter(i=>CP(i,t)):r==="aktivitetsplan"&&e?n.filter(i=>Ise(i,e)):n}function jP(r,e){const t=new Date(r.sisteDato),n=new Date(e.opprettetDato),i=new Date(r.opprettetDato);return Ls(t,n)?!1:!e.avsluttetDato||Ls(i,new Date(e.avsluttetDato))}function Rse(r,e){return e.every(t=>!jP(r,t))}function Pse(r,e,t,n){if(!(!n||!r))return t?n.filter(i=>jP(i,t)):r==="aktivitetsplan"&&e?n.filter(i=>Rse(i,e)):n}function Nse(r){const e=r.mittMal&&r.mittMal.mal;return e?p.jsxs("section",{className:"my-8",children:[p.jsx(Be,{level:"1",size:"large",children:"Mitt mål"}),p.jsx(pe,{children:e})]}):null}function Mse(r){const{aktiviteter:e,bruker:t,adresse:n,printMelding:i,mittMal:s,erVeileder:a,dialoger:o,utskriftPlanType:l,kvpPerioder:d,hidden:c}=r,{fodselsnummer:u,fornavn:f,etternavn:g,geografiskEnhet:m}=t,v=m&&m.navn,b=l!==void 0&&l!=="helePlanen"&&l!=="aktivitetsplan",y=d&&d.find(T=>T.opprettetDato===l),k=Dse(l,d,y,e),_=Pse(l,d,y,o),E=y?kn(y.opprettetDato):void 0,S=y?kn(y.avsluttetDato):void 0,O=new URL(kse,import.meta.url).href;return p.jsxs("div",{id:"printarea",className:"printmodal-body w-[670px]",hidden:c,children:[p.jsx("img",{className:"my-8",src:O,alt:"Logo Nav"}),p.jsxs("div",{className:"flex justify-between mb-8",children:[p.jsx("div",{className:"",children:p.jsxs(ba,{hidden:!a,children:[p.jsx(ku,{children:`${f} ${g}`}),n&&p.jsx(_se,{adresse:n})]})}),p.jsxs("div",{children:[p.jsx(ba,{hidden:!a,children:v}),"Dato: ",kn(Date.now()),p.jsxs(ba,{hidden:!u,children:["Fødselsnummer:",` ${u}`]}),p.jsx(ba,{hidden:!b,children:"Modia Arbeidsrettet Oppfølging"}),p.jsxs(ba,{hidden:!b,children:["Periode: ",E," - ",S]})]})]}),p.jsx(Be,{level:"1",size:"xlarge",children:"Aktivitetsplan"}),p.jsx(dee,{hidden:i==="",children:p.jsx("p",{children:i})}),p.jsx(Nse,{mittMal:s}),p.jsx(jse,{aktiviteter:k,dialoger:_}),p.jsx(xse,{dialoger:_})]})}const Lse="Her finner du avtalte aktiviteter med Nav som du skal gjennomføre for å nå målet ditt. Gi beskjed til Nav hvis det skjer endringer i situasjonen din eller hvis du ikke kan gjennomføre en aktivitet.",Fse=sr({beskrivelse:ct().max(2e3,"Du må korte ned teksten til 2000 tegn")}),Vse=r=>{const{onSubmit:e}=r,t={beskrivelse:Lse},{register:n,handleSubmit:i,watch:s,formState:{errors:a}}=un({defaultValues:t,resolver:fn(Fse),shouldFocusError:!0}),o=d=>e(d),l=s("beskrivelse");return p.jsx("form",{onSubmit:i(d=>o(d)),className:"space-y-8",children:p.jsxs("div",{className:"space-y-4 p-4",children:[p.jsx(Vn,{label:"Rediger teksten under så den passer til brukeren.",maxLength:2e3,...n("beskrivelse"),value:l,error:a.beskrivelse&&a.beskrivelse.message}),p.jsx(ft,{children:"Velg"})]})})},hb=({tittelId:r,tekstId:e})=>p.jsxs("div",{children:[p.jsx(Be,{level:"2",size:"small",children:r}),p.jsx(pe,{children:e})]}),Hse=r=>{const{kvpPerioder:e}=r;return e?e.length===1?p.jsx(Use,{kvpPeriode:e[0]}):p.jsx(Bse,{kvpPerioder:e}):null},Use=({kvpPeriode:r})=>p.jsx(Nn,{value:r.opprettetDato,disabled:!r.avsluttetDato,children:p.jsx(hb,{tittelId:"KVP-perioden",tekstId:"Du skriver ut innholdet i KVP-perioden"})}),Bse=r=>{const{kvpPerioder:e}=r;return p.jsxs("div",{className:"",children:[p.jsx(hb,{tittelId:"KVP-perioden",tekstId:"Du skriver ut innholdet i KVP-perioden"}),e&&e.map(t=>p.jsx(Nn,{className:"pt-2",value:t.opprettetDato,disabled:!t.avsluttetDato,children:p.jsx(pe,{children:`${kn(t.opprettetDato)} - ${t.avsluttetDato?kn(t.avsluttetDato):"nå"}`})},t.opprettetDato))]})},$se=sr({utskritPlanType:ct()}),zse=r=>{const{kvpPerioder:e,onSubmit:t}=r,n={utskritPlanType:"helePlanen"},{handleSubmit:i,setValue:s}=un({defaultValues:n,resolver:fn($se)}),a=o=>{s("utskritPlanType",o)};return p.jsxs("form",{onSubmit:i(o=>t(o)),className:"space-y-8",children:[p.jsxs(Gl,{legend:"Velg hva du ønsker å skrive ut",hideLegend:!0,defaultValue:"helePlanen",onChange:a,children:[p.jsx(Nn,{value:"helePlanen",id:"id--helePlanen",children:p.jsx(hb,{tittelId:"Hele oppfølgingsperioden",tekstId:"Du skriver ut alt innholdet du ser i aktivitetsplan, også KVP-perioden"})}),p.jsx(Nn,{value:"aktivitetsplan",id:"id--aktivitetsplan",children:p.jsx(hb,{tittelId:"Oppfølgingsperioden uten KVP-perioden",tekstId:"Du skriver ut alt innholdet du ser i aktivitetsplan, uten om KVP-perioden"})}),p.jsx(Hse,{kvpPerioder:e})]}),p.jsx(ft,{children:"Velg"})]})},IP="VELG_PLAN",DP="MELDING_FORM",RP="UTSKRIFT";function Wse(r,e){const t=[];return r&&t.push(IP),e&&t.push(DP),t.push(RP),t}const Kse=()=>{const r=Z(Vy),e=Z(dJ),t=Z(xQ),n=Z(zy),i=Z(My),{hovedsideRoute:s}=Jr(),a=[Z(yx),Z(ch),Z(Uy),Z(wx)],o=$t(),l=jt();w.useEffect(()=>{o(bc()),o(Sy()),rr(cZ)},[]);const{fnr:d}=Qg(),[c,u]=w.useState(null),[f,g]=w.useState({}),[m,v]=w.useState(!0),[b,y]=w.useState(!0);w.useEffect(()=>{d&&(vse(d).then(Y=>g(Y)).finally(()=>y(!1)),bse(d).then(Y=>u(Y==null?void 0:Y.adresse)).finally(()=>v(!1)))},[d]);const[k,_]=w.useState(0),[E,S]=w.useState(""),[O,T]=w.useState("helePlanen"),C=()=>_(k+1),D=Y=>(S(Y.beskrivelse),C(),Promise.resolve()),R=Y=>(T(Y.utskritPlanType),C(),Promise.resolve()),L=e&&e.length>0&&l,F=Wse(L,i&&l),H=Xr(),N=()=>H(-1);if(d&&(m||b))return p.jsx(Uc,{});const G=(()=>{if(F[k]===DP)return p.jsx(gc,{closeOnBackdropClick:!0,onClose:N,open:!0,header:{heading:`Aktivitetsplan for ${f.fornavn}`,closeButton:!0},children:p.jsx(kp,{avhengigheter:a,children:p.jsx(Vse,{bruker:f,onSubmit:D})})});if(F[k]===IP)return p.jsx(gc,{onClose:N,open:!0,header:{heading:"Velg hva du ønsker å skrive ut",closeButton:!0},children:p.jsx(gc.Body,{children:p.jsx(kp,{avhengigheter:a,children:p.jsx(zse,{kvpPerioder:e,onSubmit:R})})})})})();return p.jsx("section",{className:"flex flex-col justify-center items-center p-8",children:p.jsxs("div",{className:"aktivitetsplanprint flex justify-center items-center",children:[G,p.jsx(yse,{tilbakeRoute:s(),kanSkriveUt:F[k]===RP}),p.jsx("div",{className:"border px-12 print:border-none",children:p.jsx(Mse,{dialoger:t,bruker:f,adresse:c,printMelding:E,aktiviteter:r,mittMal:n,erVeileder:l,utskriftPlanType:O,kvpPerioder:e})})]})})},Gse=sr({mal:ct().min(1,"Feltet må fylles ut").max(500,"Du må korte ned teksten til 500 tegn")}),qse=r=>{const{mal:e,dirtyRef:t,handleComplete:n}=r,i=$t(),s=w.useRef(null);w.useLayoutEffect(()=>{const k=s.current;k&&(k==null||k.focus(),k.selectionStart=k.selectionEnd=k.value.length)},[]);const a=k=>{k.mal!==r.mal?i(Jg({mal:k.mal.trim()})).then(E=>{Tc(E)&&i(Sy()).then(()=>n())}):n();const _=document.querySelector(".aktivitet-modal");return _&&(_==null||_.focus()),Promise.resolve()},o={mal:e||""},{register:l,handleSubmit:d,watch:c,formState:{errors:u,isDirty:f,isSubmitting:g}}=un({defaultValues:o,resolver:fn(Gse),shouldFocusError:!0});t&&(t.current=f);const m=c("mal"),v=Z(gW),b=Z(Ly,it),y=Z(wn,it);return p.jsxs("form",{className:"my-4 space-y-8",onSubmit:d(k=>a(k)),children:[p.jsx(Vn,{label:"Mitt mål (obligatorisk)",maxLength:500,"aria-label":"Mitt mål",...l("mal"),error:u.mal&&u.mal.message,value:m,disabled:g||!b||!y}),p.jsx(hs,{feilmeldinger:v}),p.jsx(ft,{onClick:()=>bo("Lagre mål"),disabled:g,children:"Lagre"})]})},Yse=()=>{const r=Z(zy,it),e=Z($y,it),t=Z(fh,it),n=r&&r.mal,i=t&&e.length===0||!n?"Det ble ikke skrevet mål i denne perioden":n;return p.jsx("div",{className:"mb-8",children:p.jsx(Mi,{className:"mb-8",children:i})})},Xse=r=>{const e=Z(fh,it),t=Z(zy,it),n=Z(wn,it),i=jt(),s=Z(Ly,it),a=t&&t.mal,[o,l]=w.useState(!e&&n&&s);return w.useEffect(()=>{l(!e&&n&&s)},[e,n,s]),o?p.jsx(qse,{mal:a,dirtyRef:r.dirtyRef,handleComplete:()=>{l(!1),r.dirtyRef.current=!1,CZ(i),r.onLagre()}}):p.jsx(Yse,{})},Zse=(r,e)=>r?e==="BRUKER"?"bruker":"Nav":e==="BRUKER"?"deg":"Nav";function Jse(r,e){return p.jsxs("article",{children:[p.jsxs("span",{className:"font-bold",children:[r.mal?"Skrevet av ":"Mål slettet av ",p.jsx("span",{children:Zse(e,r.endretAv)})]}),` ${BD(r.dato)}`,p.jsx(Ml,{formatLinebreaks:!0,formatLinks:!0,children:r.mal})]},r.dato)}const Qse=()=>{const r=Z($y,it),e=jt();return r.length===0?null:p.jsx(ye,{children:p.jsxs(ye.Item,{children:[p.jsx(ye.Header,{children:p.jsx(Be,{level:"2",size:"small",children:"Tidligere lagrede mål"})}),p.jsx(ye.Content,{children:r.map(t=>Jse(t,e))})]})})};function eae(r){const{children:e,heading:t}=r,n=Z(pW);return p.jsx(eu,{lukkPåKlikkUtenfor:!0,onRequestClose:r.onRequestClosed,feilmeldinger:n,heading:t,children:e})}const tae=()=>{const r=Z(fh,it),e=Z(wn,it),t=Z(Ly,it),n=Z($y,it),i=w.useRef(!1),s=Xr(),{hovedsideRoute:a}=Jr(),o=()=>!i.current||window.confirm(_p)?(s(a()),!0):!1;return p.jsx(eae,{onRequestClosed:o,heading:r||!e||!t?"Mitt mål fra en tidligere periode":"Mitt mål",children:p.jsxs("div",{children:[p.jsxs(ls,{className:"mb-8",header:"Tips til mål",defaultOpen:n.length===0,children:["Skriv noen ord om hva som er målet ditt slik at vi kan veilede deg bedre.",p.jsxs("ul",{className:"list-disc mt-4 pl-8",children:[p.jsx("li",{children:"Hva er målet på kort sikt? Hva er målet på lengre sikt?"}),p.jsx("li",{children:"Hva slags arbeidsoppgaver ønsker du deg?"})]})]}),p.jsxs("section",{children:[p.jsx(Xse,{onLagre:o,dirtyRef:i}),p.jsx(Qse,{})]})]})})},rae=()=>{const r=$t(),{oppfolgingsperiodeId:e}=Yc(),t=Z(uh),n=Z(Wz),i=Z(Kz),s=Z(ix),a=Z(nx),o=[oe.PENDING,oe.RELOADING].includes(s),l=[oe.PENDING,oe.RELOADING].includes(a),{hovedsideRoute:d}=Jr(),c=Xr(),{aktivEnhet:u}=Qg();if(!u||!e)throw new Error("Kan ikke arkivere når aktiv enhet ikke er valgt");const f=()=>{bo("Journalfør aktivitetsplan"),n&&r(qm({forhaandsvisningOpprettet:n,journalførendeEnhet:u,oppfolgingsperiodeId:e}))},g=b=>{const y=b.target.value;c(`/aktivitetsplan/journalforing/${y}`,{replace:!0})},m=o||!n||l,v=()=>s===oe.ERROR?"Kunne ikke hente sist journalført":s===oe.OK?i?kn(i)+" kl. "+k_(i):"Aldri":"";return p.jsxs("div",{className:"items-start space-y-4 max-w-96 py-8 px-8 bg-white overflow-y-auto",style:{maxHeight:"calc(100dvh - 160px)"},children:[p.jsx(mc,{className:"text-text-action underline hover:no-underline",to:d(),tabIndex:0,children:"Til aktivitetsplanen"}),p.jsx(Be,{size:"large",children:"Journalføring"}),p.jsxs("div",{className:"print:border-none space-y-8 flex flex-col pb-4",children:[p.jsxs(In,{as:"ul",title:"Dette er ikke inkludert i journalføringen:",size:"small",children:[p.jsx(In.Item,{children:"Aktiviteter og dialog tilknyttet KVP"}),p.jsx(In.Item,{children:"Samtalereferat som ikke er delt med bruker"})]}),p.jsx(To,{label:"Oppfølgingsperiode",onChange:g,disabled:m,value:e,children:[...t].sort((b,y)=>Date.parse(y.start)-Date.parse(b.start)).map(b=>p.jsx("option",{value:b.id,children:b.slutt==null?"Nåværende periode":kn(b.start)+" - "+kn(b.slutt)},`oppfolgingsperiodeoption-${b.id}`))}),p.jsxs("div",{children:[p.jsx(Bc,{children:"Sist journalført"}),p.jsx(pe,{children:v()})]}),p.jsx(ft,{loading:l,variant:"primary",onClick:f,children:"Journalfør"})]})]})};var dp={};dp.d=(r,e)=>{for(var t in e)dp.o(e,t)&&!dp.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};dp.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var Je=globalThis.pdfjsLib={};dp.d(Je,{AbortException:()=>nu,AnnotationEditorLayer:()=>$w,AnnotationEditorParamsType:()=>Ye,AnnotationEditorType:()=>at,AnnotationEditorUIManager:()=>Nc,AnnotationLayer:()=>ele,AnnotationMode:()=>Jo,ColorPicker:()=>vb,DOMSVGFactory:()=>eS,DrawLayer:()=>Gw,FeatureTest:()=>qn,GlobalWorkerOptions:()=>po,ImageKind:()=>tv,InvalidPDFException:()=>NP,MissingPDFException:()=>ru,OPS:()=>ms,OutputScale:()=>M_,PDFDataRangeTransport:()=>IN,PDFDateString:()=>Gx,PDFWorker:()=>Vu,PasswordResponses:()=>aae,PermissionFlag:()=>sae,PixelsPerInch:()=>Ul,RenderingCancelledException:()=>Wx,TextLayer:()=>cw,UnexpectedResponseException:()=>rk,Util:()=>Ve,VerbosityLevel:()=>Qy,XfaLayer:()=>RN,build:()=>Poe,createValidAbsoluteUrl:()=>cae,fetchData:()=>ik,getDocument:()=>Soe,getFilenameFromUrl:()=>yae,getPdfFilenameFromUrl:()=>kae,getXfaPageViewport:()=>_ae,isDataScheme:()=>sk,isPdfFile:()=>Kx,noContextMenu:()=>ds,normalizeUnicode:()=>mae,setLayerDimensions:()=>Pc,shadow:()=>mt,version:()=>Roe});const Pn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),PP=[1,0,0,1,0,0],D_=[.001,0,0,.001,0,0],nae=1e7,T0=1.35,Ai={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Jo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},iae="pdfjs_internal_editor_",at={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ye={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},sae={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},En={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tv={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Br={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Ph={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Qy={ERRORS:0,WARNINGS:1,INFOS:5},ms={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},aae={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ek=Qy.WARNINGS;function oae(r){Number.isInteger(r)&&(ek=r)}function lae(){return ek}function tk(r){ek>=Qy.INFOS&&console.log(`Info: ${r}`)}function dt(r){ek>=Qy.WARNINGS&&console.log(`Warning: ${r}`)}function tr(r){throw new Error(r)}function Gr(r,e){r||tr(e)}function dae(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cae(r,e=null,t=null){if(!r)return null;try{if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=gae(r)}catch{}}const n=e?new URL(r,e):new URL(r);if(dae(n))return n}catch{}return null}function mt(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Ql=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class R_ extends Ql{constructor(e,t){super(e,"PasswordException"),this.code=t}}class P_ extends Ql{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class NP extends Ql{constructor(e){super(e,"InvalidPDFException")}}class ru extends Ql{constructor(e){super(e,"MissingPDFException")}}class rk extends Ql{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class uae extends Ql{constructor(e){super(e,"FormatError")}}class nu extends Ql{constructor(e){super(e,"AbortException")}}function MP(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&tr("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=r.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function nk(r){typeof r!="string"&&tr("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function fae(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function $x(r){const e=Object.create(null);for(const[t,n]of r)e[t]=n;return e}function hae(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function pae(){try{return new Function(""),!0}catch{return!1}}class qn{static get isLittleEndian(){return mt(this,"isLittleEndian",hae())}static get isEvalSupported(){return mt(this,"isEvalSupported",pae())}static get isOffscreenCanvasSupported(){return mt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?mt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):mt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return mt(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const A0=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var xo,rv,N_;class Ve{static makeHexColor(e,t,n){return`#${A0[e]}${A0[t]}${A0[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,s]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],s[0],a[0]),Math.min(n[1],i[1],s[1],a[1]),Math.max(n[0],i[0],s[0],a[0]),Math.max(n[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,l=Math.sqrt((n+a)**2-4*(n*a-s*i))/2,d=o+l||1,c=o-l||1;return[Math.sqrt(d),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static bezierBoundingBox(e,t,n,i,s,a,o,l,d){return d?(d[0]=Math.min(d[0],e,o),d[1]=Math.min(d[1],t,l),d[2]=Math.max(d[2],e,o),d[3]=Math.max(d[3],t,l)):d=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],j(this,xo,N_).call(this,e,n,s,o,t,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),d),j(this,xo,N_).call(this,e,n,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),d),d}}xo=new WeakSet,rv=function(e,t,n,i,s,a,o,l,d,c){if(d<=0||d>=1)return;const u=1-d,f=d*d,g=f*d,m=u*(u*(u*e+3*d*t)+3*f*n)+g*i,v=u*(u*(u*s+3*d*a)+3*f*o)+g*l;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],v),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],v)},N_=function(e,t,n,i,s,a,o,l,d,c,u,f){if(Math.abs(d)<1e-12){Math.abs(c)>=1e-12&&j(this,xo,rv).call(this,e,t,n,i,s,a,o,l,-u/c,f);return}const g=c**2-4*u*d;if(g<0)return;const m=Math.sqrt(g),v=2*d;j(this,xo,rv).call(this,e,t,n,i,s,a,o,l,(-c+m)/v,f),j(this,xo,rv).call(this,e,t,n,i,s,a,o,l,(-c-m)/v,f)},I(Ve,xo);function gae(r){return decodeURIComponent(escape(r))}let O0=null,WA=null;function mae(r){return O0||(O0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,WA=new Map([["ﬅ","ſt"]])),r.replaceAll(O0,(e,t,n)=>t?t.normalize("NFKC"):WA.get(n))}function vae(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const r=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(r);else for(let e=0;e<32;e++)r[e]=Math.floor(Math.random()*255);return MP(r)}const zx="pdfjs_internal_id_",Ma={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function bae(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(MP(r))}const Va="http://www.w3.org/2000/svg",pd=class pd{};re(pd,"CSS",96),re(pd,"PDF",72),re(pd,"PDF_TO_CSS_UNITS",pd.CSS/pd.PDF);let Ul=pd;async function ik(r,e="text"){if(Bh(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class am{constructor({viewBox:e,scale:t,rotation:n,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=i,this.offsetY=s;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let d,c,u,f;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,c=0,u=0,f=1;break;case 90:d=0,c=1,u=1,f=0;break;case 270:d=0,c=-1,u=-1,f=0;break;case 0:d=1,c=0,u=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(u=-u,f=-f);let g,m,v,b;d===0?(g=Math.abs(l-e[1])*t+i,m=Math.abs(o-e[0])*t+s,v=(e[3]-e[1])*t,b=(e[2]-e[0])*t):(g=Math.abs(o-e[0])*t+i,m=Math.abs(l-e[1])*t+s,v=(e[2]-e[0])*t,b=(e[3]-e[1])*t),this.transform=[d*t,c*t,u*t,f*t,g-d*t*o-u*t*l,m-c*t*o-f*t*l],this.width=v,this.height=b}get rawDims(){const{viewBox:e}=this;return mt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new am({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return Ve.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ve.applyTransform([e[0],e[1]],this.transform),n=Ve.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return Ve.applyInverseTransform([e,t],this.transform)}}class Wx extends Ql{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function sk(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function Kx(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function yae(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function kae(r,e="document.pdf"){if(typeof r!="string")return e;if(sk(r))return dt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(r);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class KA{constructor(){re(this,"started",Object.create(null));re(this,"times",[])}time(e){e in this.started&&dt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||dt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Bh(r,e){try{const{protocol:t}=e?new URL(r,e):new URL(r);return t==="http:"||t==="https:"}catch{return!1}}function ds(r){r.preventDefault()}function GA(r){console.log("Deprecated API usage: "+r)}var Op;class Gx{static toDateObject(e){if(!e||typeof e!="string")return null;h(this,Op)||A(this,Op,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=h(this,Op).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const d=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,d==="-"?(a+=c,o+=u):d==="+"&&(a-=c,o-=u),new Date(Date.UTC(n,i,s,a,o,l))}}Op=new WeakMap,I(Gx,Op);function _ae(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new am({viewBox:s,scale:e,rotation:t})}function qx(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(dt(`Not a valid color format: "${r}"`),[0,0,0])}function wae(r){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,qx(n))}e.remove()}function dr(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform();return[e,t,n,i,s,a]}function La(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform().invertSelf();return[e,t,n,i,s,a]}function Pc(r,e,t=!1,n=!0){if(e instanceof am){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=r,o=qn.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,d=`var(--scale-factor) * ${s}px`,c=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,u=o?`round(down, ${d}, var(--scale-round-y, 1px))`:`calc(${d})`;!t||e.rotation%180===0?(a.width=c,a.height=u):(a.width=u,a.height=c)}n&&r.setAttribute("data-main-rotation",e.rotation)}class M_{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Qo,yd,vs,kd,Cp,jp,yb,LP,Yn,FP,VP,nv,HP,F_;const Ha=class Ha{constructor(e){I(this,Yn);I(this,Qo,null);I(this,yd,null);I(this,vs);I(this,kd,null);I(this,Cp,null);A(this,vs,e),h(Ha,jp)||A(Ha,jp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=A(this,Qo,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=h(this,vs)._uiManager._signal;e.addEventListener("contextmenu",ds,{signal:t}),e.addEventListener("pointerdown",j(Ha,yb,LP),{signal:t});const n=A(this,kd,document.createElement("div"));n.className="buttons",e.append(n);const i=h(this,vs).toolbarPosition;if(i){const{style:s}=e,a=h(this,vs)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return j(this,Yn,HP).call(this),e}get div(){return h(this,Qo)}hide(){var e;h(this,Qo).classList.add("hidden"),(e=h(this,yd))==null||e.hideDropdown()}show(){var e;h(this,Qo).classList.remove("hidden"),(e=h(this,Cp))==null||e.shown()}async addAltText(e){const t=await e.render();j(this,Yn,nv).call(this,t),h(this,kd).prepend(t,h(this,Yn,F_)),A(this,Cp,e)}addColorPicker(e){A(this,yd,e);const t=e.renderButton();j(this,Yn,nv).call(this,t),h(this,kd).prepend(t,h(this,Yn,F_))}remove(){var e;h(this,Qo).remove(),(e=h(this,yd))==null||e.destroy(),A(this,yd,null)}};Qo=new WeakMap,yd=new WeakMap,vs=new WeakMap,kd=new WeakMap,Cp=new WeakMap,jp=new WeakMap,yb=new WeakSet,LP=function(e){e.stopPropagation()},Yn=new WeakSet,FP=function(e){h(this,vs)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},VP=function(e){h(this,vs)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},nv=function(e){const t=h(this,vs)._uiManager._signal;e.addEventListener("focusin",j(this,Yn,FP).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",j(this,Yn,VP).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ds,{signal:t})},HP=function(){const{editorType:e,_uiManager:t}=h(this,vs),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",h(Ha,jp)[e]),j(this,Yn,nv).call(this,n),n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),h(this,kd).append(n)},F_=function(){const e=document.createElement("div");return e.className="divider",e},I(Ha,yb),I(Ha,jp,null);let L_=Ha;var Ip,_d,wd,$l,UP,BP,$P;class Eae{constructor(e){I(this,$l);I(this,Ip,null);I(this,_d,null);I(this,wd);A(this,wd,e)}show(e,t,n){const[i,s]=j(this,$l,BP).call(this,t,n),{style:a}=h(this,_d)||A(this,_d,j(this,$l,UP).call(this));e.append(h(this,_d)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,_d).remove()}}Ip=new WeakMap,_d=new WeakMap,wd=new WeakMap,$l=new WeakSet,UP=function(){const e=A(this,_d,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ds,{signal:h(this,wd)._signal});const t=A(this,Ip,document.createElement("div"));return t.className="buttons",e.append(t),j(this,$l,$P).call(this),e},BP=function(e,t){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(t?s.width:0);if(a>n){i=o,n=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},$P=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=h(this,wd)._signal;e.addEventListener("contextmenu",ds,{signal:n}),e.addEventListener("click",()=>{h(this,wd).highlightSelection("floating_button")},{signal:n}),h(this,Ip).append(e)};function pb(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}function xae(r){return Math.round(Math.min(255,Math.max(1,255*r))).toString(16).padStart(2,"0")}var kb;class Sae{constructor(){I(this,kb,0)}get id(){return`${iae}${$n(this,kb)._++}`}}kb=new WeakMap;var Bu,Dp,Sn,$u,iv;const nS=class nS{constructor(){I(this,$u);I(this,Bu,vae());I(this,Dp,0);I(this,Sn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return mt(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return j(this,$u,iv).call(this,`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return j(this,$u,iv).call(this,e,e)}async getFromBlob(e,t){const n=await t;return j(this,$u,iv).call(this,e,n)}async getFromId(e){h(this,Sn)||A(this,Sn,new Map);const t=h(this,Sn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){h(this,Sn)||A(this,Sn,new Map);let n=h(this,Sn).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${h(this,Bu)}_${$n(this,Dp)._++}`,refCounter:1,isSvg:!1},h(this,Sn).set(e,n),h(this,Sn).set(n.id,n),n}getSvgUrl(e){const t=h(this,Sn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;h(this,Sn)||A(this,Sn,new Map);const t=h(this,Sn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${h(this,Bu)}_`)}};Bu=new WeakMap,Dp=new WeakMap,Sn=new WeakMap,$u=new WeakSet,iv=async function(e,t){h(this,Sn)||A(this,Sn,new Map);let n=h(this,Sn).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${h(this,Bu)}_${$n(this,Dp)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await ik(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=nS._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((d,c)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,d()},a.onload=async()=>{const u=n.svgUrl=a.result;o.src=await s?`${u}#svgView(preserveAspectRatio(none))`:u},o.onerror=a.onerror=c});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){console.error(i),n=null}return h(this,Sn).set(e,n),n&&h(this,Sn).set(n.id,n),n};let V_=nS;var rn,el,Rp,nn;class Tae{constructor(e=128){I(this,rn,[]);I(this,el,!1);I(this,Rp);I(this,nn,-1);A(this,Rp,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),h(this,el))return;const l={cmd:e,undo:t,post:n,type:s};if(h(this,nn)===-1){h(this,rn).length>0&&(h(this,rn).length=0),A(this,nn,0),h(this,rn).push(l);return}if(a&&h(this,rn)[h(this,nn)].type===s){o&&(l.undo=h(this,rn)[h(this,nn)].undo),h(this,rn)[h(this,nn)]=l;return}const d=h(this,nn)+1;d===h(this,Rp)?h(this,rn).splice(0,1):(A(this,nn,d),d<h(this,rn).length&&h(this,rn).splice(d)),h(this,rn).push(l)}undo(){if(h(this,nn)===-1)return;A(this,el,!0);const{undo:e,post:t}=h(this,rn)[h(this,nn)];e(),t==null||t(),A(this,el,!1),A(this,nn,h(this,nn)-1)}redo(){if(h(this,nn)<h(this,rn).length-1){A(this,nn,h(this,nn)+1),A(this,el,!0);const{cmd:e,post:t}=h(this,rn)[h(this,nn)];e(),t==null||t(),A(this,el,!1)}}hasSomethingToUndo(){return h(this,nn)!==-1}hasSomethingToRedo(){return h(this,nn)<h(this,rn).length-1}destroy(){A(this,rn,null)}}rn=new WeakMap,el=new WeakMap,Rp=new WeakMap,nn=new WeakMap;var _b,zP;class om{constructor(e){I(this,_b);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=qn.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(j(this,_b,zP).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}}_b=new WeakSet,zP=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const wb=class wb{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return wae(e),mt(this,"_colors",e)}convert(e){const t=qx(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,a)=>s===t[a]))return wb._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Ve.makeHexColor(...t):e}};re(wb,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let H_=wb;var zu,yi,zr,gn,Wu,Ba,Ku,bs,tl,Gu,Ed,Js,ys,xd,Pp,Np,qu,Mp,Qs,rl,Yu,nl,ea,Eb,il,Lp,sl,Sd,Fp,Vp,sn,Nt,$a,Td,Hp,Up,al,ta,za,Bp,Zi,_e,sv,U_,WP,KP,av,GP,qP,YP,B_,XP,$_,z_,ZP,zn,qo,JP,QP,W_,eN,$h,K_;const Ru=class Ru{constructor(e,t,n,i,s,a,o,l,d,c,u){I(this,_e);I(this,zu,new AbortController);I(this,yi,null);I(this,zr,new Map);I(this,gn,new Map);I(this,Wu,null);I(this,Ba,null);I(this,Ku,null);I(this,bs,new Tae);I(this,tl,null);I(this,Gu,0);I(this,Ed,new Set);I(this,Js,null);I(this,ys,null);I(this,xd,new Set);I(this,Pp,!1);I(this,Np,!1);I(this,qu,!1);I(this,Mp,null);I(this,Qs,null);I(this,rl,null);I(this,Yu,null);I(this,nl,!1);I(this,ea,null);I(this,Eb,new Sae);I(this,il,!1);I(this,Lp,!1);I(this,sl,null);I(this,Sd,null);I(this,Fp,null);I(this,Vp,null);I(this,sn,at.NONE);I(this,Nt,new Set);I(this,$a,null);I(this,Td,null);I(this,Hp,null);I(this,Up,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,al,[0,0]);I(this,ta,null);I(this,za,null);I(this,Bp,null);I(this,Zi,null);const f=this._signal=h(this,zu).signal;A(this,za,e),A(this,Bp,t),A(this,Wu,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:f}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),i._on("setpreference",this.onSetPreference.bind(this),{signal:f}),i._on("switchannotationeditorparams",g=>this.updateParams(g.type,g.value),{signal:f}),j(this,_e,GP).call(this),j(this,_e,ZP).call(this),j(this,_e,B_).call(this),A(this,Ba,s.annotationStorage),A(this,Mp,s.filterFactory),A(this,Td,a),A(this,Yu,o||null),A(this,Pp,l),A(this,Np,d),A(this,qu,c),A(this,Vp,u||null),this.viewParameters={realScale:Ul.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ru.prototype,t=a=>h(a,za).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return mt(this,"_keyboardManager",new om([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,za).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,za).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,i;(e=h(this,Zi))==null||e.resolve(),A(this,Zi,null),(t=h(this,zu))==null||t.abort(),A(this,zu,null),this._signal=null;for(const s of h(this,gn).values())s.destroy();h(this,gn).clear(),h(this,zr).clear(),h(this,xd).clear(),A(this,yi,null),h(this,Nt).clear(),h(this,bs).destroy(),(n=h(this,Wu))==null||n.destroy(),(i=h(this,ea))==null||i.hide(),A(this,ea,null),h(this,Qs)&&(clearTimeout(h(this,Qs)),A(this,Qs,null)),h(this,ta)&&(clearTimeout(h(this,ta)),A(this,ta,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return h(this,Vp)}get useNewAltTextFlow(){return h(this,Np)}get useNewAltTextWhenAddingImage(){return h(this,qu)}get hcmFilter(){return mt(this,"hcmFilter",h(this,Td)?h(this,Mp).addHCMFilter(h(this,Td).foreground,h(this,Td).background):"none")}get direction(){return mt(this,"direction",getComputedStyle(h(this,za)).direction)}get highlightColors(){return mt(this,"highlightColors",h(this,Yu)?new Map(h(this,Yu).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return mt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){A(this,Fp,e)}editAltText(e,t=!1){var n;(n=h(this,Wu))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":A(this,qu,t);break}}onPageChanging({pageNumber:e}){A(this,Gu,e-1)}focusMainContainer(){h(this,za).focus()}findParent(e,t){for(const n of h(this,gn).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return n}return null}disableUserSelect(e=!1){h(this,Bp).classList.toggle("noUserSelect",e)}addShouldRescale(e){h(this,xd).add(e)}removeShouldRescale(e){h(this,xd).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ul.PDF_TO_CSS_UNITS;for(const t of h(this,xd))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=t,o=t.toString(),d=j(this,_e,sv).call(this,t).closest(".textLayer"),c=this.getSelectionBoxes(d);if(!c)return;t.empty();const u=j(this,_e,U_).call(this,d),f=h(this,sn)===at.NONE,g=()=>{u==null||u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(at.HIGHLIGHT,g);return}g()}addToAnnotationStorage(e){!e.isEmpty()&&h(this,Ba)&&!h(this,Ba).has(e.id)&&h(this,Ba).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,h(this,nl)&&(A(this,nl,!1),j(this,_e,av).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of h(this,Nt))if(t.div.contains(e)){A(this,Sd,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!h(this,Sd))return;const[e,t]=h(this,Sd);A(this,Sd,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){j(this,_e,B_).call(this),j(this,_e,$_).call(this)}removeEditListeners(){j(this,_e,XP).call(this),j(this,_e,z_).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of h(this,ys))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of h(this,ys))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=h(this,yi))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of h(this,Nt)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of h(this,ys))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){dt(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const d=await i.deserialize(l);if(!d)return;s.push(d)}const a=()=>{for(const l of s)j(this,_e,W_).call(this,l);j(this,_e,K_).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){dt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,sn)!==at.NONE&&!this.isEditorHandlingKeyboard&&Ru._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,nl)&&(A(this,nl,!1),j(this,_e,av).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(j(this,_e,qP).call(this),j(this,_e,$_).call(this),j(this,_e,zn).call(this,{isEditing:h(this,sn)!==at.NONE,isEmpty:j(this,_e,$h).call(this),hasSomethingToUndo:h(this,bs).hasSomethingToUndo(),hasSomethingToRedo:h(this,bs).hasSomethingToRedo(),hasSelectedEditor:!1})):(j(this,_e,YP).call(this),j(this,_e,z_).call(this),j(this,_e,zn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!h(this,ys)){A(this,ys,e);for(const t of h(this,ys))j(this,_e,qo).call(this,t.defaultPropertiesToUpdate)}}getId(){return h(this,Eb).id}get currentLayer(){return h(this,gn).get(h(this,Gu))}getLayer(e){return h(this,gn).get(e)}get currentPageIndex(){return h(this,Gu)}addLayer(e){h(this,gn).set(e.pageIndex,e),h(this,il)?e.enable():e.disable()}removeLayer(e){h(this,gn).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){if(h(this,sn)!==e&&!(h(this,Zi)&&(await h(this,Zi).promise,!h(this,Zi)))){if(A(this,Zi,Promise.withResolvers()),A(this,sn,e),e===at.NONE){this.setEditingState(!1),j(this,_e,QP).call(this),h(this,Zi).resolve();return}this.setEditingState(!0),await j(this,_e,JP).call(this),this.unselectAll();for(const i of h(this,gn).values())i.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),h(this,Zi).resolve();return}for(const i of h(this,zr).values())i.annotationElementId===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();h(this,Zi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==h(this,sn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(h(this,ys)){switch(e){case Ye.CREATE:this.currentLayer.addNewEditor();return;case Ye.HIGHLIGHT_DEFAULT_COLOR:(n=h(this,Fp))==null||n.updateColor(t);break;case Ye.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Hp)||A(this,Hp,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of h(this,Nt))i.updateParams(e,t);for(const i of h(this,ys))i.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const a of h(this,zr).values())a.editorType===e&&a.show(t);(((s=h(this,Hp))==null?void 0:s.get(Ye.HIGHLIGHT_SHOW_ALL))??!0)!==t&&j(this,_e,qo).call(this,[[Ye.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(h(this,Lp)!==e){A(this,Lp,e);for(const t of h(this,gn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of h(this,zr).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return h(this,zr).get(e)}addEditor(e){h(this,zr).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(h(this,Qs)&&clearTimeout(h(this,Qs)),A(this,Qs,setTimeout(()=>{this.focusMainContainer(),A(this,Qs,null)},0))),h(this,zr).delete(e.id),this.unselect(e),(!e.annotationElementId||!h(this,Ed).has(e.annotationElementId))&&((t=h(this,Ba))==null||t.remove(e.id))}addDeletedAnnotationElement(e){h(this,Ed).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return h(this,Ed).has(e)}removeDeletedAnnotationElement(e){h(this,Ed).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){h(this,yi)!==e&&(A(this,yi,e),e&&j(this,_e,qo).call(this,e.propertiesToUpdate))}updateUI(e){h(this,_e,eN)===e&&j(this,_e,qo).call(this,e.propertiesToUpdate)}toggleSelected(e){if(h(this,Nt).has(e)){h(this,Nt).delete(e),e.unselect(),j(this,_e,zn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Nt).add(e),e.select(),j(this,_e,qo).call(this,e.propertiesToUpdate),j(this,_e,zn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of h(this,Nt))t!==e&&t.unselect();h(this,Nt).clear(),h(this,Nt).add(e),e.select(),j(this,_e,qo).call(this,e.propertiesToUpdate),j(this,_e,zn).call(this,{hasSelectedEditor:!0})}isSelected(e){return h(this,Nt).has(e)}get firstSelectedEditor(){return h(this,Nt).values().next().value}unselect(e){e.unselect(),h(this,Nt).delete(e),j(this,_e,zn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Nt).size!==0}get isEnterHandled(){return h(this,Nt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,bs).undo(),j(this,_e,zn).call(this,{hasSomethingToUndo:h(this,bs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:j(this,_e,$h).call(this)})}redo(){h(this,bs).redo(),j(this,_e,zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,bs).hasSomethingToRedo(),isEmpty:j(this,_e,$h).call(this)})}addCommands(e){h(this,bs).add(e),j(this,_e,zn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:j(this,_e,$h).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...h(this,Nt)],t=()=>{for(const i of e)i.remove()},n=()=>{for(const i of e)j(this,_e,W_).call(this,i)};this.addCommands({cmd:t,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=h(this,yi))==null||e.commitOrRemove()}hasSomethingToControl(){return h(this,yi)||this.hasSelection}selectAll(){for(const e of h(this,Nt))e.commit();j(this,_e,K_).call(this,h(this,zr).values())}unselectAll(){if(!(h(this,yi)&&(h(this,yi).commitOrRemove(),h(this,sn)!==at.NONE))&&this.hasSelection){for(const e of h(this,Nt))e.unselect();h(this,Nt).clear(),j(this,_e,zn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;h(this,al)[0]+=e,h(this,al)[1]+=t;const[i,s]=h(this,al),a=[...h(this,Nt)],o=1e3;h(this,ta)&&clearTimeout(h(this,ta)),A(this,ta,setTimeout(()=>{A(this,ta,null),h(this,al)[0]=h(this,al)[1]=0,this.addCommands({cmd:()=>{for(const l of a)h(this,zr).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of a)h(this,zr).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,Js,new Map);for(const e of h(this,Nt))h(this,Js).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Js))return!1;this.disableUserSelect(!1);const e=h(this,Js);A(this,Js,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const n=(i,s,a,o)=>{if(h(this,zr).has(i.id)){const l=h(this,gn).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(h(this,Js))for(const n of h(this,Js).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||h(this,Nt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return h(this,yi)===e}getActive(){return h(this,yi)}getMode(){return h(this,sn)}get imageManager(){return mt(this,"imageManager",new V_)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,c=t.rangeCount;d<c;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(d,c,u,f)=>({x:(c-i)/a,y:1-(d+u-n)/s,width:f/a,height:u/s});break;case"180":o=(d,c,u,f)=>({x:1-(d+u-n)/s,y:1-(c+f-i)/a,width:u/s,height:f/a});break;case"270":o=(d,c,u,f)=>({x:1-(c+f-i)/a,y:(d-n)/s,width:f/a,height:u/s});break;default:o=(d,c,u,f)=>({x:(d-n)/s,y:(c-i)/a,width:u/s,height:f/a});break}const l=[];for(let d=0,c=t.rangeCount;d<c;d++){const u=t.getRangeAt(d);if(!u.collapsed)for(const{x:f,y:g,width:m,height:v}of u.getClientRects())m===0||v===0||l.push(o(f,g,m,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(h(this,Ku)||A(this,Ku,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=h(this,Ku))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=h(this,Ku))==null?void 0:i.get(e.data.id);if(!t)return;const n=h(this,Ba).getRawValue(t);n&&(h(this,sn)===at.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};zu=new WeakMap,yi=new WeakMap,zr=new WeakMap,gn=new WeakMap,Wu=new WeakMap,Ba=new WeakMap,Ku=new WeakMap,bs=new WeakMap,tl=new WeakMap,Gu=new WeakMap,Ed=new WeakMap,Js=new WeakMap,ys=new WeakMap,xd=new WeakMap,Pp=new WeakMap,Np=new WeakMap,qu=new WeakMap,Mp=new WeakMap,Qs=new WeakMap,rl=new WeakMap,Yu=new WeakMap,nl=new WeakMap,ea=new WeakMap,Eb=new WeakMap,il=new WeakMap,Lp=new WeakMap,sl=new WeakMap,Sd=new WeakMap,Fp=new WeakMap,Vp=new WeakMap,sn=new WeakMap,Nt=new WeakMap,$a=new WeakMap,Td=new WeakMap,Hp=new WeakMap,Up=new WeakMap,al=new WeakMap,ta=new WeakMap,za=new WeakMap,Bp=new WeakMap,Zi=new WeakMap,_e=new WeakSet,sv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},U_=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of h(this,gn).values())if(n.hasTextLayer(e))return n;return null},WP=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=j(this,_e,sv).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(h(this,ea)||A(this,ea,new Eae(this)),h(this,ea).show(n,i,this.direction==="ltr"))},KP=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){h(this,$a)&&((s=h(this,ea))==null||s.hide(),A(this,$a,null),j(this,_e,zn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===h(this,$a))return;const i=j(this,_e,sv).call(this,e).closest(".textLayer");if(!i){h(this,$a)&&((a=h(this,ea))==null||a.hide(),A(this,$a,null),j(this,_e,zn).call(this,{hasSelectedText:!1}));return}if((o=h(this,ea))==null||o.hide(),A(this,$a,t),j(this,_e,zn).call(this,{hasSelectedText:!0}),!(h(this,sn)!==at.HIGHLIGHT&&h(this,sn)!==at.NONE)&&(h(this,sn)===at.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,nl,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,sn)===at.HIGHLIGHT?j(this,_e,U_).call(this,i):null;l==null||l.toggleDrawing();const d=new AbortController,c=this.combinedSignal(d),u=f=>{f.type==="pointerup"&&f.button!==0||(d.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&j(this,_e,av).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}},av=function(e=""){h(this,sn)===at.HIGHLIGHT?this.highlightSelection(e):h(this,Pp)&&j(this,_e,WP).call(this)},GP=function(){document.addEventListener("selectionchange",j(this,_e,KP).bind(this),{signal:this._signal})},qP=function(){if(h(this,rl))return;A(this,rl,new AbortController);const e=this.combinedSignal(h(this,rl));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},YP=function(){var e;(e=h(this,rl))==null||e.abort(),A(this,rl,null)},B_=function(){if(h(this,sl))return;A(this,sl,new AbortController);const e=this.combinedSignal(h(this,sl));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},XP=function(){var e;(e=h(this,sl))==null||e.abort(),A(this,sl,null)},$_=function(){if(h(this,tl))return;A(this,tl,new AbortController);const e=this.combinedSignal(h(this,tl));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},z_=function(){var e;(e=h(this,tl))==null||e.abort(),A(this,tl,null)},ZP=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},zn=function(e){Object.entries(e).some(([n,i])=>h(this,Up)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Up),e)}),h(this,sn)===at.HIGHLIGHT&&e.hasSelectedEditor===!1&&j(this,_e,qo).call(this,[[Ye.HIGHLIGHT_FREE,!0]]))},qo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},JP=async function(){if(!h(this,il)){A(this,il,!0);const e=[];for(const t of h(this,gn).values())e.push(t.enable());await Promise.all(e);for(const t of h(this,zr).values())t.enable()}},QP=function(){if(this.unselectAll(),h(this,il)){A(this,il,!1);for(const e of h(this,gn).values())e.disable();for(const e of h(this,zr).values())e.disable()}},W_=function(e){const t=h(this,gn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},eN=function(){let e=null;for(e of h(this,Nt));return e},$h=function(){if(h(this,zr).size===0)return!0;if(h(this,zr).size===1)for(const e of h(this,zr).values())return e.isEmpty();return!1},K_=function(e){for(const t of h(this,Nt))t.unselect();h(this,Nt).clear();for(const t of e)t.isEmpty()||(h(this,Nt).add(t),t.select());j(this,_e,zn).call(this,{hasSelectedEditor:this.hasSelection})},re(Ru,"TRANSLATE_SMALL",1),re(Ru,"TRANSLATE_BIG",10);let Nc=Ru;var an,ra,ks,Xu,na,ki,Zu,ia,ni,Wa,Ad,sa,ol,Ns,zh,ov;const Wn=class Wn{constructor(e){I(this,Ns);I(this,an,null);I(this,ra,!1);I(this,ks,null);I(this,Xu,null);I(this,na,null);I(this,ki,null);I(this,Zu,!1);I(this,ia,null);I(this,ni,null);I(this,Wa,null);I(this,Ad,null);I(this,sa,!1);A(this,ni,e),A(this,sa,e._uiManager.useNewAltTextFlow),h(Wn,ol)||A(Wn,ol,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Wn._l10n??(Wn._l10n=e)}async render(){const e=A(this,ks,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=A(this,Xu,document.createElement("span"));e.append(t),h(this,sa)?(e.classList.add("new"),e.setAttribute("data-l10n-id",h(Wn,ol).missing),t.setAttribute("data-l10n-id",h(Wn,ol)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=h(this,ni)._uiManager._signal;e.addEventListener("contextmenu",ds,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),h(this,ni)._uiManager.editAltText(h(this,ni)),h(this,sa)&&h(this,ni)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Ns,zh)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(A(this,Zu,!0),i(s))},{signal:n}),await j(this,Ns,ov).call(this),e}finish(){h(this,ks)&&(h(this,ks).focus({focusVisible:h(this,Zu)}),A(this,Zu,!1))}isEmpty(){return h(this,sa)?h(this,an)===null:!h(this,an)&&!h(this,ra)}hasData(){return h(this,sa)?h(this,an)!==null||!!h(this,Wa):this.isEmpty()}get guessedText(){return h(this,Wa)}async setGuessedText(e){h(this,an)===null&&(A(this,Wa,e),A(this,Ad,await Wn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),j(this,Ns,ov).call(this))}toggleAltTextBadge(e=!1){var t;if(!h(this,sa)||h(this,an)){(t=h(this,ia))==null||t.remove(),A(this,ia,null);return}if(!h(this,ia)){const n=A(this,ia,document.createElement("div"));n.className="noAltTextBadge",h(this,ni).div.append(n)}h(this,ia).classList.toggle("hidden",!e)}serialize(e){let t=h(this,an);return!e&&h(this,Wa)===t&&(t=h(this,Ad)),{altText:t,decorative:h(this,ra),guessedText:h(this,Wa),textWithDisclaimer:h(this,Ad)}}get data(){return{altText:h(this,an),decorative:h(this,ra)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(A(this,Wa,n),A(this,Ad,i)),!(h(this,an)===e&&h(this,ra)===t)&&(s||(A(this,an,e),A(this,ra,t)),j(this,Ns,ov).call(this))}toggle(e=!1){h(this,ks)&&(!e&&h(this,ki)&&(clearTimeout(h(this,ki)),A(this,ki,null)),h(this,ks).disabled=!e)}shown(){h(this,ni)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Ns,zh)}})}destroy(){var e,t;(e=h(this,ks))==null||e.remove(),A(this,ks,null),A(this,Xu,null),A(this,na,null),(t=h(this,ia))==null||t.remove(),A(this,ia,null)}};an=new WeakMap,ra=new WeakMap,ks=new WeakMap,Xu=new WeakMap,na=new WeakMap,ki=new WeakMap,Zu=new WeakMap,ia=new WeakMap,ni=new WeakMap,Wa=new WeakMap,Ad=new WeakMap,sa=new WeakMap,ol=new WeakMap,Ns=new WeakSet,zh=function(){return h(this,an)&&"added"||h(this,an)===null&&this.guessedText&&"review"||"missing"},ov=async function(){var i,s,a;const e=h(this,ks);if(!e)return;if(h(this,sa)){if(e.classList.toggle("done",!!h(this,an)),e.setAttribute("data-l10n-id",h(Wn,ol)[h(this,Ns,zh)]),(i=h(this,Xu))==null||i.setAttribute("data-l10n-id",h(Wn,ol)[`${h(this,Ns,zh)}-label`]),!h(this,an)){(s=h(this,na))==null||s.remove();return}}else{if(!h(this,an)&&!h(this,ra)){e.classList.remove("done"),(a=h(this,na))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=h(this,na);if(!t){A(this,na,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${h(this,ni).id}`;const o=100,l=h(this,ni)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,ki)),A(this,ki,null)},{once:!0}),e.addEventListener("mouseenter",()=>{A(this,ki,setTimeout(()=>{A(this,ki,null),h(this,na).classList.add("show"),h(this,ni)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var d;h(this,ki)&&(clearTimeout(h(this,ki)),A(this,ki,null)),(d=h(this,na))==null||d.classList.remove("show")},{signal:l})}h(this,ra)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=h(this,an)),t.parentNode||e.append(t);const n=h(this,ni).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},I(Wn,ol,null),re(Wn,"_l10n",null);let gb=Wn;var Od,_s,or,Ju,Cd,mn,jd,ll,$p,Id,dl,zp,Dd,Ka,aa,Qu,ef,Ji,Wp,xb,ot,G_,Kp,q_,Y_,tN,rN,X_,Z_,J_,nN,Q_,iN,sN,aN,ew,Wh;const Dt=class Dt{constructor(e){I(this,ot);I(this,Od,null);I(this,_s,null);I(this,or,null);I(this,Ju,!1);I(this,Cd,!1);I(this,mn,null);I(this,jd,null);I(this,ll,null);I(this,$p,"");I(this,Id,!1);I(this,dl,null);I(this,zp,!1);I(this,Dd,!1);I(this,Ka,!1);I(this,aa,null);I(this,Qu,0);I(this,ef,0);I(this,Ji,null);re(this,"_editToolbar",null);re(this,"_initialOptions",Object.create(null));re(this,"_initialData",null);re(this,"_isVisible",!0);re(this,"_uiManager",null);re(this,"_focusEventsAllowed",!0);I(this,Wp,!1);I(this,xb,Dt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Dt.prototype._resizeWithKeyboard,t=Nc.TRANSLATE_SMALL,n=Nc.TRANSLATE_BIG;return mt(this,"_resizerKeyboardManager",new om([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Dt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return mt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Aae({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Dt._l10n??(Dt._l10n=e),Dt._l10nResizer||(Dt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Dt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Dt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){tr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,Wp)}set _isDraggable(e){var t;A(this,Wp,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,xb)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):j(this,ot,Wh).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(h(this,Id)?A(this,Id,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){j(this,ot,G_).call(this,this.parentDimensions,e,t)}translateInPage(e,t){h(this,dl)||A(this,dl,[this.x,this.y]),j(this,ot,G_).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){h(this,dl)||A(this,dl,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[o,l]=this.getBaseTranslation();s+=o,a+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,dl)&&(h(this,dl)[0]!==this.x||h(this,dl)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Dt,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,n]=this.pageDimensions;let{x:i,y:s,width:a,height:o}=this;if(a*=t,o*=n,i*=t,s*=n,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-a,i)),s=Math.max(0,Math.min(n-o,s));break;case 90:i=Math.max(0,Math.min(t-o,i)),s=Math.min(n,Math.max(a,s));break;case 180:i=Math.min(t,Math.max(a,i)),s=Math.min(n,Math.max(o,s));break;case 270:i=Math.min(t,Math.max(o,i)),s=Math.max(0,Math.min(n-a,s));break}this.x=i/=t,this.y=s/=n;const[l,d]=this.getBaseTranslation();i+=l,s+=d;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return j(n=Dt,Kp,q_).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return j(n=Dt,Kp,q_).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,h(this,Cd)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!h(this,Cd)&&t.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!h(this,Cd)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=h(this,or))==null||e.finish()}async addEditToolbar(){return this._editToolbar||h(this,Dd)?this._editToolbar:(this._editToolbar=new L_(this),this.div.append(this._editToolbar.render()),h(this,or)&&await this._editToolbar.addAltText(h(this,or)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=h(this,or))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,or)||(gb.initialize(Dt._l10n),A(this,or,new gb(this)),h(this,Od)&&(h(this,or).data=h(this,Od),A(this,Od,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=h(this,or))==null?void 0:e.data}set altTextData(e){h(this,or)&&(h(this,or).data=e)}get guessedAltText(){var e;return(e=h(this,or))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=h(this,or))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=h(this,or))==null?void 0:t.serialize(e)}hasAltText(){return!!h(this,or)&&!h(this,or).isEmpty()}hasAltTextData(){var e;return((e=h(this,or))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Ju)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),j(this,ot,Q_).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),pb(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=qn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(A(this,Id,!0),this._isDraggable){j(this,ot,nN).call(this,e);return}j(this,ot,J_).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,aa)&&clearTimeout(h(this,aa)),A(this,aa,setTimeout(()=>{var e;A(this,aa,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,d=e/i,c=t/i,u=this.x*s,f=this.y*a,g=this.width*s,m=this.height*a;switch(n){case 0:return[u+d+o,a-f-c-m+l,u+d+g+o,a-f-c+l];case 90:return[u+c+o,a-f+d+l,u+c+m+o,a-f+d+g+l];case 180:return[u-d-g+o,a-f+c+l,u-d+o,a-f+c+m+l];case 270:return[u-c-m+o,a-f-d-g+l,u-c+o,a-f-d+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,t-a,o,l];case 90:return[n,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){A(this,Dd,!0)}disableEditMode(){A(this,Dd,!1)}isInEditMode(){return h(this,Dd)}shouldGetKeyboardEvents(){return h(this,Ka)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){j(this,ot,Q_).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){tr("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,A(i,Od,e.accessibilityData);const[s,a]=i.pageDimensions,[o,l,d,c]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=d/s,i.height=c/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=h(this,ll))==null||e.abort(),A(this,ll,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,aa)&&(clearTimeout(h(this,aa)),A(this,aa,null)),j(this,ot,Wh).call(this),this.removeEditToolbar(),h(this,Ji)){for(const t of h(this,Ji).values())clearTimeout(t);A(this,Ji,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(j(this,ot,tN).call(this),h(this,mn).classList.remove("hidden"),pb(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),A(this,jd,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=h(this,mn).children;if(!h(this,_s)){A(this,_s,Array.from(t));const a=j(this,ot,iN).bind(this),o=j(this,ot,sN).bind(this),l=this._uiManager._signal;for(const d of h(this,_s)){const c=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:l}),d.addEventListener("blur",o,{signal:l}),d.addEventListener("focus",j(this,ot,aN).bind(this,c),{signal:l}),d.setAttribute("data-l10n-id",Dt._l10nResizer[c])}}const n=h(this,_s)[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(h(this,_s).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)h(this,mn).append(h(this,mn).firstChild);else if(s>i)for(let o=0;o<s-i;o++)h(this,mn).firstChild.before(h(this,mn).lastChild);let a=0;for(const o of t){const d=h(this,_s)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Dt._l10nResizer[d])}}j(this,ot,ew).call(this,0),A(this,Ka,!0),h(this,mn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){h(this,Ka)&&j(this,ot,Z_).call(this,h(this,$p),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){j(this,ot,Wh).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=h(this,or))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,i,s;(e=h(this,mn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=h(this,or))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,zp)}set isEditing(e){A(this,zp,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){A(this,Cd,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){h(this,Ji)||A(this,Ji,new Map);const{action:n}=e;let i=h(this,Ji).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),h(this,Ji).delete(n),h(this,Ji).size===0&&A(this,Ji,null)},Dt._telemetryTimeout),h(this,Ji).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),A(this,Ju,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,Ju,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Od=new WeakMap,_s=new WeakMap,or=new WeakMap,Ju=new WeakMap,Cd=new WeakMap,mn=new WeakMap,jd=new WeakMap,ll=new WeakMap,$p=new WeakMap,Id=new WeakMap,dl=new WeakMap,zp=new WeakMap,Dd=new WeakMap,Ka=new WeakMap,aa=new WeakMap,Qu=new WeakMap,ef=new WeakMap,Ji=new WeakMap,Wp=new WeakMap,xb=new WeakMap,ot=new WeakSet,G_=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this.fixAndSetPosition()},Kp=new WeakSet,q_=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Y_=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},tN=function(){if(h(this,mn))return;A(this,mn,document.createElement("div")),h(this,mn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");h(this,mn).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",j(this,ot,rN).bind(this,n),{signal:t}),i.addEventListener("contextmenu",ds,{signal:t}),i.tabIndex=-1}this.div.prepend(h(this,mn))},rN=function(e,t){var m;t.preventDefault();const{isMac:n}=qn.platform;if(t.button!==0||t.ctrlKey&&n)return;(m=h(this,or))==null||m.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",j(this,ot,Z_).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",ds,{signal:a});const o=this.x,l=this.y,d=this.width,c=this.height,u=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const g=()=>{var v;s.abort(),this.parent.togglePointerEvents(!0),(v=h(this,or))==null||v.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=u,this.div.style.cursor=f,j(this,ot,X_).call(this,o,l,d,c)};window.addEventListener("pointerup",g,{signal:a}),window.addEventListener("blur",g,{signal:a})},X_=function(e,t,n,i){const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===n&&l===i||this.addCommands({cmd:()=>{this.width=o,this.height=l,this.x=s,this.y=a;const[d,c]=this.parentDimensions;this.setDims(d*o,c*l),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=e,this.y=t;const[d,c]=this.parentDimensions;this.setDims(d*n,c*i),this.fixAndSetPosition()},mustExec:!0})},Z_=function(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,d=Dt.MIN_SIZE/n,c=Dt.MIN_SIZE/i,u=G=>Math.round(G*1e4)/1e4,f=j(this,ot,Y_).call(this,this.rotation),g=(G,Y)=>[f[0]*G+f[2]*Y,f[1]*G+f[3]*Y],m=j(this,ot,Y_).call(this,360-this.rotation),v=(G,Y)=>[m[0]*G+m[2]*Y,m[1]*G+m[3]*Y];let b,y,k=!1,_=!1;switch(e){case"topLeft":k=!0,b=(G,Y)=>[0,0],y=(G,Y)=>[G,Y];break;case"topMiddle":b=(G,Y)=>[G/2,0],y=(G,Y)=>[G/2,Y];break;case"topRight":k=!0,b=(G,Y)=>[G,0],y=(G,Y)=>[0,Y];break;case"middleRight":_=!0,b=(G,Y)=>[G,Y/2],y=(G,Y)=>[0,Y/2];break;case"bottomRight":k=!0,b=(G,Y)=>[G,Y],y=(G,Y)=>[0,0];break;case"bottomMiddle":b=(G,Y)=>[G/2,Y],y=(G,Y)=>[G/2,0];break;case"bottomLeft":k=!0,b=(G,Y)=>[0,Y],y=(G,Y)=>[G,0];break;case"middleLeft":_=!0,b=(G,Y)=>[0,Y/2],y=(G,Y)=>[G,Y/2];break}const E=b(o,l),S=y(o,l);let O=g(...S);const T=u(s+O[0]),C=u(a+O[1]);let D=1,R=1,[L,P]=this.screenToPageTranslation(t.movementX,t.movementY);if([L,P]=v(L/n,P/i),k){const G=Math.hypot(o,l);D=R=Math.max(Math.min(Math.hypot(S[0]-E[0]-L,S[1]-E[1]-P)/G,1/o,1/l),d/o,c/l)}else _?D=Math.max(d,Math.min(1,Math.abs(S[0]-E[0]-L)))/o:R=Math.max(c,Math.min(1,Math.abs(S[1]-E[1]-P)))/l;const F=u(o*D),H=u(l*R);O=g(...y(F,H));const N=T-O[0],z=C-O[1];this.width=F,this.height=H,this.x=N,this.y=z,this.setDims(n*F,i*H),this.fixAndSetPosition()},J_=function(e){const{isMac:t}=qn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},nN=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),A(this,Qu,e.clientX),A(this,ef,e.clientY);const a=o=>{const{clientX:l,clientY:d}=o,[c,u]=this.screenToPageTranslation(l-h(this,Qu),d-h(this,ef));A(this,Qu,l),A(this,ef,d),this._uiManager.dragSelectedEditors(c,u)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:i})}const s=()=>{n.abort(),t&&this.div.classList.remove("moving"),A(this,Id,!1),this._uiManager.endDragSession()||j(this,ot,J_).call(this,e)};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})},Q_=function(){if(h(this,ll)||!this.div)return;A(this,ll,new AbortController);const e=this._uiManager.combinedSignal(h(this,ll));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},iN=function(e){Dt._resizerKeyboardManager.exec(this,e)},sN=function(e){var t;h(this,Ka)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==h(this,mn)&&j(this,ot,Wh).call(this)},aN=function(e){A(this,$p,h(this,Ka)?e:"")},ew=function(e){if(h(this,_s))for(const t of h(this,_s))t.tabIndex=e},Wh=function(){if(A(this,Ka,!1),j(this,ot,ew).call(this,-1),h(this,jd)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=h(this,jd);j(this,ot,X_).call(this,e,t,n,i),A(this,jd,null)}},I(Dt,Kp),re(Dt,"_l10n",null),re(Dt,"_l10nResizer",null),re(Dt,"_borderLineWidth",-1),re(Dt,"_colorManager",new H_),re(Dt,"_zIndex",1),re(Dt,"_telemetryTimeout",1e3);let Ht=Dt;class Aae extends Ht{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const qA=3285377520,Yi=4294901760,Ys=65535;class oN{constructor(e){this.h1=e?e&4294967295:qA,this.h2=e?e&4294967295:qA}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let v=0,b=e.length;v<b;v++){const y=e.charCodeAt(v);y<=255?t[n++]=y:(t[n++]=y>>>8,t[n++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,d=this.h1,c=this.h2;const u=3432918353,f=461845907,g=u&Ys,m=f&Ys;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*u&Yi|o*g&Ys,o=o<<15|o>>>17,o=o*f&Yi|o*m&Ys,d^=o,d=d<<13|d>>>19,d=d*5+3864292196):(l=a[v],l=l*u&Yi|l*g&Ys,l=l<<15|l>>>17,l=l*f&Yi|l*m&Ys,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*u&Yi|o*g&Ys,o=o<<15|o>>>17,o=o*f&Yi|o*m&Ys,i&1?d^=o:c^=o}this.h1=d,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Yi|e*36045&Ys,t=t*4283543511&Yi|((t<<16|e>>>16)*2950163797&Yi)>>>16,e^=t>>>1,e=e*444984403&Yi|e*60499&Ys,t=t*3301882366&Yi|((t<<16|e>>>16)*3120437893&Yi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const tw=Object.freeze({map:null,hash:"",transfer:void 0});var Rd,Pd,on,Sb,lN;class Yx{constructor(){I(this,Sb);I(this,Rd,!1);I(this,Pd,null);I(this,on,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=h(this,on).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return h(this,on).get(e)}remove(e){if(h(this,on).delete(e),h(this,on).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of h(this,on).values())if(t instanceof Ht)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=h(this,on).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,h(this,on).set(e,t);i&&j(this,Sb,lN).call(this),t instanceof Ht&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return h(this,on).has(e)}getAll(){return h(this,on).size>0?$x(h(this,on)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return h(this,on).size}resetModified(){h(this,Rd)&&(A(this,Rd,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new dN(this)}get serializable(){if(h(this,on).size===0)return tw;const e=new Map,t=new oN,n=[],i=Object.create(null);let s=!1;for(const[a,o]of h(this,on)){const l=o instanceof Ht?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:tw}get editorStats(){let e=null;const t=new Map;for(const n of h(this,on).values()){if(!(n instanceof Ht))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let d=a.get(o);d||(d=new Map,a.set(o,d));const c=d.get(l)??0;d.set(l,c+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){A(this,Pd,null)}get modifiedIds(){if(h(this,Pd))return h(this,Pd);const e=[];for(const t of h(this,on).values())!(t instanceof Ht)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return A(this,Pd,{ids:new Set(e),hash:e.join(",")})}}Rd=new WeakMap,Pd=new WeakMap,on=new WeakMap,Sb=new WeakSet,lN=function(){h(this,Rd)||(A(this,Rd,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Gp;class dN extends Yx{constructor(t){super();I(this,Gp);const{map:n,hash:i,transfer:s}=t.serializable,a=structuredClone(n,s?{transfer:s}:null);A(this,Gp,{map:a,hash:i,transfer:s})}get print(){tr("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Gp)}get modifiedIds(){return mt(this,"modifiedIds",{ids:new Set,hash:""})}}Gp=new WeakMap;var tf;class Oae{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){I(this,tf,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),h(this,tf).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||h(this,tf).has(e.loadedName))){if(Gr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:s}=e,a=new FontFace(n,i,s);this.addNativeFontFace(a);try{await a.load(),h(this,tf).add(n),t==null||t(e)}catch{dt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}tr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw dt(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return mt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Pn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),mt(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Gr(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return mt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(E,S){return E.charCodeAt(S)<<24|E.charCodeAt(S+1)<<16|E.charCodeAt(S+2)<<8|E.charCodeAt(S+3)&255}function i(E,S,O,T){const C=E.substring(0,S),D=E.substring(S+O);return C+T+D}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let d=0;function c(E,S){if(++d>30){dt("Load test font never loaded."),S();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(c.bind(null,E,S))}const u=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,u.length,u);const m=16,v=1482184792;let b=n(f,m);for(s=0,a=u.length-3;s<a;s+=4)b=b-v+n(u,s)|0;s<u.length&&(b=b-v+n(u+"XXX",s)|0),f=i(f,m,4,fae(b));const y=`url(data:font/opentype;base64,${btoa(f)});`,k=`@font-face {font-family:"${u}";src:${y}}`;this.insertRule(k);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const E of[e.loadedName,u]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=E,_.append(S)}this._document.body.append(_),c(u,()=>{_.remove(),t.complete()})}}tf=new WeakMap;class Cae{constructor(e,{disableFontFace:t=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${bae(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){dt(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[t]=function(s,a){};const i=[];for(let s=0,a=n.length;s<a;)switch(n[s++]){case Ma.BEZIER_CURVE_TO:{const[o,l,d,c,u,f]=n.slice(s,s+6);i.push(g=>g.bezierCurveTo(o,l,d,c,u,f)),s+=6}break;case Ma.MOVE_TO:{const[o,l]=n.slice(s,s+2);i.push(d=>d.moveTo(o,l)),s+=2}break;case Ma.LINE_TO:{const[o,l]=n.slice(s,s+2);i.push(d=>d.lineTo(o,l)),s+=2}break;case Ma.QUADRATIC_CURVE_TO:{const[o,l,d,c]=n.slice(s,s+4);i.push(u=>u.quadraticCurveTo(o,l,d,c)),s+=4}break;case Ma.RESTORE:i.push(o=>o.restore());break;case Ma.SAVE:i.push(o=>o.save());break;case Ma.SCALE:Gr(i.length===2,"Scale command is only valid at the third position.");break;case Ma.TRANSFORM:{const[o,l,d,c,u,f]=n.slice(s,s+6);i.push(g=>g.transform(o,l,d,c,u,f)),s+=6}break;case Ma.TRANSLATE:{const[o,l]=n.slice(s,s+2);i.push(d=>d.translate(o,l)),s+=2}break}return this.compiledGlyphs[t]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let l=2,d=i.length;l<d;l++)i[l](a)}}}var qp;class cN{constructor({enableHWA:e=!1}){I(this,qp,!1);A(this,qp,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!h(this,qp)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){tr("Abstract method `_createCanvas` called.")}}qp=new WeakMap;class jae extends cN{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class uN{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){tr("Abstract method `_fetch` called.")}}class fN extends uN{async _fetch(e){const t=await ik(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):nk(t)}}class hN{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}var Nd,Md,oa,Ga,Tn,Tb,Ld,Se,xn,_u,wu,lv,Eu,pN,rw,xu,Kh,Gh,nw,qh;class Iae extends hN{constructor({docId:t,ownerDocument:n=globalThis.document}){super();I(this,Se);I(this,Nd);I(this,Md);I(this,oa);I(this,Ga);I(this,Tn);I(this,Tb);I(this,Ld,0);A(this,Ga,t),A(this,Tn,n)}addFilter(t){if(!t)return"none";let n=h(this,Se,xn).get(t);if(n)return n;const[i,s,a]=j(this,Se,lv).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(n=h(this,Se,xn).get(o),n)return h(this,Se,xn).set(t,n),n;const l=`g_${h(this,Ga)}_transfer_map_${$n(this,Ld)._++}`,d=j(this,Se,Eu).call(this,l);h(this,Se,xn).set(t,d),h(this,Se,xn).set(o,d);const c=j(this,Se,xu).call(this,l);return j(this,Se,Gh).call(this,i,s,a,c),d}addHCMFilter(t,n){var m;const i=`${t}-${n}`,s="base";let a=h(this,Se,_u).get(s);if((a==null?void 0:a.key)===i||(a?((m=a.filter)==null||m.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},h(this,Se,_u).set(s,a)),!t||!n))return a.url;const o=j(this,Se,qh).call(this,t);t=Ve.makeHexColor(...o);const l=j(this,Se,qh).call(this,n);if(n=Ve.makeHexColor(...l),h(this,Se,wu).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const d=new Array(256);for(let v=0;v<=255;v++){const b=v/255;d[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const c=d.join(","),u=`g_${h(this,Ga)}_hcm_filter`,f=a.filter=j(this,Se,xu).call(this,u);j(this,Se,Gh).call(this,c,c,c,f),j(this,Se,rw).call(this,f);const g=(v,b)=>{const y=o[v]/255,k=l[v]/255,_=new Array(b+1);for(let E=0;E<=b;E++)_[E]=y+E/b*(k-y);return _.join(",")};return j(this,Se,Gh).call(this,g(0,5),g(1,5),g(2,5),f),a.url=j(this,Se,Eu).call(this,u),a.url}addAlphaFilter(t){let n=h(this,Se,xn).get(t);if(n)return n;const[i]=j(this,Se,lv).call(this,[t]),s=`alpha_${i}`;if(n=h(this,Se,xn).get(s),n)return h(this,Se,xn).set(t,n),n;const a=`g_${h(this,Ga)}_alpha_map_${$n(this,Ld)._++}`,o=j(this,Se,Eu).call(this,a);h(this,Se,xn).set(t,o),h(this,Se,xn).set(s,o);const l=j(this,Se,xu).call(this,a);return j(this,Se,nw).call(this,i,l),o}addLuminosityFilter(t){let n=h(this,Se,xn).get(t||"luminosity");if(n)return n;let i,s;if(t?([i]=j(this,Se,lv).call(this,[t]),s=`luminosity_${i}`):s="luminosity",n=h(this,Se,xn).get(s),n)return h(this,Se,xn).set(t,n),n;const a=`g_${h(this,Ga)}_luminosity_map_${$n(this,Ld)._++}`,o=j(this,Se,Eu).call(this,a);h(this,Se,xn).set(t,o),h(this,Se,xn).set(s,o);const l=j(this,Se,xu).call(this,a);return j(this,Se,pN).call(this,l),t&&j(this,Se,nw).call(this,i,l),o}addHighlightHCMFilter(t,n,i,s,a){var k;const o=`${n}-${i}-${s}-${a}`;let l=h(this,Se,_u).get(t);if((l==null?void 0:l.key)===o||(l?((k=l.filter)==null||k.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},h(this,Se,_u).set(t,l)),!n||!i))return l.url;const[d,c]=[n,i].map(j(this,Se,qh).bind(this));let u=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[g,m]=[s,a].map(j(this,Se,qh).bind(this));f<u&&([u,f,g,m]=[f,u,m,g]),h(this,Se,wu).style.color="";const v=(_,E,S)=>{const O=new Array(256),T=(f-u)/S,C=_/255,D=(E-_)/(255*S);let R=0;for(let L=0;L<=S;L++){const P=Math.round(u+L*T),F=C+L*D;for(let H=R;H<=P;H++)O[H]=F;R=P+1}for(let L=R;L<256;L++)O[L]=O[R-1];return O.join(",")},b=`g_${h(this,Ga)}_hcm_${t}_filter`,y=l.filter=j(this,Se,xu).call(this,b);return j(this,Se,rw).call(this,y),j(this,Se,Gh).call(this,v(g[0],m[0],5),v(g[1],m[1],5),v(g[2],m[2],5),y),l.url=j(this,Se,Eu).call(this,b),l.url}destroy(t=!1){t&&h(this,Se,_u).size!==0||(h(this,oa)&&(h(this,oa).parentNode.parentNode.remove(),A(this,oa,null)),h(this,Md)&&(h(this,Md).clear(),A(this,Md,null)),A(this,Ld,0))}}Nd=new WeakMap,Md=new WeakMap,oa=new WeakMap,Ga=new WeakMap,Tn=new WeakMap,Tb=new WeakMap,Ld=new WeakMap,Se=new WeakSet,xn=function(){return h(this,Md)||A(this,Md,new Map)},_u=function(){return h(this,Tb)||A(this,Tb,new Map)},wu=function(){if(!h(this,oa)){const t=h(this,Tn).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=h(this,Tn).createElementNS(Va,"svg");i.setAttribute("width",0),i.setAttribute("height",0),A(this,oa,h(this,Tn).createElementNS(Va,"defs")),t.append(i),i.append(h(this,oa)),h(this,Tn).body.append(t)}return h(this,oa)},lv=function(t){if(t.length===1){const d=t[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=d[f]/255;const u=c.join(",");return[u,u,u]}const[n,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let d=0;d<256;d++)a[d]=n[d]/255,o[d]=i[d]/255,l[d]=s[d]/255;return[a.join(","),o.join(","),l.join(",")]},Eu=function(t){if(h(this,Nd)===void 0){A(this,Nd,"");const n=h(this,Tn).URL;n!==h(this,Tn).baseURI&&(sk(n)?dt('#createUrl: ignore "data:"-URL for performance reasons.'):A(this,Nd,n.split("#",1)[0]))}return`url(${h(this,Nd)}#${t})`},pN=function(t){const n=h(this,Tn).createElementNS(Va,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},rw=function(t){const n=h(this,Tn).createElementNS(Va,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},xu=function(t){const n=h(this,Tn).createElementNS(Va,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),h(this,Se,wu).append(n),n},Kh=function(t,n,i){const s=h(this,Tn).createElementNS(Va,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Gh=function(t,n,i,s){const a=h(this,Tn).createElementNS(Va,"feComponentTransfer");s.append(a),j(this,Se,Kh).call(this,a,"feFuncR",t),j(this,Se,Kh).call(this,a,"feFuncG",n),j(this,Se,Kh).call(this,a,"feFuncB",i)},nw=function(t,n){const i=h(this,Tn).createElementNS(Va,"feComponentTransfer");n.append(i),j(this,Se,Kh).call(this,i,"feFuncA",t)},qh=function(t){return h(this,Se,wu).style.color=t,qx(getComputedStyle(h(this,Se,wu)).getPropertyValue("color"))};class gN{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){tr("Abstract method `_fetch` called.")}}class mN extends gN{async _fetch(e){const t=await ik(e,"arraybuffer");return new Uint8Array(t)}}if(Pn){var iw=Promise.withResolvers(),cp=null;(async()=>{const e=await fm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await fm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await fm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await fm(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,a;return new Map(Object.entries({fs:e,http:t,https:n,url:i,canvas:s,path2d:a}))})().then(e=>{cp=e,iw.resolve()},e=>{dt(`loadPackages: ${e}`),cp=new Map,iw.resolve()})}class Bl{static get promise(){return iw.promise}static get(e){return cp==null?void 0:cp.get(e)}}async function vN(r){const t=await Bl.get("fs").promises.readFile(r);return new Uint8Array(t)}class Dae extends hN{}class Rae extends cN{_createCanvas(e,t){return Bl.get("canvas").createCanvas(e,t)}}class Pae extends uN{async _fetch(e){return vN(e)}}class Nae extends gN{async _fetch(e){return vN(e)}}const Gn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function sw(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class Xx{getPattern(){tr("Abstract method `getPattern` called.")}}class Mae extends Xx{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===Gn.STROKE||i===Gn.FILL){const a=t.current.getClippedPathBoundingBox(i,dr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,d=t.cachedCanvases.getCanvas("pattern",o,l),c=d.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=Ve.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),sw(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=e.createPattern(d.canvas,"no-repeat");const u=new DOMMatrix(n);s.setTransform(u)}else sw(e,this._bbox),s=this._createGradient(e);return s}}function C0(r,e,t,n,i,s,a,o){const l=e.coords,d=e.colors,c=r.data,u=r.width*4;let f;l[t+1]>l[n+1]&&(f=t,t=n,n=f,f=s,s=a,a=f),l[n+1]>l[i+1]&&(f=n,n=i,i=f,f=a,a=o,o=f),l[t+1]>l[n+1]&&(f=t,t=n,n=f,f=s,s=a,a=f);const g=(l[t]+e.offsetX)*e.scaleX,m=(l[t+1]+e.offsetY)*e.scaleY,v=(l[n]+e.offsetX)*e.scaleX,b=(l[n+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,k=(l[i+1]+e.offsetY)*e.scaleY;if(m>=k)return;const _=d[s],E=d[s+1],S=d[s+2],O=d[a],T=d[a+1],C=d[a+2],D=d[o],R=d[o+1],L=d[o+2],P=Math.round(m),F=Math.round(k);let H,N,z,G,Y,W,ue,M;for(let K=P;K<=F;K++){if(K<b){const ae=K<m?0:(m-K)/(m-b);H=g-(g-v)*ae,N=_-(_-O)*ae,z=E-(E-T)*ae,G=S-(S-C)*ae}else{let ae;K>k?ae=1:b===k?ae=0:ae=(b-K)/(b-k),H=v-(v-y)*ae,N=O-(O-D)*ae,z=T-(T-R)*ae,G=C-(C-L)*ae}let $;K<m?$=0:K>k?$=1:$=(m-K)/(m-k),Y=g-(g-y)*$,W=_-(_-D)*$,ue=E-(E-R)*$,M=S-(S-L)*$;const J=Math.round(Math.min(H,Y)),ne=Math.round(Math.max(H,Y));let fe=u*K+J*4;for(let ae=J;ae<=ne;ae++)$=(H-ae)/(H-Y),$<0?$=0:$>1&&($=1),c[fe++]=N-(N-W)*$|0,c[fe++]=z-(z-ue)*$|0,c[fe++]=G-(G-M)*$|0,c[fe++]=255}}function Lae(r,e,t){const n=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,d=o-1;for(s=0;s<l;s++){let c=s*o;for(let u=0;u<d;u++,c++)C0(r,t,n[c],n[c+1],n[c+o],i[c],i[c+1],i[c+o]),C0(r,t,n[c+o+1],n[c+1],n[c+o],i[c+o+1],i[c+1],i[c+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)C0(r,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Fae extends Xx{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-o,c=Math.ceil(this._bounds[3])-l,u=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),g=d/u,m=c/f,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/g,scaleY:1/m},b=u+2*2,y=f+2*2,k=n.getCanvas("mesh",b,y),_=k.context,E=_.createImageData(u,f);if(t){const O=E.data;for(let T=0,C=O.length;T<C;T+=4)O[T]=t[0],O[T+1]=t[1],O[T+2]=t[2],O[T+3]=255}for(const O of this._figures)Lae(E,O,v);return _.putImageData(E,2,2),{canvas:k.canvas,offsetX:o-2*g,offsetY:l-2*m,scaleX:g,scaleY:m}}getPattern(e,t,n,i){sw(e,this._bbox);let s;if(i===Gn.SHADING)s=Ve.singularValueDecompose2dScale(dr(e));else if(s=Ve.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=Ve.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===Gn.SHADING?null:this._background,t.cachedCanvases);return i!==Gn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Vae extends Xx{getPattern(){return"hotpink"}}function Hae(r){switch(r[0]){case"RadialAxial":return new Mae(r);case"Mesh":return new Fae(r);case"Dummy":return new Vae}throw new Error(`Unknown IR type: ${r[0]}`)}const YA={COLORED:1,UNCOLORED:2},Ab=class Ab{constructor(e,t,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:d}=this;l=Math.abs(l),d=Math.abs(d),tk("TilingType: "+s);const c=t[0],u=t[1],f=t[2],g=t[3],m=f-c,v=g-u,b=Ve.singularValueDecompose2dScale(this.matrix),y=Ve.singularValueDecompose2dScale(this.baseTransform),k=b[0]*y[0],_=b[1]*y[1];let E=m,S=v,O=!1,T=!1;const C=Math.ceil(l*k),D=Math.ceil(d*_),R=Math.ceil(m*k),L=Math.ceil(v*_);C>=R?E=l:O=!0,D>=L?S=d:T=!0;const P=this.getSizeAndScale(E,this.ctx.canvas.width,k),F=this.getSizeAndScale(S,this.ctx.canvas.height,_),H=e.cachedCanvases.getCanvas("pattern",P.size,F.size),N=H.context,z=o.createCanvasGraphics(N);if(z.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(z,i,a),N.translate(-P.scale*c,-F.scale*u),z.transform(P.scale,0,0,F.scale,0,0),N.save(),this.clipBbox(z,c,u,f,g),z.baseTransform=dr(z.ctx),z.executeOperatorList(n),z.endDrawing(),N.restore(),O||T){const G=H.canvas;O&&(E=l),T&&(S=d);const Y=this.getSizeAndScale(E,this.ctx.canvas.width,k),W=this.getSizeAndScale(S,this.ctx.canvas.height,_),ue=Y.size,M=W.size,K=e.cachedCanvases.getCanvas("pattern-workaround",ue,M),$=K.context,J=O?Math.floor(m/l):0,ne=T?Math.floor(v/d):0;for(let fe=0;fe<=J;fe++)for(let ae=0;ae<=ne;ae++)$.drawImage(G,ue*fe,M*ae,ue,M,0,0,ue,M);return{canvas:K.canvas,scaleX:Y.scale,scaleY:W.scale,offsetX:c,offsetY:u}}return{canvas:H.canvas,scaleX:P.scale,scaleY:F.scale,offsetX:c,offsetY:u}}getSizeAndScale(e,t,n){const i=Math.max(Ab.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,o=s-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax(dr(e.ctx),[t,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case YA.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case YA.UNCOLORED:const o=Ve.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new uae(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==Gn.SHADING&&(s=Ve.transform(s,t.baseTransform),this.matrix&&(s=Ve.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};re(Ab,"MAX_PATTERN_SIZE",3e3);let aw=Ab;function Uae({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=qn.isLittleEndian?4278190080:255,[l,d]=a?[s,o]:[o,s],c=n>>3,u=n&7,f=r.length;t=new Uint32Array(t.buffer);let g=0;for(let m=0;m<i;m++){for(const b=e+c;e<b;e++){const y=e<f?r[e]:255;t[g++]=y&128?d:l,t[g++]=y&64?d:l,t[g++]=y&32?d:l,t[g++]=y&16?d:l,t[g++]=y&8?d:l,t[g++]=y&4?d:l,t[g++]=y&2?d:l,t[g++]=y&1?d:l}if(u===0)continue;const v=e<f?r[e++]:255;for(let b=0;b<u;b++)t[g++]=v&1<<7-b?d:l}return{srcPos:e,destPos:g}}const XA=16,ZA=100,Bae=15,JA=10,QA=1e3,di=16;function $ae(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},r.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},r.transform=function(n,i,s,a,o,l){e.transform(n,i,s,a,o,l),this.__originalTransform(n,i,s,a,o,l)},r.setTransform=function(n,i,s,a,o,l){e.setTransform(n,i,s,a,o,l),this.__originalSetTransform(n,i,s,a,o,l)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(n){e.rotate(n),this.__originalRotate(n)},r.clip=function(n){e.clip(n),this.__originalClip(n)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,s,a,o){e.bezierCurveTo(t,n,i,s,a,o),this.__originalBezierCurveTo(t,n,i,s,a,o)},r.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class zae{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function jm(r,e,t,n,i,s,a,o,l,d){const[c,u,f,g,m,v]=dr(r);if(u===0&&f===0){const k=a*c+m,_=Math.round(k),E=o*g+v,S=Math.round(E),O=(a+l)*c+m,T=Math.abs(Math.round(O)-_)||1,C=(o+d)*g+v,D=Math.abs(Math.round(C)-S)||1;return r.setTransform(Math.sign(c),0,0,Math.sign(g),_,S),r.drawImage(e,t,n,i,s,0,0,T,D),r.setTransform(c,u,f,g,m,v),[T,D]}if(c===0&&g===0){const k=o*f+m,_=Math.round(k),E=a*u+v,S=Math.round(E),O=(o+d)*f+m,T=Math.abs(Math.round(O)-_)||1,C=(a+l)*u+v,D=Math.abs(Math.round(C)-S)||1;return r.setTransform(0,Math.sign(u),Math.sign(f),0,_,S),r.drawImage(e,t,n,i,s,0,0,D,T),r.setTransform(c,u,f,g,m,v),[D,T]}r.drawImage(e,t,n,i,s,a,o,l,d);const b=Math.hypot(c,u),y=Math.hypot(f,g);return[b*l,y*d]}function Wae(r){const{width:e,height:t}=r;if(e>QA||t>QA)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,l,d;const c=e+7&-8;let u=new Uint8Array(c*t),f=0;for(const y of r.data){let k=128;for(;k>0;)u[f++]=y&k?0:255,k>>=1}let g=0;for(f=0,u[f]!==0&&(a[0]=1,++g),l=1;l<e;l++)u[f]!==u[f+1]&&(a[l]=u[f]?2:1,++g),f++;for(u[f]!==0&&(a[l]=2,++g),o=1;o<t;o++){f=o*c,d=o*s,u[f-c]!==u[f]&&(a[d]=u[f]?1:8,++g);let y=(u[f]?4:0)+(u[f-c]?8:0);for(l=1;l<e;l++)y=(y>>2)+(u[f+1]?4:0)+(u[f-c+1]?8:0),i[y]&&(a[d+l]=i[y],++g),f++;if(u[f-c]!==u[f]&&(a[d+l]=u[f]?2:4,++g),g>n)return null}for(f=c*(t-1),d=o*s,u[f]!==0&&(a[d]=8,++g),l=1;l<e;l++)u[f]!==u[f+1]&&(a[d+l]=u[f]?4:8,++g),f++;if(u[f]!==0&&(a[d+l]=4,++g),g>n)return null;const m=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(o=0;g&&o<=t;o++){let y=o*s;const k=y+e;for(;y<k&&!a[y];)y++;if(y===k)continue;v.moveTo(y%s,o);const _=y;let E=a[y];do{const S=m[E];do y+=S;while(!a[y]);const O=a[y];O!==5&&O!==10?(E=O,a[y]=0):(E=O&51*E>>4,a[y]&=E>>2|E<<2),v.lineTo(y%s,y/s|0),a[y]||--g}while(_!==y);--o}return u=null,a=null,function(y){y.save(),y.scale(1/e,-1/t),y.translate(0,-t),y.fill(v),y.beginPath(),y.restore()}}class eO{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=PP,this.textMatrixScale=1,this.fontMatrix=D_,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=En.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=Ve.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=Ve.applyTransform(t,e),i=Ve.applyTransform(t.slice(2),e),s=Ve.applyTransform([t[0],t[3]],e),a=Ve.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){Ve.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,a,o,l,d,c){const u=Ve.bezierBoundingBox(t,n,i,s,a,o,l,d,c);c||this.updateRectMinMax(e,u)}getPathBoundingBox(e=Gn.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Gn.STROKE){t||tr("Stroke bounding box must include transform.");const i=Ve.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;n[0]-=s,n[1]-=a,n[2]+=s,n[3]+=a}return n}updateClipFromPath(){const e=Ve.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Gn.FILL,t=null){return Ve.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function tO(r,e){if(typeof ImageData<"u"&&e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%di,s=(t-i)/di,a=i===0?s:s+1,o=r.createImageData(n,di);let l=0,d;const c=e.data,u=o.data;let f,g,m,v;if(e.kind===tv.GRAYSCALE_1BPP){const b=c.byteLength,y=new Uint32Array(u.buffer,0,u.byteLength>>2),k=y.length,_=n+7>>3,E=4294967295,S=qn.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(m=f<s?di:i,d=0,g=0;g<m;g++){const O=b-l;let T=0;const C=O>_?n:O*8-7,D=C&-8;let R=0,L=0;for(;T<D;T+=8)L=c[l++],y[d++]=L&128?E:S,y[d++]=L&64?E:S,y[d++]=L&32?E:S,y[d++]=L&16?E:S,y[d++]=L&8?E:S,y[d++]=L&4?E:S,y[d++]=L&2?E:S,y[d++]=L&1?E:S;for(;T<C;T++)R===0&&(L=c[l++],R=128),y[d++]=L&R?E:S,R>>=1}for(;d<k;)y[d++]=0;r.putImageData(o,0,f*di)}}else if(e.kind===tv.RGBA_32BPP){for(g=0,v=n*di*4,f=0;f<s;f++)u.set(c.subarray(l,l+v)),l+=v,r.putImageData(o,0,g),g+=di;f<a&&(v=n*i*4,u.set(c.subarray(l,l+v)),r.putImageData(o,0,g))}else if(e.kind===tv.RGB_24BPP)for(m=di,v=n*m,f=0;f<a;f++){for(f>=s&&(m=i,v=n*m),d=0,g=v;g--;)u[d++]=c[l++],u[d++]=c[l++],u[d++]=c[l++],u[d++]=255;r.putImageData(o,0,f*di)}else throw new Error(`bad image kind: ${e.kind}`)}function rO(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%di,s=(t-i)/di,a=i===0?s:s+1,o=r.createImageData(n,di);let l=0;const d=e.data,c=o.data;for(let u=0;u<a;u++){const f=u<s?di:i;({srcPos:l}=Uae({src:d,srcPos:l,dest:c,width:n,height:f,nonBlackColor:0})),r.putImageData(o,0,u*di)}}function Nh(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function Im(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!Pn){const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}}function nO(r,e){if(e)return!0;const t=Ve.singularValueDecompose2dScale(r);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Ul.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const Kae=["butt","round","square"],Gae=["miter","round","bevel"],qae={},iO={};var zl,ow,lw;const iS=class iS{constructor(e,t,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,d){I(this,zl);this.ctx=e,this.current=new eO(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new zae(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...dr(this.compositeCtx))}this.ctx.save(),Im(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=dr(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const d=l-o>JA&&typeof n=="function",c=d?Date.now()+Bae:0;let u=0;const f=this.commonObjs,g=this.objs;let m;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(m=a[o],m!==ms.dependency)this[m].apply(this,s[o]);else for(const v of s[o]){const b=v.startsWith("g_")?f:g;if(!b.has(v))return b.get(v,n),o}if(o++,o===l)return o;if(d&&++u>JA){if(Date.now()>c)return n(),o;u=0}}}endDrawing(){j(this,zl,ow).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),j(this,zl,lw).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,d="prescale1",c,u;for(;s>2&&o>1||a>2&&l>1;){let f=o,g=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/g),c=this.cachedCanvases.getCanvas(d,f,g),u=c.context,u.clearRect(0,0,f,g),u.drawImage(e,0,0,o,l,0,0,f,g),e=c.canvas,o=f,l=g,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=dr(t);let l,d,c,u;if((e.bitmap||e.data)&&e.count>1){const C=e.bitmap||e.data.buffer;d=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(C),l||(l=new Map,this._cachedBitmapsMap.set(C,l));const D=l.get(d);if(D&&!a){const R=Math.round(Math.min(o[0],o[2])+o[4]),L=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:D,offsetX:R,offsetY:L}}c=D}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,i),rO(u.context,e));let f=Ve.transform(o,[1/n,0,0,-1/i,0,0]);f=Ve.transform(f,[1,0,0,1,0,-i]);const[g,m,v,b]=Ve.getAxialAlignedBoundingBox([0,0,n,i],f),y=Math.round(v-g)||1,k=Math.round(b-m)||1,_=this.cachedCanvases.getCanvas("fillCanvas",y,k),E=_.context,S=g,O=m;E.translate(-S,-O),E.transform(...f),c||(c=this._scaleImage(u.canvas,La(E)),c=c.img,l&&a&&l.set(d,c)),E.imageSmoothingEnabled=nO(dr(E),e.interpolate),jm(E,c,0,0,c.width,c.height,0,0,n,i),E.globalCompositeOperation="source-in";const T=Ve.transform(La(E),[1,0,0,1,-S,-O]);return E.fillStyle=a?s.getPattern(t,this,T,Gn.FILL):s,E.fillRect(0,0,n,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(d,_.canvas)),{canvas:_.canvas,offsetX:Math.round(S),offsetY:Math.round(O)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Kae[e]}setLineJoin(e){this.ctx.lineJoin=Gae[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...dr(this.suspendedCtx)),Nh(this.suspendedCtx,s),$ae(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Nh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,o,l,d,c,u){let f=e.canvas,g=l-c,m=d-u;if(a){const b=Ve.makeHexColor(...a);if(g<0||m<0||g+n>f.width||m+i>f.height){const y=this.cachedCanvases.getCanvas("maskExtension",n,i),k=y.context;k.drawImage(f,-g,-m),k.globalCompositeOperation="destination-atop",k.fillStyle=b,k.fillRect(0,0,n,i),k.globalCompositeOperation="source-over",f=y.canvas,g=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(g,m,n,i),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=b,e.fillRect(g,m,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,d,n,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(f,g,m,n,i,l,d,n,i),t.restore()}save(){this.inSMaskMode?(Nh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Nh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,s,a){this.ctx.transform(e,t,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,s=this.current;let a=s.x,o=s.y,l,d;const c=dr(i),u=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,f=u?n.slice(0):null;for(let g=0,m=0,v=e.length;g<v;g++)switch(e[g]|0){case ms.rectangle:a=t[m++],o=t[m++];const b=t[m++],y=t[m++],k=a+b,_=o+y;i.moveTo(a,o),b===0||y===0?i.lineTo(k,_):(i.lineTo(k,o),i.lineTo(k,_),i.lineTo(a,_)),u||s.updateRectMinMax(c,[a,o,k,_]),i.closePath();break;case ms.moveTo:a=t[m++],o=t[m++],i.moveTo(a,o),u||s.updatePathMinMax(c,a,o);break;case ms.lineTo:a=t[m++],o=t[m++],i.lineTo(a,o),u||s.updatePathMinMax(c,a,o);break;case ms.curveTo:l=a,d=o,a=t[m+4],o=t[m+5],i.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],a,o),s.updateCurvePathMinMax(c,l,d,t[m],t[m+1],t[m+2],t[m+3],a,o,f),m+=6;break;case ms.curveTo2:l=a,d=o,i.bezierCurveTo(a,o,t[m],t[m+1],t[m+2],t[m+3]),s.updateCurvePathMinMax(c,l,d,a,o,t[m],t[m+1],t[m+2],t[m+3],f),a=t[m+2],o=t[m+3],m+=4;break;case ms.curveTo3:l=a,d=o,a=t[m+2],o=t[m+3],i.bezierCurveTo(t[m],t[m+1],a,o,a,o),s.updateCurvePathMinMax(c,l,d,t[m],t[m+1],a,o,a,o,f),m+=4;break;case ms.closePath:i.closePath();break}u&&s.updateScalingPathMinMax(c,f),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,La(t),Gn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=n.getPattern(t,this,La(t),Gn.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=qae}eoClip(){this.pendingClip=iO}beginText(){this.current.textMatrix=PP,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var c;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||D_,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&dt("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=((c=n.systemFontInfo)==null?void 0:c.css)||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let d=t;t<XA?d=XA:t>ZA&&(d=ZA),this.current.fontSizeScale=t/d,this.ctx.font=`${l} ${o} ${d}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,s,a){this.current.textMatrix=[e,t,n,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const s=this.ctx,a=this.current,o=a.font,l=a.textRenderingMode,d=a.fontSize/a.fontSizeScale,c=l&En.FILL_STROKE_MASK,u=!!(l&En.ADD_TO_PATH_FLAG),f=a.patternFill&&!o.missingFile;let g;(o.disableFontFace||u||f)&&(g=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||f?(s.save(),s.translate(t,n),s.beginPath(),g(s,d),i&&s.setTransform(...i),(c===En.FILL||c===En.FILL_STROKE)&&s.fill(),(c===En.STROKE||c===En.FILL_STROKE)&&s.stroke(),s.restore()):((c===En.FILL||c===En.FILL_STROKE)&&s.fillText(e,t,n),(c===En.STROKE||c===En.FILL_STROKE)&&s.strokeText(e,t,n)),u&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:dr(s),x:t,y:n,fontSize:d,addToPath:g})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return mt(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,d=t.fontDirection,c=t.textHScale*d,u=e.length,f=n.vertical,g=f?1:-1,m=n.defaultVMetrics,v=i*t.fontMatrix[0],b=t.textRenderingMode===En.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),d>0?s.scale(c,-1):s.scale(c,1);let y;if(t.patternFill){s.save();const O=t.fillColor.getPattern(s,this,La(s),Gn.FILL);y=dr(s),s.restore(),s.fillStyle=O}let k=t.lineWidth;const _=t.textMatrixScale;if(_===0||k===0){const O=t.textRenderingMode&En.FILL_STROKE_MASK;(O===En.STROKE||O===En.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=_;if(a!==1&&(s.scale(a,a),k/=a),s.lineWidth=k,n.isInvalidPDFjsFont){const O=[];let T=0;for(const C of e)O.push(C.unicode),T+=C.width;s.fillText(O.join(""),0,0),t.x+=T*v*c,s.restore(),this.compose();return}let E=0,S;for(S=0;S<u;++S){const O=e[S];if(typeof O=="number"){E+=g*O*i/1e3;continue}let T=!1;const C=(O.isSpace?l:0)+o,D=O.fontChar,R=O.accent;let L,P,F=O.width;if(f){const N=O.vmetric||m,z=-(O.vmetric?N[1]:F*.5)*v,G=N[2]*v;F=N?-N[0]:F,L=z/a,P=(E+G)/a}else L=E/a,P=0;if(n.remeasure&&F>0){const N=s.measureText(D).width*1e3/i*a;if(F<N&&this.isFontSubpixelAAEnabled){const z=F/N;T=!0,s.save(),s.scale(z,1),L/=z}else F!==N&&(L+=(F-N)/2e3*i/a)}if(this.contentVisible&&(O.isInFont||n.missingFile)){if(b&&!R)s.fillText(D,L,P);else if(this.paintChar(D,L,P,y),R){const N=L+i*R.offset.x/a,z=P-i*R.offset.y/a;this.paintChar(R.fontChar,N,z,y)}}const H=f?F*v-C*d:F*v+C*d;E+=H,T&&s.restore()}f?t.y-=E:t.x+=E*c,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,d=n.wordSpacing,c=n.textHScale*a,u=n.fontMatrix||D_,f=e.length,g=n.textRenderingMode===En.INVISIBLE;let m,v,b,y;if(!(g||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,a),m=0;m<f;++m){if(v=e[m],typeof v=="number"){y=o*v*s/1e3,this.ctx.translate(y,0),n.x+=y*c;continue}const k=(v.isSpace?d:0)+l,_=i.charProcOperatorList[v.operatorListId];if(!_){dt(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(s,s),t.transform(...u),this.executeOperatorList(_),this.restore()),b=Ve.applyTransform([v.width,0],u)[0]*s+k,t.translate(b,0),n.x+=b*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,a){this.ctx.rect(n,i,s-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||dr(this.ctx),s={createCanvasGraphics:a=>new iS(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new aw(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=Ve.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=Ve.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=Hae(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,La(t),Gn.SHADING);const i=La(t);if(i){const{width:s,height:a}=t.canvas,[o,l,d,c]=Ve.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,l,d-o,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){tr("Should not call beginInlineImage")}beginImageData(){tr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=dr(this.ctx),t)){const n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.current.updateRectMinMax(dr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||tk("TODO: Support non-isolated groups."),e.knockout&&dt("Knockout groups not supported.");const n=dr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ve.getAxialAlignedBoundingBox(e.bbox,dr(t));const s=[0,0,t.canvas.width,t.canvas.height];i=Ve.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),d=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,d]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,l,d),f=u.context;f.translate(-a,-o),f.transform(...n),e.smask?this.smaskStack.push({canvas:u.canvas,context:f,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),Nh(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=dr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=Ve.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,i,s){if(j(this,zl,ow).call(this),Im(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,d]=Ve.singularValueDecompose2dScale(dr(this.ctx)),{viewportScale:c}=this,u=Math.ceil(a*this.outputScaleX*c),f=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,f);const{canvas:g,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-d,0,o*d),Im(this.ctx)}else Im(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new eO(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),j(this,zl,lw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=Wae(e)),i.compiled)){i.compiled(n);return}const s=this._createMaskCanvas(e),a=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=dr(o);o.transform(t,n,i,s,0,0);const d=this._createMaskCanvas(e);o.setTransform(1,0,0,1,d.offsetX-l[4],d.offsetY-l[5]);for(let c=0,u=a.length;c<u;c+=2){const f=Ve.transform(l,[t,n,i,s,a[c],a[c+1]]),[g,m]=Ve.applyTransform([0,0],f);o.drawImage(d.canvas,g,m)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:d}=s,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),u=c.context;u.save();const f=this.getObject(a,s);rO(u,f),u.globalCompositeOperation="source-in",u.fillStyle=i?n.getPattern(u,this,La(t),Gn.FILL):n,u.fillRect(0,0,o,l),u.restore(),t.save(),t.transform(...d),t.scale(1,-1),jm(t,c.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){dt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){dt("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let d=0,c=i.length;d<c;d+=2)l.push({transform:[t,0,0,n,i[d],i[d+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!Pn){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,n).context;tO(l,e),s=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(s,La(i));i.imageSmoothingEnabled=nO(dr(i),e.interpolate),jm(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;tO(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),jm(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===iO?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(t),d=Math.abs(s);if(l===d)if(e===0)a=o=1/l;else{const c=l*e;a=o=c<1?1/c:1}else if(e===0)a=1/l,o=1/d;else{const c=l*e,u=d*e;a=c<1?1/c:1,o=u<1?1/u:1}}else{const l=Math.abs(t*s-n*i),d=Math.hypot(t,n),c=Math.hypot(i,s);if(e===0)a=c/l,o=d/l;else{const u=e*l;a=c>u?c/u:1,o=d>u?d/u:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=n||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const o=Math.max(i,s);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};zl=new WeakSet,ow=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},lw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Fu=iS;for(const r in ms)Fu.prototype[r]!==void 0&&(Fu.prototype[ms[r]]=Fu.prototype[r]);var Yp,Xp;class po{static get workerPort(){return h(this,Yp)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");A(this,Yp,e)}static get workerSrc(){return h(this,Xp)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");A(this,Xp,e)}}Yp=new WeakMap,Xp=new WeakMap,I(po,Yp,null),I(po,Xp,"");const Dm={DATA:1,ERROR:2},Rr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function bi(r){switch(r instanceof Error||typeof r=="object"&&r!==null||tr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new nu(r.message);case"MissingPDFException":return new ru(r.message);case"PasswordException":return new R_(r.message,r.code);case"UnexpectedResponseException":return new rk(r.message,r.status);case"UnknownErrorException":return new P_(r.message,r.details);default:return new P_(r.message,r.toString())}}var rf,as,bN,yN,kN,dv;class Yh{constructor(e,t,n){I(this,as);I(this,rf,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",j(this,as,bN).bind(this),{signal:h(this,rf).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:d=>{const c=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:d.desiredSize},i),c.promise},pull:d=>{const c=Promise.withResolvers();return this.streamControllers[s].pullCall=c,l.postMessage({sourceName:a,targetName:o,stream:Rr.PULL,streamId:s,desiredSize:d.desiredSize}),c.promise},cancel:d=>{Gr(d instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[s].cancelCall=c,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Rr.CANCEL,streamId:s,reason:bi(d)}),c.promise}},n)}destroy(){var e;(e=h(this,rf))==null||e.abort(),A(this,rf,null)}}rf=new WeakMap,as=new WeakSet,bN=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){j(this,as,kN).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Dm.DATA)i.resolve(e.data);else if(e.callback===Dm.ERROR)i.reject(bi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;new Promise(function(a){a(t(e.data))}).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:Dm.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:Dm.ERROR,callbackId:e.callbackId,reason:bi(a)})});return}if(e.streamId){j(this,as,yN).call(this,e);return}t(e.data)},yN=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(d,c=1,u){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=c,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Rr.ENQUEUE,streamId:t,chunk:d},u)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Rr.CLOSE,streamId:t}),delete a.streamSinks[t])},error(d){Gr(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Rr.ERROR,streamId:t,reason:bi(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(d){d(o(e.data,l))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Rr.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:n,targetName:i,stream:Rr.START_COMPLETE,streamId:t,reason:bi(d)})})},kN=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Rr.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(bi(e.reason));break;case Rr.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(bi(e.reason));break;case Rr.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:Rr.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(l){var d;l((d=o.onPull)==null?void 0:d.call(o))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Rr.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:n,targetName:i,stream:Rr.PULL_COMPLETE,streamId:t,reason:bi(l)})});break;case Rr.ENQUEUE:if(Gr(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Rr.CLOSE:if(Gr(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),j(this,as,dv).call(this,a,t);break;case Rr.ERROR:Gr(a,"error should have stream controller"),a.controller.error(bi(e.reason)),j(this,as,dv).call(this,a,t);break;case Rr.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(bi(e.reason)),j(this,as,dv).call(this,a,t);break;case Rr.CANCEL:if(!o)break;new Promise(function(l){var d;l((d=o.onCancel)==null?void 0:d.call(o,bi(e.reason)))}).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Rr.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:n,targetName:i,stream:Rr.CANCEL_COMPLETE,streamId:t,reason:bi(l)})}),o.sinkCapability.reject(bi(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},dv=async function(e,t){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Fd,Zp;class Yae{constructor({parsedData:e,rawData:t}){I(this,Fd);I(this,Zp);A(this,Fd,e),A(this,Zp,t)}getRaw(){return h(this,Zp)}get(e){return h(this,Fd).get(e)??null}getAll(){return $x(h(this,Fd))}has(e){return h(this,Fd).has(e)}}Fd=new WeakMap,Zp=new WeakMap;const Su=Symbol("INTERNAL");var Jp,Qp,eg,nf;class Xae{constructor(e,{name:t,intent:n,usage:i,rbGroups:s}){I(this,Jp,!1);I(this,Qp,!1);I(this,eg,!1);I(this,nf,!0);A(this,Jp,!!(e&Ai.DISPLAY)),A(this,Qp,!!(e&Ai.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(h(this,eg))return h(this,nf);if(!h(this,nf))return!1;const{print:e,view:t}=this.usage;return h(this,Jp)?(t==null?void 0:t.viewState)!=="OFF":h(this,Qp)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Su&&tr("Internal method `_setVisible` called."),A(this,eg,n),A(this,nf,t)}}Jp=new WeakMap,Qp=new WeakMap,eg=new WeakMap,nf=new WeakMap;var cl,Mt,sf,af,tg,dw;class Zae{constructor(e,t=Ai.DISPLAY){I(this,tg);I(this,cl,null);I(this,Mt,new Map);I(this,sf,null);I(this,af,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,A(this,af,e.order);for(const n of e.groups)h(this,Mt).set(n.id,new Xae(t,n));if(e.baseState==="OFF")for(const n of h(this,Mt).values())n._setVisible(Su,!1);for(const n of e.on)h(this,Mt).get(n)._setVisible(Su,!0);for(const n of e.off)h(this,Mt).get(n)._setVisible(Su,!1);A(this,sf,this.getHash())}}isVisible(e){if(h(this,Mt).size===0)return!0;if(!e)return tk("Optional content group not defined."),!0;if(e.type==="OCG")return h(this,Mt).has(e.id)?h(this,Mt).get(e.id).visible:(dt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return j(this,tg,dw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!h(this,Mt).has(t))return dt(`Optional content group not found: ${t}`),!0;if(h(this,Mt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!h(this,Mt).has(t))return dt(`Optional content group not found: ${t}`),!0;if(!h(this,Mt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!h(this,Mt).has(t))return dt(`Optional content group not found: ${t}`),!0;if(!h(this,Mt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!h(this,Mt).has(t))return dt(`Optional content group not found: ${t}`),!0;if(h(this,Mt).get(t).visible)return!1}return!0}return dt(`Unknown optional content policy ${e.policy}.`),!0}return dt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const i=h(this,Mt).get(e);if(!i){dt(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=h(this,Mt).get(o))==null||s._setVisible(Su,!1,!0));i._setVisible(Su,!!t,!0),A(this,cl,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=h(this,Mt).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}A(this,cl,null)}get hasInitialVisibility(){return h(this,sf)===null||this.getHash()===h(this,sf)}getOrder(){return h(this,Mt).size?h(this,af)?h(this,af).slice():[...h(this,Mt).keys()]:null}getGroups(){return h(this,Mt).size>0?$x(h(this,Mt)):null}getGroup(e){return h(this,Mt).get(e)||null}getHash(){if(h(this,cl)!==null)return h(this,cl);const e=new oN;for(const[t,n]of h(this,Mt))e.update(`${t}:${n.visible}`);return A(this,cl,e.hexdigest())}}cl=new WeakMap,Mt=new WeakMap,sf=new WeakMap,af=new WeakMap,tg=new WeakSet,dw=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=j(this,tg,dw).call(this,s);else if(h(this,Mt).has(s))a=h(this,Mt).get(s).visible;else return dt(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class Jae{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Gr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,d)=>{this._onReceiveData({begin:l,chunk:d})}),e.addProgressListener((l,d)=>{this._onProgress({loaded:l,total:d})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Gr(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Gr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Qae(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new eoe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Qae{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=Kx(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class eoe{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function toe(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let c=o(t);return c=unescape(c),c=l(c),c=d(c),s(c)}if(t=a(r),t){const c=d(t);return s(c)}if(t=n("filename","i").exec(r),t){t=t[1];let c=o(t);return c=d(c),s(c)}function n(c,u){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',u)}function i(c,u){if(c){if(!/^[\x00-\xFF]+$/.test(u))return u;try{const f=new TextDecoder(c,{fatal:!0}),g=nk(u);u=f.decode(g),e=!1}catch{}}return u}function s(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function a(c){const u=[];let f;const g=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=g.exec(c))!==null;){let[,v,b,y]=f;if(v=parseInt(v,10),v in u){if(v===0)break;continue}u[v]=[b,y]}const m=[];for(let v=0;v<u.length&&v in u;++v){let[b,y]=u[v];y=o(y),b&&(y=unescape(y),v===0&&(y=l(y))),m.push(y)}return m.join("")}function o(c){if(c.startsWith('"')){const u=c.slice(1).split('\\"');for(let f=0;f<u.length;++f){const g=u[f].indexOf('"');g!==-1&&(u[f]=u[f].slice(0,g),u.length=f+1),u[f]=u[f].replaceAll(/\\(.)/g,"$1")}c=u.join('"')}return c}function l(c){const u=c.indexOf("'");if(u===-1)return c;const f=c.slice(0,u),m=c.slice(u+1).replace(/^[^']*'/,"");return i(f,m)}function d(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(u,f,g,m){if(g==="q"||g==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function Zx(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function Jx({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Qx(r){const e=r.get("Content-Disposition");if(e){let t=toe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Kx(t))return t}return null}function ak(r,e){return r===404||r===0&&e.startsWith("file:")?new ru('Missing PDF "'+e+'".'):new rk(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r)}function _N(r){return r===200||r===206}function wN(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function EN(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(dt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class sO{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Zx(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Gr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new roe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new noe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class roe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,wN(n,this._withCredentials,this._abortController)).then(s=>{if(!_N(s.status))throw ak(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=Jx({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Qx(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new nu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:EN(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class noe{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,wN(s,this._withCredentials,this._abortController)).then(o=>{if(!_N(o.status))throw ak(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:EN(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const j0=200,I0=206;function ioe(r){const e=r.response;return typeof e!="string"?e:nk(e).buffer}class soe{constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Zx(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const i={begin:e,end:t};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=I0):i.expectedStatus=j0,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){var l,d,c;const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,i.status);return}const s=i.status||j0;if(!(s===j0&&n.expectedStatus===I0)&&s!==n.expectedStatus){(d=n.onError)==null||d.call(n,i.status);return}const o=ioe(i);if(s===I0){const u=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);n.onDone({begin:parseInt(f[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(c=n.onError)==null||c.call(n,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class aoe{constructor(e){this._source=e,this._manager=new soe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Gr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ooe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new loe(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class ooe{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{const[o,...l]=a.split(": ");return[o,l.join(": ")]})),{allowRangeRequests:i,suggestedLength:s}=Jx({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=Qx(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ak(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class loe{constructor(e,t,n){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=ak(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const doe=/^[a-z][a-z0-9\-+.]+:/i;function coe(r){if(doe.test(r))return new URL(r);const e=Bl.get("url");return new URL(e.pathToFileURL(r))}function xN(r,e,t){return r.protocol==="http:"?Bl.get("http").request(r,{headers:e},t):Bl.get("https").request(r,{headers:e},t)}class uoe{constructor(e){this.source=e,this.url=coe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Zx(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Gr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new poe(this):new foe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new goe(this,e,t):new hoe(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class SN{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new nu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class TN{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class foe extends SN{constructor(e){super(e);const t=Object.fromEntries(e.headers),n=i=>{if(i.statusCode===404){const l=new ru(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(i);const s=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:o}=Jx({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=Qx(s)};this._request=xN(this._url,t,n),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}}class hoe extends TN{constructor(e,t,n){super(e);const i=Object.fromEntries(e.headers);i.Range=`bytes=${t}-${n-1}`;const s=a=>{if(a.statusCode===404){const o=new ru(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(a)};this._request=xN(this._url,i,s),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class poe extends SN{constructor(e){super(e);const t=Bl.get("fs");t.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new ru(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class goe extends TN{constructor(e,t,n){super(e);const i=Bl.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:n-1}))}}const moe=1e5,ti=30,voe=.8;var wO,ul,ii,rg,ng,Vd,qa,ig,sg,Hd,of,lf,fl,df,ag,cf,Ud,og,lg,br,Bd,$d,dg,hl,uf,Do,AN,ON,uw,Ni,cv,fw,CN,jN;let cw=(br=class{constructor({textContentSource:e,container:t,viewport:n}){I(this,Do);I(this,ul,Promise.withResolvers());I(this,ii,null);I(this,rg,!1);I(this,ng,!!((wO=globalThis.FontInspector)!=null&&wO.enabled));I(this,Vd,null);I(this,qa,null);I(this,ig,0);I(this,sg,0);I(this,Hd,null);I(this,of,null);I(this,lf,0);I(this,fl,0);I(this,df,Object.create(null));I(this,ag,[]);I(this,cf,null);I(this,Ud,[]);I(this,og,new WeakMap);I(this,lg,null);var l;if(e instanceof ReadableStream)A(this,cf,e);else if(typeof e=="object")A(this,cf,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,ii,A(this,of,t)),A(this,fl,n.scale*(globalThis.devicePixelRatio||1)),A(this,lf,n.rotation),A(this,qa,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;A(this,lg,[1,0,0,-1,-a,o+s]),A(this,sg,i),A(this,ig,s),j(l=br,Ni,CN).call(l),Pc(t,n),h(this,ul).promise.finally(()=>{h(br,uf).delete(this),A(this,qa,null),A(this,df,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=qn.platform;return mt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{h(this,Hd).read().then(({value:t,done:n})=>{if(n){h(this,ul).resolve();return}h(this,Vd)??A(this,Vd,t.lang),Object.assign(h(this,df),t.styles),j(this,Do,AN).call(this,t.items),e()},h(this,ul).reject)};return A(this,Hd,h(this,cf).getReader()),h(br,uf).add(this),e(),h(this,ul).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==h(this,lf)&&(t==null||t(),A(this,lf,i),Pc(h(this,of),{rotation:i})),n!==h(this,fl)){t==null||t(),A(this,fl,n);const a={div:null,properties:null,ctx:j(s=br,Ni,cv).call(s,h(this,Vd))};for(const o of h(this,Ud))a.properties=h(this,og).get(o),a.div=o,j(this,Do,uw).call(this,a)}}cancel(){var t;const e=new nu("TextLayer task cancelled.");(t=h(this,Hd))==null||t.cancel(e).catch(()=>{}),A(this,Hd,null),h(this,ul).reject(e)}get textDivs(){return h(this,Ud)}get textContentItemsStr(){return h(this,ag)}static cleanup(){if(!(h(this,uf).size>0)){h(this,Bd).clear();for(const{canvas:e}of h(this,$d).values())e.remove();h(this,$d).clear()}}},ul=new WeakMap,ii=new WeakMap,rg=new WeakMap,ng=new WeakMap,Vd=new WeakMap,qa=new WeakMap,ig=new WeakMap,sg=new WeakMap,Hd=new WeakMap,of=new WeakMap,lf=new WeakMap,fl=new WeakMap,df=new WeakMap,ag=new WeakMap,cf=new WeakMap,Ud=new WeakMap,og=new WeakMap,lg=new WeakMap,Bd=new WeakMap,$d=new WeakMap,dg=new WeakMap,hl=new WeakMap,uf=new WeakMap,Do=new WeakSet,AN=function(e){var i,s;if(h(this,rg))return;(s=h(this,qa)).ctx??(s.ctx=j(i=br,Ni,cv).call(i,h(this,Vd)));const t=h(this,Ud),n=h(this,ag);for(const a of e){if(t.length>moe){dt("Ignoring additional textDivs for performance reasons."),A(this,rg,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=h(this,ii);A(this,ii,document.createElement("span")),h(this,ii).classList.add("markedContent"),a.id!==null&&h(this,ii).setAttribute("id",`${a.id}`),o.append(h(this,ii))}else a.type==="endMarkedContent"&&A(this,ii,h(this,ii).parentNode);continue}n.push(a.str),j(this,Do,ON).call(this,a)}},ON=function(e){var v;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};h(this,Ud).push(t);const i=Ve.transform(h(this,lg),e.transform);let s=Math.atan2(i[1],i[0]);const a=h(this,df)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=h(this,ng)&&a.fontSubstitution||a.fontFamily;o=br.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),d=l*j(v=br,Ni,jN).call(v,o,h(this,Vd));let c,u;s===0?(c=i[4],u=i[5]-d):(c=i[4]+d*Math.sin(s),u=i[5]-d*Math.cos(s));const f="calc(var(--scale-factor)*",g=t.style;h(this,ii)===h(this,of)?(g.left=`${(100*c/h(this,sg)).toFixed(2)}%`,g.top=`${(100*u/h(this,ig)).toFixed(2)}%`):(g.left=`${f}${c.toFixed(2)}px)`,g.top=`${f}${u.toFixed(2)}px)`),g.fontSize=`${f}${(h(br,hl)*l).toFixed(2)}px)`,g.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,h(this,ng)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);b!==y&&Math.max(b,y)/Math.min(b,y)>1.5&&(m=!0)}if(m&&(n.canvasWidth=a.vertical?e.height:e.width),h(this,og).set(t,n),h(this,qa).div=t,h(this,qa).properties=n,j(this,Do,uw).call(this,h(this,qa)),n.hasText&&h(this,ii).append(t),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),h(this,ii).append(b)}},uw=function(e){var o;const{div:t,properties:n,ctx:i}=e,{style:s}=t;let a="";if(h(br,hl)>1&&(a=`scale(${1/h(br,hl)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:d,fontSize:c}=n;j(o=br,Ni,fw).call(o,i,c*h(this,fl),l);const{width:u}=i.measureText(t.textContent);u>0&&(a=`scaleX(${d*h(this,fl)/u}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Ni=new WeakSet,cv=function(e=null){let t=h(this,$d).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,$d).set(e,t),h(this,dg).set(t,{size:0,family:""})}return t},fw=function(e,t,n){const i=h(this,dg).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},CN=function(){if(h(this,hl)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),A(this,hl,e.getBoundingClientRect().height),e.remove()},jN=function(e,t){const n=h(this,Bd).get(e);if(n)return n;const i=j(this,Ni,cv).call(this,t);i.canvas.width=i.canvas.height=ti,j(this,Ni,fw).call(this,i,ti,e);const s=i.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const c=a/(a+o);return h(this,Bd).set(e,c),i.canvas.width=i.canvas.height=0,c}i.strokeStyle="red",i.clearRect(0,0,ti,ti),i.strokeText("g",0,0);let l=i.getImageData(0,0,ti,ti).data;o=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){o=Math.ceil(c/4/ti);break}i.clearRect(0,0,ti,ti),i.strokeText("A",0,ti),l=i.getImageData(0,0,ti,ti).data,a=0;for(let c=0,u=l.length;c<u;c+=4)if(l[c]>0){a=ti-Math.floor(c/4/ti);break}i.canvas.width=i.canvas.height=0;const d=a?a/(a+o):voe;return h(this,Bd).set(e,d),d},I(br,Ni),I(br,Bd,new Map),I(br,$d,new Map),I(br,dg,new WeakMap),I(br,hl,null),I(br,uf,new Set),br);class Ap{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Ap.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const d of s.children)i(d)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const boe=65536,yoe=100,koe=5e3,_oe=Pn?Rae:jae,woe=Pn?Pae:fN,Eoe=Pn?Dae:Iae,xoe=Pn?Nae:mN;function Soe(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new hw,{docId:t}=e,n=r.url?Toe(r.url):null,i=r.data?Aoe(r.data):null,s=r.httpHeaders||null,a=r.withCredentials===!0,o=r.password??null,l=r.range instanceof IN?r.range:null,d=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:boe;let c=r.worker instanceof Vu?r.worker:null;const u=r.verbosity,f=typeof r.docBaseUrl=="string"&&!sk(r.docBaseUrl)?r.docBaseUrl:null,g=typeof r.cMapUrl=="string"?r.cMapUrl:null,m=r.cMapPacked!==!1,v=r.CMapReaderFactory||woe,b=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,y=r.StandardFontDataFactory||xoe,k=r.stopAtErrors!==!0,_=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,E=r.isEvalSupported!==!1,S=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Pn,O=typeof r.isChrome=="boolean"?r.isChrome:!qn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),T=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,C=typeof r.disableFontFace=="boolean"?r.disableFontFace:Pn,D=r.fontExtraProperties===!0,R=r.enableXfa===!0,L=r.ownerDocument||globalThis.document,P=r.disableRange===!0,F=r.disableStream===!0,H=r.disableAutoFetch===!0,N=r.pdfBug===!0,z=r.CanvasFactory||_oe,G=r.FilterFactory||Eoe,Y=r.enableHWA===!0,W=l?l.length:r.length??NaN,ue=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Pn&&!C,M=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:v===fN&&y===mN&&g&&b&&Bh(g,document.baseURI)&&Bh(b,document.baseURI);r.canvasFactory&&GA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),r.filterFactory&&GA("`filterFactory`-instance option, please use `FilterFactory` instead.");const K=null;oae(u);const $={canvasFactory:new z({ownerDocument:L,enableHWA:Y}),filterFactory:new G({docId:t,ownerDocument:L}),cMapReaderFactory:M?null:new v({baseUrl:g,isCompressed:m}),standardFontDataFactory:M?null:new y({baseUrl:b})};if(!c){const fe={verbosity:u,port:po.workerPort};c=fe.port?Vu.fromPort(fe):new Vu(fe),e._worker=c}const J={docId:t,apiVersion:"4.8.69",data:i,password:o,disableAutoFetch:H,rangeChunkSize:d,length:W,docBaseUrl:f,enableXfa:R,evaluatorOptions:{maxImageSize:_,disableFontFace:C,ignoreErrors:k,isEvalSupported:E,isOffscreenCanvasSupported:S,isChrome:O,canvasMaxAreaInBytes:T,fontExtraProperties:D,useSystemFonts:ue,cMapUrl:M?g:null,standardFontDataUrl:M?b:null}},ne={disableFontFace:C,fontExtraProperties:D,ownerDocument:L,pdfBug:N,styleElement:K,loadingParams:{disableAutoFetch:H,enableXfa:R}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const fe=c.messageHandler.sendWithPromise("GetDocRequest",J,i?[i.buffer]:null);let ae;if(l)ae=new Jae(l,{disableRange:P,disableStream:F});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Fe;Pn?Fe=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Bh(n)?sO:uoe:Fe=Bh(n)?sO:aoe,ae=new Fe({url:n,length:W,httpHeaders:s,withCredentials:a,rangeChunkSize:d,disableRange:P,disableStream:F})}return fe.then(Fe=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const ee=new Yh(t,Fe,c.port),le=new Ioe(ee,e,ae,ne,$);e._transport=le,ee.send("Ready",null)})}).catch(e._capability.reject),e}function Toe(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(Pn&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Aoe(r){if(Pn&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return nk(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function aO(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var Ob;const Cb=class Cb{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${$n(Cb,Ob)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ob=new WeakMap,I(Cb,Ob,0);let hw=Cb,IN=class{constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){tr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Ooe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return mt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var pl,Ya,ns,Tu,uv;class Coe{constructor(e,t,n,i=!1){I(this,ns);I(this,pl,null);I(this,Ya,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new KA:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new DN,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new am({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return mt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=Jo.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:d=null,printAnnotationStorage:c=null,isEditing:u=!1}){var E,S;(E=this._stats)==null||E.time("Overall");const f=this._transport.getRenderingIntent(n,i,c,u),{renderingIntent:g,cacheKey:m}=f;A(this,Ya,!1),j(this,ns,uv).call(this),o||(o=this._transport.getOptionalContentConfig(g));let v=this._intentStates.get(m);v||(v=Object.create(null),this._intentStates.set(m,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const b=!!(g&Ai.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(f));const y=O=>{var T;v.renderTasks.delete(k),(this._maybeCleanupAfterRender||b)&&A(this,Ya,!0),j(this,ns,Tu).call(this,!b),O?(k.capability.reject(O),this._abortOperatorList({intentState:v,reason:O instanceof Error?O:new Error(O)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(T=globalThis.Stats)!=null&&T.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new gw({callback:y,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:d});(v.renderTasks||(v.renderTasks=new Set)).add(k);const _=k.task;return Promise.all([v.displayReadyCapability.promise,o]).then(([O,T])=>{var C;if(this.destroyed){y();return}if((C=this._stats)==null||C.time("Rendering"),!(T.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:O,optionalContentConfig:T}),k.operatorListChanged()}).catch(y),_}getOperatorList({intent:e="display",annotationMode:t=Jo.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var d;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ap.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:d}){if(d){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),A(this,Ya,!1),j(this,ns,uv).call(this),Promise.all(e)}cleanup(e=!1){A(this,Ya,!0);const t=j(this,ns,Tu).call(this,!1);return e&&t&&this._stats&&(this._stats=new KA),t}_startRenderPage(e,t){var i,s;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&j(this,ns,Tu).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),d=this._intentStates.get(t);d.streamReader=l;const c=()=>{l.read().then(({value:u,done:f})=>{if(f){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,d),c())},u=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const f of d.renderTasks)f.operatorListChanged();j(this,ns,Tu).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(u);else if(d.opListReadCapability)d.opListReadCapability.reject(u);else throw u}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof Wx){let i=yoe;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new nu(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}pl=new WeakMap,Ya=new WeakMap,ns=new WeakSet,Tu=function(e=!1){if(j(this,ns,uv).call(this),!h(this,Ya)||this.destroyed)return!1;if(e)return A(this,pl,setTimeout(()=>{A(this,pl,null),j(this,ns,Tu).call(this,!1)},koe)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,Ya,!1),!0},uv=function(){h(this,pl)&&(clearTimeout(h(this,pl)),A(this,pl,null))};var Xa,jb;class joe{constructor(){I(this,Xa,new Map);I(this,jb,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};h(this,jb).then(()=>{for(const[i]of h(this,Xa))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){dt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}h(this,Xa).set(t,i)}removeEventListener(e,t){const n=h(this,Xa).get(t);n==null||n(),h(this,Xa).delete(t)}terminate(){for(const[,e]of h(this,Xa))e==null||e();h(this,Xa).clear()}}Xa=new WeakMap,jb=new WeakMap;var Ib,zd,Wd,ff,fv,hf,hv;const nr=class nr{constructor({name:e=null,port:t=null,verbosity:n=lae()}={}){I(this,ff);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=h(nr,Wd))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(h(nr,Wd)||A(nr,Wd,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Pn?Promise.all([Bl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Yh("main","worker",e),this._messageHandler.on("ready",function(){}),j(this,ff,fv).call(this)}_initialize(){if(h(nr,zd)||h(nr,hf,hv)){this._setupFakeWorker();return}let{workerSrc:e}=nr;try{nr._isSameOrigin(window.location.href,e)||(e=nr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Yh("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=t,this._webWorker=t,j(this,ff,fv).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{tk("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(nr,zd)||(dt("Setting up fake worker."),A(nr,zd,!0)),nr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new joe;this._port=t;const n=`fake${$n(nr,Ib)._++}`,i=new Yh(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new Yh(n,n+"_worker",t),j(this,ff,fv).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=h(nr,Wd))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=h(this,Wd))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new nr(e)}static get workerSrc(){if(po.workerSrc)return po.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return mt(this,"_setupFakeWorkerGlobal",(async()=>h(this,hf,hv)?h(this,hf,hv):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ib=new WeakMap,zd=new WeakMap,Wd=new WeakMap,ff=new WeakSet,fv=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},hf=new WeakSet,hv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},I(nr,hf),I(nr,Ib,0),I(nr,zd,!1),I(nr,Wd),Pn&&(A(nr,zd,!0),po.workerSrc||(po.workerSrc="./pdf.worker.mjs")),nr._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},nr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Vu=nr;var Za,la,pf,gf,da,Kd,Xh;class Ioe{constructor(e,t,n,i,s){I(this,Kd);I(this,Za,new Map);I(this,la,new Map);I(this,pf,new Map);I(this,gf,new Map);I(this,da,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new DN,this.fontLoader=new Oae({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return mt(this,"annotationStorage",new Yx)}getRenderingIntent(e,t=Jo.ENABLE,n=null,i=!1,s=!1){let a=Ai.DISPLAY,o=tw;switch(e){case"any":a=Ai.ANY;break;case"display":break;case"print":a=Ai.PRINT;break;default:dt(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Ai.PRINT&&n instanceof dN?n:this.annotationStorage;switch(t){case Jo.DISABLE:a+=Ai.ANNOTATIONS_DISABLE;break;case Jo.ENABLE:break;case Jo.ENABLE_FORMS:a+=Ai.ANNOTATIONS_FORMS;break;case Jo.ENABLE_STORAGE:a+=Ai.ANNOTATIONS_STORAGE,o=l.serializable;break;default:dt(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Ai.IS_EDITING),s&&(a+=Ai.OPLIST);const{ids:d,hash:c}=l.modifiedIds,u=[a,o.hash,c];return{renderingIntent:a,cacheKey:u.join("_"),annotationStorageSerializable:o,modifiedIds:d}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=h(this,da))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of h(this,la).values())e.push(i._destroy());h(this,la).clear(),h(this,pf).clear(),h(this,gf).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Za).clear(),this.filterFactory.destroy(),cw.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new nu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{Gr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Gr(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{Gr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Gr(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Ooe(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new R_(n.message,n.code);break;case"InvalidPDFException":i=new NP(n.message);break;case"MissingPDFException":i=new ru(n.message);break;case"UnexpectedResponseException":i=new rk(n.message,n.status);break;case"UnknownErrorException":i=new P_(n.message,n.details);break;default:tr("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",n=>{if(A(this,da,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?h(this,da).reject(s):h(this,da).resolve({password:s})};try{t.onPassword(i,n.code)}catch(s){h(this,da).reject(s)}}else h(this,da).reject(new R_(n.message,n.code));return h(this,da).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;h(this,la).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:d}=this._params;if("error"in s){const g=s.error;dt(`Error during font loading: ${g}`),this.commonObjs.resolve(n,g);break}const c=d&&((a=globalThis.FontInspector)!=null&&a.enabled)?(g,m)=>globalThis.FontInspector.fontAdded(g,m):null,u=new Cae(s,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&u.data&&(u.data=null),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:f}=s;Gr(f,"The imageRef must be defined.");for(const g of h(this,la).values())for(const[,m]of g.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var l;if(this.destroyed)return;const o=h(this,la).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>nae&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&dt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=h(this,pf).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&h(this,gf).set(s.refStr,e);const a=new Coe(t,s,this,this._params.pdfBug);return h(this,la).set(t,a),a});return h(this,pf).set(t,i),i}getPageIndex(e){return aO(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return j(this,Kd,Xh).call(this,"GetFieldObjects")}hasJSActions(){return j(this,Kd,Xh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return j(this,Kd,Xh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return j(this,Kd,Xh).call(this,"GetOptionalContentConfig").then(t=>new Zae(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=h(this,Za).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new Yae(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return h(this,Za).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of h(this,la).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),h(this,Za).clear(),this.filterFactory.destroy(!0),cw.cleanup()}}cachedPageNumber(e){if(!aO(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return h(this,gf).get(t)??null}}Za=new WeakMap,la=new WeakMap,pf=new WeakMap,gf=new WeakMap,da=new WeakMap,Kd=new WeakSet,Xh=function(e,t=null){const n=h(this,Za).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return h(this,Za).set(e,i),i};const Rm=Symbol("INITIAL_DATA");var ws,cg,pw;class DN{constructor(){I(this,cg);I(this,ws,Object.create(null))}get(e,t=null){if(t){const i=j(this,cg,pw).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=h(this,ws)[e];if(!n||n.data===Rm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=h(this,ws)[e];return!!t&&t.data!==Rm}resolve(e,t=null){const n=j(this,cg,pw).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in h(this,ws)){const{data:n}=h(this,ws)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}A(this,ws,Object.create(null))}*[Symbol.iterator](){for(const e in h(this,ws)){const{data:t}=h(this,ws)[e];t!==Rm&&(yield[e,t])}}}ws=new WeakMap,cg=new WeakSet,pw=function(e){var t;return(t=h(this,ws))[e]||(t[e]={...Promise.withResolvers(),data:Rm})};var gl;class Doe{constructor(e){I(this,gl,null);A(this,gl,e),this.onContinue=null}get promise(){return h(this,gl).capability.promise}cancel(e=0){h(this,gl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=h(this,gl).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=h(this,gl);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}gl=new WeakMap;var ml,Gd;const gd=class gd{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:d,useRequestAnimationFrame:c=!1,pdfBug:u=!1,pageColors:f=null}){I(this,ml,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=d,this._pdfBug=u,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Doe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(h(gd,Gd).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(gd,Gd).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,background:a}=this.params;this.gfx=new Fu(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),h(this,ml)&&(window.cancelAnimationFrame(h(this,ml)),A(this,ml,null)),h(gd,Gd).delete(this._canvas),this.callback(e||new Wx(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?A(this,ml,window.requestAnimationFrame(()=>{A(this,ml,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(gd,Gd).delete(this._canvas),this.callback())))}};ml=new WeakMap,Gd=new WeakMap,I(gd,Gd,new WeakSet);let gw=gd;const Roe="4.8.69",Poe="3634dab10";function oO(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function Mh(r){return Math.max(0,Math.min(255,255*r))}class lO{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Mh(e),[e,e,e]}static G_HTML([e]){const t=oO(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Mh)}static RGB_HTML(e){return`#${e.map(oO).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Mh(1-Math.min(1,e+i)),Mh(1-Math.min(1,n+i)),Mh(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class Noe{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){tr("Abstract method `_createSVG` called.")}}class eS extends Noe{_createSVG(e){return document.createElementNS(Va,e)}}class RN{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,d=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,d]of Object.entries(a))if(d!=null)switch(l){case"class":d.length&&e.setAttribute(l,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,d)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var u,f;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=g}o&&l.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const g=document.createTextNode(i.value);a.append(g),o&&Ap.shouldBuildText(i.name)&&d.push(g)}return{textDivs:d}}const c=[[i,-1,a]];for(;c.length>0;){const[g,m,v]=c.at(-1);if(m+1===g.children.length){c.pop();continue}const b=g.children[++c.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const _=document.createTextNode(b.value);d.push(_),v.append(_);continue}const k=(u=b==null?void 0:b.attributes)!=null&&u.xmlns?document.createElementNS(b.attributes.xmlns,y):document.createElement(y);if(v.append(k),b.attributes&&this.setAttributes({html:k,element:b,storage:t,intent:s,linkService:n}),((f=b.children)==null?void 0:f.length)>0)c.push([b,-1,k]);else if(b.value){const _=document.createTextNode(b.value);o&&Ap.shouldBuildText(y)&&d.push(_),k.append(_)}}for(const g of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const lm=1e3,Moe=9,Mc=new WeakSet;function Eo(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class Loe{static create(e){switch(e.data.annotationType){case Br.LINK:return new PN(e);case Br.TEXT:return new Foe(e);case Br.WIDGET:switch(e.data.fieldType){case"Tx":return new Voe(e);case"Btn":return e.data.radioButton?new LN(e):e.data.checkBox?new Uoe(e):new Boe(e);case"Ch":return new $oe(e);case"Sig":return new Hoe(e)}return new iu(e);case Br.POPUP:return new vw(e);case Br.FREETEXT:return new BN(e);case Br.LINE:return new Woe(e);case Br.SQUARE:return new Koe(e);case Br.CIRCLE:return new Goe(e);case Br.POLYLINE:return new $N(e);case Br.CARET:return new Yoe(e);case Br.INK:return new tS(e);case Br.POLYGON:return new qoe(e);case Br.HIGHLIGHT:return new zN(e);case Br.UNDERLINE:return new Xoe(e);case Br.SQUIGGLY:return new Zoe(e);case Br.STRIKEOUT:return new Joe(e);case Br.STAMP:return new WN(e);case Br.FILEATTACHMENT:return new Qoe(e);default:return new Cr(e)}}}var qd,mf,vf,ug,mw;const sS=class sS{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){I(this,ug);I(this,qd,null);I(this,mf,!1);I(this,vf,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return sS._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;h(this,qd)||A(this,qd,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&j(this,ug,mw).call(this,t),(n=h(this,vf))==null||n.popup.updateEdited(e)}resetEdited(){var e;h(this,qd)&&(j(this,ug,mw).call(this,h(this,qd).rect),(e=h(this,vf))==null||e.popup.resetEdited(),A(this,qd,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof iu||(s.tabIndex=lm);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof vw){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:o,height:l}=Eo(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(v>0||b>0){const k=`calc(${v}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;a.borderRadius=k}else if(this instanceof LN){const k=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=k}switch(t.borderStyle.style){case Ph.SOLID:a.borderStyle="solid";break;case Ph.DASHED:a.borderStyle="dashed";break;case Ph.BEVELED:dt("Unimplemented border style: beveled");break;case Ph.INSET:dt("Unimplemented border style: inset");break;case Ph.UNDERLINE:a.borderBottomStyle="solid";break}const y=t.borderColor||null;y?(A(this,mf,!0),a.borderColor=Ve.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):a.borderWidth=0}const d=Ve.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:f,pageY:g}=i.rawDims;a.left=`${100*(d[0]-f)/c}%`,a.top=`${100*(d[1]-g)/u}%`;const{rotation:m}=t;return t.hasOwnCanvas||m===0?(a.width=`${100*o/c}%`,a.height=`${100*l/u}%`):this.setRotation(m,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=Eo(this.data.rect);let o,l;e%180===0?(o=100*s/n,l=100*a/i):(o=100*a/n,l=100*s/i),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[n]=lO[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:lO[`${a}_rgb`](o)})};return mt(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,b,y,k]=e.subarray(2,6);if(i===v&&s===b&&t===y&&n===k)return}const{style:a}=this.container;let o;if(h(this,mf)){const{borderColor:v,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-t,d=s-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const f=c.createElement("defs");u.append(f);const g=c.createElement("clipPath"),m=`clippath_${this.data.id}`;g.setAttribute("id",m),g.setAttribute("clipPathUnits","objectBoundingBox"),f.append(g);for(let v=2,b=e.length;v<b;v+=8){const y=e[v],k=e[v+1],_=e[v+2],E=e[v+3],S=c.createElement("rect"),O=(_-t)/l,T=(s-k)/d,C=(y-_)/l,D=(k-E)/d;S.setAttribute("x",O),S.setAttribute("y",T),S.setAttribute("width",C),S.setAttribute("height",D),g.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${T}" width="${C}" height="${D}"/>`)}h(this,mf)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(u),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,t=A(this,vf,new vw({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){tr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!Mc.has(d)){dt(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:d})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&Mc.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};qd=new WeakMap,mf=new WeakMap,vf=new WeakMap,ug=new WeakSet,mw=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e);const{width:d,height:c}=Eo(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*d/s}%`,t.height=`${100*c/a}%`):this.setRotation(i)};let Cr=sS;var Di,ld,NN,MN;class PN extends Cr{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});I(this,Di);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(j(this,Di,NN).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(j(this,Di,MN).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&j(this,Di,ld).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),j(this,Di,ld).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),j(this,Di,ld).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),j(this,Di,ld).call(this),!this._fieldObjects){dt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var u;i==null||i();const{fields:s,refs:a,include:o}=n,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const g of s){const m=this._fieldObjects[g]||[];for(const{id:v}of m)f.add(v)}for(const g of Object.values(this._fieldObjects))for(const m of g)f.has(m.id)===o&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const d=this.annotationStorage,c=[];for(const f of l){const{id:g}=f;switch(c.push(g),f.type){case"text":{const v=f.defaultValue||"";d.setValue(g,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;d.setValue(g,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";d.setValue(g,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${g}"]`);if(m){if(!Mc.has(m)){dt(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Di=new WeakSet,ld=function(){this.container.setAttribute("data-internal-link","")},NN=function(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,i),!1},j(this,Di,ld).call(this)},MN=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),j(this,Di,ld).call(this)};class Foe extends Cr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class iu extends Cr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return qn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,n,i){var s,a,o;for(const[l,d]of n)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,d,i),d==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ve.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Moe,s=e.style;let a;const o=2,l=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o),c=Math.round(d/(T0*i))||1,u=d/c;a=Math.min(i,l(u/T0))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(d/T0))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=Ve.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Voe extends iu{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let d=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const c={userValue:o,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",d??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Mc.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=lm,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(n,"value",f.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",f=>{const g=this.data.defaultFieldValue??"";n.value=c.userValue=g,c.formattedValue=null});let u=f=>{const{formattedValue:g}=c;g!=null&&(f.target.value=g),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",g=>{var v;if(c.focused)return;const{target:m}=g;c.userValue&&(m.value=c.userValue),c.lastCommittedValue=m.value,c.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const m={value(v){c.userValue=v.detail.value??"",e.setValue(t,{value:c.userValue.toString()}),v.target.value=c.userValue},formattedValue(v){const{formattedValue:b}=v.detail;c.formattedValue=b,b!=null&&v.target!==document.activeElement&&(v.target.value=b),e.setValue(t,{formattedValue:b})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var _;const{charLimit:b}=v.detail,{target:y}=v;if(b===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",b);let k=c.userValue;!k||k.length<=b||(k=k.slice(0,b),y.value=c.userValue=k,e.setValue(t,{value:k}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(m,g)}),n.addEventListener("keydown",g=>{var b;c.commitKey=1;let m=-1;if(g.key==="Escape"?m=0:g.key==="Enter"&&!this.data.multiLine?m=2:g.key==="Tab"&&(c.commitKey=3),m===-1)return;const{value:v}=g.target;c.lastCommittedValue!==v&&(c.lastCommittedValue=v,c.userValue=v,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const f=u;u=null,n.addEventListener("blur",g=>{var v,b;if(!c.focused||!g.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(c.focused=!1);const{value:m}=g.target;c.userValue=m,c.lastCommittedValue!==m&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),f(g)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",g=>{var S;c.lastCommittedValue=null;const{data:m,target:v}=g,{value:b,selectionStart:y,selectionEnd:k}=v;let _=y,E=k;switch(g.inputType){case"deleteWordBackward":{const O=b.substring(0,y).match(/\w*[^\w]*$/);O&&(_-=O[0].length);break}case"deleteWordForward":{const O=b.substring(y).match(/^[^\w]*\w*/);O&&(E+=O[0].length);break}case"deleteContentBackward":y===k&&(_-=1);break;case"deleteContentForward":y===k&&(E+=1);break}g.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:m||"",willCommit:!1,selStart:_,selEnd:E}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(u&&n.addEventListener("blur",u),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${g}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Hoe extends iu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Uoe extends iu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Mc.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=lm,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const d of this._getElementsByName(o,n)){const c=l&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=c),e.setValue(d.id,{value:c})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class LN extends iu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Mc.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=lm,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const d of this._getElementsByName(o,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:d=>{const c=a===d.detail.value;for(const u of this._getElementsByName(d.target.name)){const f=c&&u.id===n;u.domElement&&(u.domElement.checked=f),e.setValue(u.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Boe extends PN{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class $oe extends iu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Mc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=lm;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const u=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===u});for(const c of this.data.options){const u=document.createElement("option");u.textContent=c.displayValue,u.value=c.exportValue,n.value.includes(c.exportValue)&&(u.setAttribute("selected",!0),s=!1),i.append(u)}let a=null;if(s){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),a=()=>{c.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=c=>{const u=c?"value":"textContent",{options:f,multiple:g}=i;return g?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[u]):f.selectedIndex===-1?null:f[f.selectedIndex][u]};let l=o(!1);const d=c=>{const u=c.target.options;return Array.prototype.map.call(u,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const u={value(f){a==null||a();const g=f.detail.value,m=new Set(Array.isArray(g)?g:[g]);for(const v of i.options)v.selected=m.has(v.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const g=i.options,m=f.detail.remove;g[m].selected=!1,i.remove(m),g.length>0&&Array.prototype.findIndex.call(g,b=>b.selected)===-1&&(g[0].selected=!0),e.setValue(t,{value:o(!0),items:d(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(f){const{index:g,displayValue:m,exportValue:v}=f.detail.insert,b=i.children[g],y=document.createElement("option");y.textContent=m,y.value=v,b?b.before(y):i.append(y),e.setValue(t,{value:o(!0),items:d(f)}),l=o(!1)},items(f){const{items:g}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of g){const{displayValue:v,exportValue:b}=m,y=document.createElement("option");y.textContent=v,y.value=b,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:d(f)}),l=o(!1)},indices(f){const g=new Set(f.detail.indices);for(const m of f.target.options)m.selected=g.has(m.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(u,c)}),i.addEventListener("input",c=>{var g;const u=o(!0),f=o(!1);e.setValue(t,{value:u}),c.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:u,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class vw extends Cr{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Cr._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new zoe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${zx}${n}`).join(",")),this.container}}var bf,Db,Rb,yf,Yd,vr,Ja,kf,fg,hg,_f,Qa,Es,eo,pg,to,gg,Xd,Zd,Wt,pv,bw,FN,VN,HN,UN,gv,mv,yw;class zoe{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:d,parentRect:c,open:u}){I(this,Wt);I(this,bf,j(this,Wt,HN).bind(this));I(this,Db,j(this,Wt,yw).bind(this));I(this,Rb,j(this,Wt,mv).bind(this));I(this,yf,j(this,Wt,gv).bind(this));I(this,Yd,null);I(this,vr,null);I(this,Ja,null);I(this,kf,null);I(this,fg,null);I(this,hg,null);I(this,_f,null);I(this,Qa,!1);I(this,Es,null);I(this,eo,null);I(this,pg,null);I(this,to,null);I(this,gg,null);I(this,Xd,null);I(this,Zd,!1);var f;A(this,vr,e),A(this,gg,i),A(this,Ja,a),A(this,to,o),A(this,hg,l),A(this,Yd,t),A(this,pg,d),A(this,_f,c),A(this,fg,n),A(this,kf,Gx.toDateObject(s)),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",h(this,yf)),g.addEventListener("mouseenter",h(this,Rb)),g.addEventListener("mouseleave",h(this,Db)),g.classList.add("popupTriggerArea");for(const g of n)(f=g.container)==null||f.addEventListener("keydown",h(this,bf));h(this,vr).hidden=!0,u&&j(this,Wt,gv).call(this)}render(){if(h(this,Es))return;const e=A(this,Es,document.createElement("div"));if(e.className="popup",h(this,Yd)){const s=e.style.outlineColor=Ve.makeHexColor(...h(this,Yd));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Ve.makeHexColor(...h(this,Yd).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=h(this,gg),e.append(t),h(this,kf)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,kf).valueOf()})),t.append(s)}const i=h(this,Wt,pv);if(i)RN.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(h(this,Ja));e.append(s)}h(this,vr).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;h(this,Xd)||A(this,Xd,{contentsObj:h(this,Ja),richText:h(this,to)}),e&&A(this,eo,null),t&&(A(this,to,j(this,Wt,VN).call(this,t)),A(this,Ja,null)),(n=h(this,Es))==null||n.remove(),A(this,Es,null)}resetEdited(){var e;h(this,Xd)&&({contentsObj:$n(this,Ja)._,richText:$n(this,to)._}=h(this,Xd),A(this,Xd,null),(e=h(this,Es))==null||e.remove(),A(this,Es,null),A(this,eo,null))}forceHide(){A(this,Zd,this.isVisible),h(this,Zd)&&(h(this,vr).hidden=!0)}maybeShow(){h(this,Zd)&&(h(this,Es)||j(this,Wt,mv).call(this),A(this,Zd,!1),h(this,vr).hidden=!1)}get isVisible(){return h(this,vr).hidden===!1}}bf=new WeakMap,Db=new WeakMap,Rb=new WeakMap,yf=new WeakMap,Yd=new WeakMap,vr=new WeakMap,Ja=new WeakMap,kf=new WeakMap,fg=new WeakMap,hg=new WeakMap,_f=new WeakMap,Qa=new WeakMap,Es=new WeakMap,eo=new WeakMap,pg=new WeakMap,to=new WeakMap,gg=new WeakMap,Xd=new WeakMap,Zd=new WeakMap,Wt=new WeakSet,pv=function(){const e=h(this,to),t=h(this,Ja);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&h(this,to).html||null},bw=function(){var e,t,n;return((n=(t=(e=h(this,Wt,pv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},FN=function(){var e,t,n;return((n=(t=(e=h(this,Wt,pv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},VN=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:h(this,Wt,FN),fontSize:h(this,Wt,bw)?`calc(${h(this,Wt,bw)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n},HN=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&h(this,Qa))&&j(this,Wt,gv).call(this)},UN=function(){if(h(this,eo)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=h(this,hg);let a=!!h(this,_f),o=a?h(this,_f):h(this,pg);for(const m of h(this,fg))if(!o||Ve.intersect(m.data.rect,o)!==null){o=m.data.rect,a=!0;break}const l=Ve.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=a?o[2]-o[0]+5:0,u=l[0]+c,f=l[1];A(this,eo,[100*(u-i)/t,100*(f-s)/n]);const{style:g}=h(this,vr);g.left=`${h(this,eo)[0]}%`,g.top=`${h(this,eo)[1]}%`},gv=function(){A(this,Qa,!h(this,Qa)),h(this,Qa)?(j(this,Wt,mv).call(this),h(this,vr).addEventListener("click",h(this,yf)),h(this,vr).addEventListener("keydown",h(this,bf))):(j(this,Wt,yw).call(this),h(this,vr).removeEventListener("click",h(this,yf)),h(this,vr).removeEventListener("keydown",h(this,bf)))},mv=function(){h(this,Es)||this.render(),this.isVisible?h(this,Qa)&&h(this,vr).classList.add("focused"):(j(this,Wt,UN).call(this),h(this,vr).hidden=!1,h(this,vr).style.zIndex=parseInt(h(this,vr).style.zIndex)+1e3)},yw=function(){h(this,vr).classList.remove("focused"),!(h(this,Qa)||!this.isVisible)&&(h(this,vr).hidden=!0,h(this,vr).style.zIndex=parseInt(h(this,vr).style.zIndex)-1e3)};class BN extends Cr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=at.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mg;class Woe extends Cr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,mg,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:i}=Eo(t.rect),s=this.svgFactory.create(n,i,!0),a=A(this,mg,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,mg)}addHighlightArea(){this.container.classList.add("highlightArea")}}mg=new WeakMap;var vg;class Koe extends Cr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,vg,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:i}=Eo(t.rect),s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=A(this,vg,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,vg)}addHighlightArea(){this.container.classList.add("highlightArea")}}vg=new WeakMap;var bg;class Goe extends Cr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,bg,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:i}=Eo(t.rect),s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=A(this,bg,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,bg)}addHighlightArea(){this.container.classList.add("highlightArea")}}bg=new WeakMap;var yg;class $N extends Cr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,yg,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:s}}=this;if(!n)return this.container;const{width:a,height:o}=Eo(t),l=this.svgFactory.create(a,o,!0);let d=[];for(let u=0,f=n.length;u<f;u+=2){const g=n[u]-t[0],m=t[3]-n[u+1];d.push(`${g},${m}`)}d=d.join(" ");const c=A(this,yg,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",d),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,yg)}addHighlightArea(){this.container.classList.add("highlightArea")}}yg=new WeakMap;class qoe extends $N{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Yoe extends Cr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var kg;class tS extends Cr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});I(this,kg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?at.HIGHLIGHT:at.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:i,popupRef:s}}=this,{width:a,height:o}=Eo(t),l=this.svgFactory.create(a,o,!0);for(const d of n){let c=[];for(let f=0,g=d.length;f<g;f+=2){const m=d[f]-t[0],v=t[3]-d[f+1];c.push(`${m},${v}`)}c=c.join(" ");const u=this.svgFactory.createElement(this.svgElementName);h(this,kg).push(u),u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,kg)}addHighlightArea(){this.container.classList.add("highlightArea")}}kg=new WeakMap;class zN extends Cr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=at.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Xoe extends Cr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Zoe extends Cr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Joe extends Cr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class WN extends Cr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=at.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var _g,wg,kw;class Qoe extends Cr{constructor(t){var i;super(t,{isRenderable:!0});I(this,wg);I(this,_g,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",j(this,wg,kw).bind(this)),A(this,_g,i);const{isMac:s}=qn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&j(this,wg,kw).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return h(this,_g)}addHighlightArea(){this.container.classList.add("highlightArea")}}_g=new WeakMap,wg=new WeakSet,kw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Eg,Jd,Qd,xg,Fc,KN,_w,EO;let ele=(EO=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}){I(this,Fc);I(this,Eg,null);I(this,Jd,null);I(this,Qd,new Map);I(this,xg,null);this.div=e,A(this,Eg,t),A(this,Jd,n),A(this,xg,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return h(this,Qd).size>0}async render(e){var a;const{annotations:t}=e,n=this.div;Pc(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new eS,annotationStorage:e.annotationStorage||new Yx,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===Br.POPUP;if(l){const u=i.get(o.id);if(!u)continue;s.elements=u}else{const{width:u,height:f}=Eo(o.rect);if(u<=0||f<=0)continue}s.data=o;const d=Loe.create(s);if(!d.isRenderable)continue;if(!l&&o.popupRef){const u=i.get(o.popupRef);u?u.push(d):i.set(o.popupRef,[d])}const c=d.render();o.hidden&&(c.style.visibility="hidden"),await j(this,Fc,KN).call(this,c,o.id),d._isEditable&&(h(this,Qd).set(d.data.id,d),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(d))}j(this,Fc,_w).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Pc(t,{rotation:e.rotation}),j(this,Fc,_w).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Qd).values())}getEditableAnnotation(e){return h(this,Qd).get(e)}},Eg=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,xg=new WeakMap,Fc=new WeakSet,KN=async function(e,t){var a,o;const n=e.firstChild||e,i=n.id=`${zx}${t}`,s=await((a=h(this,xg))==null?void 0:a.getAriaAttributes(i));if(s)for(const[l,d]of s)n.setAttribute(l,d);this.div.append(e),(o=h(this,Eg))==null||o.moveElementInDOM(this.div,e,n,!1)},_w=function(){if(!h(this,Jd))return;const e=this.div;for(const[t,n]of h(this,Jd)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}h(this,Jd).clear()},EO);const Pm=/\r\n?|\n/g;var xs,_i,Sg,ec,wi,Hr,GN,qN,YN,vv,So,bv,yv,XN,Ew,ZN;const Zt=class Zt extends Ht{constructor(t){super({...t,name:"freeTextEditor"});I(this,Hr);I(this,xs);I(this,_i,"");I(this,Sg,`${this.id}-editor`);I(this,ec,null);I(this,wi);A(this,xs,t.color||Zt._defaultColor||Ht._defaultLineColor),A(this,wi,t.fontSize||Zt._defaultFontSize)}static get _keyboardManager(){const t=Zt.prototype,n=a=>a.isEmpty(),i=Nc.TRANSLATE_SMALL,s=Nc.TRANSLATE_BIG;return mt(this,"_keyboardManager",new om([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){Ht.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Ye.FREETEXT_SIZE:Zt._defaultFontSize=n;break;case Ye.FREETEXT_COLOR:Zt._defaultColor=n;break}}updateParams(t,n){switch(t){case Ye.FREETEXT_SIZE:j(this,Hr,GN).call(this,n);break;case Ye.FREETEXT_COLOR:j(this,Hr,qN).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ye.FREETEXT_SIZE,Zt._defaultFontSize],[Ye.FREETEXT_COLOR,Zt._defaultColor||Ht._defaultLineColor]]}get propertiesToUpdate(){return[[Ye.FREETEXT_SIZE,h(this,wi)],[Ye.FREETEXT_COLOR,h(this,xs)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Zt._internalPadding*t,-(Zt._internalPadding+h(this,wi))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(at.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),A(this,ec,new AbortController);const t=this._uiManager.combinedSignal(h(this,ec));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,Sg)),this._isDraggable=!0,(t=h(this,ec))==null||t.abort(),A(this,ec,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=h(this,_i),n=A(this,_i,j(this,Hr,YN).call(this).trimEnd());if(t===n)return;const i=s=>{if(A(this,_i,s),!s){this.remove();return}j(this,Hr,yv).call(this),this._uiManager.rebuild(this),j(this,Hr,vv).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),j(this,Hr,vv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Zt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,Sg)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${h(this,wi)}px * var(--scale-factor))`,i.color=h(this,xs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),pb(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,d]=this.getInitialTranslation();[l,d]=this.pageTranslationToScreen(l,d);const[c,u]=this.pageDimensions,[f,g]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=t+(o[0]-f)/c,v=n+this.height-(o[1]-g)/u;break;case 90:m=t+(o[0]-f)/c,v=n-(o[1]-g)/u,[l,d]=[d,-l];break;case 180:m=t-this.width+(o[0]-f)/c,v=n-(o[1]-g)/u,[l,d]=[-l,-d];break;case 270:m=t+(o[0]-f-this.height*u)/c,v=n+(o[1]-g-this.width*c)/u,[l,d]=[-d,l];break}this.setAt(m*s,v*a,l,d)}else this.setAt(t*s,n*a,this.width*s,this.height*a);j(this,Hr,yv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var m,v,b;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=j(m=Zt,So,Ew).call(m,n.getData("text")||"").replaceAll(Pm,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:d}=o,c=[],u=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(u.push(l.nodeValue.slice(d).replaceAll(Pm,"")),y!==this.editorDiv){let k=c;for(const _ of this.editorDiv.childNodes){if(_===y){k=u;continue}k.push(j(v=Zt,So,bv).call(v,_))}}c.push(l.nodeValue.slice(0,d).replaceAll(Pm,""))}else if(l===this.editorDiv){let y=c,k=0;for(const _ of this.editorDiv.childNodes)k++===d&&(y=u),y.push(j(b=Zt,So,bv).call(b,_))}A(this,_i,`${c.join(`
`)}${s}${u.join(`
`)}`),j(this,Hr,yv).call(this);const f=new Range;let g=c.reduce((y,k)=>y+k.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const k=y.nodeValue.length;if(g<=k){f.setStart(y,g),f.setEnd(y,g);break}g-=k}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,i){var o;let s=null;if(t instanceof BN){const{data:{defaultAppearanceData:{fontSize:l,fontColor:d},rect:c,rotation:u,id:f,popupRef:g},textContent:m,textPosition:v,parent:{page:{pageNumber:b}}}=t;if(!m||m.length===0)return null;s=t={annotationType:at.FREETEXT,color:Array.from(d),fontSize:l,value:m.join(`
`),position:v,pageIndex:b-1,rect:c.slice(0),rotation:u,id:f,deleted:!1,popupRef:g}}const a=await super.deserialize(t,n,i);return A(a,wi,t.fontSize),A(a,xs,Ve.makeHexColor(...t.color)),A(a,_i,j(o=Zt,So,Ew).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=s,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Zt._internalPadding*this.parentScale,i=this.getRect(n,n),s=Ht._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,xs)),a={annotationType:at.FREETEXT,color:s,fontSize:h(this,wi),value:j(this,Hr,XN).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!j(this,Hr,ZN).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${h(this,wi)}px * var(--scale-factor))`,i.color=h(this,xs),n.replaceChildren();for(const a of h(this,_i).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const s=Zt._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:h(this,_i)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};xs=new WeakMap,_i=new WeakMap,Sg=new WeakMap,ec=new WeakMap,wi=new WeakMap,Hr=new WeakSet,GN=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-h(this,wi))*this.parentScale),A(this,wi,s),j(this,Hr,vv).call(this)},i=h(this,wi);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},qN=function(t){const n=s=>{A(this,xs,this.editorDiv.style.color=s)},i=h(this,xs);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},YN=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(j(i=Zt,So,bv).call(i,s)),n=s);return t.join(`
`)},vv=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},So=new WeakSet,bv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Pm,"")},yv=function(){if(this.editorDiv.replaceChildren(),!!h(this,_i))for(const t of h(this,_i).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},XN=function(){return h(this,_i).replaceAll(" "," ")},Ew=function(t){return t.replaceAll(" "," ")},ZN=function(t){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},I(Zt,So),re(Zt,"_freeTextDefaultContent",""),re(Zt,"_internalPadding",0),re(Zt,"_defaultColor",null),re(Zt,"_defaultFontSize",10),re(Zt,"_type","freetext"),re(Zt,"_editorType",at.FREETEXT);let ww=Zt;class JN{toSVGPath(){tr("Abstract method `toSVGPath` must be implemented.")}get box(){tr("Abstract getter `box` must be implemented.")}serialize(e,t){tr("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){tr("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){tr("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Ei,Ss,wf,Ef,ca,ht,tc,rc,Tg,Ag,xf,Sf,vl,Og,Pb,Nb,Yr,Zh,QN,eM,tM,rM,nM,iM;const Ua=class Ua{constructor({x:e,y:t},n,i,s,a,o=0){I(this,Yr);I(this,Ei);I(this,Ss,[]);I(this,wf);I(this,Ef);I(this,ca,[]);I(this,ht,new Float64Array(18));I(this,tc);I(this,rc);I(this,Tg);I(this,Ag);I(this,xf);I(this,Sf);I(this,vl,[]);A(this,Ei,n),A(this,Sf,s*i),A(this,Ef,a),h(this,ht).set([NaN,NaN,NaN,NaN,e,t],6),A(this,wf,o),A(this,Ag,h(Ua,Og)*i),A(this,Tg,h(Ua,Nb)*i),A(this,xf,i),h(this,vl).push(e,t)}isEmpty(){return isNaN(h(this,ht)[8])}add({x:e,y:t}){var D;A(this,tc,e),A(this,rc,t);const[n,i,s,a]=h(this,Ei);let[o,l,d,c]=h(this,ht).subarray(8,12);const u=e-d,f=t-c,g=Math.hypot(u,f);if(g<h(this,Tg))return!1;const m=g-h(this,Ag),v=m/g,b=v*u,y=v*f;let k=o,_=l;o=d,l=c,d+=b,c+=y,(D=h(this,vl))==null||D.push(e,t);const E=-y/m,S=b/m,O=E*h(this,Sf),T=S*h(this,Sf);return h(this,ht).set(h(this,ht).subarray(2,8),0),h(this,ht).set([d+O,c+T],4),h(this,ht).set(h(this,ht).subarray(14,18),12),h(this,ht).set([d-O,c-T],16),isNaN(h(this,ht)[6])?(h(this,ca).length===0&&(h(this,ht).set([o+O,l+T],2),h(this,ca).push(NaN,NaN,NaN,NaN,(o+O-n)/s,(l+T-i)/a),h(this,ht).set([o-O,l-T],14),h(this,Ss).push(NaN,NaN,NaN,NaN,(o-O-n)/s,(l-T-i)/a)),h(this,ht).set([k,_,o,l,d,c],6),!this.isEmpty()):(h(this,ht).set([k,_,o,l,d,c],6),Math.abs(Math.atan2(_-l,k-o)-Math.atan2(y,b))<Math.PI/2?([o,l,d,c]=h(this,ht).subarray(2,6),h(this,ca).push(NaN,NaN,NaN,NaN,((o+d)/2-n)/s,((l+c)/2-i)/a),[o,l,k,_]=h(this,ht).subarray(14,18),h(this,Ss).push(NaN,NaN,NaN,NaN,((k+o)/2-n)/s,((_+l)/2-i)/a),!0):([k,_,o,l,d,c]=h(this,ht).subarray(0,6),h(this,ca).push(((k+5*o)/6-n)/s,((_+5*l)/6-i)/a,((5*o+d)/6-n)/s,((5*l+c)/6-i)/a,((o+d)/2-n)/s,((l+c)/2-i)/a),[d,c,o,l,k,_]=h(this,ht).subarray(12,18),h(this,Ss).push(((k+5*o)/6-n)/s,((_+5*l)/6-i)/a,((5*o+d)/6-n)/s,((5*l+c)/6-i)/a,((o+d)/2-n)/s,((l+c)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=h(this,ca),t=h(this,Ss);if(isNaN(h(this,ht)[6])&&!this.isEmpty())return j(this,Yr,QN).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);j(this,Yr,tM).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return j(this,Yr,eM).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,s,a){return new sM(e,t,n,i,s,a)}getOutlines(){var u;const e=h(this,ca),t=h(this,Ss),n=h(this,ht),[i,s,a,o]=h(this,Ei),l=new Float64Array((((u=h(this,vl))==null?void 0:u.length)??0)+2);for(let f=0,g=l.length-2;f<g;f+=2)l[f]=(h(this,vl)[f]-i)/a,l[f+1]=(h(this,vl)[f+1]-s)/o;if(l[l.length-2]=(h(this,tc)-i)/a,l[l.length-1]=(h(this,rc)-s)/o,isNaN(n[6])&&!this.isEmpty())return j(this,Yr,rM).call(this,l);const d=new Float64Array(h(this,ca).length+24+h(this,Ss).length);let c=e.length;for(let f=0;f<c;f+=2){if(isNaN(e[f])){d[f]=d[f+1]=NaN;continue}d[f]=e[f],d[f+1]=e[f+1]}c=j(this,Yr,iM).call(this,d,c);for(let f=t.length-6;f>=6;f-=6)for(let g=0;g<6;g+=2){if(isNaN(t[f+g])){d[c]=d[c+1]=NaN,c+=2;continue}d[c]=t[f+g],d[c+1]=t[f+g+1],c+=2}return j(this,Yr,nM).call(this,d,c),this.newFreeDrawOutline(d,l,h(this,Ei),h(this,xf),h(this,wf),h(this,Ef))}};Ei=new WeakMap,Ss=new WeakMap,wf=new WeakMap,Ef=new WeakMap,ca=new WeakMap,ht=new WeakMap,tc=new WeakMap,rc=new WeakMap,Tg=new WeakMap,Ag=new WeakMap,xf=new WeakMap,Sf=new WeakMap,vl=new WeakMap,Og=new WeakMap,Pb=new WeakMap,Nb=new WeakMap,Yr=new WeakSet,Zh=function(){const e=h(this,ht).subarray(4,6),t=h(this,ht).subarray(16,18),[n,i,s,a]=h(this,Ei);return[(h(this,tc)+(e[0]-t[0])/2-n)/s,(h(this,rc)+(e[1]-t[1])/2-i)/a,(h(this,tc)+(t[0]-e[0])/2-n)/s,(h(this,rc)+(t[1]-e[1])/2-i)/a]},QN=function(){const[e,t,n,i]=h(this,Ei),[s,a,o,l]=j(this,Yr,Zh).call(this);return`M${(h(this,ht)[2]-e)/n} ${(h(this,ht)[3]-t)/i} L${(h(this,ht)[4]-e)/n} ${(h(this,ht)[5]-t)/i} L${s} ${a} L${o} ${l} L${(h(this,ht)[16]-e)/n} ${(h(this,ht)[17]-t)/i} L${(h(this,ht)[14]-e)/n} ${(h(this,ht)[15]-t)/i} Z`},eM=function(e){const t=h(this,Ss);e.push(`L${t[4]} ${t[5]} Z`)},tM=function(e){const[t,n,i,s]=h(this,Ei),a=h(this,ht).subarray(4,6),o=h(this,ht).subarray(16,18),[l,d,c,u]=j(this,Yr,Zh).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-n)/s} L${l} ${d} L${c} ${u} L${(o[0]-t)/i} ${(o[1]-n)/s}`)},rM=function(e){const t=h(this,ht),[n,i,s,a]=h(this,Ei),[o,l,d,c]=j(this,Yr,Zh).call(this),u=new Float64Array(36);return u.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,d,c,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(u,e,h(this,Ei),h(this,xf),h(this,wf),h(this,Ef))},nM=function(e,t){const n=h(this,Ss);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},iM=function(e,t){const n=h(this,ht).subarray(4,6),i=h(this,ht).subarray(16,18),[s,a,o,l]=h(this,Ei),[d,c,u,f]=j(this,Yr,Zh).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,d,c,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},I(Ua,Og,8),I(Ua,Pb,2),I(Ua,Nb,h(Ua,Og)+h(Ua,Pb));let mb=Ua;var Tf,nc,ro,Cg,xi,jg,wr,ci,Jh,Qh,aM;class sM extends JN{constructor(t,n,i,s,a,o){super();I(this,ci);I(this,Tf);I(this,nc,null);I(this,ro);I(this,Cg);I(this,xi);I(this,jg);I(this,wr);A(this,wr,t),A(this,xi,n),A(this,Tf,i),A(this,jg,s),A(this,ro,a),A(this,Cg,o),j(this,ci,aM).call(this,o);const{x:l,y:d,width:c,height:u}=h(this,nc);for(let f=0,g=t.length;f<g;f+=2)t[f]=(t[f]-l)/c,t[f+1]=(t[f+1]-d)/u;for(let f=0,g=n.length;f<g;f+=2)n[f]=(n[f]-l)/c,n[f+1]=(n[f+1]-d)/u}toSVGPath(){const t=[`M${h(this,wr)[4]} ${h(this,wr)[5]}`];for(let n=6,i=h(this,wr).length;n<i;n+=6){if(isNaN(h(this,wr)[n])){t.push(`L${h(this,wr)[n+4]} ${h(this,wr)[n+5]}`);continue}t.push(`C${h(this,wr)[n]} ${h(this,wr)[n+1]} ${h(this,wr)[n+2]} ${h(this,wr)[n+3]} ${h(this,wr)[n+4]} ${h(this,wr)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,s],a){const o=i-t,l=s-n;let d,c;switch(a){case 0:d=j(this,ci,Jh).call(this,h(this,wr),t,s,o,-l),c=j(this,ci,Jh).call(this,h(this,xi),t,s,o,-l);break;case 90:d=j(this,ci,Qh).call(this,h(this,wr),t,n,o,l),c=j(this,ci,Qh).call(this,h(this,xi),t,n,o,l);break;case 180:d=j(this,ci,Jh).call(this,h(this,wr),i,n,-o,l),c=j(this,ci,Jh).call(this,h(this,xi),i,n,-o,l);break;case 270:d=j(this,ci,Qh).call(this,h(this,wr),i,s,-o,-l),c=j(this,ci,Qh).call(this,h(this,xi),i,s,-o,-l);break}return{outline:Array.from(d),points:[Array.from(c)]}}get box(){return h(this,nc)}newOutliner(t,n,i,s,a,o=0){return new mb(t,n,i,s,a,o)}getNewOutline(t,n){const{x:i,y:s,width:a,height:o}=h(this,nc),[l,d,c,u]=h(this,Tf),f=a*c,g=o*u,m=i*c+l,v=s*u+d,b=this.newOutliner({x:h(this,xi)[0]*f+m,y:h(this,xi)[1]*g+v},h(this,Tf),h(this,jg),t,h(this,Cg),n??h(this,ro));for(let y=2;y<h(this,xi).length;y+=2)b.add({x:h(this,xi)[y]*f+m,y:h(this,xi)[y+1]*g+v});return b.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Tf=new WeakMap,nc=new WeakMap,ro=new WeakMap,Cg=new WeakMap,xi=new WeakMap,jg=new WeakMap,wr=new WeakMap,ci=new WeakSet,Jh=function(t,n,i,s,a){const o=new Float64Array(t.length);for(let l=0,d=t.length;l<d;l+=2)o[l]=n+t[l]*s,o[l+1]=i+t[l+1]*a;return o},Qh=function(t,n,i,s,a){const o=new Float64Array(t.length);for(let l=0,d=t.length;l<d;l+=2)o[l]=n+t[l+1]*s,o[l+1]=i+t[l]*a;return o},aM=function(t){const n=h(this,wr);let i=n[4],s=n[5],a=i,o=s,l=i,d=s,c=i,u=s;const f=t?Math.max:Math.min;for(let y=6,k=n.length;y<k;y+=6){if(isNaN(n[y]))a=Math.min(a,n[y+4]),o=Math.min(o,n[y+5]),l=Math.max(l,n[y+4]),d=Math.max(d,n[y+5]),u<n[y+5]?(c=n[y+4],u=n[y+5]):u===n[y+5]&&(c=f(c,n[y+4]));else{const _=Ve.bezierBoundingBox(i,s,...n.slice(y,y+6));a=Math.min(a,_[0]),o=Math.min(o,_[1]),l=Math.max(l,_[2]),d=Math.max(d,_[3]),u<_[3]?(c=_[2],u=_[3]):u===_[3]&&(c=f(c,_[2]))}i=n[y+4],s=n[y+5]}const g=a-h(this,ro),m=o-h(this,ro),v=l-a+2*h(this,ro),b=d-o+2*h(this,ro);A(this,nc,{x:g,y:m,width:v,height:b,lastPoint:[c,u]})};var Ig,bl,Ts,Xn,oM,kv,lM,dM,xw;class dO{constructor(e,t=0,n=0,i=!0){I(this,Xn);I(this,Ig);I(this,bl,[]);I(this,Ts,[]);let s=1/0,a=-1/0,o=1/0,l=-1/0;const d=10**-4;for(const{x:b,y,width:k,height:_}of e){const E=Math.floor((b-t)/d)*d,S=Math.ceil((b+k+t)/d)*d,O=Math.floor((y-t)/d)*d,T=Math.ceil((y+_+t)/d)*d,C=[E,O,T,!0],D=[S,O,T,!1];h(this,bl).push(C,D),s=Math.min(s,E),a=Math.max(a,S),o=Math.min(o,O),l=Math.max(l,T)}const c=a-s+2*n,u=l-o+2*n,f=s-n,g=o-n,m=h(this,bl).at(i?-1:-2),v=[m[0],m[2]];for(const b of h(this,bl)){const[y,k,_]=b;b[0]=(y-f)/c,b[1]=(k-g)/u,b[2]=(_-g)/u}A(this,Ig,{x:f,y:g,width:c,height:u,lastPoint:v})}getOutlines(){h(this,bl).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of h(this,bl))t[3]?(e.push(...j(this,Xn,xw).call(this,t)),j(this,Xn,lM).call(this,t)):(j(this,Xn,dM).call(this,t),e.push(...j(this,Xn,xw).call(this,t)));return j(this,Xn,oM).call(this,e)}}Ig=new WeakMap,bl=new WeakMap,Ts=new WeakMap,Xn=new WeakSet,oM=function(e){const t=[],n=new Set;for(const a of e){const[o,l,d]=a;t.push([o,l,a],[o,d,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],d=t[a+1][2];l.push(d),d.push(l),n.add(l),n.add(d)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,d,c,u]=a;n.delete(a);let f=o,g=l;for(s=[o,d],i.push(s);;){let m;if(n.has(c))m=c;else if(n.has(u))m=u;else break;n.delete(m),[o,l,d,c,u]=m,f!==o&&(s.push(f,g,o,g===l?l:d),f=o),g=g===l?d:l}s.push(f,g)}return new tle(i,h(this,Ig))},kv=function(e){const t=h(this,Ts);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},lM=function([,e,t]){const n=j(this,Xn,kv).call(this,e);h(this,Ts).splice(n,0,[e,t])},dM=function([,e,t]){const n=j(this,Xn,kv).call(this,e);for(let i=n;i<h(this,Ts).length;i++){const[s,a]=h(this,Ts)[i];if(s!==e)break;if(s===e&&a===t){h(this,Ts).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=h(this,Ts)[i];if(s!==e)break;if(s===e&&a===t){h(this,Ts).splice(i,1);return}}},xw=function(e){const[t,n,i]=e,s=[[t,n,i]],a=j(this,Xn,kv).call(this,i);for(let o=0;o<a;o++){const[l,d]=h(this,Ts)[o];for(let c=0,u=s.length;c<u;c++){const[,f,g]=s[c];if(!(d<=f||g<=l)){if(f>=l){if(g>d)s[c][1]=d;else{if(u===1)return[];s.splice(c,1),c--,u--}continue}s[c][2]=l,g>d&&s.push([t,d,g])}}}return s};var Dg,Af;class tle extends JN{constructor(t,n){super();I(this,Dg);I(this,Af);A(this,Af,t),A(this,Dg,n)}toSVGPath(){const t=[];for(const n of h(this,Af)){let[i,s]=n;t.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,s],a){const o=[],l=i-t,d=s-n;for(const c of h(this,Af)){const u=new Array(c.length);for(let f=0;f<c.length;f+=2)u[f]=t+c[f]*l,u[f+1]=s-c[f+1]*d;o.push(u)}return o}get box(){return h(this,Dg)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Dg=new WeakMap,Af=new WeakMap;class Sw extends mb{newFreeDrawOutline(e,t,n,i,s,a){return new rle(e,t,n,i,s,a)}get classNamesForDrawing(){return["highlight","free"]}}class rle extends sM{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,i,s,a=0){return new Sw(e,t,n,i,s,a)}}var As,ic,Of,Wr,Rg,Cf,Pg,Ng,yl,Os,jf,Mg,zt,Tw,Aw,Ow,dd,cM,Yo;const ri=class ri{constructor({editor:e=null,uiManager:t=null}){I(this,zt);I(this,As,null);I(this,ic,null);I(this,Of);I(this,Wr,null);I(this,Rg,!1);I(this,Cf,!1);I(this,Pg,null);I(this,Ng);I(this,yl,null);I(this,Os,null);I(this,jf);var n;e?(A(this,Cf,!1),A(this,jf,Ye.HIGHLIGHT_COLOR),A(this,Pg,e)):(A(this,Cf,!0),A(this,jf,Ye.HIGHLIGHT_DEFAULT_COLOR)),A(this,Os,(e==null?void 0:e._uiManager)||t),A(this,Ng,h(this,Os)._eventBus),A(this,Of,(e==null?void 0:e.color)||((n=h(this,Os))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),h(ri,Mg)||A(ri,Mg,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return mt(this,"_keyboardManager",new om([[["Escape","mac+Escape"],ri.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ri.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ri.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ri.prototype._moveToPrevious],[["Home","mac+Home"],ri.prototype._moveToBeginning],[["End","mac+End"],ri.prototype._moveToEnd]]))}renderButton(){const e=A(this,As,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=h(this,Os)._signal;e.addEventListener("click",j(this,zt,dd).bind(this),{signal:t}),e.addEventListener("keydown",j(this,zt,Ow).bind(this),{signal:t});const n=A(this,ic,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=h(this,Of),e.append(n),e}renderMainDropdown(){const e=A(this,Wr,j(this,zt,Tw).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===h(this,As)){j(this,zt,dd).call(this,e);return}const t=e.target.getAttribute("data-color");t&&j(this,zt,Aw).call(this,t,e)}_moveToNext(e){var t,n;if(!h(this,zt,Yo)){j(this,zt,dd).call(this,e);return}if(e.target===h(this,As)){(t=h(this,Wr).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=h(this,Wr))==null?void 0:t.firstChild)||e.target===h(this,As)){h(this,zt,Yo)&&this._hideDropdownFromKeyboard();return}h(this,zt,Yo)||j(this,zt,dd).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!h(this,zt,Yo)){j(this,zt,dd).call(this,e);return}(t=h(this,Wr).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!h(this,zt,Yo)){j(this,zt,dd).call(this,e);return}(t=h(this,Wr).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=h(this,Wr))==null||e.classList.add("hidden"),(t=h(this,yl))==null||t.abort(),A(this,yl,null)}_hideDropdownFromKeyboard(){var e;if(!h(this,Cf)){if(!h(this,zt,Yo)){(e=h(this,Pg))==null||e.unselect();return}this.hideDropdown(),h(this,As).focus({preventScroll:!0,focusVisible:h(this,Rg)})}}updateColor(e){if(h(this,ic)&&(h(this,ic).style.backgroundColor=e),!h(this,Wr))return;const t=h(this,Os).highlightColors.values();for(const n of h(this,Wr).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=h(this,As))==null||e.remove(),A(this,As,null),A(this,ic,null),(t=h(this,Wr))==null||t.remove(),A(this,Wr,null)}};As=new WeakMap,ic=new WeakMap,Of=new WeakMap,Wr=new WeakMap,Rg=new WeakMap,Cf=new WeakMap,Pg=new WeakMap,Ng=new WeakMap,yl=new WeakMap,Os=new WeakMap,jf=new WeakMap,Mg=new WeakMap,zt=new WeakSet,Tw=function(){const e=document.createElement("div"),t=h(this,Os)._signal;e.addEventListener("contextmenu",ds,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of h(this,Os).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",h(ri,Mg)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===h(this,Of)),s.addEventListener("click",j(this,zt,Aw).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",j(this,zt,Ow).bind(this),{signal:t}),e},Aw=function(e,t){t.stopPropagation(),h(this,Ng).dispatch("switchannotationeditorparams",{source:this,type:h(this,jf),value:e})},Ow=function(e){ri._keyboardManager.exec(this,e)},dd=function(e){if(h(this,zt,Yo)){this.hideDropdown();return}if(A(this,Rg,e.detail===0),h(this,yl)||(A(this,yl,new AbortController),window.addEventListener("pointerdown",j(this,zt,cM).bind(this),{signal:h(this,Os).combinedSignal(h(this,yl))})),h(this,Wr)){h(this,Wr).classList.remove("hidden");return}const t=A(this,Wr,j(this,zt,Tw).call(this));h(this,As).append(t)},cM=function(e){var t;(t=h(this,Wr))!=null&&t.contains(e.target)||this.hideDropdown()},Yo=function(){return h(this,Wr)&&!h(this,Wr).classList.contains("hidden")},I(ri,Mg,null);let vb=ri;var If,Lg,no,sc,Df,Qi,Fg,Vg,ac,Cs,An,si,Rf,io,Kr,Pf,es,Hg,nt,Cw,_v,uM,fM,hM,jw,cd,is,Au,pM,wv,ep,gM,mM,vM,bM,yM;const Tt=class Tt extends Ht{constructor(t){super({...t,name:"highlightEditor"});I(this,nt);I(this,If,null);I(this,Lg,0);I(this,no);I(this,sc,null);I(this,Df,null);I(this,Qi,null);I(this,Fg,null);I(this,Vg,0);I(this,ac,null);I(this,Cs,null);I(this,An,null);I(this,si,!1);I(this,Rf,null);I(this,io);I(this,Kr,null);I(this,Pf,"");I(this,es);I(this,Hg,"");this.color=t.color||Tt._defaultColor,A(this,es,t.thickness||Tt._defaultThickness),A(this,io,t.opacity||Tt._defaultOpacity),A(this,no,t.boxes||null),A(this,Hg,t.methodOfCreation||""),A(this,Pf,t.text||""),this._isDraggable=!1,t.highlightId>-1?(A(this,si,!0),j(this,nt,_v).call(this,t),j(this,nt,cd).call(this)):h(this,no)&&(A(this,If,t.anchorNode),A(this,Lg,t.anchorOffset),A(this,Fg,t.focusNode),A(this,Vg,t.focusOffset),j(this,nt,Cw).call(this),j(this,nt,cd).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Tt.prototype;return mt(this,"_keyboardManager",new om([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,si)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,es),methodOfCreation:h(this,Hg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Ht.initialize(t,n),Tt._defaultColor||(Tt._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Ye.HIGHLIGHT_DEFAULT_COLOR:Tt._defaultColor=n;break;case Ye.HIGHLIGHT_THICKNESS:Tt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return h(this,Rf)}updateParams(t,n){switch(t){case Ye.HIGHLIGHT_COLOR:j(this,nt,uM).call(this,n);break;case Ye.HIGHLIGHT_THICKNESS:j(this,nt,fM).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ye.HIGHLIGHT_DEFAULT_COLOR,Tt._defaultColor],[Ye.HIGHLIGHT_THICKNESS,Tt._defaultThickness]]}get propertiesToUpdate(){return[[Ye.HIGHLIGHT_COLOR,this.color||Tt._defaultColor],[Ye.HIGHLIGHT_THICKNESS,h(this,es)||Tt._defaultThickness],[Ye.HIGHLIGHT_FREE,h(this,si)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(A(this,Df,new vb({editor:this})),t.addColorPicker(h(this,Df))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(j(this,nt,ep).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,j(this,nt,ep).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){j(this,nt,jw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(j(this,nt,cd).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?j(this,nt,jw).call(this):t&&(j(this,nt,cd).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,a,o;const{drawLayer:n}=this.parent;let i;h(this,si)?(t=(t-this.rotation+360)%360,i=j(s=Tt,is,Au).call(s,h(this,Cs).box,t)):i=j(a=Tt,is,Au).call(a,this,t),n.rotate(h(this,An),t),n.rotate(h(this,Kr),t),n.updateBox(h(this,An),i),n.updateBox(h(this,Kr),j(o=Tt,is,Au).call(o,h(this,Qi).box,t))}render(){if(this.div)return this.div;const t=super.render();h(this,Pf)&&(t.setAttribute("aria-label",h(this,Pf)),t.setAttribute("role","mark")),h(this,si)?t.classList.add("free"):this.div.addEventListener("keydown",j(this,nt,pM).bind(this),{signal:this._uiManager._signal});const n=A(this,ac,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=h(this,sc);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),pb(this,h(this,ac),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,Kr),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,Kr),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:j(this,nt,wv).call(this,!0);break;case 1:case 3:j(this,nt,wv).call(this,!1);break}}select(){var t,n;super.select(),h(this,Kr)&&((t=this.parent)==null||t.drawLayer.removeClass(h(this,Kr),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(h(this,Kr),"selected"))}unselect(){var t;super.unselect(),h(this,Kr)&&((t=this.parent)==null||t.drawLayer.removeClass(h(this,Kr),"selected"),h(this,si)||j(this,nt,wv).call(this,!1))}get _mustFixPosition(){return!h(this,si)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(h(this,An),t),this.parent.drawLayer.show(h(this,Kr),t))}static startHighlighting(t,n,{target:i,x:s,y:a}){const{x:o,y:l,width:d,height:c}=i.getBoundingClientRect(),u=new AbortController,f=t.combinedSignal(u),g=v=>{v.preventDefault(),v.stopPropagation()},m=v=>{u.abort(),j(this,is,bM).call(this,t,v)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",g,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",ds,{signal:f}),i.addEventListener("pointermove",j(this,is,vM).bind(this,t),{signal:f}),this._freeHighlight=new Sw({x:s,y:a},[o,l,d,c],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,n,i){var v,b,y,k;let s=null;if(t instanceof zN){const{data:{quadPoints:_,rect:E,rotation:S,id:O,color:T,opacity:C,popupRef:D},parent:{page:{pageNumber:R}}}=t;s=t={annotationType:at.HIGHLIGHT,color:Array.from(T),opacity:C,quadPoints:_,boxes:null,pageIndex:R-1,rect:E.slice(0),rotation:S,id:O,deleted:!1,popupRef:D}}else if(t instanceof tS){const{data:{inkLists:_,rect:E,rotation:S,id:O,color:T,borderStyle:{rawWidth:C},popupRef:D},parent:{page:{pageNumber:R}}}=t;s=t={annotationType:at.HIGHLIGHT,color:Array.from(T),thickness:C,inkLists:_,boxes:null,pageIndex:R-1,rect:E.slice(0),rotation:S,id:O,deleted:!1,popupRef:D}}const{color:a,quadPoints:o,inkLists:l,opacity:d}=t,c=await super.deserialize(t,n,i);c.color=Ve.makeHexColor(...a),A(c,io,d||1),l&&A(c,es,t.thickness),c.annotationElementId=t.id||null,c._initialData=s;const[u,f]=c.pageDimensions,[g,m]=c.pageTranslation;if(o){const _=A(c,no,[]);for(let E=0;E<o.length;E+=8)_.push({x:(o[E]-g)/u,y:1-(o[E+1]-m)/f,width:(o[E+2]-o[E])/u,height:(o[E+1]-o[E+5])/f});j(v=c,nt,Cw).call(v),j(b=c,nt,cd).call(b),c.rotate(c.rotation)}else if(l){A(c,si,!0);const _=l[0],E={x:_[0]-g,y:f-(_[1]-m)},S=new Sw(E,[0,0,u,f],1,h(c,es)/2,!0,.001);for(let C=0,D=_.length;C<D;C+=2)E.x=_[C]-g,E.y=f-(_[C+1]-m),S.add(E);const{id:O,clipPathId:T}=n.drawLayer.draw(S,c.color,c._defaultOpacity,!0);j(y=c,nt,_v).call(y,{highlightOutlines:S.getOutlines(),highlightId:O,clipPathId:T}),j(k=c,nt,cd).call(k)}return c}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=Ht._colorManager.convert(this.color),s={annotationType:at.HIGHLIGHT,color:i,opacity:h(this,io),thickness:h(this,es),quadPoints:j(this,nt,gM).call(this),outlines:j(this,nt,mM).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:j(this,nt,ep).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!j(this,nt,yM).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};If=new WeakMap,Lg=new WeakMap,no=new WeakMap,sc=new WeakMap,Df=new WeakMap,Qi=new WeakMap,Fg=new WeakMap,Vg=new WeakMap,ac=new WeakMap,Cs=new WeakMap,An=new WeakMap,si=new WeakMap,Rf=new WeakMap,io=new WeakMap,Kr=new WeakMap,Pf=new WeakMap,es=new WeakMap,Hg=new WeakMap,nt=new WeakSet,Cw=function(){const t=new dO(h(this,no),.001);A(this,Cs,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,Cs).box;const n=new dO(h(this,no),.0025,.001,this._uiManager.direction==="ltr");A(this,Qi,n.getOutlines());const{lastPoint:i}=h(this,Qi).box;A(this,Rf,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},_v=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var u,f;if(A(this,Cs,t),A(this,Qi,t.getNewOutline(h(this,es)/2+1.5,.0025)),n>=0)A(this,An,n),A(this,sc,i),this.parent.drawLayer.finalizeLine(n,t),A(this,Kr,this.parent.drawLayer.drawOutline(h(this,Qi)));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,An),t),this.parent.drawLayer.updateBox(h(this,An),j(u=Tt,is,Au).call(u,h(this,Cs).box,(g-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,Kr),h(this,Qi)),this.parent.drawLayer.updateBox(h(this,Kr),j(f=Tt,is,Au).call(f,h(this,Qi).box,g))}const{x:a,y:o,width:l,height:d}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=d;break;case 90:{const[g,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*m/g,this.height=d*g/m;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=d;break;case 270:{const[g,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*m/g,this.height=d*g/m;break}}const{lastPoint:c}=h(this,Qi).box;A(this,Rf,[(c[0]-a)/l,(c[1]-o)/d])},uM=function(t){const n=(a,o)=>{var l,d,c;this.color=a,(l=this.parent)==null||l.drawLayer.changeColor(h(this,An),a),(d=h(this,Df))==null||d.updateColor(a),A(this,io,o),(c=this.parent)==null||c.drawLayer.changeOpacity(h(this,An),o)},i=this.color,s=h(this,io);this.addCommands({cmd:n.bind(this,t,Tt._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},fM=function(t){const n=h(this,es),i=s=>{A(this,es,s),j(this,nt,hM).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},hM=function(t){if(!h(this,si))return;j(this,nt,_v).call(this,{highlightOutlines:h(this,Cs).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},jw=function(){h(this,An)===null||!this.parent||(this.parent.drawLayer.remove(h(this,An)),A(this,An,null),this.parent.drawLayer.remove(h(this,Kr)),A(this,Kr,null))},cd=function(t=this.parent){h(this,An)===null&&({id:$n(this,An)._,clipPathId:$n(this,sc)._}=t.drawLayer.draw(h(this,Cs),this.color,h(this,io)),A(this,Kr,t.drawLayer.drawOutline(h(this,Qi))),h(this,ac)&&(h(this,ac).style.clipPath=h(this,sc)))},is=new WeakSet,Au=function({x:t,y:n,width:i,height:s},a){switch(a){case 90:return{x:1-n-s,y:t,width:s,height:i};case 180:return{x:1-t-i,y:1-n-s,width:i,height:s};case 270:return{x:n,y:1-t-i,width:s,height:i}}return{x:t,y:n,width:i,height:s}},pM=function(t){Tt._keyboardManager.exec(this,t)},wv=function(t){if(!h(this,If))return;const n=window.getSelection();t?n.setPosition(h(this,If),h(this,Lg)):n.setPosition(h(this,Fg),h(this,Vg))},ep=function(){return h(this,si)?this.rotation:0},gM=function(){if(h(this,si))return null;const[t,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=h(this,no),o=new Float32Array(a.length*8);let l=0;for(const{x:d,y:c,width:u,height:f}of a){const g=d*t+i,m=(1-c-f)*n+s;o[l]=o[l+4]=g,o[l+1]=o[l+3]=m,o[l+2]=o[l+6]=g+u*t,o[l+5]=o[l+7]=m+f*n,l+=8}return o},mM=function(t){return h(this,Cs).serialize(t,j(this,nt,ep).call(this))},vM=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},bM=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},yM=function(t){const{color:n}=this._initialData;return t.color.some((i,s)=>i!==n[s])},I(Tt,is),re(Tt,"_defaultColor",null),re(Tt,"_defaultOpacity",1),re(Tt,"_defaultThickness",12),re(Tt,"_type","highlight"),re(Tt,"_editorType",at.HIGHLIGHT),re(Tt,"_freeHighlightId",-1),re(Tt,"_freeHighlight",null),re(Tt,"_freeHighlightClipId","");let bb=Tt;var oc,lc,ua,so,ts,dc,cc,uc,ao,Nf,fc,hc,kl,me,kM,_M,wM,EM,Dw,xM,Rw,SM,TM,AM,OM,CM,ud,Pw,Nw,Mw,Ev,xv,Ou,Lw,Sv,Ro,jM,Fw,IM,DM,Vw,Tv,tp;const ar=class ar extends Ht{constructor(t){super({...t,name:"inkEditor"});I(this,me);I(this,oc,0);I(this,lc,0);I(this,ua,null);I(this,so,new Path2D);I(this,ts,!1);I(this,dc,null);I(this,cc,!1);I(this,uc,!1);I(this,ao,null);I(this,Nf,null);I(this,fc,0);I(this,hc,0);I(this,kl,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){Ht.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case Ye.INK_THICKNESS:ar._defaultThickness=n;break;case Ye.INK_COLOR:ar._defaultColor=n;break;case Ye.INK_OPACITY:ar._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case Ye.INK_THICKNESS:j(this,me,kM).call(this,n);break;case Ye.INK_COLOR:j(this,me,_M).call(this,n);break;case Ye.INK_OPACITY:j(this,me,wM).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ye.INK_THICKNESS,ar._defaultThickness],[Ye.INK_COLOR,ar._defaultColor||Ht._defaultLineColor],[Ye.INK_OPACITY,Math.round(ar._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ye.INK_THICKNESS,this.thickness||ar._defaultThickness],[Ye.INK_COLOR,this.color||ar._defaultColor||Ht._defaultLineColor],[Ye.INK_OPACITY,Math.round(100*(this.opacity??ar._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(j(this,me,Ev).call(this),j(this,me,xv).call(this)),this.isAttachedToDOM||(this.parent.add(this),j(this,me,Ou).call(this)),j(this,me,tp).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,ua)&&(clearTimeout(h(this,ua)),A(this,ua,null)),(t=h(this,ao))==null||t.disconnect(),A(this,ao,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,i=this.width*t,s=this.height*n;this.setDimensions(i,s)}enableEditMode(){h(this,ts)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,j(this,me,Pw).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),j(this,me,Nw).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,ts)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),A(this,ts,!0),this.div.classList.add("disabled"),j(this,me,tp).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||h(this,ts)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),j(this,me,xM).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),j(this,me,Rw).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),j(this,me,Mw).call(this,t)}canvasPointerleave(t){j(this,me,Mw).call(this,t)}get isResizable(){return!this.isEmpty()&&h(this,ts)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,a,o]=j(this,me,EM).call(this);if(this.setAt(i,s,0,0),this.setDims(a,o),j(this,me,Ev).call(this),this.width){const[l,d]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*d),this.setAt(t*l,n*d,this.width*l,this.height*d),A(this,uc,!0),j(this,me,Ou).call(this),this.setDims(this.width*l,this.height*d),j(this,me,ud).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return j(this,me,xv).call(this),this.div}setDimensions(t,n){const i=Math.round(t),s=Math.round(n);if(h(this,fc)===i&&h(this,hc)===s)return;A(this,fc,i),A(this,hc,s),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=n/o,this.fixAndSetPosition(),h(this,ts)&&j(this,me,Lw).call(this,t,n),j(this,me,Ou).call(this),j(this,me,ud).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,n,i){var b,y,k;if(t instanceof tS)return null;const s=await super.deserialize(t,n,i);s.thickness=t.thickness,s.color=Ve.makeHexColor(...t.color),s.opacity=t.opacity;const[a,o]=s.pageDimensions,l=s.width*a,d=s.height*o,c=s.parentScale,u=t.thickness/2;A(s,ts,!0),A(s,fc,Math.round(l)),A(s,hc,Math.round(d));const{paths:f,rect:g,rotation:m}=t;for(let{bezier:_}of f){_=j(b=ar,Ro,IM).call(b,_,g,m);const E=[];s.paths.push(E);let S=c*(_[0]-u),O=c*(_[1]-u);for(let C=2,D=_.length;C<D;C+=6){const R=c*(_[C]-u),L=c*(_[C+1]-u),P=c*(_[C+2]-u),F=c*(_[C+3]-u),H=c*(_[C+4]-u),N=c*(_[C+5]-u);E.push([[S,O],[R,L],[P,F],[H,N]]),S=H,O=N}const T=j(this,Ro,jM).call(this,E);s.bezierPath2D.push(T)}const v=j(y=s,me,Vw).call(y);return A(s,lc,Math.max(Ht.MIN_SIZE,v[2]-v[0])),A(s,oc,Math.max(Ht.MIN_SIZE,v[3]-v[1])),j(k=s,me,Lw).call(k,l,d),s}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=Ht._colorManager.convert(this.ctx.strokeStyle);return{annotationType:at.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:j(this,me,DM).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};oc=new WeakMap,lc=new WeakMap,ua=new WeakMap,so=new WeakMap,ts=new WeakMap,dc=new WeakMap,cc=new WeakMap,uc=new WeakMap,ao=new WeakMap,Nf=new WeakMap,fc=new WeakMap,hc=new WeakMap,kl=new WeakMap,me=new WeakSet,kM=function(t){const n=s=>{this.thickness=s,j(this,me,tp).call(this)},i=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},_M=function(t){const n=s=>{this.color=s,j(this,me,ud).call(this)},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wM=function(t){const n=s=>{this.opacity=s,j(this,me,ud).call(this)};t/=100;const i=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ye.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},EM=function(){const{parentRotation:t,parentDimensions:[n,i]}=this;switch(t){case 90:return[0,i,i,n];case 180:return[n,i,n,i];case 270:return[n,0,i,n];default:return[0,0,n,i]}},Dw=function(){const{ctx:t,color:n,opacity:i,thickness:s,parentScale:a,scaleFactor:o}=this;t.lineWidth=s*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${xae(i)}`},xM=function(t,n){this.canvas.addEventListener("contextmenu",ds,{signal:this._uiManager._signal}),j(this,me,Nw).call(this),A(this,dc,new AbortController);const i=this._uiManager.combinedSignal(h(this,dc));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,h(this,uc)||(A(this,uc,!0),j(this,me,Ou).call(this),this.thickness||(this.thickness=ar._defaultThickness),this.color||(this.color=ar._defaultColor||Ht._defaultLineColor),this.opacity??(this.opacity=ar._defaultOpacity)),this.currentPath.push([t,n]),A(this,cc,!1),j(this,me,Dw).call(this),A(this,kl,()=>{j(this,me,AM).call(this),h(this,kl)&&window.requestAnimationFrame(h(this,kl))}),window.requestAnimationFrame(h(this,kl))},Rw=function(t,n){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===i&&n===s)return;const a=this.currentPath;let o=h(this,so);if(a.push([t,n]),A(this,cc,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,n);return}a.length===3&&(A(this,so,o=new Path2D),o.moveTo(...a[0])),j(this,me,OM).call(this,o,...a.at(-3),...a.at(-2),t,n)},SM=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);h(this,so).lineTo(...t)},TM=function(t,n){A(this,kl,null),t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),j(this,me,Rw).call(this,t,n),j(this,me,SM).call(this);let i;if(this.currentPath.length!==1)i=j(this,me,CM).call(this);else{const d=[t,n];i=[[d,d.slice(),d.slice(),d]]}const s=h(this,so),a=this.currentPath;this.currentPath=[],A(this,so,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(j(this,me,Ev).call(this),j(this,me,xv).call(this)),j(this,me,tp).call(this))};this.addCommands({cmd:o,undo:l,mustExec:!0})},AM=function(){if(!h(this,cc))return;A(this,cc,!1);const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),i=n.map(o=>o[0]),s=n.map(o=>o[1]);Math.min(...i)-t,Math.max(...i)+t,Math.min(...s)-t,Math.max(...s)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(h(this,so)),a.restore()},OM=function(t,n,i,s,a,o,l){const d=(n+s)/2,c=(i+a)/2,u=(s+o)/2,f=(a+l)/2;t.bezierCurveTo(d+2*(s-d)/3,c+2*(a-c)/3,u+2*(s-u)/3,f+2*(a-f)/3,u,f)},CM=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let i,[s,a]=t[0];for(i=1;i<t.length-2;i++){const[g,m]=t[i],[v,b]=t[i+1],y=(g+v)/2,k=(m+b)/2,_=[s+2*(g-s)/3,a+2*(m-a)/3],E=[y+2*(g-y)/3,k+2*(m-k)/3];n.push([[s,a],_,E,[y,k]]),[s,a]=[y,k]}const[o,l]=t[i],[d,c]=t[i+1],u=[s+2*(o-s)/3,a+2*(l-a)/3],f=[d+2*(o-d)/3,c+2*(l-c)/3];return n.push([[s,a],u,f,[d,c]]),n},ud=function(){if(this.isEmpty()){j(this,me,Sv).call(this);return}j(this,me,Dw).call(this);const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),j(this,me,Sv).call(this);for(const i of this.bezierPath2D)n.stroke(i)},Pw=function(){if(h(this,Nf))return;A(this,Nf,new AbortController);const t=this._uiManager.combinedSignal(h(this,Nf));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},Nw=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},Mw=function(t){var n;(n=h(this,dc))==null||n.abort(),A(this,dc,null),j(this,me,Pw).call(this),h(this,ua)&&clearTimeout(h(this,ua)),A(this,ua,setTimeout(()=>{A(this,ua,null),this.canvas.removeEventListener("contextmenu",ds)},10)),j(this,me,TM).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ev=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},xv=function(){A(this,ao,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),h(this,ao).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=h(this,ao))==null||t.disconnect(),A(this,ao,null)},{once:!0})},Ou=function(){if(!h(this,uc))return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),j(this,me,Sv).call(this)},Lw=function(t,n){const i=j(this,me,Tv).call(this),s=(t-i)/h(this,lc),a=(n-i)/h(this,oc);this.scaleFactor=Math.min(s,a)},Sv=function(){const t=j(this,me,Tv).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ro=new WeakSet,jM=function(t){const n=new Path2D;for(let i=0,s=t.length;i<s;i++){const[a,o,l,d]=t[i];i===0&&n.moveTo(...a),n.bezierCurveTo(o[0],o[1],l[0],l[1],d[0],d[1])}return n},Fw=function(t,n,i){const[s,a,o,l]=n;switch(i){case 0:for(let d=0,c=t.length;d<c;d+=2)t[d]+=s,t[d+1]=l-t[d+1];break;case 90:for(let d=0,c=t.length;d<c;d+=2){const u=t[d];t[d]=t[d+1]+s,t[d+1]=u+a}break;case 180:for(let d=0,c=t.length;d<c;d+=2)t[d]=o-t[d],t[d+1]+=a;break;case 270:for(let d=0,c=t.length;d<c;d+=2){const u=t[d];t[d]=o-t[d+1],t[d+1]=l-u}break;default:throw new Error("Invalid rotation")}return t},IM=function(t,n,i){const[s,a,o,l]=n;switch(i){case 0:for(let d=0,c=t.length;d<c;d+=2)t[d]-=s,t[d+1]=l-t[d+1];break;case 90:for(let d=0,c=t.length;d<c;d+=2){const u=t[d];t[d]=t[d+1]-a,t[d+1]=u-s}break;case 180:for(let d=0,c=t.length;d<c;d+=2)t[d]=o-t[d],t[d+1]-=a;break;case 270:for(let d=0,c=t.length;d<c;d+=2){const u=t[d];t[d]=l-t[d+1],t[d+1]=o-u}break;default:throw new Error("Invalid rotation")}return t},DM=function(t,n,i,s){var c,u;const a=[],o=this.thickness/2,l=t*n+o,d=t*i+o;for(const f of this.paths){const g=[],m=[];for(let v=0,b=f.length;v<b;v++){const[y,k,_,E]=f[v];if(y[0]===E[0]&&y[1]===E[1]&&b===1){const F=t*y[0]+l,H=t*y[1]+d;g.push(F,H),m.push(F,H);break}const S=t*y[0]+l,O=t*y[1]+d,T=t*k[0]+l,C=t*k[1]+d,D=t*_[0]+l,R=t*_[1]+d,L=t*E[0]+l,P=t*E[1]+d;v===0&&(g.push(S,O),m.push(S,O)),g.push(T,C,D,R,L,P),m.push(T,C),v===b-1&&m.push(L,P)}a.push({bezier:j(c=ar,Ro,Fw).call(c,g,s,this.rotation),points:j(u=ar,Ro,Fw).call(u,m,s,this.rotation)})}return a},Vw=function(){let t=1/0,n=-1/0,i=1/0,s=-1/0;for(const a of this.paths)for(const[o,l,d,c]of a){const u=Ve.bezierBoundingBox(...o,...l,...d,...c);t=Math.min(t,u[0]),i=Math.min(i,u[1]),n=Math.max(n,u[2]),s=Math.max(s,u[3])}return[t,i,n,s]},Tv=function(){return h(this,ts)?Math.ceil(this.thickness*this.parentScale):0},tp=function(t=!1){if(this.isEmpty())return;if(!h(this,ts)){j(this,me,ud).call(this);return}const n=j(this,me,Vw).call(this),i=j(this,me,Tv).call(this);A(this,lc,Math.max(Ht.MIN_SIZE,n[2]-n[0])),A(this,oc,Math.max(Ht.MIN_SIZE,n[3]-n[1]));const s=Math.ceil(i+h(this,lc)*this.scaleFactor),a=Math.ceil(i+h(this,oc)*this.scaleFactor),[o,l]=this.parentDimensions;this.width=s/o,this.height=a/l,this.setAspectRatio(s,a);const d=this.translationX,c=this.translationY;this.translationX=-n[0],this.translationY=-n[1],j(this,me,Ou).call(this),j(this,me,ud).call(this),A(this,fc,s),A(this,hc,a),this.setDims(s,a);const u=t?i/this.scaleFactor/2:0;this.translate(d-this.translationX-u,c-this.translationY-u)},I(ar,Ro),re(ar,"_defaultColor",null),re(ar,"_defaultOpacity",1),re(ar,"_defaultThickness",1),re(ar,"_type","ink"),re(ar,"_editorType",at.INK);let Iw=ar;var lr,vn,_l,oo,wl,Mf,fa,lo,ha,Si,Lf,gt,rp,np,Av,Uw,RM,Ov,Bw,Cv,PM,NM;const up=class up extends Ht{constructor(t){super({...t,name:"stampEditor"});I(this,gt);I(this,lr,null);I(this,vn,null);I(this,_l,null);I(this,oo,null);I(this,wl,null);I(this,Mf,"");I(this,fa,null);I(this,lo,null);I(this,ha,null);I(this,Si,!1);I(this,Lf,!1);A(this,oo,t.bitmapUrl),A(this,wl,t.bitmapFile)}static initialize(t,n){Ht.initialize(t,n)}static get supportedTypes(){return mt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return mt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(at.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const d=l.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t,n;h(this,vn)&&(A(this,lr,null),this._uiManager.imageManager.deleteId(h(this,vn)),(t=h(this,fa))==null||t.remove(),A(this,fa,null),(n=h(this,lo))==null||n.disconnect(),A(this,lo,null),h(this,ha)&&(clearTimeout(h(this,ha)),A(this,ha,null))),super.remove()}rebuild(){if(!this.parent){h(this,vn)&&j(this,gt,Av).call(this);return}super.rebuild(),this.div!==null&&(h(this,vn)&&h(this,fa)===null&&j(this,gt,Av).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,_l)||h(this,lr)||h(this,oo)||h(this,wl)||h(this,vn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,lr)?j(this,gt,Uw).call(this):j(this,gt,Av).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,n*s,this.width*i,this.height*s)}return this.div}copyCanvas(t,n,i=!1){var g;t||(t=224);const{width:s,height:a}=h(this,lr),o=new M_;let l=h(this,lr),d=s,c=a,u=null;if(n){if(s>n||a>n){const C=Math.min(n/s,n/a);d=Math.floor(s*C),c=Math.floor(a*C)}u=document.createElement("canvas");const m=u.width=Math.ceil(d*o.sx),v=u.height=Math.ceil(c*o.sy);h(this,Si)||(l=j(this,gt,Ov).call(this,m,v));const b=u.getContext("2d");b.filter=this._uiManager.hcmFilter;let y="white",k="#cfcfd8";this._uiManager.hcmFilter!=="none"?k="black":(g=window.matchMedia)!=null&&g.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",k="#42414d");const _=15,E=_*o.sx,S=_*o.sy,O=new OffscreenCanvas(E*2,S*2),T=O.getContext("2d");T.fillStyle=y,T.fillRect(0,0,E*2,S*2),T.fillStyle=k,T.fillRect(0,0,E,S),T.fillRect(E,S,E,S),b.fillStyle=b.createPattern(O,"repeat"),b.fillRect(0,0,m,v),b.drawImage(l,0,0,l.width,l.height,0,0,m,v)}let f=null;if(i){let m,v;if(o.symmetric&&l.width<t&&l.height<t)m=l.width,v=l.height;else if(l=h(this,lr),s>t||a>t){const k=Math.min(t/s,t/a);m=Math.floor(s*k),v=Math.floor(a*k),h(this,Si)||(l=j(this,gt,Ov).call(this,m,v))}const y=new OffscreenCanvas(m,v).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,m,v),f={width:m,height:v,data:y.getImageData(0,0,m,v).data}}return{canvas:u,width:d,height:c,imageData:f}}getImageForAltText(){return h(this,fa)}static async deserialize(t,n,i){var v;let s=null;if(t instanceof WN){const{data:{rect:b,rotation:y,id:k,structParent:_,popupRef:E},container:S,parent:{page:{pageNumber:O}}}=t,T=S.querySelector("canvas"),C=i.imageManager.getFromCanvas(S.id,T);T.remove();const D=((v=await n._structTree.getAriaAttributes(`${zx}${k}`))==null?void 0:v.get("aria-label"))||"";s=t={annotationType:at.STAMP,bitmapId:C.id,bitmap:C.bitmap,pageIndex:O-1,rect:b.slice(0),rotation:y,id:k,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:_,popupRef:E}}const a=await super.deserialize(t,n,i),{rect:o,bitmap:l,bitmapUrl:d,bitmapId:c,isSvg:u,accessibilityData:f}=t;c&&i.imageManager.isValidId(c)?(A(a,vn,c),l&&A(a,lr,l)):A(a,oo,d),A(a,Si,u);const[g,m]=a.pageDimensions;return a.width=(o[2]-o[0])/g,a.height=(o[3]-o[1])/m,a.annotationElementId=t.id||null,f&&(a.altTextData=f),a._initialData=s,A(a,Lf,!!s),a}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:at.STAMP,bitmapId:h(this,vn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,Si),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=j(this,gt,Cv).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=j(this,gt,NM).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=h(this,Si)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(h(this,vn)))n.stamps.set(h(this,vn),{area:o,serialized:i}),i.bitmap=j(this,gt,Cv).call(this,!1);else if(h(this,Si)){const l=n.stamps.get(h(this,vn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=j(this,gt,Cv).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};lr=new WeakMap,vn=new WeakMap,_l=new WeakMap,oo=new WeakMap,wl=new WeakMap,Mf=new WeakMap,fa=new WeakMap,lo=new WeakMap,ha=new WeakMap,Si=new WeakMap,Lf=new WeakMap,gt=new WeakSet,rp=function(t,n=!1){if(!t){this.remove();return}A(this,lr,t.bitmap),n||(A(this,vn,t.id),A(this,Si,t.isSvg)),t.file&&A(this,Mf,t.file.name),j(this,gt,Uw).call(this)},np=function(){if(A(this,_l,null),this._uiManager.enableWaiting(!1),!!h(this,fa)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,lr)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,lr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Av=function(){if(h(this,vn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,vn)).then(i=>j(this,gt,rp).call(this,i,!0)).finally(()=>j(this,gt,np).call(this));return}if(h(this,oo)){const i=h(this,oo);A(this,oo,null),this._uiManager.enableWaiting(!0),A(this,_l,this._uiManager.imageManager.getFromUrl(i).then(s=>j(this,gt,rp).call(this,s)).finally(()=>j(this,gt,np).call(this)));return}if(h(this,wl)){const i=h(this,wl);A(this,wl,null),this._uiManager.enableWaiting(!0),A(this,_l,this._uiManager.imageManager.getFromFile(i).then(s=>j(this,gt,rp).call(this,s)).finally(()=>j(this,gt,np).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=up.supportedTypesStr;const n=this._uiManager._signal;A(this,_l,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),j(this,gt,rp).call(this,s)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>j(this,gt,np).call(this))),t.click()},Uw=function(){const{div:t}=this;let{width:n,height:i}=h(this,lr);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const u=Math.min(o*s/n,o*a/i);n*=u,i*=u}const[l,d]=this.parentDimensions;this.setDims(n*l/s,i*d/a),this._uiManager.enableWaiting(!1);const c=A(this,fa,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),j(this,gt,Bw).call(this,n,i),j(this,gt,PM).call(this),h(this,Lf)||(this.parent.addUndoableEditor(this),A(this,Lf,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Mf)&&c.setAttribute("aria-label",h(this,Mf))},RM=function(t,n){var o;const[i,s]=this.parentDimensions;this.width=t/i,this.height=n/s,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,ha)!==null&&clearTimeout(h(this,ha)),A(this,ha,setTimeout(()=>{A(this,ha,null),j(this,gt,Bw).call(this,t,n)},200))},Ov=function(t,n){const{width:i,height:s}=h(this,lr);let a=i,o=s,l=h(this,lr);for(;a>2*t||o>2*n;){const d=a,c=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const u=new OffscreenCanvas(a,o);u.getContext("2d").drawImage(l,0,0,d,c,0,0,a,o),l=u.transferToImageBitmap()}return l},Bw=function(t,n){const i=new M_,s=Math.ceil(t*i.sx),a=Math.ceil(n*i.sy),o=h(this,fa);if(!o||o.width===s&&o.height===a)return;o.width=s,o.height=a;const l=h(this,Si)?h(this,lr):j(this,gt,Ov).call(this,s,a),d=o.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(l,0,0,l.width,l.height,0,0,s,a)},Cv=function(t){if(t){if(h(this,Si)){const s=this._uiManager.imageManager.getSvgUrl(h(this,vn));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=h(this,lr),n.getContext("2d").drawImage(h(this,lr),0,0),n.toDataURL()}if(h(this,Si)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*Ul.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Ul.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(h(this,lr),0,0,h(this,lr).width,h(this,lr).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(h(this,lr))},PM=function(){this._uiManager._signal&&(A(this,lo,new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&j(this,gt,RM).call(this,n.width,n.height)})),h(this,lo).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=h(this,lo))==null||t.disconnect(),A(this,lo,null)},{once:!0}))},NM=function(t){var d;const{rect:n,pageIndex:i,accessibilityData:{altText:s}}=this._initialData,a=t.rect.every((c,u)=>Math.abs(c-n[u])<1),o=t.pageIndex===i,l=(((d=t.accessibilityData)==null?void 0:d.alt)||"")===s;return{isSame:a&&o&&l,isSameAltText:l}},re(up,"_type","stamp"),re(up,"_editorType",at.STAMP);let Hw=up;var pc,Ff,pa,El,co,Ti,xl,Vf,Hf,On,uo,ze,Sl,_n,MM,zw,Ww,Kw,jv;const gs=class gs{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:d,l10n:c}){I(this,_n);I(this,pc);I(this,Ff,!1);I(this,pa,null);I(this,El,null);I(this,co,null);I(this,Ti,new Map);I(this,xl,!1);I(this,Vf,!1);I(this,Hf,!1);I(this,On,null);I(this,uo,null);I(this,ze);const u=[...h(gs,Sl).values()];if(!gs._initialized){gs._initialized=!0;for(const f of u)f.initialize(c,e)}e.registerEditorTypes(u),A(this,ze,e),this.pageIndex=t,this.div=n,A(this,pc,s),A(this,pa,a),this.viewport=d,A(this,On,l),this.drawLayer=o,this._structTree=i,h(this,ze).addLayer(this)}get isEmpty(){return h(this,Ti).size===0}get isInvisible(){return this.isEmpty&&h(this,ze).getMode()===at.NONE}updateToolbar(e){h(this,ze).updateToolbar(e)}updateMode(e=h(this,ze).getMode()){switch(j(this,_n,jv).call(this),e){case at.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case at.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case at.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of h(gs,Sl).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=h(this,On))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(h(this,ze).getMode()!==at.INK)return;if(!e){for(const n of h(this,Ti).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){h(this,ze).setEditingState(e)}addCommands(e){h(this,ze).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=h(this,pa))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of h(this,Ti).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(h(this,ze).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!h(this,pa))return;const t=h(this,pa).getEditableAnnotations();for(const n of t){if(n.hide(),h(this,ze).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;A(this,Hf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of h(this,Ti).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(h(this,pa)){const s=h(this,pa).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(h(this,ze).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(h(this,ze).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}j(this,_n,jv).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of h(gs,Sl).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),A(this,Hf,!1)}getEditableAnnotation(e){var t;return((t=h(this,pa))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){h(this,ze).getActive()!==e&&h(this,ze).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=h(this,On))!=null&&e.div&&!h(this,uo)){A(this,uo,new AbortController);const t=h(this,ze).combinedSignal(h(this,uo));h(this,On).div.addEventListener("pointerdown",j(this,_n,MM).bind(this),{signal:t}),h(this,On).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=h(this,On))!=null&&e.div&&h(this,uo)&&(h(this,uo).abort(),A(this,uo,null),h(this,On).div.classList.remove("highlighting"))}enableClick(){if(h(this,El))return;A(this,El,new AbortController);const e=h(this,ze).combinedSignal(h(this,El));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=h(this,El))==null||e.abort(),A(this,El,null)}attach(e){h(this,Ti).set(e.id,e);const{annotationElementId:t}=e;t&&h(this,ze).isDeletedAnnotationElement(t)&&h(this,ze).removeDeletedAnnotationElement(e)}detach(e){var t;h(this,Ti).delete(e.id),(t=h(this,pc))==null||t.removePointerInTextLayer(e.contentDiv),!h(this,Hf)&&e.annotationElementId&&h(this,ze).addDeletedAnnotationElement(e)}remove(e){this.detach(e),h(this,ze).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,h(this,Vf)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(h(this,ze).addDeletedAnnotationElement(e.annotationElementId),Ht.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),h(this,ze).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),h(this,ze).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!h(this,co)&&(e._focusEventsAllowed=!1,A(this,co,setTimeout(()=>{A(this,co,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:h(this,ze)._signal}),t.focus())},0))),e._structTreeParentId=(n=h(this,pc))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return h(this,ze).getId()}combinedSignal(e){return h(this,ze).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=h(this,_n,zw))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){h(this,ze).updateToolbar(e),h(this,ze).updateMode(e);const{offsetX:n,offsetY:i}=j(this,_n,Kw).call(this),s=this.getNextId(),a=j(this,_n,Ww).call(this,{parent:this,id:s,x:n,y:i,uiManager:h(this,ze),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=h(gs,Sl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,h(this,ze)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=j(this,_n,Ww).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:h(this,ze),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(j(this,_n,Kw).call(this),!0)}setSelected(e){h(this,ze).setSelected(e)}toggleSelected(e){h(this,ze).toggleSelected(e)}unselect(e){h(this,ze).unselect(e)}pointerup(e){const{isMac:t}=qn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&h(this,xl)){if(A(this,xl,!1),!h(this,Ff)){A(this,Ff,!0);return}if(h(this,ze).getMode()===at.STAMP){h(this,ze).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(h(this,ze).getMode()===at.HIGHLIGHT&&this.enableTextSelection(),h(this,xl)){A(this,xl,!1);return}const{isMac:t}=qn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;A(this,xl,!0);const n=h(this,ze).getActive();A(this,Ff,!n||n.isEmpty())}findNewParent(e,t,n){const i=h(this,ze).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=h(this,ze).getActive())==null?void 0:e.parent)===this&&(h(this,ze).commitOrRemove(),h(this,ze).setActiveEditor(null)),h(this,co)&&(clearTimeout(h(this,co)),A(this,co,null));for(const n of h(this,Ti).values())(t=h(this,pc))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,h(this,Ti).clear(),h(this,ze).removeLayer(this)}render({viewport:e}){this.viewport=e,Pc(this.div,e);for(const t of h(this,ze).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){h(this,ze).commitOrRemove(),j(this,_n,jv).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Pc(this.div,{rotation:n}),t!==n)for(const i of h(this,Ti).values())i.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return h(this,ze).viewParameters.realScale}};pc=new WeakMap,Ff=new WeakMap,pa=new WeakMap,El=new WeakMap,co=new WeakMap,Ti=new WeakMap,xl=new WeakMap,Vf=new WeakMap,Hf=new WeakMap,On=new WeakMap,uo=new WeakMap,ze=new WeakMap,Sl=new WeakMap,_n=new WeakSet,MM=function(e){h(this,ze).unselectAll();const{target:t}=e;if(t===h(this,On).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&h(this,On).div.contains(t)){const{isMac:n}=qn.platform;if(e.button!==0||e.ctrlKey&&n)return;h(this,ze).showAllEditors("highlight",!0,!0),h(this,On).div.classList.add("free"),this.toggleDrawing(),bb.startHighlighting(this,h(this,ze).direction==="ltr",{target:h(this,On).div,x:e.x,y:e.y}),h(this,On).div.addEventListener("pointerup",()=>{h(this,On).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,ze)._signal}),e.preventDefault()}},zw=function(){return h(gs,Sl).get(h(this,ze).getMode())},Ww=function(e){const t=h(this,_n,zw);return t?new t.prototype.constructor(e):null},Kw=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),d=(s+o)/2-e,c=(a+l)/2-t,[u,f]=this.viewport.rotation%180===0?[d,c]:[c,d];return{offsetX:u,offsetY:f}},jv=function(){A(this,Vf,!0);for(const e of h(this,Ti).values())e.isEmpty()&&e.remove();A(this,Vf,!1)},re(gs,"_initialized",!1),I(gs,Sl,new Map([ww,Iw,Hw,bb].map(e=>[e._editorType,e])));let $w=gs;var ga,Ug,Nr,fo,Bg,qw,Vc,Yw,LM;const pn=class pn{constructor({pageIndex:e}){I(this,Vc);I(this,ga,null);I(this,Ug,0);I(this,Nr,new Map);I(this,fo,new Map);this.pageIndex=e}setParent(e){if(!h(this,ga)){A(this,ga,e);return}if(h(this,ga)!==e){if(h(this,Nr).size>0)for(const t of h(this,Nr).values())t.remove(),e.append(t);A(this,ga,e)}}static get _svgFactory(){return mt(this,"_svgFactory",new eS)}draw(e,t,n,i=!1){const s=$n(this,Ug)._++,a=j(this,Vc,Yw).call(this,e.box);a.classList.add(...e.classNamesForDrawing);const o=pn._svgFactory.createElement("defs");a.append(o);const l=pn._svgFactory.createElement("path");o.append(l);const d=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",d),l.setAttribute("d",e.toSVGPath()),i&&h(this,fo).set(s,l);const c=j(this,Vc,LM).call(this,o,d),u=pn._svgFactory.createElement("use");return a.append(u),a.setAttribute("fill",t),a.setAttribute("fill-opacity",n),u.setAttribute("href",`#${d}`),h(this,Nr).set(s,a),{id:s,clipPathId:`url(#${c})`}}drawOutline(e){const t=$n(this,Ug)._++,n=j(this,Vc,Yw).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const i=pn._svgFactory.createElement("defs");n.append(i);const s=pn._svgFactory.createElement("path");i.append(s);const a=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){const c=pn._svgFactory.createElement("mask");i.append(c),o=`mask_p${this.pageIndex}_${t}`,c.setAttribute("id",o),c.setAttribute("maskUnits","objectBoundingBox");const u=pn._svgFactory.createElement("rect");c.append(u),u.setAttribute("width","1"),u.setAttribute("height","1"),u.setAttribute("fill","white");const f=pn._svgFactory.createElement("use");c.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=pn._svgFactory.createElement("use");n.append(l),l.setAttribute("href",`#${a}`),o&&l.setAttribute("mask",`url(#${o})`);const d=l.cloneNode();return n.append(d),l.classList.add("mainOutline"),d.classList.add("secondaryOutline"),h(this,Nr).set(t,n),t}finalizeLine(e,t){const n=h(this,fo).get(e);h(this,fo).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){h(this,Nr).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){h(this,fo).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var n;j(n=pn,Bg,qw).call(n,h(this,Nr).get(e),t)}show(e,t){h(this,Nr).get(e).classList.toggle("hidden",!t)}rotate(e,t){h(this,Nr).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){h(this,Nr).get(e).setAttribute("fill",t)}changeOpacity(e,t){h(this,Nr).get(e).setAttribute("fill-opacity",t)}addClass(e,t){h(this,Nr).get(e).classList.add(t)}removeClass(e,t){h(this,Nr).get(e).classList.remove(t)}getSVGRoot(e){return h(this,Nr).get(e)}remove(e){h(this,fo).delete(e),h(this,ga)!==null&&(h(this,Nr).get(e).remove(),h(this,Nr).delete(e))}destroy(){A(this,ga,null);for(const e of h(this,Nr).values())e.remove();h(this,Nr).clear(),h(this,fo).clear()}};ga=new WeakMap,Ug=new WeakMap,Nr=new WeakMap,fo=new WeakMap,Bg=new WeakSet,qw=function(e,{x:t=0,y:n=0,width:i=1,height:s=1}={}){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Vc=new WeakSet,Yw=function(e){var n;const t=pn._svgFactory.create(1,1,!0);return h(this,ga).append(t),t.setAttribute("aria-hidden",!0),j(n=pn,Bg,qw).call(n,t,e),t},LM=function(e,t){const n=pn._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=pn._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},I(pn,Bg);let Gw=pn;var nle=Je.AbortException,ile=Je.AnnotationEditorLayer,sle=Je.AnnotationEditorParamsType,ale=Je.AnnotationEditorType,ole=Je.AnnotationEditorUIManager,FM=Je.AnnotationLayer,VM=Je.AnnotationMode,lle=Je.ColorPicker,dle=Je.DOMSVGFactory,cle=Je.DrawLayer,ule=Je.FeatureTest,rS=Je.GlobalWorkerOptions,fle=Je.ImageKind,hle=Je.InvalidPDFException,ple=Je.MissingPDFException,gle=Je.OPS,mle=Je.OutputScale,vle=Je.PDFDataRangeTransport,ble=Je.PDFDateString,yle=Je.PDFWorker,kle=Je.PasswordResponses,_le=Je.PermissionFlag,wle=Je.PixelsPerInch,Ele=Je.RenderingCancelledException,HM=Je.TextLayer,xle=Je.UnexpectedResponseException,Sle=Je.Util,Tle=Je.VerbosityLevel,Ale=Je.XfaLayer,Ole=Je.build,Cle=Je.createValidAbsoluteUrl,jle=Je.fetchData,UM=Je.getDocument,Ile=Je.getFilenameFromUrl,Dle=Je.getPdfFilenameFromUrl,Rle=Je.getXfaPageViewport,Ple=Je.isDataScheme,Nle=Je.isPdfFile,Mle=Je.noContextMenu,Lle=Je.normalizeUnicode,Fle=Je.setLayerDimensions,Vle=Je.shadow,Hle=Je.version;const Ule=Object.freeze(Object.defineProperty({__proto__:null,AbortException:nle,AnnotationEditorLayer:ile,AnnotationEditorParamsType:sle,AnnotationEditorType:ale,AnnotationEditorUIManager:ole,AnnotationLayer:FM,AnnotationMode:VM,ColorPicker:lle,DOMSVGFactory:dle,DrawLayer:cle,FeatureTest:ule,GlobalWorkerOptions:rS,ImageKind:fle,InvalidPDFException:hle,MissingPDFException:ple,OPS:gle,OutputScale:mle,PDFDataRangeTransport:vle,PDFDateString:ble,PDFWorker:yle,PasswordResponses:kle,PermissionFlag:_le,PixelsPerInch:wle,RenderingCancelledException:Ele,TextLayer:HM,UnexpectedResponseException:xle,Util:Sle,VerbosityLevel:Tle,XfaLayer:Ale,build:Ole,createValidAbsoluteUrl:Cle,fetchData:jle,getDocument:UM,getFilenameFromUrl:Ile,getPdfFilenameFromUrl:Dle,getXfaPageViewport:Rle,isDataScheme:Ple,isPdfFile:Nle,noContextMenu:Mle,normalizeUnicode:Lle,setLayerDimensions:Fle,shadow:Vle,version:Hle},Symbol.toStringTag,{value:"Module"}));var tn=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return r.concat(s||Array.prototype.slice.call(e))},Ble=["onCopy","onCut","onPaste"],$le=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],zle=["onFocus","onBlur"],Wle=["onInput","onInvalid","onReset","onSubmit"],Kle=["onLoad","onError"],Gle=["onKeyDown","onKeyPress","onKeyUp"],qle=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Yle=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Xle=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Zle=["onSelect"],Jle=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Qle=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],ede=["onScroll"],tde=["onWheel"],rde=["onAnimationStart","onAnimationEnd","onAnimationIteration"],nde=["onTransitionEnd"],ide=["onToggle"],sde=["onChange"],ade=tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn(tn([],Ble,!0),$le,!0),zle,!0),Wle,!0),Kle,!0),Gle,!0),qle,!0),Yle,!0),Xle,!0),Zle,!0),Jle,!0),Qle,!0),ede,!0),tde,!0),rde,!0),nde,!0),sde,!0),ide,!0);function BM(r,e){var t={};return ade.forEach(function(n){var i=r[n];i&&(e?t[n]=function(s){return i(s,e(n))}:t[n]=i)}),t}function dm(r){var e=!1,t=new Promise(function(n,i){r.then(function(s){return!e&&n(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}var ode="Invariant failed";function qt(r,e){if(!r)throw new Error(ode)}var D0,cO;function lde(){if(cO)return D0;cO=1;var r=function(){};return D0=r,D0}var dde=lde();const Rn=Vb(dde);var uO=Object.prototype.hasOwnProperty;function fO(r,e,t){for(t of r.keys())if(Hu(t,e))return t}function Hu(r,e){var t,n,i;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&Hu(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(i=n,i&&typeof i=="object"&&(i=fO(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(i=n[0],i&&typeof i=="object"&&(i=fO(e,i),!i)||!Hu(n[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(uO.call(r,t)&&++n&&!uO.call(e,t)||!(t in e)||!Hu(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}const $M=w.createContext(null);function Uu({children:r,type:e}){return p.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const cde="noopener noreferrer nofollow";class ude{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return qt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){qt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{qt(this.pdfDocument),qt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{qt(Array.isArray(t));const n=t[0];new Promise(i=>{qt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(s=>{i(s)}).catch(()=>{qt(!1)}):typeof n=="number"?i(n):qt(!1)}).then(i=>{const s=i+1;qt(this.pdfViewer),qt(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;qt(this.pdfViewer),qt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||cde,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const hO={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},ok=typeof window<"u",zM=ok&&window.location.protocol==="file:";function fde(r){return typeof r<"u"}function nd(r){return fde(r)&&r!==null}function hde(r){return typeof r=="string"}function pde(r){return r instanceof ArrayBuffer}function gde(r){return qt(ok),r instanceof Blob}function Xw(r){return hde(r)&&/^data:/.test(r)}function pO(r){qt(Xw(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function mde(){return ok&&window.devicePixelRatio||1}const WM="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function gO(){Rn(!zM,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${WM}`)}function vde(){Rn(!zM,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${WM}`)}function Lc(r){r!=null&&r.cancel&&r.cancel()}function Zw(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function bde(r){return r.name==="RenderingCancelledException"}function yde(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}function kde(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function Zf(){return w.useReducer(kde,{value:void 0,error:void 0})}var _de=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{d(n.next(c))}catch(u){a(u)}}function l(c){try{d(n.throw(c))}catch(u){a(u)}}function d(c){c.done?s(c.value):i(c.value).then(o,l)}d((n=n.apply(r,e||[])).next())})},mO=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const{PDFDataRangeTransport:wde}=Ule,Ede=(r,e)=>{switch(e){case hO.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case hO.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function vO(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const xde=w.forwardRef(function(e,t){var{children:n,className:i,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:d,imageResourcesPath:c,loading:u="Loading PDF…",noData:f="No PDF file specified.",onItemClick:g,onLoadError:m,onLoadProgress:v,onLoadSuccess:b,onPassword:y=Ede,onSourceError:k,onSourceSuccess:_,options:E,renderMode:S,rotate:O}=e,T=mO(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[C,D]=Zf(),{value:R,error:L}=C,[P,F]=Zf(),{value:H,error:N}=P,z=w.useRef(new ude),G=w.useRef([]),Y=w.useRef(void 0),W=w.useRef(void 0);l&&l!==Y.current&&vO(l)&&(Rn(!Hu(l,Y.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Y.current=l),E&&E!==W.current&&(Rn(!Hu(E,W.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),W.current=E);const ue=w.useRef({scrollPageIntoView:Te=>{const{dest:qe,pageNumber:vt,pageIndex:lt=vt-1}=Te;if(g){g({dest:qe,pageIndex:lt,pageNumber:vt});return}const jr=G.current[lt];if(jr){jr.scrollIntoView();return}Rn(!1,`An internal link leading to page ${vt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});w.useImperativeHandle(t,()=>({linkService:z,pages:G,viewer:ue}),[]);function M(){_&&_()}function K(){L&&(Rn(!1,L.toString()),k&&k(L))}function $(){D({type:"RESET"})}w.useEffect($,[l,D]);const J=w.useCallback(()=>_de(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Xw(l)?{data:pO(l)}:(gO(),{url:l});if(l instanceof wde)return{range:l};if(pde(l))return{data:l};if(ok&&gde(l))return{data:yield yde(l)};if(qt(typeof l=="object"),qt(vO(l)),"url"in l&&typeof l.url=="string"){if(Xw(l.url)){const{url:Te}=l,qe=mO(l,["url"]),vt=pO(Te);return Object.assign({data:vt},qe)}gO()}return l}),[l]);w.useEffect(()=>{const Te=dm(J());return Te.promise.then(qe=>{D({type:"RESOLVE",value:qe})}).catch(qe=>{D({type:"REJECT",error:qe})}),()=>{Lc(Te)}},[J,D]),w.useEffect(()=>{if(!(typeof R>"u")){if(R===!1){K();return}M()}},[R]);function ne(){H&&(b&&b(H),G.current=new Array(H.numPages),z.current.setDocument(H))}function fe(){N&&(Rn(!1,N.toString()),m&&m(N))}w.useEffect(function(){F({type:"RESET"})},[F,R]),w.useEffect(function(){if(!R)return;const qe=E?Object.assign(Object.assign({},R),E):R,vt=UM(qe);v&&(vt.onProgress=v),y&&(vt.onPassword=y);const lt=vt,jr=lt.promise.then(Qr=>{F({type:"RESOLVE",value:Qr})}).catch(Qr=>{lt.destroyed||F({type:"REJECT",error:Qr})});return()=>{jr.finally(()=>lt.destroy())}},[E,F,R]),w.useEffect(()=>{if(!(typeof H>"u")){if(H===!1){fe();return}ne()}},[H]),w.useEffect(function(){z.current.setViewer(ue.current),z.current.setExternalLinkRel(a),z.current.setExternalLinkTarget(o)},[a,o]);const ae=w.useCallback((Te,qe)=>{G.current[Te]=qe},[]),Fe=w.useCallback(Te=>{delete G.current[Te]},[]),ee=w.useMemo(()=>({imageResourcesPath:c,linkService:z.current,onItemClick:g,pdf:H,registerPage:ae,renderMode:S,rotate:O,unregisterPage:Fe}),[c,g,H,ae,S,O,Fe]),le=w.useMemo(()=>BM(T,()=>H),[T,H]);function Pe(){return p.jsx($M.Provider,{value:ee,children:n})}function xe(){return l?H==null?p.jsx(Uu,{type:"loading",children:typeof u=="function"?u():u}):H===!1?p.jsx(Uu,{type:"error",children:typeof s=="function"?s():s}):Pe():p.jsx(Uu,{type:"no-data",children:typeof f=="function"?f():f})}return p.jsx("div",Object.assign({className:Qf("react-pdf__Document",i),ref:d,style:{"--scale-factor":"1"}},le,{children:xe()}))});function KM(){return w.useContext($M)}function GM(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(s){t.forEach(function(a){typeof a=="function"?a(s):a&&(a.current=s)})}}const qM=w.createContext(null),YM={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Sde=/^H(\d+)$/;function Tde(r){return r in YM}function lk(r){return"children"in r}function XM(r){return lk(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function Ade(r){const e={};if(lk(r)){const{role:t}=r,n=t.match(Sde);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(Tde(t)){const i=YM[t];i&&(e.role=i)}}return e}function ZM(r){const e={};if(lk(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),XM(r)){const[t]=r.children;if(t){const n=ZM(t);return Object.assign(Object.assign({},e),n)}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function Ode(r){return r?Object.assign(Object.assign({},Ade(r)),ZM(r)):null}function JM({className:r,node:e}){const t=w.useMemo(()=>Ode(e),[e]),n=w.useMemo(()=>!lk(e)||XM(e)?null:e.children.map((i,s)=>p.jsx(JM,{node:i},s)),[e]);return p.jsx("span",Object.assign({className:r},t,{children:n}))}function dk(){return w.useContext(qM)}function Cde(){const r=dk();qt(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[n,i]=Zf(),{value:s,error:a}=n,{customTextRenderer:o,page:l}=r;function d(){s&&t&&t(s)}function c(){a&&(Rn(!1,a.toString()),e&&e(a))}return w.useEffect(function(){i({type:"RESET"})},[i,l]),w.useEffect(function(){if(o||!l)return;const f=dm(l.getStructTree()),g=f;return f.promise.then(m=>{i({type:"RESOLVE",value:m})}).catch(m=>{i({type:"REJECT",error:m})}),()=>Lc(g)},[o,l,i]),w.useEffect(()=>{if(s!==void 0){if(s===!1){c();return}d()}},[s]),s?p.jsx(JM,{className:"react-pdf__Page__structTree structTree",node:s}):null}const bO=VM;function jde(r){const e=dk();qt(e);const t=Object.assign(Object.assign({},e),r),{_className:n,canvasBackground:i,devicePixelRatio:s=mde(),onRenderError:a,onRenderSuccess:o,page:l,renderForms:d,renderTextLayer:c,rotate:u,scale:f}=t,{canvasRef:g}=r;qt(l);const m=w.useRef(null);function v(){l&&o&&o(Zw(l,f))}function b(E){bde(E)||(Rn(!1,E.toString()),a&&a(E))}const y=w.useMemo(()=>l.getViewport({scale:f*s,rotation:u}),[s,l,u,f]),k=w.useMemo(()=>l.getViewport({scale:f,rotation:u}),[l,u,f]);w.useEffect(function(){if(!l)return;l.cleanup();const{current:S}=m;if(!S)return;S.width=y.width,S.height=y.height,S.style.width=`${Math.floor(k.width)}px`,S.style.height=`${Math.floor(k.height)}px`,S.style.visibility="hidden";const O={annotationMode:d?bO.ENABLE_FORMS:bO.ENABLE,canvasContext:S.getContext("2d",{alpha:!1}),viewport:y};i&&(O.background=i);const T=l.render(O),C=T;return T.promise.then(()=>{S.style.visibility="",v()}).catch(b),()=>Lc(C)},[i,l,d,y,k]);const _=w.useCallback(()=>{const{current:E}=m;E&&(E.width=0,E.height=0)},[]);return w.useEffect(()=>_,[_]),p.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:GM(g,m),style:{display:"block",userSelect:"none"},children:c?p.jsx(Cde,{}):null})}function Ide(r){return"str"in r}function Dde(){const r=dk();qt(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:a,pageIndex:o,pageNumber:l,rotate:d,scale:c}=r;qt(a);const[u,f]=Zf(),{value:g,error:m}=u,v=w.useRef(null);Rn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function b(){g&&n&&n(g)}function y(){m&&(Rn(!1,m.toString()),t&&t(m))}w.useEffect(function(){f({type:"RESET"})},[a,f]),w.useEffect(function(){if(!a)return;const C=dm(a.getTextContent()),D=C;return C.promise.then(R=>{f({type:"RESOLVE",value:R})}).catch(R=>{f({type:"REJECT",error:R})}),()=>Lc(D)},[a,f]),w.useEffect(()=>{if(g!==void 0){if(g===!1){y();return}b()}},[g]);const k=w.useCallback(()=>{s&&s()},[s]),_=w.useCallback(T=>{Rn(!1,T.toString()),i&&i(T)},[i]);function E(){const T=v.current;T&&T.classList.add("selecting")}function S(){const T=v.current;T&&T.classList.remove("selecting")}const O=w.useMemo(()=>a.getViewport({scale:c,rotation:d}),[a,d,c]);return w.useLayoutEffect(function(){if(!a||!g)return;const{current:C}=v;if(!C)return;C.innerHTML="";const D=a.streamTextContent({includeMarkedContent:!0}),R={container:C,textContentSource:D,viewport:O},L=new HM(R),P=L;return L.render().then(()=>{const F=document.createElement("div");F.className="endOfContent",C.append(F);const H=C.querySelectorAll('[role="presentation"]');if(e){let N=0;g.items.forEach((z,G)=>{if(!Ide(z))return;const Y=H[N];if(!Y)return;const W=e(Object.assign({pageIndex:o,pageNumber:l,itemIndex:G},z));Y.innerHTML=W,N+=z.str&&z.hasEOL?2:1})}k()}).catch(_),()=>Lc(P)},[e,_,k,a,o,l,g,O]),p.jsx("div",{className:Qf("react-pdf__Page__textContent","textLayer"),onMouseUp:S,onMouseDown:E,ref:v})}function Rde(){const r=KM(),e=dk();qt(e);const t=Object.assign(Object.assign({},r),e),{imageResourcesPath:n,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:d,pdf:c,renderForms:u,rotate:f,scale:g=1}=t;qt(c),qt(d),qt(i);const[m,v]=Zf(),{value:b,error:y}=m,k=w.useRef(null);Rn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function _(){b&&a&&a(b)}function E(){y&&(Rn(!1,y.toString()),s&&s(y))}w.useEffect(function(){v({type:"RESET"})},[v,d]),w.useEffect(function(){if(!d)return;const D=dm(d.getAnnotations()),R=D;return D.promise.then(L=>{v({type:"RESOLVE",value:L})}).catch(L=>{v({type:"REJECT",error:L})}),()=>{Lc(R)}},[v,d]),w.useEffect(()=>{if(b!==void 0){if(b===!1){E();return}_()}},[b]);function S(){l&&l()}function O(C){Rn(!1,`${C}`),o&&o(C)}const T=w.useMemo(()=>d.getViewport({scale:g,rotation:f}),[d,f,g]);return w.useEffect(function(){if(!c||!d||!i||!b)return;const{current:D}=k;if(!D)return;const R=T.clone({dontFlip:!0}),L={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:D,l10n:null,page:d,structTreeLayer:null,viewport:R},P={annotations:b,annotationStorage:c.annotationStorage,div:D,imageResourcesPath:n,linkService:i,page:d,renderForms:u,viewport:R};D.innerHTML="";try{new FM(L).render(P),S()}catch(F){O(F)}return()=>{}},[b,n,i,d,c,u,T]),p.jsx("div",{className:Qf("react-pdf__Page__annotations","annotationLayer"),ref:k})}var Pde=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};const yO=1;function Nde(r){const e=KM(),t=Object.assign(Object.assign({},e),r),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:a,children:o,className:l,customRenderer:d,customTextRenderer:c,devicePixelRatio:u,error:f="Failed to load the page.",height:g,inputRef:m,loading:v="Loading page…",noData:b="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:k,onGetStructTreeError:_,onGetStructTreeSuccess:E,onGetTextError:S,onGetTextSuccess:O,onLoadError:T,onLoadSuccess:C,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:R,onRenderError:L,onRenderSuccess:P,onRenderTextLayerError:F,onRenderTextLayerSuccess:H,pageIndex:N,pageNumber:z,pdf:G,registerPage:Y,renderAnnotationLayer:W=!0,renderForms:ue=!1,renderMode:M="canvas",renderTextLayer:K=!0,rotate:$,scale:J=yO,unregisterPage:ne,width:fe}=t,ae=Pde(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Fe,ee]=Zf(),{value:le,error:Pe}=Fe,xe=w.useRef(null);qt(G);const Te=nd(z)?z-1:N??null,qe=z??(nd(N)?N+1:null),vt=$??(le?le.rotate:null),lt=w.useMemo(()=>{if(!le)return null;let Qe=1;const et=J??yO;if(fe||g){const Pt=le.getViewport({scale:1,rotation:vt});fe?Qe=fe/Pt.width:g&&(Qe=g/Pt.height)}return et*Qe},[g,le,vt,J,fe]);w.useEffect(function(){return()=>{nd(Te)&&i&&ne&&ne(Te)}},[i,G,Te,ne]);function jr(){if(C){if(!le||!lt)return;C(Zw(le,lt))}if(i&&Y){if(!nd(Te)||!xe.current)return;Y(Te,xe.current)}}function Qr(){Pe&&(Rn(!1,Pe.toString()),T&&T(Pe))}w.useEffect(function(){ee({type:"RESET"})},[ee,G,Te]),w.useEffect(function(){if(!G||!qe)return;const et=dm(G.getPage(qe)),Pt=et;return et.promise.then(pi=>{ee({type:"RESOLVE",value:pi})}).catch(pi=>{ee({type:"REJECT",error:pi})}),()=>Lc(Pt)},[ee,G,qe]),w.useEffect(()=>{if(le!==void 0){if(le===!1){Qr();return}jr()}},[le,lt]);const Ir=w.useMemo(()=>le&&nd(Te)&&qe&&nd(vt)&&nd(lt)?{_className:n,canvasBackground:s,customTextRenderer:c,devicePixelRatio:u,onGetAnnotationsError:y,onGetAnnotationsSuccess:k,onGetStructTreeError:_,onGetStructTreeSuccess:E,onGetTextError:S,onGetTextSuccess:O,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:R,onRenderError:L,onRenderSuccess:P,onRenderTextLayerError:F,onRenderTextLayerSuccess:H,page:le,pageIndex:Te,pageNumber:qe,renderForms:ue,renderTextLayer:K,rotate:vt,scale:lt}:null,[n,s,c,u,y,k,_,E,S,O,D,R,L,P,F,H,le,Te,qe,ue,K,vt,lt]),V=w.useMemo(()=>BM(ae,()=>le&&(lt?Zw(le,lt):void 0)),[ae,le,lt]),X=`${Te}@${lt}/${vt}`;function te(){switch(M){case"custom":return qt(d),p.jsx(d,{},`${X}_custom`);case"none":return null;case"canvas":default:return p.jsx(jde,{canvasRef:a},`${X}_canvas`)}}function ge(){return K?p.jsx(Dde,{},`${X}_text`):null}function de(){return W?p.jsx(Rde,{},`${X}_annotations`):null}function ce(){return p.jsxs(qM.Provider,{value:Ir,children:[te(),ge(),de(),o]})}function Re(){return qe?G===null||le===void 0||le===null?p.jsx(Uu,{type:"loading",children:typeof v=="function"?v():v}):G===!1||le===!1?p.jsx(Uu,{type:"error",children:typeof f=="function"?f():f}):ce():p.jsx(Uu,{type:"no-data",children:typeof b=="function"?b():b})}return p.jsx("div",Object.assign({className:Qf(n,l),"data-page-number":qe,ref:GM(m,xe),style:{"--scale-factor":`${lt}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},V,{children:Re()}))}vde();rS.workerSrc="pdf.worker.mjs";rS.workerSrc=new URL("/aktivitetsplan/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const Mde=r=>{const e=atob(r);let t=e.length;const n=new Uint8Array(t);for(;t--;)n[t]=e.charCodeAt(t);const i=new Blob([n],{type:"application/pdf"});return window.URL.createObjectURL(i)},Lde=({pdf:r})=>{const e=Z(ix),t=Z(nx),n=[oe.PENDING,oe.RELOADING].includes(e),[i,s]=w.useState(0),[a,o]=w.useState(!0),l=w.useCallback(({numPages:f})=>{s(f)},[r]),d=w.useMemo(()=>{if(r)return Mde(r)},[r]);w.useEffect(()=>{o(!0);const f=setTimeout(()=>{o(!1)},5e3);return()=>{clearTimeout(f)}},[t,e]);const c=800,u=800;return p.jsxs("div",{className:"mt-4 container pt-4 pb-4 relative z-0 flex justify-center",children:[a&&t===oe.OK&&e==oe.OK&&p.jsx(Rt,{variant:"success",role:"alert",className:"fixed z-10 mt-10",children:"Aktivitetsplanen ble journalført."}),!d||n?p.jsxs("div",{className:"min-h-[calc(100vh-180px)] flex flex-col justify-center items-center",children:[p.jsx(Uc,{size:"3xlarge",title:"Venter...",className:"mt-32 mb-6"}),p.jsx(pe,{as:"div",size:"medium",className:"text-subtle mb-1",spacing:!0,children:"Vi lager en PDF"}),p.jsx(pe,{as:"div",size:"medium",className:"text-subtle",spacing:!0,children:"Noen ganger trenger vi litt tid til dette dessverre"})]}):p.jsx(xde,{className:"space-y-4 min-h-[calc(100vh-180px)] z-0",onLoadSuccess:l,file:d,loading:"",children:Array.from(new Array(i),(f,g)=>p.jsx(Nde,{pageNumber:g+1,width:Math.min(c,u)},`page_${g+1}`))})]})},Fde=({children:r})=>{const e=Z(ix),t=Z(nx),[n,i]=w.useState(!0);return w.useEffect(()=>{const s=setTimeout(()=>{i(!1)},5e3);return()=>{clearTimeout(s)}},[t,e]),e!==oe.ERROR&&t!==oe.ERROR?r:p.jsx("div",{className:"flex grow flex-col pt-10 items-center",children:n&&p.jsx(Rt,{variant:"error",children:"Noe gikk galt med journalføringen"})})},Vde=()=>{const r=Z(zz);return p.jsx("div",{className:"flex flex-col grow",children:p.jsxs("section",{className:"flex md:flex-row flex-col relative",children:[p.jsx(rae,{}),p.jsx(Fde,{children:p.jsx("div",{className:"h-full grow bg-bg-subtle max-h-100vh overflow-x-scroll overflow-y-hidden pb-4",children:p.jsx(Lde,{pdf:r})})})]})})},Hde=(r,e)=>({params:{oppfolgingsperiodeId:t}})=>{if(!t)throw Error("path param is not set, this should never happen");const n=r(Ym({journalførendeEnhet:e,oppfolgingsperiodeId:t}));return Jb({forhaandsvisning:n})},kO={veileder:{tittel:"Brukeren er reservert i KRR",tekst:"Du kan ikke sende meldinger fordi brukeren har reservert seg mot digital kommunikasjon KRR.",lenkeTekst:"Brukeren må gå til norge.no for å fjerne reservasjonen."},bruker:{tittel:"Du har reservert deg mot digital kommunikasjon",tekst:"Du kan ikke bruke aktivitetsplanen fordi du har reservert deg mot digital kommunikasjon i kontakt og reservasjonsregisteret (KRR)",lenkeTekst:"Gå til norge.no for å fjerne reservasjonen."}},Ude="https://www.norge.no/nb/digital-borger/reservasjon",Bde=r=>{const{reservertIKRR:e,settDigitalFeilet:t}=r,n=jt();if(t)return p.jsx(Rt,{variant:"warning",className:"mx-2 mb-5 max-w-2xl",children:"Feilet. Prøv igjen senere!"});if(e){if(e){const i=n?kO.veileder:kO.bruker;return p.jsxs(Rt,{variant:"warning",className:"mx-2 mt-6 max-w-2xl",children:[p.jsx(Be,{spacing:!0,size:"small",level:"3",children:i.tittel}),p.jsx("p",{children:i.tekst}),p.jsx(Or,{href:Ude,children:i.lenkeTekst})]})}}else return p.jsx(Rt,{variant:"warning",className:"mx-2 mt-6 max-w-2xl",children:"Du har ikke digital oppfølging fra Nav. Du har derfor ikke en digital aktivitetsplan."})},$de=()=>{const r=Z(ch),e=Z(Ny)||!1,t=r===oe.ERROR,n=r===oe.PENDING||r===oe.RELOADING,i=$t();return p.jsxs("div",{className:"flex items-center flex-col",children:[p.jsx(Bde,{reservertIKRR:e||!1,settDigitalFeilet:t}),p.jsx(xP,{disabled:n,hidden:e,onClick:()=>i(zU()),children:"Endre til digital oppfølging"})]})},zde=r=>{const{erVeileder:e}=r,t=e?"Denne brukeren har ikke en tidligere aktivitetsplan i Modia.":"Du må være registrert som arbeidssøker hos Nav for å bruke aktivitetsplanen.";return p.jsx("div",{className:"flex items-center flex-col mt-8",children:p.jsxs(Rt,{variant:"warning",children:[p.jsx(pe,{children:t}),!e&&p.jsx(Or,{href:P0,children:"Register deg arbeidssøker hos Nav"})]})})},_O={bruker:{tittel:"Vi har ikke din kontaktinformasjon",tekst:"Du kan ikke bruke aktivitetsplanen fordi du ikke har registrert e-post eller telefonnummeret ditt i kontakt og reservasjonsregisteret (KRR).",lenkeTekst:"Gå til norge.no for å registrere."},veileder:{tittel:"Brukeren har ikke registrert kontaktinformasjon i KRR",tekst:"Du kan ikke bruke aktivitetsplanen fordi brukeren ikke har registrert e-post eller telefonnummeret sitt i KRR",lenkeTekst:"Brukeren må gå til norge.no for å registrere."}},Wde="https://www.norge.no/nb/digital-borger/oppdater-kontaktinformasjon";function Kde({erRegistrertIKRR:r,erVeileder:e}){if(r)return null;const t=e?_O.veileder:_O.bruker;return p.jsx("div",{className:"flex items-center flex-col",children:p.jsxs(Rt,{variant:"warning",className:"mx-2 mt-6 max-w-2xl",children:[p.jsx(Be,{spacing:!0,size:"small",level:"3",children:t.tittel}),p.jsx("p",{children:t.tekst}),p.jsx(Or,{href:Wde,children:t.lenkeTekst})]})})}const Gde=r=>{const e=Z(wn),t=Z(uh),n=Z(My),i=Z(Ny),s=Z(sJ),a=Z(aJ),o=Z(cJ),l=Z($Z),d=Z(ch),c=Z(Ki),u=jt(),f=i||n;return w.useEffect(()=>{u&&a?EZ(a,e,l,o):a&&o&&xZ(a,e,o)},[l,o,a,e,u]),d===oe.OK&&c===oe.OK&&!e&&t.length===0?p.jsx(zde,{erVeileder:u}):!s&&d===oe.OK?p.jsxs(p.Fragment,{children:[p.jsx(Kde,{erRegistrertIKRR:s,erVeileder:u}),u?r.children:null]}):f?p.jsxs(p.Fragment,{children:[p.jsx($de,{}),u?r.children:null]}):p.jsx(p.Fragment,{children:r.children})},qde=({children:r})=>p.jsx("div",{className:"w-full",children:p.jsx(Gde,{children:r})}),Yde=()=>p.jsx(qde,{children:p.jsx(Cj,{})}),Iv="aktivitetsplan",R0=()=>{const r=Yc(),e=jt();return p.jsx(zf,{replace:!0,to:`${e?"/"+Iv:""}/aktivitet/vis/`+r.id})},hce=r=>(e,t,n)=>A8(Xde(e,t,n)),Xde=(r,e,t)=>[{path:e?`/${Iv}`:"/",element:p.jsx(Yde,{}),loader:_te(r,e),id:"root",children:[{path:"",element:p.jsx(vte,{}),children:[{path:"mal",loader:wte(r),element:p.jsx(tae,{})},{path:"informasjon",element:p.jsx(wJ,{})},{path:"aktivitet",children:[{path:"ny",element:p.jsx(GD,{})},{path:"ny/*",element:p.jsx(kne,{})},{id:"aktivitetsVisning",path:"vis/:id",element:p.jsx(ase,{}),loader:Ete(r)},{path:"endre/:id",element:p.jsx(lse,{})},{path:"avbryt/:id",element:p.jsx(hse,{})},{path:"fullfor/:id",element:p.jsx(mse,{})}]}]},{path:"utskrift",element:p.jsx(Kse,{})},{path:"journalforing/:oppfolgingsperiodeId",loader:Hde(r,t),element:p.jsx(Vde,{})},{path:":fnr/aktivitet/vis/:id",element:p.jsx(R0,{})},{path:"aktivitet/vis/:id",element:p.jsx(R0,{})},{path:"*",element:p.jsx(zf,{replace:!0,to:e?`/${Iv}`:"/"})}]},{path:"aktivitet/vis/:id",element:p.jsx(R0,{})},{path:"*",element:p.jsx(zf,{replace:!0,to:e?`/${Iv}`:"/"})}];export{dce as A,Km as E,lce as P,oce as a,rU as b,hce as c,Q0 as d,qc as e,rce as f,sce as g,b_ as h,fd as m,ace as s,tce as u};
//# sourceMappingURL=routerConfig-DJs5InH0.js.map
